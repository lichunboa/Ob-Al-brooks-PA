{
  "id": "snapshot_1767307466258_56iqze1t4",
  "approvalId": "approval_1767307466247_b9h6yyg9f",
  "approvalTitle": "Approve requirements for al-brooks-console",
  "version": 1,
  "timestamp": "2026-01-01T22:44:26.258Z",
  "trigger": "initial",
  "status": "pending",
  "content": "# Requirements â€” al-brooks-console\n\n## 0. Context\næœ¬ spec ç›®æ ‡æ˜¯æŠŠå½“å‰ Dataview ç‰ˆâ€œäº¤æ˜“å‘˜æŽ§åˆ¶å°â€è¿ç§»ä¸º Obsidian åŽŸç”Ÿæ’ä»¶ï¼ˆReact + TypeScriptï¼‰ï¼Œå¹¶ä»¥çŽ°æœ‰ç³»ç»Ÿä¸ºå¯¹ç…§åŸºå‡†ã€‚\n\nçŽ°çŠ¶å®¡æŸ¥å‚è§ï¼š`ðŸ¦ äº¤æ˜“å‘˜æŽ§åˆ¶å° (Trader Command)/ðŸ“‹ åŽŸç”Ÿæ’ä»¶è¿ç§»-çŽ°çŠ¶å®¡æŸ¥æŠ¥å‘Š.md`\n\n## 1. Goals\n- æä¾›ä¸€ä¸ªåŽŸç”Ÿæ’ä»¶è§†å›¾ï¼ˆItemViewï¼‰ï¼Œä½œä¸ºä»ªè¡¨ç›˜å…¥å£ï¼Œæ›¿ä»£ Dataview æŽ§åˆ¶å°çš„æ ¸å¿ƒçœ‹æ¿èƒ½åŠ›ã€‚\n- é€šè¿‡ Obsidian åŽŸç”Ÿäº‹ä»¶ä¸Žç´¢å¼•èƒ½åŠ›ï¼Œå®žçŽ°å¯¹äº¤æ˜“ç¬”è®°çš„**å®žæ—¶ç›‘æŽ§ä¸Žå¢žé‡æ›´æ–°**ï¼ˆæ”¹å±žæ€§ã€æ”¹æ­£æ–‡ã€é‡å‘½åã€ç§»åŠ¨è·¯å¾„éƒ½èƒ½è§¦å‘ï¼‰ã€‚\n- MVP é˜¶æ®µåªå®žçŽ°ï¼š**ç»Ÿè®¡å¡ç‰‡ + äº¤æ˜“åˆ—è¡¨**ï¼Œå¹¶ä¸Žæ•°æ®ç´¢å¼•ï¼ˆTradeIndexï¼‰å®žæ—¶è”é€šã€‚\n- ä¿ç•™ Dataview ç‰ˆä½œä¸ºå¯¹ç…§ä¸Ž fallbackï¼Œç›´åˆ°æ’ä»¶è¾¾åˆ° MVP å¯¹é½æ ‡å‡†ã€‚\n\n## 2. Non-Goals (MVP ä¸åš)\n- ä¸ç§»æ¤ pa-core.js çš„å¤æ‚ç­–ç•¥åˆ†ç±»ï¼ˆå¦‚ MTR/Low 2ï¼‰ã€‚\n- ä¸é›†æˆå›¾è¡¨åº“ï¼ˆRechartsï¼‰ã€‚\n- ä¸å®žçŽ° SR/å¤ä¹ ç®—æ³•ã€‚\n- ä¸åš QuickAdd è§¦å‘æŒ‰é’®ï¼ˆå¯ä½œä¸ºåŽç»­å¯é€‰é›†æˆï¼‰ã€‚\n- ä¸åˆ é™¤/æ¸…ç†æ—§ Dataview ä»£ç ä¸Žè„šæœ¬ã€‚\n\n## 3. Users & Primary Use Cases\n- ä¸»è¦ç”¨æˆ·ï¼švault ä½œè€…æœ¬äººã€‚\n- ä½¿ç”¨åœºæ™¯ï¼šæ‰“å¼€æ’ä»¶è§†å›¾ â†’ ç«‹åˆ»çœ‹åˆ°æœ€æ–°ç»Ÿè®¡ä¸Žæœ€è¿‘äº¤æ˜“åˆ—è¡¨ â†’ ç‚¹å‡»äº¤æ˜“æ‰“å¼€åŽŸç¬”è®°ã€‚\n\n## 4. Definitions / Glossary\n- äº¤æ˜“ç¬”è®°ï¼ˆTrade Noteï¼‰ï¼šåŒ…å«äº¤æ˜“è®°å½•çš„ Markdown æ–‡ä»¶ã€‚\n- TradeIndexï¼šæ’ä»¶å†…çš„ç´¢å¼•ä¸Žç¼“å­˜å±‚ï¼Œè´Ÿè´£å‘çŽ°/è§£æžäº¤æ˜“ç¬”è®°å¹¶èšåˆç»Ÿè®¡ã€‚\n- Canonical Fieldsï¼šæ’ä»¶å†…éƒ¨ç»Ÿä¸€å­—æ®µåï¼ˆä¾‹å¦‚ `pnl`, `ticker`, `outcome`ï¼‰ã€‚\n\n## 5. Functional Requirements\n\n### FR-1 æ’ä»¶è§†å›¾ï¼ˆDashboardï¼‰\n- æ’ä»¶åº”æ³¨å†Œä¸€ä¸ªå¯æ‰“å¼€çš„ ItemViewï¼Œæ¸²æŸ“ React ä»ªè¡¨ç›˜ã€‚\n- ä»ªè¡¨ç›˜å¿…é¡»åŒ…å«ï¼š\n  - ç»Ÿè®¡å¡ç‰‡ï¼ˆè‡³å°‘ï¼šäº¤æ˜“æ¬¡æ•°ã€èƒœçŽ‡ã€å‡€åˆ©æ¶¦ï¼‰\n  - äº¤æ˜“åˆ—è¡¨ï¼ˆè‡³å°‘ï¼šæ—¥æœŸã€å“ç§ã€ç›ˆäº/ç»“æžœã€ç‚¹å‡»æ‰“å¼€æ–‡ä»¶ï¼‰\n\n### FR-2 æ•°æ®å¼•æ“Žï¼ˆTradeIndexï¼‰\n- ç³»ç»Ÿåº”åœ¨æ’ä»¶å¯ç”¨åŽæž„å»º TradeIndexã€‚\n- TradeIndex å¿…é¡»æ”¯æŒï¼š\n  - åˆå§‹å…¨é‡ç´¢å¼•ï¼ˆå¯åŠ¨/æ‰“å¼€è§†å›¾æ—¶ï¼‰\n  - å¢žé‡æ›´æ–°ï¼ˆç›‘å¬ vault äº‹ä»¶ + metadata cache äº‹ä»¶ï¼‰\n  - äº‹ä»¶é€šçŸ¥ UIï¼ˆè®¢é˜…å¼/äº‹ä»¶æ€»çº¿ï¼‰\n\n### FR-3 å®žæ—¶ç›‘æŽ§è¦†ç›–é¢\n- ç³»ç»Ÿåº”èƒ½åœ¨ä»¥ä¸‹å˜æ›´åŽæ›´æ–°ç»Ÿè®¡ä¸Žåˆ—è¡¨ï¼š\n  - ä¿®æ”¹æ–‡ä»¶å†…å®¹ï¼ˆæ­£æ–‡æˆ– frontmatterï¼‰\n  - ä¿®æ”¹æ–‡ä»¶å\n  - ä¿®æ”¹æ–‡ä»¶è·¯å¾„ï¼ˆç§»åŠ¨ï¼‰\n  - åˆ é™¤æ–‡ä»¶\n\n### FR-4 äº¤æ˜“ç¬”è®°è¯†åˆ«è§„åˆ™ï¼ˆMVPï¼‰\n- MVP è¯†åˆ«ç­–ç•¥ï¼šä»¥ tag `#PA/Trade` ä¸ºä¸»ï¼›å¹¶æä¾›å¯é…ç½®æ‰©å±•ï¼ˆä¾‹å¦‚é¢å¤–è·¯å¾„ç™½åå•ï¼‰ã€‚\n  - ç†ç”±ï¼šçŽ°çŠ¶ core å°±æ˜¯ä½¿ç”¨ `dv.pages(#PA/Trade)`ï¼›ä¿æŒä¸€è‡´å¯å‡å°‘è¿ç§»è¯¯å·®ã€‚\n\n### FR-5 å­—æ®µæ˜ å°„ï¼ˆåŒè¯­ï¼‰\n- MVP è‡³å°‘æ”¯æŒä»¥ä¸‹å­—æ®µçš„åŒè¯­æ˜ å°„ï¼š\n  - `pnl` â†â†’ `å‡€åˆ©æ¶¦/net_profit` æˆ– `net_profit`\n  - `ticker` â†â†’ `å“ç§/ticker` æˆ– `ticker`\n- å¯é€‰ï¼ˆå¦‚æžœçŽ°æœ‰æ•°æ®å¤§é‡ä¾èµ–ï¼‰ï¼š`outcome`, `r`, `setup`, `market_cycle`, `tf`, `dir`\n\n### FR-6 èƒœçŽ‡å£å¾„ï¼ˆç»Ÿä¸€ï¼‰\n- æ’ä»¶å¿…é¡»å®šä¹‰å¹¶åœ¨å…¨å±€ä½¿ç”¨å•ä¸€èƒœçŽ‡å£å¾„ï¼š\n  - é»˜è®¤ï¼šåŸºäºŽ `pnl`ï¼ˆ>0 ä¸º winï¼Œ<0 ä¸º lossï¼Œ=0 ä¸º scratch/ignore å¯é…ç½®ï¼‰\n  - å…œåº•ï¼šå½“ `pnl` ç¼ºå¤±æˆ–ä¸å¯è§£æžæ—¶ï¼Œå¯å›žé€€åˆ° `outcome`ï¼ˆWin/Loss/Scratch/ä¸­æ–‡åŒä¹‰ï¼‰\n\n## 6. Non-Functional Requirements\n- æ€§èƒ½ï¼šç´¢å¼•ä¸Žå¢žé‡æ›´æ–°åº”é¿å…å…¨åº“é¢‘ç¹æ‰«æï¼›å¿…é¡» debounce/æ‰¹å¤„ç†ã€‚\n- ç¨³å®šæ€§ï¼šä»»ä½•å•ä¸ªç¬”è®°è§£æžå¤±è´¥ä¸åº”å¯¼è‡´æ•´ä¸ªä»ªè¡¨ç›˜å´©æºƒã€‚\n- å®‰å…¨ï¼šæœªç»ç¡®è®¤ï¼Œæ’ä»¶ä¸å¾—æ‰¹é‡æ”¹å†™ç”¨æˆ·ç¬”è®°ï¼ˆåªè¯»è§£æžï¼‰ã€‚\n\n## 7. EARS Acceptance Criteria\n- AC-1 When ç”¨æˆ·æ‰“å¼€æ’ä»¶ä»ªè¡¨ç›˜ Then è§†å›¾åº”åœ¨å¯æŽ¥å—æ—¶é—´å†…æ˜¾ç¤ºç»Ÿè®¡ä¸Žäº¤æ˜“åˆ—è¡¨ã€‚\n- AC-2 When ç”¨æˆ·ä¿®æ”¹ä»»ä¸€äº¤æ˜“ç¬”è®°ï¼ˆæ­£æ–‡æˆ– frontmatterï¼‰Then ä»ªè¡¨ç›˜åº”è‡ªåŠ¨æ›´æ–°ï¼ˆæ— éœ€é‡å¯/æ‰‹åŠ¨åˆ·æ–°ï¼‰ã€‚\n- AC-3 When ç”¨æˆ·é‡å‘½åæˆ–ç§»åŠ¨äº¤æ˜“ç¬”è®° Then ä»ªè¡¨ç›˜åº”ä¿æŒè¯¥äº¤æ˜“ä»å¯è¢«è¯†åˆ«ä¸”é“¾æŽ¥å¯æ‰“å¼€ã€‚\n- AC-4 When `pnl` å­˜åœ¨ä¸”å¯è§£æž Then èƒœçŽ‡ç»Ÿè®¡å¿…é¡»ä»¥ pnl è§„åˆ™è®¡ç®—ã€‚\n- AC-5 When `pnl` ç¼ºå¤±ä½† `outcome` å­˜åœ¨ Then èƒœçŽ‡ç»Ÿè®¡å…è®¸å›žé€€åˆ° outcome è§„åˆ™ã€‚\n- AC-6 When Dataview ç‰ˆä¸Žæ’ä»¶ç‰ˆåŒæ—¶å­˜åœ¨ Then æ’ä»¶ MVP æœŸé—´ä¸å¾—ç ´å Dataview ç‰ˆè¿è¡Œã€‚\n\n## 8. Risks & Open Questions\n- äº¤æ˜“ç¬”è®°è¯†åˆ«å¦‚æžœåŒæ—¶æ”¯æŒ tag+pathï¼Œå¯èƒ½å‡ºçŽ°é‡å¤è®¡å…¥ï¼Œéœ€è¦å®šä¹‰åŽ»é‡ keyï¼ˆå»ºè®® file pathï¼‰ã€‚\n- è§£æž frontmatter çš„å­—æ®µç±»åž‹å¯èƒ½ä¸ä¸€è‡´ï¼ˆæ•°å­—/å­—ç¬¦ä¸²/å¸¦å•ä½ï¼‰ï¼Œéœ€è¦å®‰å…¨è§£æžã€‚\n",
  "fileStats": {
    "size": 4473,
    "lines": 83,
    "lastModified": "2026-01-01T22:35:16.142Z"
  },
  "comments": []
}