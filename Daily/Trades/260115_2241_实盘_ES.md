---
å°é¢/cover:
categories:
  - äº¤æ˜“æ—¥è®°
tags:
  - PA/Trade
date: 2026-01-15
è´¦æˆ·ç±»å‹/account_type: å›æµ‹ (Backtest)
å“ç§/ticker: ES (æ ‡æ™®)
æ—¶é—´å‘¨æœŸ/timeframe: 5m
æ—¥å†…ç±»å‹/day_type:
  - è¶‹åŠ¿æ—¥ (Trend Day)
æ€»æ˜¯æ–¹å‘/always_in:
  - æ€»æ˜¯å¤šå¤´ (Always In Long)
å¸‚åœºå‘¨æœŸ/market_cycle: å¼ºè¶‹åŠ¿ (Strong Trend)
æ–¹å‘/direction: åšå¤š (Long)
è®¾ç½®ç±»åˆ«/setup_category: è¶‹åŠ¿çªç ´ (Trend Breakout)
è§‚å¯Ÿåˆ°çš„å½¢æ€/patterns_observed:
  - æ€¥é€Ÿä¸Šæ¶¨ä¸‹è·Œ (Spike Up/Down)
ä¿¡å·K/signal_bar_quality:
  - å¼ºè¶‹åŠ¿Kçº¿ (Strong Trend Bar)
ç­–ç•¥åç§°/strategy_name: æ”¶çº¿è¿½è¿› (Buy/Sell NOW)
ç®¡ç†è®¡åˆ’/management_plan: ä¸€æ¬¡æ€§ä¸‹å•/ä¸ç®¡ç† (Set & Forget)
è®¢å•ç±»å‹/order_type: çªç ´å…¥åœº (Stop Entry)
å…¥åœº/entry_price: "20"
æ­¢æŸ/stop_loss: "15"
ç›®æ ‡ä½/take_profit: "25"
åˆå§‹é£é™©/initial_risk: "16"
å‡€åˆ©æ¶¦/net_profit: "5"
ç»“æœ/outcome:
æ‰§è¡Œè¯„ä»·/execution_quality:
---

---

# âœ… äº¤æ˜“å¿«ç…§ï¼ˆAl Brooks PA / é¡¹ç›®è”åŠ¨ï¼‰

## ğŸ“¸ å›¾è¡¨/å°é¢é¢„è§ˆ

## ğŸ§­ 1) å¸‚åœºèƒŒæ™¯ï¼ˆContextï¼‰

```dataviewjs
const basePath = app.vault.adapter.basePath;
const cfg = require(basePath + "/scripts/pa-config.js");
const c = cfg.colors;

const cur = dv.current();
const cycle = (cur["å¸‚åœºå‘¨æœŸ/market_cycle"] || "").toString();
const setup = (cur["è®¾ç½®ç±»åˆ«/setup_category"] || "").toString();
const ticker = (cur["å“ç§/ticker"] || "").toString();
const tf = (cur["æ—¶é—´å‘¨æœŸ/timeframe"] || "").toString();
const dir = (cur["æ–¹å‘/direction"] || "").toString();

const pick = (s) => {
  const v = (s || "").toString();
  if (!v || v === "Unknown") return "æœªå¡«å†™";
  return v;
};

const cycleColor =
  cycle.includes("å¼ºè¶‹åŠ¿") || cycle.includes("Strong")
    ? c.live
    : cycle.includes("åŒºé—´") || cycle.includes("Range")
      ? c.back
      : cycle.includes("çªç ´") || cycle.includes("Breakout")
        ? c.loss
        : c.accent;

dv.el("div", "", { attr: { style: `
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.10);
  border-left: 4px solid ${cycleColor};
  padding: 12px;
  border-radius: 8px;
` } }).innerHTML = `
  <div style="display:flex; flex-wrap:wrap; gap:10px; font-size:0.9em;">
    <div><strong>å“ç§</strong>: ${pick(ticker)}</div>
    <div><strong>å‘¨æœŸ</strong>: ${pick(tf)}</div>
    <div><strong>æ–¹å‘</strong>: ${pick(dir)}</div>
  </div>
  <div style="margin-top:6px; font-size:0.85em; opacity:0.85;">
    ğŸŒŠ <strong>å¸‚åœºå‘¨æœŸ</strong>: <span style="color:${cycleColor}; font-weight:700;">${pick(cycle)}</span>
  </div>
  <div style="margin-top:2px; font-size:0.85em; opacity:0.75;">
    ğŸ¯ <strong>è®¾ç½®ç±»åˆ«</strong>: ${pick(setup)}
  </div>
`;
```

ä¸€å¥è¯å¤è¿°ï¼ˆBrooksï¼‰

- ä»Šå¤©æ˜¯ï¼ˆè¶‹åŠ¿/åŒºé—´/çªç ´ï¼‰ï¼Œå…³é”®ç£ä½“/ä½ç½®æ˜¯ï¼ˆæ˜¨æ—¥é«˜ä½/å¼€ç›˜ä»·/æµ‹é‡ç§»åŠ¨/å‡çº¿/ç¼ºå£ï¼‰ï¼Œæˆ‘åšçš„æ˜¯ï¼ˆé¡ºåŠ¿/é€†åŠ¿ï¼‰çš„ï¼ˆå›è°ƒ/çªç ´/åè½¬ï¼‰ã€‚

---

## ğŸ§© 2) Setup / å½¢æ€ï¼ˆSetup & Patternsï¼‰

ï¼ˆåªå†™æœ€é‡è¦çš„ 1â€“2 ä¸ªï¼‰

- è¿™ç¬”äº¤æ˜“çš„ **ä¸»è¦å½¢æ€/ä¿¡å·**ï¼š
  - ï¼ˆä¾‹ï¼šæ¥”å½¢åº• + ç¬¬äºŒæ¬¡å…¥åœº / åŒåº• + å¤±è´¥çªç ´ / æœ«ç«¯æ——å½¢ï¼‰
- è¿™ç¬”äº¤æ˜“çš„ **äº¤æ˜“é€»è¾‘ç±»å‹**ï¼š
  - é¡ºåŠ¿å›è°ƒ / åŒºé—´é«˜æŠ›ä½å¸ / å¤±è´¥çªç ´åè½¬ / çªç ´åå›æµ‹
- **ä¿¡å· K è´¨é‡**ï¼ˆåªé€‰æœ€å…³é”®çš„ï¼‰ï¼šå¼ºæ”¶ç›˜ / å¼±å¼•çº¿ / å†…åŒ…çº¿ / åå­—æ˜Ÿ

---

## ğŸ¤– 3) æ™ºèƒ½ç­–ç•¥åŒ¹é…ï¼ˆSingle Source of Truthï¼‰

```dataviewjs
const cur = dv.current();
const patternsRaw = cur["è§‚å¯Ÿåˆ°çš„å½¢æ€/patterns_observed"] || [];

const toArr = (v) => {
  if (!v) return [];
  if (Array.isArray(v)) return v;
  if (v?.constructor && v.constructor.name === "Proxy") return Array.from(v);
  return [v];
};
const norm = (v) => (v ?? "").toString().trim();

const observed = toArr(patternsRaw).map(norm).filter(Boolean);
if (observed.length === 0) {
  dv.paragraph("ğŸ’­ è¯·åœ¨ frontmatter çš„ `è§‚å¯Ÿåˆ°çš„å½¢æ€/patterns_observed` å¡« 1 ä¸ªå…³é”®å½¢æ€ï¼Œç³»ç»Ÿå°±èƒ½æ¨èç­–ç•¥å¡ã€‚");
} else {
  const D = window.paData;
  const byPattern = D?.strategyIndex?.byPattern || {};
  const byName = D?.strategyIndex?.byName;

  const picks = [];
  for (const p of observed) {
    const canonical = byPattern?.[p] || byPattern?.[p.toLowerCase?.()];
    if (!canonical) continue;
    const item = byName?.get?.(canonical);
    if (!item?.file?.path) continue;
    picks.push({ pattern: p, canonical, path: item.file.path });
  }

  if (picks.length === 0) {
    dv.paragraph("âš ï¸ æœªåŒ¹é…åˆ°ç­–ç•¥å¡ï¼šå¯èƒ½æ˜¯å½¢æ€å‘½åä¸ä¸€è‡´ï¼Œæˆ–éœ€è¦åœ¨ç­–ç•¥ä»“åº“è¡¥å…… patterns æ˜ å°„ã€‚");
  } else {
    dv.table(
      ["å½¢æ€", "æ¨èç­–ç•¥å¡"],
      picks.slice(0, 3).map((x) => [x.pattern, `[[${x.path}|${x.canonical}]]`])
    );
    dv.paragraph("ğŸ“Œ ä¸‹ä¸€æ­¥ï¼šæ‰“å¼€ç­–ç•¥å¡å¯¹ç…§å…¥åœºæ¡ä»¶/æ­¢æŸ/ç®¡ç†è§„åˆ™ï¼Œå†å†™ä½ çš„å…¥åœºè§¦å‘ç‚¹ã€‚");
  }
}
```

---

## ğŸ¯ 4) å…¥åœºï¼ˆEntryï¼‰

- å…¥åœºè§¦å‘ï¼ˆTriggerï¼‰ï¼šï¼ˆä¾‹ï¼šç¬¬äºŒæ¬¡å…¥åœºã€çªç ´å¤±è´¥åçš„åè½¬ä¿¡å·ã€å›è°ƒåˆ°å‡çº¿åçš„å¼ºæ”¶ç›˜ï¼‰
- å…¥åœºä½ç½®ï¼ˆEntry Priceï¼‰ï¼šï¼ˆå·²åœ¨ frontmatter å¡«ï¼‰
- æ­¢æŸä½ç½®ï¼ˆStop Lossï¼‰ï¼šï¼ˆå·²åœ¨ frontmatter å¡«ï¼‰
- ç›®æ ‡/é€€å‡ºè®¡åˆ’ï¼ˆTarget / Exit Planï¼‰ï¼šï¼ˆå›ºå®šç›®æ ‡/åˆ†æ‰¹/é¡ºåŠ¿æ¨æ­¢æŸ/åˆ°ç£ä½“å‡ä»“ï¼‰

### ğŸ§® é£é™©/æ”¶ç›Šï¼ˆè‡ªåŠ¨ï¼‰

```dataviewjs
const c = dv.current();
const e = c["å…¥åœº/entry_price"];
const s = c["æ­¢æŸ/stop_loss"];
const t = c["ç›®æ ‡ä½/take_profit"];
if (e && s) {
  const risk = Math.abs(e - s);
  const reward = t ? Math.abs(t - e) : null;
  const r = reward ? reward / risk : null;
  dv.paragraph(`Risk: $${risk.toFixed(2)} | Reward: ${reward === null ? "?" : "$" + reward.toFixed(2)} | R: ${r === null ? "?" : r.toFixed(2) + "R"}`);
} else {
  dv.paragraph("ï¼ˆå¡«å†™ å…¥åœº/æ­¢æŸ åè‡ªåŠ¨è®¡ç®—ï¼‰");
}
```

---

## ğŸ§° 5) æŒä»“ç®¡ç†ï¼ˆTrade Managementï¼‰

- æˆ‘ç”¨çš„ç®¡ç†æ–¹å¼ï¼š
  - [ ] Set & Forgetï¼ˆç¡¬æ­¢æŸ/ç¡¬æ­¢ç›ˆï¼‰
  - [ ] Trailingï¼ˆé¡ºåŠ¿æ¨æ­¢æŸï¼‰
  - [ ] Scale In/Outï¼ˆåŠ /å‡ä»“ï¼‰
  - [ ] Scratch / Early Exitï¼ˆä¸»åŠ¨ç¦»åœºï¼‰
- åšå‡ºå…³é”®å†³å®šçš„åŸå› ï¼ˆå†™ 1 å¥ï¼‰ï¼š

---

## ğŸ 6) ç»“æœä¸å¤ç›˜ï¼ˆOutcome & Reviewï¼‰

### ğŸ’¡ æ ¸å¿ƒæ•™è®­

-

### âš ï¸ å¤±è´¥/é”™è¯¯å¤ç›˜

- [ ] çœ‹é”™èƒŒæ™¯ï¼ˆContext Errorï¼‰
- [ ] è¿›å¾—å¤ªæ—©/å¤ªæ™šï¼ˆTiming Errorï¼‰
- [ ] å¿ƒæ€é—®é¢˜ï¼ˆFOMO/Fearï¼‰
- [ ] æ¦‚ç‡é—®é¢˜ï¼ˆGood Trade, Bad Outcomeï¼‰

---

## ğŸ§© æ™ºèƒ½å¤ç›˜è¦ç‚¹ï¼ˆæ¥è‡ªå¼•æ“ï¼‰

```dataviewjs
const cur = dv.current();
const path = cur?.file?.path;
const D = window.paData;

if (!D) {
  dv.paragraph("âš ï¸ äº¤æ˜“å‘˜æ§åˆ¶å°æ•°æ®æœªåŠ è½½ï¼šè¯·å…ˆæ‰“å¼€ä¸€æ¬¡æ§åˆ¶å°é¢æ¿ï¼ˆä¼šç”Ÿæˆ window.paDataï¼‰ã€‚");
} else {
  const byId = (t) => t?.id && path && t.id === path;
  const trade =
    (Array.isArray(D.tradesAsc) ? D.tradesAsc.find(byId) : null) ||
    (Array.isArray(D.trades) ? D.trades.find(byId) : null);

  if (!trade) {
    dv.paragraph("âš ï¸ æœªåœ¨ç¼“å­˜ä¸­æ‰¾åˆ°æœ¬ç¬”äº¤æ˜“ï¼šå¯åœ¨æ§åˆ¶å°ç‚¹å‡» â†» æ•°æ® é‡æ–°æ‰«æã€‚");
  } else {
    const hints = Array.isArray(trade.reviewHints) ? trade.reviewHints : [];
    if (hints.length === 0) {
      dv.paragraph("âœ… æš‚æ— å¤ç›˜è¦ç‚¹ï¼ˆå­—æ®µè¾ƒå®Œæ•´æˆ–æœªè§¦å‘æç¤ºï¼‰ã€‚");
    } else {
      const wrap = dv.el("details", "");
      wrap.innerHTML = `
        <summary style="cursor:pointer; font-weight:700;">
          å¤ç›˜è¦ç‚¹ï¼ˆ${hints.length}ï¼‰
        </summary>
        <div style="margin-top:8px;">
          ${hints
            .map((h) => {
              const zh = (h?.zh || "").toString();
              const en = (h?.en || "").toString();
              const enHtml = en ? ` <span style="opacity:0.6;">(${en})</span>` : "";
              return `<div style="margin:6px 0; line-height:1.4;">â€¢ ${zh}${enHtml}</div>`;
            })
            .join("")}
        </div>
      `;
    }
  }
}
```
