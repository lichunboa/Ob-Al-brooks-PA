# ğŸš€ AL Brooksäº¤æ˜“å‘˜æ§åˆ¶å° - TradeCaté›†æˆå‡çº§æ–¹æ¡ˆ v2.0

> åˆ¶å®šæ—¶é—´: 2026-01-25
> ç›®æ ‡ç‰ˆæœ¬: v2.0 - "é‡åŒ–å¢å¼ºç‰ˆ"
> é›†æˆåŸºç¡€: TradeCatå¾®æœåŠ¡æ¶æ„ (80%å·²å®Œæˆ)

---

## ğŸ¯ å‡çº§æ„¿æ™¯

**ä»"æ‰‹åŠ¨äº¤æ˜“æ—¥å¿—å·¥å…·"å‡çº§ä¸º"AL Brooksç†è®ºé©±åŠ¨çš„æ™ºèƒ½é‡åŒ–äº¤æ˜“åˆ†æå¹³å°"**

### æ ¸å¿ƒä»·å€¼ä¸»å¼ 

```
AL Brooksä»·æ ¼è¡Œä¸ºç†è®º
        +
TradeCatå®æ—¶é‡åŒ–æ•°æ®
        +
ObsidiançŸ¥è¯†ç®¡ç†ç”Ÿæ€
        =
å…¨çƒé¦–ä¸ªç†è®º+æ•°æ®+å­¦ä¹ ä¸‰ä½ä¸€ä½“äº¤æ˜“ç³»ç»Ÿ
```

---

## ğŸ“‹ å‡çº§è·¯çº¿å›¾

### é˜¶æ®µä¸€: æ•°æ®æ¡¥æ¢ (1-2å‘¨) ğŸ”´ Critical

**ç›®æ ‡**: æ‰“é€šObsidianæ’ä»¶ä¸TradeCatåç«¯çš„æ•°æ®è¿æ¥

#### Task 1.1: Backend Tab UIå¼€å‘ (3å¤©)

**åŠŸèƒ½éœ€æ±‚**:
- å®æ—¶æ•°æ®ä»ªè¡¨æ¿
- å¸‚åœºæ¦‚è§ˆå¡ç‰‡
- ä¿¡å·ç›‘æ§é¢æ¿
- è¿æ¥çŠ¶æ€æŒ‡ç¤ºå™¨

**æŠ€æœ¯æ–¹æ¡ˆ**:
```typescript
// src/views/tabs/BackendTab.tsx
export const BackendTab: React.FC = () => {
  const { isConnected, serverUrl } = useBackendStatus();
  const { marketData, loading } = useBackendData();

  return (
    <div className="backend-tab">
      <ConnectionStatus
        isConnected={isConnected}
        url={serverUrl}
      />

      <MarketOverviewCard
        topGainers={marketData.topGainers}
        topLosers={marketData.topLosers}
        marketSentiment={marketData.sentiment}
      />

      <RankingCards
        rankings={marketData.rankings}
      />

      <SignalMonitor
        signals={marketData.signals}
      />
    </div>
  );
};
```

**ä¾èµ–æ–‡ä»¶**:
- `src/hooks/useBackendStatus.ts` - è¿æ¥çŠ¶æ€ç®¡ç†
- `src/hooks/useBackendData.ts` - æ•°æ®è·å– (å·²å­˜åœ¨)
- `src/services/backend-client.ts` - APIå®¢æˆ·ç«¯ (å·²å­˜åœ¨)

#### Task 1.2: HTTP APIé›†æˆ (2å¤©)

**APIç«¯ç‚¹è®¾è®¡**:

```typescript
// src/services/backend-api.ts
export class BackendAPI {
  private baseURL = 'http://localhost:8088/api/v1';

  // å¸‚åœºæ¦‚è§ˆ
  async getMarketOverview(): Promise<MarketOverview> {
    return this.get('/market/overview');
  }

  // æ’è¡Œæ¦œæ•°æ®
  async getRankings(type: RankingType, limit: number = 20): Promise<Ranking[]> {
    return this.get(`/rankings/${type}?limit=${limit}`);
  }

  // å®æ—¶ä¿¡å·
  async getSignals(symbols?: string[]): Promise<Signal[]> {
    return this.get('/signals/latest', { symbols });
  }

  // æŠ€æœ¯æŒ‡æ ‡
  async getIndicators(symbol: string, interval: string): Promise<Indicators> {
    return this.get(`/indicators/${symbol}/${interval}`);
  }

  // AIåˆ†æ
  async getAIAnalysis(symbol: string): Promise<AIAnalysis> {
    return this.post('/ai/analyze', { symbol });
  }
}
```

**APIç«¯ç‚¹åˆ—è¡¨** (éœ€api-gatewayå®ç°):
| ç«¯ç‚¹ | æ–¹æ³• | åŠŸèƒ½ | ä¼˜å…ˆçº§ |
|------|------|------|--------|
| `/api/v1/market/overview` | GET | å¸‚åœºæ¦‚è§ˆ | ğŸ”´ P0 |
| `/api/v1/rankings/:type` | GET | æ’è¡Œæ¦œ | ğŸ”´ P0 |
| `/api/v1/signals/latest` | GET | æœ€æ–°ä¿¡å· | ğŸ”´ P0 |
| `/api/v1/indicators/:symbol/:interval` | GET | æŠ€æœ¯æŒ‡æ ‡ | ğŸŸ¡ P1 |
| `/api/v1/ai/analyze` | POST | AIåˆ†æ | ğŸŸ¢ P2 |

#### Task 1.3: æ•°æ®åŒæ­¥æœºåˆ¶ (2å¤©)

**å®æ—¶æ›´æ–°ç­–ç•¥**:
```typescript
// src/hooks/useRealtimeData.ts
export const useRealtimeData = (endpoint: string, interval: number = 60000) => {
  const [data, setData] = useState(null);
  const [error, setError] = useState(null);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const result = await api.get(endpoint);
        setData(result);
      } catch (err) {
        setError(err);
      }
    };

    fetchData(); // ç«‹å³è·å–
    const timer = setInterval(fetchData, interval); // å®šæ—¶åˆ·æ–°

    return () => clearInterval(timer);
  }, [endpoint, interval]);

  return { data, error, loading: !data && !error };
};
```

**ç¼“å­˜ç­–ç•¥**:
- å¸‚åœºæ¦‚è§ˆ: 60ç§’ç¼“å­˜
- æ’è¡Œæ¦œ: 5åˆ†é’Ÿç¼“å­˜
- ä¿¡å·æ•°æ®: å®æ—¶è·å– (10ç§’åˆ·æ–°)
- æŠ€æœ¯æŒ‡æ ‡: 5åˆ†é’Ÿç¼“å­˜

---

### é˜¶æ®µäºŒ: æ•°æ®å¯è§†åŒ– (1-2å‘¨) ğŸŸ¡ High

**ç›®æ ‡**: åœ¨Obsidianæ’ä»¶ä¸­å±•ç¤ºTradeCatçš„20+æ’è¡Œæ¦œå¡ç‰‡

#### Task 2.1: æ’è¡Œæ¦œå¡ç‰‡ç»„ä»¶åº“ (5å¤©)

**å¡ç‰‡ç±»å‹**:

1. **ä»·æ ¼ç±»æ’è¡Œæ¦œ** (6ç§)
   - æ¶¨å¹…æ¦œ Top 20
   - è·Œå¹…æ¦œ Top 20
   - ä»·æ ¼å˜åŒ–æ’è¡Œ (1h/4h/24h)
   - çªç ´æ–°é«˜/æ–°ä½æ¦œ

2. **æˆäº¤é‡ç±»æ’è¡Œæ¦œ** (4ç§)
   - æˆäº¤é‡æ’è¡Œ
   - æˆäº¤é¢æ’è¡Œ
   - ç›¸å¯¹æˆäº¤é‡æ’è¡Œ
   - æˆäº¤é‡å¼‚å¸¸æ¦œ

3. **æŠ€æœ¯æŒ‡æ ‡ç±»æ’è¡Œæ¦œ** (6ç§)
   - RSIè¶…ä¹°/è¶…å–æ¦œ
   - MACDé‡‘å‰/æ­»å‰æ¦œ
   - æ³¢åŠ¨ç‡æ’è¡Œ
   - ATRæ’è¡Œ
   - å¸ƒæ—å¸¦å®½åº¦æ’è¡Œ

4. **æœŸè´§ä¸“å±æ’è¡Œæ¦œ** (4ç§)
   - æŒä»“é‡å¢å‡æ¦œ
   - èµ„é‡‘è´¹ç‡æ’è¡Œ
   - å¤šç©ºæ¯”æ’è¡Œ
   - Takerä¹°å–æ¯”æ’è¡Œ

**ç»„ä»¶è®¾è®¡**:
```typescript
// src/components/backend/RankingCard.tsx
interface RankingCardProps {
  title: string;
  type: RankingType;
  data: RankingItem[];
  icon?: string;
  refreshInterval?: number;
}

export const RankingCard: React.FC<RankingCardProps> = ({
  title,
  type,
  data,
  icon,
  refreshInterval = 300000 // 5åˆ†é’Ÿ
}) => {
  const { data: liveData, loading } = useRealtimeData(
    `/api/v1/rankings/${type}`,
    refreshInterval
  );

  return (
    <Card className="ranking-card">
      <CardHeader>
        {icon && <Icon name={icon} />}
        <h3>{title}</h3>
        <RefreshIndicator loading={loading} />
      </CardHeader>

      <CardBody>
        <RankingTable data={liveData || data} />
      </CardBody>

      <CardFooter>
        <LastUpdateTime timestamp={liveData?.updatedAt} />
      </CardFooter>
    </Card>
  );
};
```

#### Task 2.2: ä¿¡å·ç›‘æ§é¢æ¿ (3å¤©)

**åŠŸèƒ½éœ€æ±‚**:
- å®æ—¶ä¿¡å·æµæ˜¾ç¤º
- æŒ‰ç±»å‹ç­›é€‰ (å½¢æ€/æŒ‡æ ‡/æˆäº¤é‡/æœŸè´§)
- æŒ‰å¸ç§ç­›é€‰
- ä¿¡å·å¼ºåº¦æŒ‡ç¤º
- ä¸€é”®è·³è½¬åˆ°TradingViewå›¾è¡¨

**UIè®¾è®¡**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”” å®æ—¶ä¿¡å·ç›‘æ§ (333æ¡æ´»è·ƒä¿¡å·)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç­›é€‰: [å…¨éƒ¨â–¾] [å½¢æ€â–¾] [æŒ‡æ ‡â–¾] [æˆäº¤é‡â–¾]     â”‚
â”‚  å¸ç§: [_____________] ğŸ”                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš¡ BTCUSDT - RSIè¶…å– (RSI: 28.5)           â”‚
â”‚     5må‰ | å¼ºåº¦: â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80% | [æŸ¥çœ‹å›¾è¡¨]    â”‚
â”‚                                             â”‚
â”‚  ğŸ“ˆ ETHUSDT - MACDé‡‘å‰                      â”‚
â”‚     12må‰ | å¼ºåº¦: â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 65% | [æŸ¥çœ‹å›¾è¡¨]   â”‚
â”‚                                             â”‚
â”‚  ğŸ”¥ SOLUSDT - æˆäº¤é‡å¼‚å¸¸ (+320%)            â”‚
â”‚     3må‰ | å¼ºåº¦: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ 95% | [æŸ¥çœ‹å›¾è¡¨]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Task 2.3: æŠ€æœ¯æŒ‡æ ‡é›†æˆ (2å¤©)

**å•å¸ç§æŒ‡æ ‡é¢æ¿**:
```typescript
// src/components/backend/IndicatorPanel.tsx
interface IndicatorPanelProps {
  symbol: string;
  interval: '1m' | '5m' | '15m' | '1h' | '4h' | '1d' | '1w';
}

export const IndicatorPanel: React.FC<IndicatorPanelProps> = ({
  symbol,
  interval
}) => {
  const { data: indicators } = useBackendData(
    `/api/v1/indicators/${symbol}/${interval}`
  );

  return (
    <div className="indicator-panel">
      <IndicatorGroup title="è¶‹åŠ¿æŒ‡æ ‡">
        <IndicatorItem label="EMA 20" value={indicators.ema20} />
        <IndicatorItem label="MACD" value={indicators.macd} />
        <IndicatorItem label="ADX" value={indicators.adx} />
      </IndicatorGroup>

      <IndicatorGroup title="åŠ¨é‡æŒ‡æ ‡">
        <IndicatorItem label="RSI" value={indicators.rsi} />
        <IndicatorItem label="KDJ" value={indicators.kdj} />
      </IndicatorGroup>

      <IndicatorGroup title="æœŸè´§æŒ‡æ ‡">
        <IndicatorItem label="æŒä»“é‡" value={indicators.openInterest} />
        <IndicatorItem label="èµ„é‡‘è´¹ç‡" value={indicators.fundingRate} />
      </IndicatorGroup>
    </div>
  );
};
```

---

### é˜¶æ®µä¸‰: AIæ™ºèƒ½å¢å¼º (1å‘¨) ğŸŸ¢ Medium

**ç›®æ ‡**: èåˆWyckoffæ–¹æ³•è®ºä¸AL Brooksä»·æ ¼è¡Œä¸ºç†è®º

#### Task 3.1: å¯ç”¨ai-service (1å¤©)

**é…ç½®æ­¥éª¤**:
```bash
# backend/.env
AI_SERVICE_ENABLED=true
AI_PROVIDER=claude  # æˆ– openai/gemini/deepseek
ANTHROPIC_API_KEY=sk-ant-xxx

# å¯åŠ¨ai-service
docker compose up -d ai-service
```

#### Task 3.2: AIåˆ†æèåˆ (3å¤©)

**åŒç†è®ºèåˆæ¡†æ¶**:

```typescript
// src/services/ai-analysis.ts
interface CombinedAnalysis {
  // Wyckoffåˆ†æ (æ¥è‡ªTradeCat ai-service)
  wyckoff: {
    phase: 'Accumulation' | 'Markup' | 'Distribution' | 'Markdown';
    supplyDemand: 'Supply' | 'Demand' | 'Neutral';
    springDetected: boolean;
    volumeConfirmation: boolean;
  };

  // AL Brooksåˆ†æ (æ’ä»¶ç°æœ‰é€»è¾‘)
  alBrooks: {
    marketCycle: 'Range' | 'Breakout' | 'Channel' | 'Trend';
    tradingRange: { high: number; low: number };
    strategy: ALBrooksStrategy[];  // 12ç§ç­–ç•¥
    setupQuality: 'A' | 'B' | 'C';
  };

  // èåˆå»ºè®®
  recommendation: {
    action: 'BUY' | 'SELL' | 'WAIT';
    confidence: number;
    reasoning: string;
    supportingFactors: string[];
    risks: string[];
  };
}

export async function getCombinedAnalysis(
  symbol: string,
  interval: string
): Promise<CombinedAnalysis> {
  // 1. è·å–Wyckoff AIåˆ†æ
  const wyckoffAnalysis = await backendAPI.getAIAnalysis(symbol);

  // 2. è·å–æŠ€æœ¯æŒ‡æ ‡
  const indicators = await backendAPI.getIndicators(symbol, interval);

  // 3. è¿è¡ŒAL Brooksç­–ç•¥åŒ¹é…å¼•æ“
  const alBrooksMatches = strategyMatcherV3.match({
    ...indicators,
    // ä»ç”¨æˆ·äº¤æ˜“æ—¥å¿—è·å–ä¸Šä¸‹æ–‡
  });

  // 4. èåˆä¸¤ç§åˆ†æ
  return {
    wyckoff: wyckoffAnalysis,
    alBrooks: alBrooksMatches,
    recommendation: synthesizeRecommendation(wyckoffAnalysis, alBrooksMatches)
  };
}
```

**èåˆé€»è¾‘ç¤ºä¾‹**:
```
Wyckoffé˜¶æ®µ: Accumulation (å¸ç­¹)
+ AL Brooks: Trading Range (åŒºé—´äº¤æ˜“)
â†’ ç­–ç•¥å»ºè®®: ç­‰å¾…çªç ´,å¯»æ‰¾H1/L1å…¥åœº

Wyckoffé˜¶æ®µ: Markup (ä¸Šæ¶¨)
+ AL Brooks: Strong Trend (å¼ºåŠ¿è¶‹åŠ¿)
â†’ ç­–ç•¥å»ºè®®: è¶‹åŠ¿è·Ÿéš,å›è°ƒåšå¤š

Wyckoffé˜¶æ®µ: Distribution (æ´¾å‘)
+ AL Brooks: Range Breakout (åŒºé—´çªç ´)
â†’ ç­–ç•¥å»ºè®®: è­¦æƒ•å‡çªç ´,ç­‰å¾…ç¡®è®¤
```

#### Task 3.3: æ™ºèƒ½ç­–ç•¥æ¨è (3å¤©)

**å¢å¼ºç°æœ‰ç­–ç•¥æ¨èå¡ç‰‡**:
```typescript
// src/components/trading/EnhancedStrategyCard.tsx
export const EnhancedStrategyCard: React.FC = () => {
  const { currentTrade } = useCurrentTrade();
  const { analysis } = useCombinedAnalysis(
    currentTrade.symbol,
    currentTrade.interval
  );

  return (
    <Card>
      <h3>æ™ºèƒ½ç­–ç•¥æ¨è</h3>

      {/* Wyckoffå¸‚åœºé˜¶æ®µ */}
      <Section>
        <Label>å¸‚åœºé˜¶æ®µ (Wyckoff)</Label>
        <Badge color={getPhaseColor(analysis.wyckoff.phase)}>
          {analysis.wyckoff.phase}
        </Badge>
        <Explanation>{analysis.wyckoff.reasoning}</Explanation>
      </Section>

      {/* AL Brooksç­–ç•¥åŒ¹é… */}
      <Section>
        <Label>AL Brooksç­–ç•¥</Label>
        <StrategyList strategies={analysis.alBrooks.strategy} />
      </Section>

      {/* èåˆå»ºè®® */}
      <Section>
        <Label>ç»¼åˆå»ºè®®</Label>
        <Recommendation
          action={analysis.recommendation.action}
          confidence={analysis.recommendation.confidence}
          reasoning={analysis.recommendation.reasoning}
        />
      </Section>

      {/* é£é™©æç¤º */}
      <Section>
        <Label>é£é™©å› ç´ </Label>
        <RiskList risks={analysis.recommendation.risks} />
      </Section>
    </Card>
  );
};
```

---

### é˜¶æ®µå››: å†å²æ•°æ®å›å¡« (1-2å¤©) ğŸŸ¢ Medium

**ç›®æ ‡**: å›å¡«2018-2025å¹´å†å²Kçº¿æ•°æ®ï¼Œæ”¯æŒé•¿æœŸå›æµ‹

#### Task 4.1: å†å²æ•°æ®ä¸‹è½½ (è‡ªåŠ¨åŒ–)

**æ–¹æ¡ˆ**:
```bash
# ä½¿ç”¨TradeCatå®˜æ–¹è„šæœ¬
cd backend
docker compose exec data-service python scripts/backfill_history.py \
  --start-date 2018-01-01 \
  --end-date 2025-12-31 \
  --symbols auto \
  --intervals 1m,5m,15m,1h,4h,1d,1w

# é¢„è®¡æ—¶é—´: 4-8å°æ—¶ (å–å†³äºç½‘ç»œé€Ÿåº¦)
# é¢„è®¡æ•°æ®é‡: ~80-100GB
```

**è¿›åº¦ç›‘æ§**:
- å®æ—¶æ˜¾ç¤ºä¸‹è½½è¿›åº¦
- é”™è¯¯è‡ªåŠ¨é‡è¯•
- æ–­ç‚¹ç»­ä¼ æ”¯æŒ

#### Task 4.2: æ•°æ®éªŒè¯ä¸å®Œæ•´æ€§æ£€æŸ¥

**éªŒè¯æ¸…å•**:
```sql
-- 1. æ£€æŸ¥æ•°æ®è¦†ç›–èŒƒå›´
SELECT
  symbol,
  MIN(bucket_ts) as earliest,
  MAX(bucket_ts) as latest,
  COUNT(*) as records
FROM market_data.candles_1m
GROUP BY symbol
HAVING COUNT(*) < 1000000  -- å°‘äº100ä¸‡æ¡å¯èƒ½æœ‰ç¼ºå¤±
ORDER BY records;

-- 2. æ£€æŸ¥æ•°æ®ç¼ºå£
SELECT
  symbol,
  bucket_ts,
  LAG(bucket_ts) OVER (PARTITION BY symbol ORDER BY bucket_ts) as prev_ts,
  bucket_ts - LAG(bucket_ts) OVER (PARTITION BY symbol ORDER BY bucket_ts) as gap
FROM market_data.candles_1m
WHERE bucket_ts - LAG(bucket_ts) OVER (PARTITION BY symbol ORDER BY bucket_ts) > interval '5 minutes'
ORDER BY gap DESC;

-- 3. æ£€æŸ¥è¿ç»­èšåˆå®Œæ•´æ€§
SELECT
  'candles_5m' as table_name,
  COUNT(*) as records,
  MIN(bucket_ts) as earliest,
  MAX(bucket_ts) as latest
FROM market_data.candles_5m
UNION ALL
SELECT 'candles_15m', COUNT(*), MIN(bucket_ts), MAX(bucket_ts) FROM market_data.candles_15m
UNION ALL
SELECT 'candles_1h', COUNT(*), MIN(bucket_ts), MAX(bucket_ts) FROM market_data.candles_1h;
```

---

### é˜¶æ®µäº”: ç”¨æˆ·ä½“éªŒä¼˜åŒ– (1å‘¨) ğŸŸ¢ Medium

#### Task 5.1: Backend Tabå¸ƒå±€ä¼˜åŒ–

**å“åº”å¼è®¾è®¡**:
```
æ¡Œé¢ç«¯ (>1200px):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Market Overview    |   Signals     â”‚
â”‚  (50%)              |   (50%)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Ranking Cards (Grid 3x2)           â”‚
â”‚  â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”              â”‚
â”‚  â”‚æ¶¨å¹…â”‚ â”‚è·Œå¹…â”‚ â”‚æˆäº¤â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜              â”‚
â”‚  â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”              â”‚
â”‚  â”‚RSI â”‚ â”‚MACDâ”‚ â”‚èµ„é‡‘â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¹³æ¿ç«¯ (768-1200px):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Market Overview    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Signals            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Ranking (Grid 2x3) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç§»åŠ¨ç«¯ (<768px):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Overview â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Signals  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Rankings â”‚
â”‚  (Stack)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Task 5.2: æ•°æ®åˆ·æ–°ç­–ç•¥

**æ™ºèƒ½åˆ·æ–°**:
- ç”¨æˆ·æ´»è·ƒæ—¶: é«˜é¢‘åˆ·æ–° (10-60ç§’)
- ç”¨æˆ·ç¦»å¼€æ—¶: é™ä½é¢‘ç‡ (5åˆ†é’Ÿ)
- æ‰‹åŠ¨åˆ·æ–°æŒ‰é’®
- è‡ªåŠ¨é”™è¯¯é‡è¯•

**ç¦»çº¿æ”¯æŒ**:
- ç¼“å­˜æœ€è¿‘ä¸€æ¬¡æ•°æ®
- ç¦»çº¿çŠ¶æ€æç¤º
- é‡è¿è‡ªåŠ¨æ¢å¤

#### Task 5.3: æ€§èƒ½ä¼˜åŒ–

**ä¼˜åŒ–æªæ–½**:
```typescript
// 1. è™šæ‹Ÿæ»šåŠ¨ (é•¿åˆ—è¡¨)
import { VirtualList } from '@/ui/components/VirtualList';

<VirtualList
  data={rankings}
  itemHeight={60}
  renderItem={(item) => <RankingRow data={item} />}
/>

// 2. æ•°æ®åˆ†é¡µ
const { data, hasMore, loadMore } = usePaginatedData('/api/v1/rankings/gainers', {
  pageSize: 50
});

// 3. é˜²æŠ–æœç´¢
const debouncedSearch = useDebouncedCallback(
  (query: string) => {
    searchSymbols(query);
  },
  500
);

// 4. React.memoä¼˜åŒ–æ¸²æŸ“
export const RankingCard = React.memo(({ data }) => {
  // ...
}, (prev, next) => prev.data.updatedAt === next.data.updatedAt);
```

---

## ğŸ“Š å®æ–½è®¡åˆ’

### æ—¶é—´çº¿ (æ€»è®¡: 5-7å‘¨)

```
ç¬¬1-2å‘¨: é˜¶æ®µä¸€ - æ•°æ®æ¡¥æ¢ ğŸ”´
â”œâ”€â”€ Week 1
â”‚   â”œâ”€â”€ Day 1-3: Backend Tab UIå¼€å‘
â”‚   â”œâ”€â”€ Day 4-5: HTTP APIé›†æˆ
â”‚   â””â”€â”€ Day 6-7: æ•°æ®åŒæ­¥æœºåˆ¶
â””â”€â”€ Week 2
    â”œâ”€â”€ æµ‹è¯•ä¸è°ƒè¯•
    â””â”€â”€ å†…éƒ¨éªŒæ”¶

ç¬¬3-4å‘¨: é˜¶æ®µäºŒ - æ•°æ®å¯è§†åŒ– ğŸŸ¡
â”œâ”€â”€ Week 3
â”‚   â”œâ”€â”€ Day 1-5: æ’è¡Œæ¦œå¡ç‰‡ç»„ä»¶åº“
â”‚   â””â”€â”€ Day 6-7: ä¿¡å·ç›‘æ§é¢æ¿ (part 1)
â””â”€â”€ Week 4
    â”œâ”€â”€ Day 1-1: ä¿¡å·ç›‘æ§é¢æ¿ (part 2)
    â”œâ”€â”€ Day 2-3: æŠ€æœ¯æŒ‡æ ‡é›†æˆ
    â””â”€â”€ Day 4-7: æµ‹è¯•ä¸ä¼˜åŒ–

ç¬¬5å‘¨: é˜¶æ®µä¸‰ - AIæ™ºèƒ½å¢å¼º ğŸŸ¢
â”œâ”€â”€ Day 1: å¯ç”¨ai-service
â”œâ”€â”€ Day 2-4: AIåˆ†æèåˆ
â”œâ”€â”€ Day 5-7: æ™ºèƒ½ç­–ç•¥æ¨è

ç¬¬6å‘¨: é˜¶æ®µå›› - å†å²æ•°æ®å›å¡« ğŸŸ¢
â”œâ”€â”€ Day 1: å†å²æ•°æ®ä¸‹è½½ (è‡ªåŠ¨åŒ–è¿è¡Œ)
â”œâ”€â”€ Day 2: æ•°æ®éªŒè¯
â””â”€â”€ Day 3-7: æœºåŠ¨æ—¶é—´/æå‰å¼€å§‹é˜¶æ®µäº”

ç¬¬7å‘¨: é˜¶æ®µäº” - ç”¨æˆ·ä½“éªŒä¼˜åŒ– ğŸŸ¢
â”œâ”€â”€ Day 1-3: Backend Tabå¸ƒå±€ä¼˜åŒ–
â”œâ”€â”€ Day 4-5: æ•°æ®åˆ·æ–°ç­–ç•¥
â”œâ”€â”€ Day 6-7: æ€§èƒ½ä¼˜åŒ–
```

### äººåŠ›éœ€æ±‚

**å•äººå¼€å‘**:
- é¢„è®¡æ€»å·¥æ—¶: 150-200å°æ—¶
- æ¯å‘¨æŠ•å…¥: 30-40å°æ—¶
- æ€»å‘¨æœŸ: 5-7å‘¨

**å›¢é˜Ÿå¼€å‘** (å¦‚æœ‰):
- å‰ç«¯å·¥ç¨‹å¸ˆ x1: UIç»„ä»¶ã€æ•°æ®å¯è§†åŒ–
- åç«¯å·¥ç¨‹å¸ˆ x1: APIå¼€å‘ã€æ•°æ®åº“ä¼˜åŒ–
- é¢„è®¡å‘¨æœŸ: 3-4å‘¨

---

## ğŸ”§ æŠ€æœ¯å€ºåŠ¡æ¸…ç†

### éœ€è¦é‡æ„çš„ä»£ç 

1. **backend-client.ts æ‰©å±•**
   - å½“å‰: åŸºç¡€HTTPå®¢æˆ·ç«¯
   - ç›®æ ‡: å®Œæ•´APIåŒ…è£…å™¨,é”™è¯¯å¤„ç†,é‡è¯•é€»è¾‘

2. **æ•°æ®ç¼“å­˜å±‚**
   - å½“å‰: æ— ç¼“å­˜
   - ç›®æ ‡: IndexedDBæœ¬åœ°ç¼“å­˜,å‡å°‘APIè°ƒç”¨

3. **ç±»å‹å®šä¹‰**
   - å½“å‰: éƒ¨åˆ†anyç±»å‹
   - ç›®æ ‡: 100%ç±»å‹å®‰å…¨

### éœ€è¦æ·»åŠ çš„å·¥å…·

```typescript
// src/utils/api-cache.ts
export class APICache {
  private cache = new Map<string, { data: any; expires: number }>();

  get(key: string): any | null {
    const item = this.cache.get(key);
    if (!item || Date.now() > item.expires) {
      this.cache.delete(key);
      return null;
    }
    return item.data;
  }

  set(key: string, data: any, ttl: number = 60000) {
    this.cache.set(key, {
      data,
      expires: Date.now() + ttl
    });
  }
}

// src/utils/error-handler.ts
export class APIErrorHandler {
  static handle(error: any): string {
    if (error.response) {
      // HTTPé”™è¯¯
      return `æœåŠ¡å™¨é”™è¯¯: ${error.response.status}`;
    } else if (error.request) {
      // ç½‘ç»œé”™è¯¯
      return 'ç½‘ç»œè¿æ¥å¤±è´¥,è¯·æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ';
    } else {
      // å…¶ä»–é”™è¯¯
      return error.message;
    }
  }
}
```

---

## ğŸ“¦ ä¾èµ–é¡¹æ›´æ–°

### æ–°å¢ä¾èµ–

```json
{
  "dependencies": {
    "axios": "^1.6.0",           // HTTPå®¢æˆ·ç«¯ (å¦‚æœªå®‰è£…)
    "react-query": "^5.0.0",     // æ•°æ®è·å–ä¸ç¼“å­˜
    "recharts": "^2.10.0",       // å›¾è¡¨åº“ (å¢å¼ºå¯è§†åŒ–)
    "react-virtualized": "^9.22.5", // è™šæ‹Ÿæ»šåŠ¨
    "date-fns": "^3.0.0",        // æ—¥æœŸå¤„ç†
    "lodash": "^4.17.21"         // å·¥å…·å‡½æ•°
  },
  "devDependencies": {
    "@types/lodash": "^4.14.202"
  }
}
```

### ç‰ˆæœ¬å…¼å®¹æ€§

- Node.js: â‰¥16.0.0
- React: â‰¥18.0.0
- TypeScript: â‰¥5.0.0
- Obsidian API: â‰¥1.5.0

---

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### å•å…ƒæµ‹è¯•

```typescript
// tests/services/backend-api.test.ts
describe('BackendAPI', () => {
  it('should fetch market overview', async () => {
    const api = new BackendAPI();
    const data = await api.getMarketOverview();

    expect(data).toHaveProperty('topGainers');
    expect(data).toHaveProperty('topLosers');
    expect(data.topGainers).toBeInstanceOf(Array);
  });

  it('should handle network errors', async () => {
    const api = new BackendAPI();
    api.baseURL = 'http://invalid-url';

    await expect(api.getMarketOverview()).rejects.toThrow();
  });
});
```

### é›†æˆæµ‹è¯•

```typescript
// tests/integration/backend-tab.test.tsx
describe('BackendTab Integration', () => {
  it('should display data from backend', async () => {
    render(<BackendTab />);

    // ç­‰å¾…æ•°æ®åŠ è½½
    await waitFor(() => {
      expect(screen.getByText(/å¸‚åœºæ¦‚è§ˆ/i)).toBeInTheDocument();
    });

    // éªŒè¯æ’è¡Œæ¦œå¡ç‰‡
    expect(screen.getByText(/æ¶¨å¹…æ¦œ/i)).toBeInTheDocument();
    expect(screen.getByText(/è·Œå¹…æ¦œ/i)).toBeInTheDocument();
  });
});
```

### E2Eæµ‹è¯•æ¸…å•

- [ ] åç«¯æœåŠ¡è¿æ¥æ­£å¸¸
- [ ] æ•°æ®åˆ·æ–°æœºåˆ¶æ­£å¸¸
- [ ] æ’è¡Œæ¦œå¡ç‰‡å±•ç¤ºæ­£å¸¸
- [ ] ä¿¡å·ç›‘æ§é¢æ¿æ­£å¸¸
- [ ] AIåˆ†æåŠŸèƒ½æ­£å¸¸
- [ ] ç¦»çº¿çŠ¶æ€å¤„ç†æ­£å¸¸
- [ ] é”™è¯¯æç¤ºæ¸…æ™°

---

## ğŸ” å®‰å…¨è€ƒè™‘

### APIå®‰å…¨

```typescript
// src/services/backend-client.ts
class SecureBackendClient {
  private apiKey: string;

  constructor() {
    // ä»Obsidianè®¾ç½®è¯»å–APIå¯†é’¥
    this.apiKey = this.plugin.settings.backendApiKey;
  }

  async request(url: string, options: RequestOptions) {
    return axios.request({
      ...options,
      url,
      headers: {
        'Authorization': `Bearer ${this.apiKey}`,
        'Content-Type': 'application/json',
        ...options.headers
      },
      timeout: 30000,
      validateStatus: (status) => status < 500
    });
  }
}
```

### æ•°æ®éªŒè¯

```typescript
// src/utils/validators.ts
import { z } from 'zod';

const RankingItemSchema = z.object({
  symbol: z.string().regex(/^[A-Z0-9]+$/),
  price: z.number().positive(),
  change24h: z.number(),
  volume24h: z.number().nonnegative(),
  updatedAt: z.string().datetime()
});

export function validateRankingData(data: any): RankingItem[] {
  return z.array(RankingItemSchema).parse(data);
}
```

---

## ğŸ“ˆ æˆåŠŸæŒ‡æ ‡ (KPI)

### æŠ€æœ¯æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | æµ‹é‡æ–¹æ³• |
|------|--------|---------|
| APIå“åº”æ—¶é—´ | <500ms | Chrome DevTools |
| é¦–å±åŠ è½½æ—¶é—´ | <2s | Lighthouse |
| æ•°æ®åˆ·æ–°å»¶è¿Ÿ | <10s | å®æ—¶ç›‘æ§ |
| å†…å­˜å ç”¨ | <200MB | Chrome Memory Profiler |
| é”™è¯¯ç‡ | <1% | é”™è¯¯æ—¥å¿—ç»Ÿè®¡ |

### åŠŸèƒ½æŒ‡æ ‡

| åŠŸèƒ½ | å®Œæˆæ ‡å‡† |
|------|---------|
| Backend Tab | å¯å±•ç¤ºæ‰€æœ‰20+æ’è¡Œæ¦œå¡ç‰‡ |
| ä¿¡å·ç›‘æ§ | å®æ—¶æ˜¾ç¤º333æ¡ä¿¡å·,å¯ç­›é€‰ |
| AIåˆ†æ | Wyckoff+AL BrooksåŒç†è®ºèåˆ |
| å†å²æ•°æ® | 2018-2026å®Œæ•´æ•°æ®è¦†ç›– |
| æ€§èƒ½ | æ”¯æŒ1000+å¸ç§æ•°æ®æ— å¡é¡¿ |

### ç”¨æˆ·ä½“éªŒæŒ‡æ ‡

- æ•°æ®æ›´æ–°åŠæ—¶æ€§: âœ… ç”¨æˆ·æ„ŸçŸ¥10ç§’å†…åˆ·æ–°
- ç•Œé¢å“åº”é€Ÿåº¦: âœ… ç‚¹å‡»å100mså†…å“åº”
- é”™è¯¯æç¤ºæ¸…æ™°: âœ… ç”¨æˆ·èƒ½ç†è§£é”™è¯¯åŸå› 
- å­¦ä¹ æ›²çº¿: âœ… 5åˆ†é’Ÿå†…ä¸Šæ‰‹Backend Tab

---

## ğŸ‰ é¢„æœŸæˆæœ

### v2.0ç‰ˆæœ¬ç‰¹æ€§æ¸…å•

âœ… **æ•°æ®èƒ½åŠ›**
- 622ä¸ªå¸ç§å®æ—¶æ•°æ®
- 2018-2026å†å²æ•°æ® (373M+æ¡)
- 7ä¸ªæ—¶é—´å‘¨æœŸ (1m-1w)
- 38ä¸ªæŠ€æœ¯æŒ‡æ ‡
- 129æ¡ä¿¡å·è§„åˆ™

âœ… **åˆ†æèƒ½åŠ›**
- 20+æ’è¡Œæ¦œè§†å›¾
- å®æ—¶ä¿¡å·æ¨é€
- Wyckoffå¸‚åœºé˜¶æ®µè¯†åˆ«
- AL Brooksç­–ç•¥åŒ¹é…
- åŒç†è®ºèåˆå»ºè®®

âœ… **ç”¨æˆ·ç•Œé¢**
- Backend Tabæ•°æ®ä»ªè¡¨æ¿
- ä¿¡å·ç›‘æ§é¢æ¿
- æŠ€æœ¯æŒ‡æ ‡é¢æ¿
- AIåˆ†æé¢æ¿
- å“åº”å¼è®¾è®¡

âœ… **æ™ºèƒ½åŠŸèƒ½**
- æ™ºèƒ½ç­–ç•¥æ¨è
- å¸‚åœºæƒ…ç»ªåˆ†æ
- å¼‚å¸¸æ£€æµ‹é¢„è­¦
- å­¦ä¹ å†…å®¹æ¨è

### ç«äº‰ä¼˜åŠ¿æ€»ç»“

```
ä¼ ç»Ÿäº¤æ˜“å·¥å…· vs AL Brooks v2.0æ’ä»¶:

TradingView:
  âœ… å¼ºå¤§å›¾è¡¨å·¥å…·
  âŒ æ— äº¤æ˜“æ—¥å¿—ç®¡ç†
  âŒ æ— å­¦ä¹ ç³»ç»Ÿ
  âŒ æ— ç†è®ºæŒ‡å¯¼

MetaTrader:
  âœ… ä¸“ä¸šäº¤æ˜“å¹³å°
  âŒ å­¦ä¹ æ›²çº¿é™¡å³­
  âŒ æ— çŸ¥è¯†ç®¡ç†
  âŒ éå¼€æº

TradeCat:
  âœ… å®æ—¶é‡åŒ–æ•°æ®
  âŒ ä»…Telegramç•Œé¢
  âŒ æ— äº¤æ˜“ç†è®º
  âŒ æ— æ—¥å¿—åŠŸèƒ½

AL Brooks v2.0:
  âœ… AL Brooksç†è®ºä½“ç³»
  âœ… å®Œæ•´äº¤æ˜“æ—¥å¿—
  âœ… SRSå­¦ä¹ ç³»ç»Ÿ
  âœ… å®æ—¶é‡åŒ–æ•°æ®
  âœ… åŒAIåˆ†æå¼•æ“
  âœ… Obsidianæ·±åº¦æ•´åˆ
  âœ… å¼€æºå¯æ‰©å±•

â†’ å…¨çƒå”¯ä¸€çš„ç†è®º+æ•°æ®+å­¦ä¹ +æ—¥å¿—å››ä½ä¸€ä½“ç³»ç»Ÿ
```

---

## ğŸš§ é£é™©ç®¡ç†

### æŠ€æœ¯é£é™©

| é£é™© | å½±å“ | æ¦‚ç‡ | ç¼“è§£æªæ–½ |
|------|------|------|---------|
| APIæ€§èƒ½ç“¶é¢ˆ | é«˜ | ä¸­ | å®ç°ç¼“å­˜,é™æµ,CDN |
| æ•°æ®åº“è¿‡è½½ | é«˜ | ä½ | TimescaleDBåˆ†ç‰‡,åªè¯»å‰¯æœ¬ |
| å‰ç«¯å¡é¡¿ | ä¸­ | ä¸­ | è™šæ‹Ÿæ»šåŠ¨,æ‡’åŠ è½½,Web Worker |
| ç½‘ç»œä¸ç¨³å®š | ä¸­ | é«˜ | ç¦»çº¿ç¼“å­˜,æ–­ç‚¹ç»­ä¼ ,é‡è¯•æœºåˆ¶ |

### é¡¹ç›®é£é™©

| é£é™© | å½±å“ | æ¦‚ç‡ | ç¼“è§£æªæ–½ |
|------|------|------|---------|
| å¼€å‘å»¶æœŸ | ä¸­ | ä¸­ | åˆ†é˜¶æ®µå‘å¸ƒ,æ ¸å¿ƒåŠŸèƒ½ä¼˜å…ˆ |
| éœ€æ±‚å˜æ›´ | ä½ | ä½ | éœ€æ±‚å†»ç»“,å˜æ›´è¯„å®¡ |
| èµ„æºä¸è¶³ | é«˜ | ä½ | é™ä½éæ ¸å¿ƒåŠŸèƒ½ä¼˜å…ˆçº§ |

---

## ğŸ“š æ–‡æ¡£è®¡åˆ’

### å¼€å‘æ–‡æ¡£

- [ ] APIæ¥å£æ–‡æ¡£ (Swagger/OpenAPI)
- [ ] ç»„ä»¶ä½¿ç”¨æ–‡æ¡£ (Storybook)
- [ ] æ¶æ„è®¾è®¡æ–‡æ¡£
- [ ] æ•°æ®åº“Schemaæ–‡æ¡£

### ç”¨æˆ·æ–‡æ¡£

- [ ] v2.0æ–°åŠŸèƒ½ä»‹ç»
- [ ] Backend Tabä½¿ç”¨æŒ‡å—
- [ ] ä¿¡å·ç›‘æ§æ•™ç¨‹
- [ ] AIåˆ†æè§£è¯»æŒ‡å—
- [ ] å¸¸è§é—®é¢˜FAQ

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³å¯å¼€å§‹çš„ä»»åŠ¡ (æœ¬å‘¨)

1. **Task 1.1**: åˆ›å»º `BackendTab.tsx` åŸºç¡€æ¡†æ¶
2. **Task 1.2**: æ‰©å±• `backend-client.ts` APIæ–¹æ³•
3. **é…ç½®**: åœ¨æ’ä»¶è®¾ç½®ä¸­æ·»åŠ åç«¯URLé…ç½®é¡¹

### éœ€è¦åç«¯é…åˆçš„ä»»åŠ¡

1. **api-gateway**: å¼€å‘REST APIç«¯ç‚¹
   - `/api/v1/market/overview`
   - `/api/v1/rankings/:type`
   - `/api/v1/signals/latest`

2. **ai-service**: å¯ç”¨å¹¶æµ‹è¯•AIåˆ†æåŠŸèƒ½

### å†³ç­–ç‚¹

- [ ] æ˜¯å¦å¯ç”¨å†å²æ•°æ®å›å¡«? (éœ€80-100GBç©ºé—´)
- [ ] AI Provideré€‰æ‹©: Claude vs OpenAI vs Gemini?
- [ ] æ˜¯å¦ä¿ç•™Telegram Bot? (å»ºè®®ä¿ç•™ä½œä¸ºç§»åŠ¨ç«¯)

---

## ğŸ“ è”ç³»ä¸æ”¯æŒ

**å¼€å‘è€…**: AL Brooks Trading Console Team
**é¡¹ç›®åœ°å€**: https://github.com/[your-repo]
**Discord**: [your-discord-server]
**é‚®ç®±**: [your-email]

---

*æœ¬æ–¹æ¡ˆåŸºäº2026-01-25çš„ç³»ç»Ÿç°çŠ¶åˆ¶å®š*
*TradeCaté›†æˆå·²å®Œæˆ80%,å‰©ä½™20%ä¸ºUIå±‚è¿æ¥*
*é¢„è®¡v2.0ç‰ˆæœ¬å°†æˆä¸ºå…¨çƒæœ€å¼ºå¤§çš„ä¸ªäººäº¤æ˜“åˆ†æå¹³å°* ğŸš€
