# ğŸ“‹ åŸç”Ÿæ’ä»¶è¿ç§»-åŠŸèƒ½å·®è·å®¡è®¡ï¼ˆå¯¹ç…§ v5.0ï¼‰

æ—¥æœŸï¼š2026-01-02

## èŒƒå›´ä¸å£å¾„

- **v5.0 å‚è€ƒå…¥å£**ï¼š`ğŸ¦ äº¤æ˜“å‘˜æ§åˆ¶å° (Trader Command)5.0.md`
- **v5.0 æ¨¡å—å®šä¹‰å‚è€ƒ**ï¼š`ğŸ“‹ äº¤æ˜“å‘˜æ§åˆ¶å°ç³»ç»ŸæŠ€æœ¯æŠ¥å‘Š v5.0.md`
- **æ’ä»¶å®ç°å‚è€ƒ**ï¼š`.obsidian/plugins/al-brooks-console/src/`

çŠ¶æ€æ ‡è®°ï¼š
- âœ… å·²å®ç°ï¼ˆæ ¸å¿ƒèƒ½åŠ›ä¸ UI å…¥å£éƒ½æœ‰ï¼‰
- ğŸŸ¡ éƒ¨åˆ†å®ç°ï¼ˆæœ‰èƒ½åŠ›ä½†ç¼ºå…³é”® UI/å£å¾„/é›†æˆï¼‰
- âŒ ç¼ºå¤±ï¼ˆv5.0 æœ‰ï¼Œä½†æ’ä»¶æš‚æ— å¯¹åº”å®ç°ï¼‰

---

## 1) v5.0 åŠŸèƒ½æ¸…å•ï¼ˆæ¥è‡ªå…¥å£é¡µï¼‰

v5.0 æ§åˆ¶å°é¡µé¢ä¾æ¬¡åŠ è½½ï¼š

- Coreï¼š`scripts/pa-core.js`ï¼ˆæ„å»º `window.paData` + ç¼“å­˜ + è‡ªåŠ¨åˆ·æ–° + å¤±è´¥éš”ç¦»ï¼‰
- Trading Hubï¼š`scripts/pa-view-today.js`ï¼ˆä»Šæ—¥çœ‹æ¿ + å¿«é€Ÿè¡ŒåŠ¨ï¼‰
- Analytics Hubï¼š`scripts/pa-view-hub-analytics.js`ï¼ˆè´¦æˆ·æ€»è§ˆ/èµ„é‡‘æ›²çº¿/ç¯å¢ƒåˆ†æ/é”™è¯¯å½’å› ï¼‰
- Learningï¼š`pa-view-memory` / `pa-view-course` / `pa-view-playbook` / `pa-view-gallery`
- Managementï¼š`pa-view-inspector` / `pa-view-schema` / `pa-view-manager`
- Exportï¼šæŒ‰é’®å°† `window.paData` å¤‡ä»½åˆ° `pa-db-export.json`
- Actionsï¼šå¤§é‡ Tasks æŸ¥è¯¢å—ï¼ˆInbox / Routine / Maintenanceï¼‰

---

## 2) æ’ä»¶ç°çŠ¶ç›˜ç‚¹ï¼ˆæ ¸å¿ƒå®ç°ï¼‰

æ’ä»¶å…¥å£ä¸æ ¸å¿ƒèƒ½åŠ›ï¼š

- å…¥å£ä¸å‘½ä»¤ï¼š`.obsidian/plugins/al-brooks-console/src/main.ts`
  - æ‰“å¼€æ§åˆ¶å°è§†å›¾
  - å¯¼å‡ºç´¢å¼•å¿«ç…§ï¼ˆJSONï¼‰
- TradeIndexï¼ˆæ‰«æ + å®æ—¶æ›´æ–°ï¼‰ï¼š`.obsidian/plugins/al-brooks-console/src/platforms/obsidian/obsidian-trade-index.ts`
  - ç›‘å¬ `vault.modify/rename/delete` + `metadataCache.changed`
  - æ”¯æŒ trade tag ä¸ fileClass ä¸¤ç§è¯†åˆ«
- StrategyIndexï¼ˆç­–ç•¥ä»“åº“ç´¢å¼•ï¼‰ï¼š`.obsidian/plugins/al-brooks-console/src/platforms/obsidian/obsidian-strategy-index.ts`
- TodayContextï¼ˆä»ä»Šæ—¥æ—¥è®°è¯»å– market_cycleï¼‰ï¼š`.obsidian/plugins/al-brooks-console/src/platforms/obsidian/obsidian-today-context.ts`
- Dashboard ä¸» UIï¼š`.obsidian/plugins/al-brooks-console/src/views/Dashboard.tsx`
  - Today/Analytics/Course/Memory/Gallery/Inspector+Schema/Manager/Recent Trades
- å¤–éƒ¨æ’ä»¶é›†æˆï¼ˆå¯é€‰ï¼‰ï¼š`.obsidian/plugins/al-brooks-console/src/integrations/*`
  - QuickAdd/SRS/Dataview/Tasks/MetadataMenuï¼ˆå‡ä¸ºâ€œå¯ç”¨åˆ™å¯ç”¨â€çš„é™çº§æ¨¡å¼ï¼‰

---

## 3) v5.0 vs æ’ä»¶ï¼šå·®è·çŸ©é˜µ

| æ¨¡å— | v5.0 æœŸæœ› | æ’ä»¶ç°çŠ¶ | çŠ¶æ€ | ç¼ºå£/é£é™© | å»ºè®®è½ç‚¹ |
|---|---|---|---|---|---|
| Core æ•°æ®æ„å»ºä¸ç¼“å­˜ | `window.paData` SSOT + TTL/dirty + å¤±è´¥éš”ç¦» | TradeIndex/StrategyIndex/TodayContext ä»¥äº‹ä»¶é©±åŠ¨æ›´æ–°ï¼›æ—  Dataview ä¾èµ– | âœ… | å£å¾„ä»â€œDataview pages æ‰«æâ€å˜ä¸ºâ€œmetadataCache è§£æâ€ï¼Œéœ€æ³¨æ„å­—æ®µæ˜ å°„ä¸€è‡´æ€§ | å·²å®Œæˆï¼ˆTradeIndex/field-mapperï¼‰ |
| å®æ—¶åˆ·æ–° | ç›‘å¬ modify/rename/delete + metadata changedï¼›DV refresh + scroll lock | ç›‘å¬ modify/rename/delete + metadata changedï¼›æ— éœ€ DV refresh/scroll lock | âœ… | ä¸ v5.0 ä¸€è‡´çš„â€œdirty+debounceâ€æ€è·¯å·²å®ç° | å·²å®Œæˆï¼ˆObsidianTradeIndexï¼‰ |
| Trading Hub / Today | ä»Šæ—¥æ¦‚è§ˆ + å¿«æ·è¡ŒåŠ¨ | Dashboard æœ‰â€œäº¤æ˜“ä¸­æ¢/ä»Šæ—¥/å¿«æ·å…¥å£/è¿›è¡Œä¸­äº¤æ˜“åŠ©æ‰‹/ä»Šæ—¥ç­–ç•¥æ¨èâ€ | âœ… | 5.0 ä¸»é¡µé‡Œçš„ Tasks æŸ¥è¯¢å—æœªåœ¨æ’ä»¶å†…å¤åˆ»ï¼ˆä½†å¯é€šè¿‡ Tasks æ’ä»¶æ‰“å¼€ï¼‰ | Dashboard + Integrations |
| Analytics Hubï¼ˆèµ„é‡‘æ›²çº¿ï¼‰ | èµ„é‡‘æ›²çº¿/ç»Ÿè®¡èšåˆ | Dashboard æœ‰â€œæ—¥å† + æƒç›Šæ›²çº¿ + ç­–ç•¥å½’å› ï¼ˆTopï¼‰â€ | ğŸŸ¡ | v5.0 çš„â€œç¯å¢ƒåˆ†æ/é”™è¯¯å½’å› â€ä¸æ˜ç¡®æ˜¯å¦å·²è¦†ç›–ï¼ˆå½“å‰ä¸»è¦æ˜¯ç­–ç•¥å½’å› ï¼‰ | `src/core/analytics.ts` + Dashboard æ–°åŒºå— |
| Learning / Memory | è®°å¿†åº“ç»Ÿè®¡ + SRS æ“ä½œ | Dashboard æœ‰â€œè®°å¿† / SRSâ€ç»Ÿè®¡ã€æŠ½é¢˜ã€å¯è°ƒç”¨ SRS å¤ä¹  | âœ… | æ— æ˜æ˜¾ç¼ºå£ | `src/core/memory.ts` |
| Learning / Course | è¯¾ç¨‹åœ°å›¾/çŸ©é˜µ + æ¨è | Dashboard æœ‰è¯¾ç¨‹æ¨è + çŸ©é˜µå±•å¼€ | âœ… | æ— æ˜æ˜¾ç¼ºå£ | `src/core/course.ts` |
| Learning / Gallery | æœ€æ–°å¤ç›˜å›¾è¡¨ï¼ˆå°é¢ï¼‰ | Dashboard æœ‰ Galleryï¼ˆä»äº¤æ˜“ cover/å°é¢å­—æ®µè§£æå¹¶å±•ç¤ºï¼‰ | ğŸŸ¡ | UI æ–‡æ¡ˆä»æœ‰è‹±æ–‡ï¼ˆGallery / Gallery unavailableï¼‰ | Dashboard æ–‡æ¡ˆæ±‰åŒ– |
| Learning / Playbookï¼ˆç­–ç•¥ä»“åº“ï¼‰ | ç­–ç•¥ä»“åº“æµè§ˆ/æ£€ç´¢ï¼ˆç­–ç•¥å¡ï¼‰ | ç›®å‰åªæœ‰â€œç­–ç•¥æ¨è/ç­–ç•¥å½’å› ï¼ˆTopï¼‰â€ï¼Œç¼ºå°‘â€œç­–ç•¥ä»“åº“é¢æ¿/åˆ—è¡¨å…¥å£â€ | âŒ | ç”¨æˆ·ä¼šæ„ŸçŸ¥â€œç­–ç•¥ä»“åº“æ²¡äº†â€ï¼Œè¿™é€šå¸¸æ˜¯è¿ç§»ç¼ºå¤±çš„ç¬¬ä¸€å¤§ç—›ç‚¹ | Dashboard å¢åŠ â€œç­–ç•¥ä»“åº“â€åŒºå—ï¼ˆåŸºäº strategyIndex.listï¼‰ |
| Management / Inspector | æ•°æ®å·¡æ£€ï¼ˆç¼ºå¤±å­—æ®µ/å¼‚å¸¸ï¼‰+ å¯ç‚¹å‡»è·³è½¬ | Dashboard æœ‰â€œæ£€æŸ¥å™¨ / å­—æ®µè§„åˆ™ï¼ˆSchemaï¼‰ç›‘æ§â€ï¼Œå¯è·³è½¬é—®é¢˜æ–‡ä»¶ | âœ… | ä¸ v5.0 çš„ Inspector+Schema ä¸¤ä¸ª view åˆå¹¶åœ¨ä¸€ä¸ªåŒºå—ï¼ŒåŠŸèƒ½ä¸Šå¯æ¥å— | `src/core/inspector.ts` |
| Management / Schema | å­—æ®µè§„åˆ™ä¸å¥åº·æ£€æŸ¥ | å·²å¹¶å…¥ Inspector åŒºå— | âœ… | è§„åˆ™ä½“ç³»ï¼ˆå¼º/å¼±è§„åˆ™åˆ†å±‚ï¼‰æ˜¯å¦å®Œå…¨è¿ç§»éœ€å†å¯¹ç…§ v5.0 è§„åˆ™æ¸…å•ï¼ˆç›®å‰æœªè§å•ç‹¬è§„åˆ™æ–‡æ¡£ï¼‰ | `src/core/inspector.ts` / `src/core/enum-presets.ts` |
| Management / Manager | é«˜é£é™©å†™å…¥æ²»ç†ï¼ˆé¢„è§ˆ/ç¡®è®¤/å¤±è´¥æ±‡æ€»/å¯å›æ»šï¼‰ | Dashboard æœ‰â€œé¢„è§ˆâ†’ç¡®è®¤â†’å†™å…¥â€ï¼Œæ”¯æŒæ’¤é”€ä¸Šæ¬¡åº”ç”¨ | âœ… | ä¸ v5.0 åŸåˆ™ä¸€è‡´ï¼ˆé»˜è®¤ç¦ç”¨å†™å…¥ï¼‰ | `src/core/manager.ts` + Dashboard |
| Export | ä¸€é”®æŠŠ `window.paData` å¤‡ä»½åˆ° `pa-db-export.json` | å‘½ä»¤â€œå¯¼å‡ºç´¢å¼•å¿«ç…§ï¼ˆJSONï¼‰â€å¯¼å‡ºåˆ° `Exports/al-brooks-console/` | ğŸŸ¡ | è‹¥å¤–éƒ¨æµç¨‹ä»ä¾èµ– `pa-db-export.json`ï¼Œä¼šè¢«è®¤ä¸ºâ€œå¯¼å‡ºæ²¡äº†â€ | é¢å¤–åŠ ä¸€ä¸ªå…¼å®¹å¯¼å‡ºå‘½ä»¤ï¼ˆå¯é€‰ï¼‰ |
| Actionsï¼ˆTasks æŸ¥è¯¢å—ï¼‰ | ä¸»é¡µå†…è” Tasks æŸ¥è¯¢ï¼šUrgent/Review/Study ç­‰ | æ’ä»¶æä¾›â€œä»»åŠ¡â€æŒ‰é’®ï¼ˆæ‰“å¼€ Tasks æ’ä»¶ï¼‰ä½†ä¸å¤åˆ»æŸ¥è¯¢å— | ğŸŸ¡ | è¿™æ˜¯â€œä½“éªŒå·®å¼‚â€è€Œéâ€œæ ¸å¿ƒèƒ½åŠ›ç¼ºå¤±â€ï¼›å¯ç»§ç»­åœ¨ Markdown é‡Œä¿ç•™åŸæŸ¥è¯¢å— | ä¿æŒ Markdown ä¸»é¡µ |

---

## 4) å»ºè®®çš„è¡¥é½ä¼˜å…ˆçº§ï¼ˆæœ€å°å¯æ„ŸçŸ¥é—­ç¯ï¼‰

P0ï¼ˆä¼˜å…ˆè¡¥é½ï¼Œæœ€èƒ½è§£å†³â€œåŠŸèƒ½ç¼ºå¤±æ„Ÿâ€ï¼‰ï¼š
1. **Playbook ç­–ç•¥ä»“åº“é¢æ¿**ï¼šåœ¨ Dashboard å¢åŠ â€œç­–ç•¥ä»“åº“â€åŒºå—ï¼ˆåˆ—è¡¨/æ‰“å¼€ç­–ç•¥å¡ï¼‰ï¼Œè‡³å°‘è¾¾åˆ° v5.0 çš„â€œèƒ½æµè§ˆ/èƒ½ç‚¹å¼€â€çš„æœ€ä½å¯ç”¨ã€‚
2. **Analytics çš„é”™è¯¯å½’å› /ç¯å¢ƒåˆ†æ**ï¼šè¡¥é½ v5.0 æ˜ç¡®æåˆ°çš„ä¸¤å—è¾“å‡ºï¼ˆå¦‚æœ v5.0 é‡Œæœ‰å›ºå®šå­—æ®µå£å¾„ï¼šerror/market_cycle/setup ç­‰ï¼Œå°±æŒ‰åŒå£å¾„ç»Ÿè®¡ï¼‰ã€‚
3. **å¯¼å‡ºå…¼å®¹é¡¹**ï¼ˆå¯é€‰ï¼‰ï¼šæ–°å¢ä¸€ä¸ªå‘½ä»¤è¾“å‡º `pa-db-export.json`ï¼ˆæˆ–åŒåæ–‡ä»¶ï¼‰ä»¥å…¼å®¹æ—§æµç¨‹ï¼›ä¿ç•™ç°æœ‰ snapshot å¯¼å‡ºä¸å˜ã€‚

P1ï¼ˆä½“éªŒ/ä¸€è‡´æ€§ï¼‰ï¼š
1. **Gallery æ–‡æ¡ˆæ±‰åŒ–**ï¼šæŠŠå‰©ä½™è‹±æ–‡ UI æ–‡æ¡ˆæ›¿æ¢ä¸ºä¸­æ–‡ã€‚
2. **å£å¾„å¯¹é½å®¡è®¡**ï¼šèƒœç‡/é”™è¯¯/Outcome ç­‰å­—æ®µå£å¾„åœ¨æ’ä»¶ä¸ v5.0 æ˜¯å¦ä¸€è‡´ï¼ˆé¿å…â€œçœ‹èµ·æ¥ä¸å¯¹â€ï¼‰ã€‚

---

## 5) éœ€è¦ä½ ç¡®è®¤çš„ 2 ä¸ªå…³é”®é—®é¢˜ï¼ˆå†³å®šç¼ºå£æ˜¯å¦æˆç«‹ï¼‰

1) ä½ è¯´çš„â€œç¼ºå¤±åŠŸèƒ½â€ï¼Œæœ€ä¸»è¦æ˜¯ï¼š
- A. â€œç­–ç•¥ä»“åº“/Playbook ä¸è§äº†â€
- B. â€œAnalytics é‡Œç¯å¢ƒåˆ†æ/é”™è¯¯å½’å› æ²¡äº†â€
- C. â€œActionsï¼ˆä»»åŠ¡é¢æ¿ï¼‰æ²¡äº†â€
- D. â€œå¯¼å‡º pa-db-export.json æ²¡äº†â€

2) äº¤æ˜“ç¬”è®°çš„è¯†åˆ«å£å¾„ï¼šä½ å¸Œæœ›æ’ä»¶ä»¥ä»€ä¹ˆä¸ºå‡†ï¼Ÿ
- Tagï¼ˆ#PA/Tradeï¼‰ä¼˜å…ˆ
- fileClassï¼ˆPA_Metadata_Schemaï¼‰ä¼˜å…ˆ
- ä¸¤è€…éƒ½è®¤ï¼ˆå½“å‰å®ç°ï¼‰

ç¡®è®¤åæˆ‘å¯ä»¥ç›´æ¥æŒ‰ P0 é¡ºåºæŠŠç¼ºçš„æ¨¡å—è¡¥é½ã€‚