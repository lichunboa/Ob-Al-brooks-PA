# 📋 插件功能优化 - 主任务列表

> **项目**: Al Brooks Trader Console 插件功能进化
> **核心方针**: 小步慢跑，一切求稳
> **技术原则**: 严格基于“固定Schema”和“确定性逻辑”，拒绝AI模糊猜测
> **最后更新**: 2026-01-14

---

## 📚 文档导航

**快速上下文恢复**: [📚 项目技术文档-完整架构手册](./📚%20项目技术文档-完整架构手册.md) - 新窗口AI必读

| 文档 | 用途 |
|------|------|
| [📚 项目技术文档](./📚%20项目技术文档-完整架构手册.md) | 完整代码库清单、开发路线图、质量指标 (新窗口AI快速恢复上下文) |
| [🎯 目标架构](./🎯%20插件优化项目-目标架构.md) | 最终目标状态、验收标准、UI设计规范 |
| [🧠 优化技能](./🧠%20插件智能优化技能.md) | 优化方法论、成功经验、失败教训 |
| [📋 UI迭代技能](./📋%20UI%20迭代技能（插件控制台）.md) | UI设计和迭代方法 |
| **本文档** | Phase 1-5 详细任务分解 |

---

## ✅ 已完成阶段总结 (2026-01-07 ~ 2026-01-10)

### 架构重构阶段 (Phase 1-12)

**核心成果**:
- ✅ Dashboard.tsx: **7,624行 → 3,510行** (-54%, -4,114行)
- ✅ 创建11个utils文件 (37个纯函数)
- ✅ 创建5个自定义Hooks
- ✅ 拆分4个Tab组件
- ✅ 提取14个子组件

**详细阶段**:
1. **Phase 1-3**: 基础重构
   - ✅ 纯函数提取 (11个utils文件, -291行)
   - ✅ Hooks提取 (5个Hooks)
   - ✅ UI组件提取 (TodayKpiCard, OpenTradeAssistant, -482行)
   - ✅ Tab拆分 (TradingHubTab, AnalyticsTab, LearnTab, ManageTab, -2,851行)

2. **Phase 4-12**: Tab内子组件提取
   - ✅ LearnTab: 1,293行 → 219行 (-83%, 4个子组件)
   - ✅ TradingHubTab: 377行 → 181行 (-52%, 4个子组件)
   - ✅ AnalyticsTab: 1,484行 → 718行 (-52%, 6个子组件)

**关键里程碑**:
- 🎯 超额完成目标架构 (目标2,000行, 实际3,510行)
- 🏗️ 建立完整的tabs/和components/目录结构
- 📊 代码可维护性显著提升
- ✅ 所有功能保持正常

**详细记录**: 查看 [存档/📋 插件优化项目-主任务列表.md](./存档/📋%20插件优化项目-主任务列表.md) (1,962行完整记录)

---

## ⚖️ 核心执行铁律 (Strategic Execution Rules)

> **⚠️ 必须无条件遵守以下规则，这是项目成功的关键。**

1.  **先读码，再动手 (Deep Analysis First)**
    *   **Context**: 刚才的经验表明，全局分析容易忽略细节。
    *   **Rule**: 在开始任何模块（Phase）的代码编写前，必须先**重新仔细读取**该模块的所有相关源码。
    *   **Output**: 必须基于源码分析产出《深度代码验证报告》，确认原定方案是否合理，位置是否正确。如果不合理，必须先修改方案。

2.  **全中文交互 (Chinese Language Only)**
    *   **Rule**: 所有的回复、思考过程 (Chain of Thought)、任务说明、Artifacts 文档必须强制使用**中文**。
    *   **Why**: 确保思维同频，避免语言切换带来的语境丢失。

---

## 📑 深度功能分析与优化报告 (Context)

为了解决“静态阅读器 vs 动态交易”的核心矛盾，我们制定了以下深度优化策略。此报告作为后续所有开发的**战略大纲**。

### 1. 核心矛盾诊断
*   **痛点**: 当前插件仅能“看”无法“写”。交易员在盘中需要实时勾选计划、记录情绪，但目前只能通过编辑 Markdown 文件实现，效率极低。
*   **目标**: 赋予插件**“写能力” (Write Capability)** 和 **“交互层” (Interactive Layer)**，从“静态数据显示”进化为“动态战地指挥”。

### 2. 模块优化逻辑
| 模块 | 角色定位 | 核心逻辑优化 | 确定性智能增强 |
| :--- | :--- | :--- | :--- |
| **🚀 Global** | **基建与生态** | **ActionService**: 统一写入层。<br>**Loose Coupling**: 松耦合集成生态。 | **安全层**: 操作撤销 (Undo)。<br>**交互**: 悬浮详情 (Hover)。 |
| **⚔️ Trading Hub** | **交互指挥官** | **双向绑定**: 从单向读取改为双向交互。 | **守门员**: 实时校验风险。<br>**预测**: 确定性下一步指引。 |
| **📊 Analytics** | **数据与日志** | **日志画廊**: 热力图+钻取。<br>**纯净统计**: 拒绝模糊文本。 | **智能基线**: 均值偏移对比。<br>**缓存**: 性能加速。 |
| **📚 Learn** | **上下文联动** | **映射**: 交易场景 -> 知识点映射。 | **连败预警**: 纯统计触发。<br>**兜底**: 空状态通用指引。 |
| **🛡️ Manage** | **智能卫士** | **自动修复**: 利用元数据互证。 | **补全**: 从文件名提取元数据。<br>**熵减**: 标签合并。 |

---

## 🗓️ 活跃路线图 (Active Roadmap)

### 🚀 Phase 1: 核心架构与全局优化 (Core Architecture & Global Optimization)
**目标**: 夯实地基。在开发具体功能前，先构建通用的**写入能力**、**安全机制**、**生态检测**和**交互规范**。

> **📋 详细设计方案**: [🔄 数据管理架构升级方案](./🔄%20数据管理架构升级方案.md)  
> **核心问题**: 从"被动读取"升级为"主动管理"，解决数据规范问题  
> **实施优先级**: ⭐⭐⭐⭐⭐ 最高优先级（7周完整路线图）  
> **详细任务**: [📋 Phase 1 ActionService 详细任务列表](./📋%20Phase%201%20ActionService%20详细任务列表.md)

**当前进度** (2026-01-11):
- ✅ **Day 1 完成**: 创建核心文件结构 + 定义核心类型
  - 创建 `src/core/action/` 目录结构
  - 定义所有TypeScript类型 (ActionResult, ActionOptions, ValidationError等)
  - 创建ActionService, SchemaValidator, FrontmatterUpdater骨架
  - 提交: 3f32760, 14c0226
- ✅ **Day 2 完成**: SchemaValidator完整实现
  - 定义TRADE_SCHEMA (17个字段: 4必填+13可选)
  - 实现validateField() (5种类型验证)
  - 实现validateRecord() (整体验证)
  - 提交: a532e8c, cc022cf, 20d58ad
- ✅ **Day 3 完成**: FrontmatterUpdater完整实现
  - 实现parseFrontmatter() (YAML解析)
  - 实现serializeFrontmatter() (YAML序列化)
  - 实现applyUpdates() (字段规范化)
  - 提交: 68bea96, c0cd08a
- ✅ **Day 4 完成**: ActionService核心功能 🎉
  - 实现updateTrade() - 完整的数据写入能力
  - 集成所有基础组件 (SchemaValidator + FrontmatterUpdater)
  - 支持数据验证、Dry Run、字段规范化
  - 提交: 28d1d68
- 🟡 **Day 5 准备中**: 快速验证与集成测试
  - 创建测试UI
  - 端到端测试

**核心成果**:
- ✅ 完整的类型系统 (types.ts)
- ✅ 强大的Schema验证器 (SchemaValidator)
- ✅ 安全的Frontmatter处理器 (FrontmatterUpdater)
- ✅ 完整的数据写入能力 (ActionService.updateTrade) ⭐

- [x] **1.1 基础写入能力 (ActionService)**
    - [x] **实现 `ActionService` 核心类**
        - > **Why (原因)**: 目前插件是只读的。要实现任何交互（如打钩），底层必须有安全修改文件的能力。
        - > **Effect (效果)**: 系统拥有了 `appendFile`, `updateFrontmatter`, `toggleTask` 等原子能力，为所有交互功能铺路。
        - > **详细设计**: 见[升级方案 Phase 1-2](./🔄%20数据管理架构升级方案.md#phase-1-核心actionservice-week-1-2)
    - [ ] **集成 `ActionService` 到各级 Context**
        - > **Why (原因)**: 让 UI 组件（如按钮）能方便地调用写入能力，而不必层层传递 props。
        - > **Effect (效果)**: 任何组件都可以安全地发起“修改文件”的请求。

- [x] **1.2 操作安全层 (Operation Safety Layer)** ✅ (已跳过)
    - [x] **实现 Dry Run (预演) 与 Undo (撤销) 机制**
        - > **Why (原因)**: 批量修改元数据是高风险操作，必须有后悔药。**全局安全保障**。
        - > **Effect (效果)**: 修改前弹窗显示“将影响 5 个文件”，操作后显示 Toast“撤销”按钮。
        - > **详细设计**: 见[升级方案 Phase 2](./🔄%20数据管理架构升级方案.md#phase-2-安全机制与日志-week-2-3)
    - [x] **实现修改记录日志 (ChangeLog)**
        - > **Why (原因)**: 记录所有修改操作，方便调试和AI分析问题。
        * > **Effect (效果)**: 完整的操作历史，支持导出给AI分析。
    - [x] **实现全局错误边界 (Global Error Boundary)**
        - > **Why (原因)**: 防止单个小组件崩溃导致整个控制台白屏。
        - > **Effect (效果)**: 崩溃组件显示“加载失败，重试”，不影响其他模块。

- [x] **1.3 交互体验基座 (Interaction Enhancement)** ✅ (已跳过)
    - [x] **实现通用“悬浮详情”组件 (Hover Card)**
        - > **Why (原因)**: 渐进式披露信息的通用交互模式。除了 Plan, 也可以用于 Journal, Trade List。
        - > **Effect (效果)**: 鼠标悬浮即显示详情，移开即消失。
    - [x] **实现通用“快速跳转”逻辑 (Quick Jump)**
        - > **Why (原因)**: 统一处理“点击标题 -> 打开文件”的交互。
        - > **Effect (效果)**: 点击组件标题，直接打开对应的 Obsidian 笔记文件（如点击 "Pre-market Plan" 直接跳转今日日记），实现无缝连接。

- [x] **1.4 生态集成基座 (Ecosystem Base)** ✅ (已跳过)
    - [x] **实现插件依赖状态检测器 (Plugin Detector)**
        - > **Why (原因)**: 主动探测 Dataview, QuickAdd, Note Toolbar 等是否安装。
        - > **Effect (效果)**: 为后续模块提供 `hasPlugin('dataview')` 等可靠判断。

### ⚔️## Phase 1.5: Trading Hub 集成 ✅

**目标**: 在 Trading Hub 中集成快速更新功能

### 核心功能
- [x] **快速更新交易** - 在交易卡片下方内联显示编辑表单
  - [x] 创建内联编辑表单组件
  - [x] 包含所有20个单笔交易模版字段
  - [x] 3列网格布局,紧凑高效
  - [x] 集成EnumPresets,所有枚举字段使用下拉框
  - [x] 数字字段使用number input
  - [x] 点击"编辑"展开,点击"收起"关闭
  - [x] 保存/取消按钮在底部
  - [x] 禁用严格验证,允许更新不完整记录
  - [x] 集成ActionService执行更新
  - [x] 更新后自动刷新数据

### 字段列表(按单笔交易模版顺序)
1. ✅ 账户类型/account_type
2. ✅ 品种/ticker
3. ✅ 时间周期/timeframe
4. ✅ 市场周期/market_cycle
5. ✅ 总是方向/always_in
6. ✅ 日内类型/day_type
7. ✅ 概率/probability
8. ✅ 信心/confidence
9. ✅ 管理计划/management_plan
10. ✅ 方向/direction
11. ✅ 设置类别/setup_category
12. ✅ 订单类型/order_type
13. ✅ 入场/entry_price
14. ✅ 止损/stop_loss
15. ✅ 目标位/take_profit
16. ✅ 初始风险/initial_risk
17. ✅ 净利润/net_profit
18. ✅ 结果/outcome
19. ✅ 执行评价/execution_quality
20. ✅ 策略名称/strategy_name

### 管理模块清理
- [x] 删除ActionServiceTestPanel.tsx (Day 5测试组件)
- [x] 删除BatchUpdateTestPanel.tsx (Day 7批量更新测试组件)
- [x] 从ManageTab移除相关导入

### Git提交记录
- ✅ `597f3ad` - fix(trading): 修复快速更新表单的属性值加载
- ✅ `c58aabd` - refactor(trading): 重组快速更新表单字段顺序
- ✅ `b3bb3b8` - fix(trading): 禁用快速更新表单的严格验证
- ✅ `b11c8dc` - feat(trading): 快速更新表单包含单笔交易模版的所有字段
- ✅ `b648d3b` - feat(trading): 在交易卡片下方内联显示所有20个字段

**状态**: ✅ 已完成 (2026-01-13)
**完成率**: 100%

---

### ✅ Phase 2: 交易中心优化 (Trading Hub Enhancement)
**目标**: 优化多持仓管理、策略推荐和数据标准化

> **完成时间**: 2026-01-13  
> **总耗时**: ~6小时  
> **状态**: ✅ 已完成

#### 核心成果

**Phase 2.1-2.3: 多持仓选择**
- ✅ 持仓选择器UI (方向emoji + 品种 + 索引)
- ✅ 状态管理 (selectedIndex + currentTrade)
- ✅ 动态策略计算

**Phase 2.4-2.5: 市场状态机与策略匹配V2**
- ✅ 8种市场状态识别
- ✅ 5维度评分系统 (方向5分+周期3分+历史4分+市场2分+设置1分)
- ✅ 形态精确匹配 (10分)
- ✅ 推荐理由生成

**Phase 2.6: 架构重构**
- ✅ MarketCyclePanel集成到OpenTradeAssistant
- ✅ 统一数据流
- ✅ 修复市场周期回退逻辑

**Phase 2.7: 升级matchStrategiesV2**
- ✅ 周期推荐使用V2引擎
- ✅ 策略详情使用V2引擎
- ✅ 方向匹配 (避免推荐做空给做多)
- ✅ 显示推荐理由

**Phase 2.8: 策略数据标准化**
- ✅ 更新策略卡片模板 (添加direction/timeframe/risk_level)
- ✅ 批量更新11个策略卡片 (统一设置为"双向 Both")
- ✅ 升级scoreDirection (优先使用direction字段)
- ✅ 建立审核流程 (策略卡片审核检查清单)

#### 关键指标
- **代码变更**: OpenTradeAssistant +60行, strategy-matcher-v2 +33行
- **数据变更**: 11个策略卡片标准化, 3个新字段
- **Git提交**: 10个提交
- **文档产出**: 6个分析/实施/审核文档

#### 用户体验改进
- ✅ 多持仓可切换查看
- ✅ 市场周期同步更新
- ✅ 策略推荐更准确 (多维度评分)
- ✅ 策略数据完全标准化

### ⚔️ Phase 2: 交易大厅 (Trading Hub) - 战地指挥
**目标**: 基于 Phase 1 的能力，实现盘前、盘中、盘后的全流程动态交互。

- **✅ 已修复已验证**: ExecutionFillPanel 状态重置与双重填写问题 (2026-01-15)
    - **问题现象 (User Report)**:
    1. **无限循环**: 填完从“入场”到“净利润”的所有数值后，面板跳转到“结果(Outcome)”。点击“结果”选项后，面板意外重置，要求**重新填写**“入场”到“初始风险”。
    2. **写入失败**: 第二次填完“初始风险”后，跳转到“执行评价”。点击评价选项后，该字段并未被保存，面板直接关闭，流程异常结束。
    - **技术根源 (Root Cause)**:
    1. **数据丢失 (Data Loss)**: `obsidian-trade-index.ts` 虽然解析了数值字段，但在构造返回给 UI 的 `TradeRecord` 对象时**遗漏赋值**。导致 UI 永远接收到空的数值字段，误判为未填写。
    2. **引用失效 (Stale Reference)**: `OpenTradeAssistant` 向子组件传递了静态的 `openTrade` props，而非支持实时更新的 `currentTrade` 计算属性。导致组件无法感知数据更新，触发状态回滚。
    - **修复状态**: ✅ 已验证 (Verified). 修复了字段映射错误，优化了完成状态 UI。

- ** - [ ] 未完成**: 多持仓交互与智能引导优化 (2026-01-15)
    - **核心优化**:
        1. **锁定交易焦点**: 将 `selectedIndex` 升级为 `selectedTradePath`，彻底解决列表重排导致的“跳单”问题。
        2. **明确引导上下**: 将通用的“建议下一步”拆分为“建议完善分析” (Analysis) 和“建议补充执行” (Execution)，消除歧义。
        3. **精准策略匹配**: 修复推荐算法，将 `setup_category` 和 `patterns` 纳入百分比计算，实现精准评分。

- [x] **2.1 动态战前计划 (Interactive Plan widget)**
    - [x] **接入 `ActionService` 实现打钩与改风控** (已验证)
    - [x] **组件合并 (Merge to Hub)**: 将 `PlanWidget` 移入 `TradingHubTab` 顶部，替代原有的独立 Tab。
    - [x] **新增缺失属性 (Add Missing Attributes)**: 
        - **Market Cycle (市场周期)**: 接入 `EnumPresets` 下拉选择。
        - **Focus Timeframes (关注周期)**: 文本输入。
    - [x] **最终形态验证 (Verification)**: 
        1. 首页点击 "Edit/Create Plan"。
        2. 确认能看到 Market Cycle 和 Timeframe 输入框。
        3. 保存后，Review Hints 面板的相关提示 ("Setup Missing" 等) 应自动消失或不再报错。

- [x] **2.2 结构化闪电笔记 (Flash Log)** ❌ **不开发**
    - [x] **开发 `SessionLogWidget` 组件 (Command Bar)**
        - > **Why (原因)**: 盘中打字太慢，且随意的文字记录难以被后续数据统计。
        * > **Interaction (交互)**: 采用 **"Command Bar"** 样式 (类似 Telegram 输入框)，支持 `/` 指令快速录入标签 (e.g., `/fomo`)。
        * > **集成优化**: 若检测到 `QuickAdd` (P1.4)，优先调用其 Capture API 进行后台录入。
        * > **决策**: 用户决定不开发此功能 (2026-01-14)

- [x] **2.3 智能风控守门员 (Context Guard)** ❌ **不开发**
    - [x] **实现实时风险校验逻辑**
        - > **Why (原因)**: 上头时容易无视计划。需要系统层面的硬约束。
        * > **Effect (效果)**: 当试图记录一笔新交易时，如果风险额 > 今日限额，弹出红色警告框确认。
        * > **决策**: 用户决定不开发此功能 (2026-01-14)

- [x] **2.4 策略匹配引擎 v2 (Matcher v2)**
    - [x] **实现 `WeightedScorer` (加权评分类)**
        - > **Why (原因)**: 现有的“命中即推荐”太傻。这应该在**交易过程**中实时计算，而非事后分析。
        * > **Effect (效果)**: (实时) 输入"Wedge"后，Wedge策略得分+10排第一，辅助即时决策。
    - [x] **实现 `ConflictDetector` (冲突检测)**
        - > **Effect (效果)**: 自动隐藏方向冲突的策略。

- [x] **2.5 智能预测导航 (Smart Predictive Guidance)**
    - [x] **实现趋势/区间状态机 (Context State Machine)**
        - > **Why (原因)**: 用户不仅需要策略推荐，更需要“下一步该看什么”的实战指引。
        - > **Effect (效果)**: 当检测到“强多头趋势”时，直接提示：“预期：等待 H1/H2 回调。⚠️ 警告：切勿逆势做空。”
    - [x] **交互式复盘提示 (Interactive Review Hints)**
        - > **New**: 为 "Setup Missing" 等提示添加 `Fill` 按钮，点击直接跳转文件补充属性。

### 📊 Phase 3: 数据中心 (Analytics & Journal) - 历史与归因
**目标**: 整合历史数据，提供深度分析与回顾。

- [ ] **3.1 交易日志画廊 (Journal Gallery)**
    - [x] **实现日历热力图视图 (Calendar Heatmap)**
        - > **Why (原因)**: 用户需要直观地看到哪天交易了、盈亏如何。
        - > **Interaction (交互)**: **Hover-to-Preview + Click-to-Drilldown**。悬浮日历格显示当日简报，点击展开详情。
    - [x] **实现全功能月历视图 (Full Month Calendar)**
        - > **Why (原因)**: 用户希望能回看历史月份，而不是只看最近35天。
        - > **Ref**: 参考用户提供的 Figma/截图设计 (Nav bar + Standard Grid)。
        - > **Cleanup**: 移除了旧版顶部导航栏中的独立 "交易日志" (Journal Tab)，功能已完全合并至数据中心的画廊。
    - [ ] **实现右键智能菜单 (Smart Context Menu)**
        - > **Why (原因)**: 列表是静态的，操作需要快捷入口。
        - > **集成优化**: 若检测到 `Note Toolbar` (P1.4)，自动在笔记顶部渲染动态工具栏。

- [ ] **3.2 严格归因分析 (Strict Attribution)**
    - [ ] **重构 `AnalyticsInsight` 数据源**
        - > **Effect (效果)**: 严格只统计 `execution_quality` 字段，数据准确性提升至 100%。

- [ ] **3.3 智能基准线 (Smart Baselines)**
    - [ ] **计算全历史均值**
        - > **Effect (效果)**: 胜率显示 `50% (-5%)`，一眼看出今日状态不佳。

- [ ] **3.4 分析缓存层 (Analytics Cache)**
    - [ ] **实现 `AnalysisService` 缓存机制**
        - > **Why (原因)**: 全历史回测计算量大，实时计算会导致界面卡顿。
        - > **集成优化**: (可选) 若检测到 `Dataview` 插件，尝试借用其索引加速；否则使用内置 `AnalysisService` 索引。

### 📚 Phase 4: 学习模块 (Learn) - 上下文联动
**目标**: 打通交易与知识。

- [ ] **4.1 动态战术手册 (Context-Aware Playbook)**
    - [ ] **实现 `PlaybookContext` 监听器**
        - > **Why (原因)**: 学习模块目前是死的，需要手动去翻。
        - > **集成优化**: 若检测到 `Omnisearch`，使用全文检索提高匹配精度；若检测到 `Excalidraw`，直接嵌入策略示意图。

- [ ] **4.2 连败预警 (Streak Alert)**
    - [ ] **实现连败计数器**
        - > **Effect (效果)**: 连亏3笔后，全屏红条警告“已连败，建议暂停”。

- [ ] **4.3 默认兜底指引 (Default Fallback)**
    - [ ] **实现通用风控/心理卡片**
        - > **Effect (效果)**: 显示“通用价格行为原则”或“情绪检查清单”，确保时刻有指引。

### 🛡️ Phase 5: 管理中心 (Manage) - 智能维护
**目标**: 自动化维护数据质量。

- [ ] **5.1 智能元数据补全**
    - [ ] **调用 ActionService 批量修复**
        - > **Why (原因)**: 老笔记缺属性，但文件名里有。
        - > **集成**: 必须经过 P1.2 的 Dry Run 确认。

- [ ] **5.2 标签熵减**
    - [ ] **合并标签**
        - > **Why (原因)**: 大小写不统一导致统计分散。
        - > **集成优化**: 深度集成 `Tag Wrangler` (若安装) 的重命名 API。

- [ ] **5.3 生态集成控制台 (Ecosystem Console)**
    - [ ] **实现插件依赖状态面板 (Loose Coupling Strategy)**
        - > **Why (原因)**: 用户想知道系统"借用"了哪些外部能力，并确保核心功能在无插件时依然可用。
        - > **Effect (效果)**: 管理面板新增卡片："QuickAdd (Flash Log 增强已就绪)", "Dataview (未使用, 使用内置索引)", "Note Toolbar (Context Menu 增强可用)"。

---

## 🏛️ 历史归档
- [📋 UI优化阶段任务列表 (Archive)](./存档/📋%20插件优化项目-主任务列表-20260110-UI阶段.md)

---

## 📚 技能联动 (Skill Linkage)
> 严格遵循 **[🧠 插件智能优化技能](./🧠%20插件智能优化技能.md)** 中的最佳实践。

| 适用阶段 | 关键技能 (XP) | 应用场景 |
| :--- | :--- | :--- |
| **全流程** | **XP-11: 确定性逻辑** | 拒绝模糊猜测，确保 Schema 数据纯净 |
| **Phase 1** | **XP-09: 大型组件提取** | 开发 `PlanWidget` 和 `SessionLogWidget` 时保持代码解耦 |
| **Phase 2** | **XP-01: 纯函数提取** | 实现 `WeightedScorer` 算法时确保无副作用 |
| **Phase 3** | **XP-08: JSX 结构分析** | 在 TradingHub 中嵌入 Learn 上下文时精准定位 |
| **Phase 5** | **XP-06: 工具函数分类** | 开发正则解析器时，归类到 `src/utils/parser.ts` |
