# Checklists (检查清单)

> **来源**: 整合了 `trading-console-plugin-maintainer` 技能包的实战经验

---

## 优化前检查清单

- [ ] 已创建 LTS 标签 (`git tag v1.0.0-lts`)
- [ ] 已创建备份分支 (`git checkout -b backup-$(date)`)
- [ ] 已使用 sequential-thinking 评估风险
- [ ] 已使用 serena 分析影响范围
- [ ] 已使用 context7 查询最佳实践
- [ ] 已明确优化目标
- [ ] 已设计优化方案
- [ ] 已评估回滚难度

---

## 优化中检查清单

- [ ] 每次修改后立即构建测试 (`npm run build`)
- [ ] 保持小步快跑(每次只改一个模块)
- [ ] 遇到问题立即停止
- [ ] 记录每一步的变更
- [ ] 保持提交信息清晰
- [ ] 频繁提交(每个小改动一次提交)
- [ ] 避免跳过验证步骤

---

## Dashboard.tsx 大文件安全编辑清单 ⚠️

### 编辑前
- [ ] 先全局搜索 1-3 个锚点关键词(模块标题)
- [ ] 确认当前在正确分支
- [ ] 确认 git 能看到改动 (`git status`)
- [ ] 明确"要改什么、不改什么"(用 3-7 条 bullet 列出)

### 编辑中
- [ ] 每个删除/替换操作都有明确起止边界
- [ ] 前后各有稳定锚点(例如 `📥 导出`、`⚔️ 交易中心`)
- [ ] 不跨越组件定义边界(不要越过 `return (` / `</...>`)
- [ ] 每完成一个删除动作立刻跑 `npm run build`
- [ ] 若失败,优先回到最近一次通过的状态再重来

### 编辑后
- [ ] 全局搜索验证:关键词命中数符合预期
- [ ] 被移除页面标识清零(例如 `"daily"` 不再出现)
- [ ] 构建门禁通过
- [ ] 功能测试通过

---

## UI 整理(不动功能)检查清单

- [ ] 明确用户要求的 IA 变化(入口移动/合并/删除 tab)
- [ ] 明确"不做什么"(不新增模块、不改逻辑、不加交互)
- [ ] 选定稳定锚点(标题/分隔符/模块头)
- [ ] 小步改动:一次只做一个可验证动作
- [ ] 全局搜索验证:关键词命中数符合预期
- [ ] 构建门禁通过

---

## 外部集成检查清单

- [ ] 调用前必须 `can("...")`
- [ ] 缺失能力时必须降级显示提示(而不是静默隐藏或报错)
- [ ] 变更后检查:页面渲染不崩溃
- [ ] 按钮点击无异常日志
- [ ] 不使用 `window.prompt/confirm`
- [ ] 改用 Obsidian 原生 `Modal(this.app)`

---

## 优化后检查清单

- [ ] 构建测试通过 (`npm run build`)
- [ ] 类型检查通过 (`npm run type-check`)
- [ ] 代码规范检查通过 (`npm run lint`)
- [ ] 功能测试通过(手动测试)
- [ ] 性能没有退化
- [ ] 已记录到 neo4j-memory
- [ ] 已更新 `memory/optimization_lessons.md`
- [ ] 已更新 `references/optimization_patterns.md`
- [ ] 已更新 `references/changelog.md`
- [ ] 已更新相关文档

---

- [ ] 构建测试通过 (`npm run build`)
- [ ] 类型检查通过 (`npm run type-check`)
- [ ] 代码规范检查通过 (`npm run lint`)
- [ ] 功能测试通过(手动测试)
- [ ] 性能没有退化
- [ ] 已记录到 neo4j-memory
- [ ] 已更新 `memory/optimization_lessons.md`
- [ ] 已更新 `references/optimization_patterns.md`
- [ ] 已更新 `references/changelog.md`
- [ ] 已更新相关文档

---

## 功能测试清单

### Trading Hub
- [ ] 显示正常
- [ ] KPI 数据正确
- [ ] 交易列表显示
- [ ] 创建交易笔记功能正常

### Analytics
- [ ] 图表显示正常
- [ ] 数据统计正确
- [ ] 筛选功能正常
- [ ] 导出功能正常

### Learn
- [ ] 推荐显示正常
- [ ] 课程列表显示
- [ ] 策略仓库显示
- [ ] 记忆卡片功能正常

### Manage
- [ ] 管理功能正常
- [ ] 批量操作功能正常
- [ ] 数据校验功能正常
- [ ] 导入导出功能正常

---

## 回滚检查清单

- [ ] 已确认需要回滚
- [ ] 已分析失败原因
- [ ] 已记录失败教训
- [ ] 已执行回滚命令 (`git reset --hard HEAD~1`)
- [ ] 已验证回滚后功能正常
- [ ] 已更新经验库

---

(持续更新)
