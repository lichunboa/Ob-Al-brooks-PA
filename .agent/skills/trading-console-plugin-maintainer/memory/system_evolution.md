# System Evolution Memory（维护经验库）

## 写入规则

- 每次完成一次“插件控制台维护/升级/整理”任务后，追加 1–5 条。
- 每条都要可复用：包含“触发条件 → 处理动作 → 验收方式”。
- 如果是高频坑，除了这里，还要同步到 `references/gotchas.md` 或 `references/checklists.md`。

---

## Known Lessons

### 大文件（Dashboard.tsx）安全编辑

- 触发：需要移动/删除较大 UI 块、合并 tab 内容。
- 动作：用模块标题做锚点，小步删除/替换；每一步都跑 `npm run build`。
- 验收：关键词命中数符合预期（例如只剩 1 个 `✅ 每日行动`），构建通过。

### 文件损坏的恢复策略

- 触发：出现大面积 TSX 解析错误（通常是“半截 JSX”或 import 区被污染）。
- 动作：优先单文件回退到“已知干净提交/最后一次通过 build 的版本”，再在干净基线重做变更。
- 验收：错误面板恢复到变更前水平，`npm run build` 通过。

### 外部集成必须可降级

- 触发：依赖 Tasks / QuickAdd 等外部插件的功能块。
- 动作：统一 `can("...")` 检测；缺失时展示提示而不是报错。
- 验收：未安装外部插件时页面不崩溃，用户能理解下一步如何启用。
