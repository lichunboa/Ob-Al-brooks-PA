# ============================================================
# AL Brooks Trading Console - Backend Configuration
# ============================================================
#
# Usage:
#   1. Copy this file: cp .env.example .env
#   2. Edit .env with your settings
#   3. chmod 600 .env
#   4. docker-compose up -d
#
# ============================================================

# ============================================================
# Network Proxy (Required in China)
# ============================================================
HTTP_PROXY=
HTTPS_PROXY=

# ============================================================
# Database (Auto-configured by Docker)
# ============================================================
DATABASE_URL=postgresql://postgres:postgres@timescaledb:5432/market_data
RAW_DB_SCHEMA=raw
QUALITY_DB_SCHEMA=quality

# ============================================================
# Symbol Groups
# ============================================================
# Options: main4, main6, main20, defi, meme, ai, layer2, auto, all
SYMBOLS_GROUPS=main4

# Predefined groups
SYMBOLS_GROUP_main4=BTCUSDT,ETHUSDT,BNBUSDT,SOLUSDT
SYMBOLS_GROUP_main6=BTCUSDT,ETHUSDT,BNBUSDT,SOLUSDT,XRPUSDT,DOGEUSDT
SYMBOLS_GROUP_main20=BTCUSDT,ETHUSDT,BNBUSDT,SOLUSDT,XRPUSDT,ADAUSDT,DOGEUSDT,AVAXUSDT,DOTUSDT,LINKUSDT,MATICUSDT,LTCUSDT,UNIUSDT,ATOMUSDT,ETCUSDT,XLMUSDT,APTUSDT,NEARUSDT,FILUSDT,ARBUSDT

# Extra symbols to add
SYMBOLS_EXTRA=
# Symbols to exclude
SYMBOLS_EXCLUDE=

# ============================================================
# Intervals
# ============================================================
INTERVALS=1m,5m,15m,1h,4h,1d,1w
KLINE_INTERVALS=1m,5m,15m,1h,4h,1d,1w
FUTURES_INTERVALS=5m,15m,1h,4h,1d,1w

# ============================================================
# Data Retention (number of candles per interval)
# ============================================================
RETENTION_1m=120
RETENTION_5m=120
RETENTION_15m=96
RETENTION_1h=144
RETENTION_4h=84
RETENTION_1d=120
RETENTION_1w=48

# ============================================================
# Data Service
# ============================================================
# Backfill mode: all, days, none
BACKFILL_MODE=days
BACKFILL_DAYS=30
BACKFILL_ON_START=true
MAX_CONCURRENT=5
RATE_LIMIT_PER_MINUTE=1800
BINANCE_WS_SOURCE=binance_ws

# ============================================================
# Trading Service (Indicators)
# ============================================================
INDICATOR_SQLITE_PATH=/app/data/indicators.db
MAX_WORKERS=4
COMPUTE_BACKEND=thread

# Enabled indicators (empty = all)
INDICATORS_ENABLED=
# Disabled indicators
INDICATORS_DISABLED=

# ============================================================
# Signal Service
# ============================================================
SIGNAL_DATA_MAX_AGE=600

# ============================================================
# AI Service
# ============================================================
# Backend: cli (Gemini CLI), api, openai_compat
LLM_BACKEND=openai_compat

# OpenAI Compatible API
LLM_API_BASE_URL=https://api.openai.com/v1
EXTERNAL_API_KEY=your-api-key-here
LLM_MODEL=gpt-4o-mini
LLM_MAX_TOKENS=32000

# AI analysis settings
AI_INDICATOR_TABLES=
AI_INDICATOR_TABLES_DISABLED=
AI_DEFAULT_PROMPT=market_analysis
AI_LARGE_PAYLOAD_CHAR_LIMIT=200000

# ============================================================
# API Gateway
# ============================================================
API_HOST=0.0.0.0
API_PORT=8088
API_TOKEN=your-api-token-here

# ============================================================
# Telegram (Optional)
# ============================================================
BOT_TOKEN=
ADMIN_USER_IDS=
TELEGRAM_GROUP_WHITELIST=

# ============================================================
# Binance API (Optional - for account info)
# ============================================================
BINANCE_API_KEY=
BINANCE_API_SECRET=
