/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => TranscriptionAudioPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian5 = require("obsidian");

// controllers/TranscriptionController.ts
var import_obsidian3 = require("obsidian");

// _base/services/obsidian/ObsidianInteractorService.ts
var import_obsidian = require("obsidian");
var ObsidianInteractorService = class {
  constructor(app) {
    this.app = app;
  }
  _getActiveMarkdownView() {
    return this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
  }
  // Insert text into the specified file (path) at the given position (line, ch)
  async appendTextToFile(path2, line, ch, content) {
    try {
      const file = this.app.vault.getAbstractFileByPath(path2);
      if (!(file instanceof import_obsidian.TFile))
        throw new Error(`Target file not found: ${path2}`);
      const view = this._getActiveMarkdownView();
      if (view && view.file && view.file.path === path2) {
        const editor = view.editor;
        editor.replaceRange(content, { line, ch });
      } else {
        await this.app.vault.process(file, (data) => {
          var _a2;
          const lines = data.split("\n");
          const targetLine = (_a2 = lines[line]) != null ? _a2 : "";
          const newLine = targetLine.slice(0, ch) + content + targetLine.slice(ch);
          lines[line] = newLine;
          return lines.join("\n");
        });
      }
    } catch (error) {
      console.error("Failed to write transcript to target file:", error);
      new import_obsidian.Notice("Error writing transcript to target file.");
    }
  }
};

// node_modules/@google/genai/dist/web/index.mjs
var _defaultBaseGeminiUrl = void 0;
var _defaultBaseVertexUrl = void 0;
function getDefaultBaseUrls() {
  return {
    geminiUrl: _defaultBaseGeminiUrl,
    vertexUrl: _defaultBaseVertexUrl
  };
}
function getBaseUrl(httpOptions, vertexai, vertexBaseUrlFromEnv, geminiBaseUrlFromEnv) {
  var _a2, _b;
  if (!(httpOptions === null || httpOptions === void 0 ? void 0 : httpOptions.baseUrl)) {
    const defaultBaseUrls = getDefaultBaseUrls();
    if (vertexai) {
      return (_a2 = defaultBaseUrls.vertexUrl) !== null && _a2 !== void 0 ? _a2 : vertexBaseUrlFromEnv;
    } else {
      return (_b = defaultBaseUrls.geminiUrl) !== null && _b !== void 0 ? _b : geminiBaseUrlFromEnv;
    }
  }
  return httpOptions.baseUrl;
}
var BaseModule = class {
};
function formatMap(templateString, valueMap) {
  const regex = /\{([^}]+)\}/g;
  return templateString.replace(regex, (match, key) => {
    if (Object.prototype.hasOwnProperty.call(valueMap, key)) {
      const value = valueMap[key];
      return value !== void 0 && value !== null ? String(value) : "";
    } else {
      throw new Error(`Key '${key}' not found in valueMap.`);
    }
  });
}
function setValueByPath(data, keys, value) {
  for (let i = 0; i < keys.length - 1; i++) {
    const key = keys[i];
    if (key.endsWith("[]")) {
      const keyName = key.slice(0, -2);
      if (!(keyName in data)) {
        if (Array.isArray(value)) {
          data[keyName] = Array.from({ length: value.length }, () => ({}));
        } else {
          throw new Error(`Value must be a list given an array path ${key}`);
        }
      }
      if (Array.isArray(data[keyName])) {
        const arrayData = data[keyName];
        if (Array.isArray(value)) {
          for (let j = 0; j < arrayData.length; j++) {
            const entry = arrayData[j];
            setValueByPath(entry, keys.slice(i + 1), value[j]);
          }
        } else {
          for (const d of arrayData) {
            setValueByPath(d, keys.slice(i + 1), value);
          }
        }
      }
      return;
    } else if (key.endsWith("[0]")) {
      const keyName = key.slice(0, -3);
      if (!(keyName in data)) {
        data[keyName] = [{}];
      }
      const arrayData = data[keyName];
      setValueByPath(arrayData[0], keys.slice(i + 1), value);
      return;
    }
    if (!data[key] || typeof data[key] !== "object") {
      data[key] = {};
    }
    data = data[key];
  }
  const keyToSet = keys[keys.length - 1];
  const existingData = data[keyToSet];
  if (existingData !== void 0) {
    if (!value || typeof value === "object" && Object.keys(value).length === 0) {
      return;
    }
    if (value === existingData) {
      return;
    }
    if (typeof existingData === "object" && typeof value === "object" && existingData !== null && value !== null) {
      Object.assign(existingData, value);
    } else {
      throw new Error(`Cannot set value for an existing key. Key: ${keyToSet}`);
    }
  } else {
    if (keyToSet === "_self" && typeof value === "object" && value !== null && !Array.isArray(value)) {
      const valueAsRecord = value;
      Object.assign(data, valueAsRecord);
    } else {
      data[keyToSet] = value;
    }
  }
}
function getValueByPath(data, keys, defaultValue = void 0) {
  try {
    if (keys.length === 1 && keys[0] === "_self") {
      return data;
    }
    for (let i = 0; i < keys.length; i++) {
      if (typeof data !== "object" || data === null) {
        return defaultValue;
      }
      const key = keys[i];
      if (key.endsWith("[]")) {
        const keyName = key.slice(0, -2);
        if (keyName in data) {
          const arrayData = data[keyName];
          if (!Array.isArray(arrayData)) {
            return defaultValue;
          }
          return arrayData.map((d) => getValueByPath(d, keys.slice(i + 1), defaultValue));
        } else {
          return defaultValue;
        }
      } else {
        data = data[key];
      }
    }
    return data;
  } catch (error) {
    if (error instanceof TypeError) {
      return defaultValue;
    }
    throw error;
  }
}
function moveValueByPath(data, paths) {
  for (const [sourcePath, destPath] of Object.entries(paths)) {
    const sourceKeys = sourcePath.split(".");
    const destKeys = destPath.split(".");
    const excludeKeys = /* @__PURE__ */ new Set();
    let wildcardIdx = -1;
    for (let i = 0; i < sourceKeys.length; i++) {
      if (sourceKeys[i] === "*") {
        wildcardIdx = i;
        break;
      }
    }
    if (wildcardIdx !== -1 && destKeys.length > wildcardIdx) {
      for (let i = wildcardIdx; i < destKeys.length; i++) {
        const key = destKeys[i];
        if (key !== "*" && !key.endsWith("[]") && !key.endsWith("[0]")) {
          excludeKeys.add(key);
        }
      }
    }
    _moveValueRecursive(data, sourceKeys, destKeys, 0, excludeKeys);
  }
}
function _moveValueRecursive(data, sourceKeys, destKeys, keyIdx, excludeKeys) {
  if (keyIdx >= sourceKeys.length) {
    return;
  }
  if (typeof data !== "object" || data === null) {
    return;
  }
  const key = sourceKeys[keyIdx];
  if (key.endsWith("[]")) {
    const keyName = key.slice(0, -2);
    const dataRecord = data;
    if (keyName in dataRecord && Array.isArray(dataRecord[keyName])) {
      for (const item of dataRecord[keyName]) {
        _moveValueRecursive(item, sourceKeys, destKeys, keyIdx + 1, excludeKeys);
      }
    }
  } else if (key === "*") {
    if (typeof data === "object" && data !== null && !Array.isArray(data)) {
      const dataRecord = data;
      const keysToMove = Object.keys(dataRecord).filter((k) => !k.startsWith("_") && !excludeKeys.has(k));
      const valuesToMove = {};
      for (const k of keysToMove) {
        valuesToMove[k] = dataRecord[k];
      }
      for (const [k, v] of Object.entries(valuesToMove)) {
        const newDestKeys = [];
        for (const dk of destKeys.slice(keyIdx)) {
          if (dk === "*") {
            newDestKeys.push(k);
          } else {
            newDestKeys.push(dk);
          }
        }
        setValueByPath(dataRecord, newDestKeys, v);
      }
      for (const k of keysToMove) {
        delete dataRecord[k];
      }
    }
  } else {
    const dataRecord = data;
    if (key in dataRecord) {
      _moveValueRecursive(dataRecord[key], sourceKeys, destKeys, keyIdx + 1, excludeKeys);
    }
  }
}
function tBytes$1(fromBytes) {
  if (typeof fromBytes !== "string") {
    throw new Error("fromImageBytes must be a string");
  }
  return fromBytes;
}
function fetchPredictOperationParametersToVertex(fromObject) {
  const toObject = {};
  const fromOperationName = getValueByPath(fromObject, [
    "operationName"
  ]);
  if (fromOperationName != null) {
    setValueByPath(toObject, ["operationName"], fromOperationName);
  }
  const fromResourceName = getValueByPath(fromObject, ["resourceName"]);
  if (fromResourceName != null) {
    setValueByPath(toObject, ["_url", "resourceName"], fromResourceName);
  }
  return toObject;
}
function generateVideosOperationFromMldev$1(fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], fromMetadata);
  }
  const fromDone = getValueByPath(fromObject, ["done"]);
  if (fromDone != null) {
    setValueByPath(toObject, ["done"], fromDone);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fromError);
  }
  const fromResponse = getValueByPath(fromObject, [
    "response",
    "generateVideoResponse"
  ]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], generateVideosResponseFromMldev$1(fromResponse));
  }
  return toObject;
}
function generateVideosOperationFromVertex$1(fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], fromMetadata);
  }
  const fromDone = getValueByPath(fromObject, ["done"]);
  if (fromDone != null) {
    setValueByPath(toObject, ["done"], fromDone);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fromError);
  }
  const fromResponse = getValueByPath(fromObject, ["response"]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], generateVideosResponseFromVertex$1(fromResponse));
  }
  return toObject;
}
function generateVideosResponseFromMldev$1(fromObject) {
  const toObject = {};
  const fromGeneratedVideos = getValueByPath(fromObject, [
    "generatedSamples"
  ]);
  if (fromGeneratedVideos != null) {
    let transformedList = fromGeneratedVideos;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return generatedVideoFromMldev$1(item);
      });
    }
    setValueByPath(toObject, ["generatedVideos"], transformedList);
  }
  const fromRaiMediaFilteredCount = getValueByPath(fromObject, [
    "raiMediaFilteredCount"
  ]);
  if (fromRaiMediaFilteredCount != null) {
    setValueByPath(toObject, ["raiMediaFilteredCount"], fromRaiMediaFilteredCount);
  }
  const fromRaiMediaFilteredReasons = getValueByPath(fromObject, [
    "raiMediaFilteredReasons"
  ]);
  if (fromRaiMediaFilteredReasons != null) {
    setValueByPath(toObject, ["raiMediaFilteredReasons"], fromRaiMediaFilteredReasons);
  }
  return toObject;
}
function generateVideosResponseFromVertex$1(fromObject) {
  const toObject = {};
  const fromGeneratedVideos = getValueByPath(fromObject, ["videos"]);
  if (fromGeneratedVideos != null) {
    let transformedList = fromGeneratedVideos;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return generatedVideoFromVertex$1(item);
      });
    }
    setValueByPath(toObject, ["generatedVideos"], transformedList);
  }
  const fromRaiMediaFilteredCount = getValueByPath(fromObject, [
    "raiMediaFilteredCount"
  ]);
  if (fromRaiMediaFilteredCount != null) {
    setValueByPath(toObject, ["raiMediaFilteredCount"], fromRaiMediaFilteredCount);
  }
  const fromRaiMediaFilteredReasons = getValueByPath(fromObject, [
    "raiMediaFilteredReasons"
  ]);
  if (fromRaiMediaFilteredReasons != null) {
    setValueByPath(toObject, ["raiMediaFilteredReasons"], fromRaiMediaFilteredReasons);
  }
  return toObject;
}
function generatedVideoFromMldev$1(fromObject) {
  const toObject = {};
  const fromVideo = getValueByPath(fromObject, ["video"]);
  if (fromVideo != null) {
    setValueByPath(toObject, ["video"], videoFromMldev$1(fromVideo));
  }
  return toObject;
}
function generatedVideoFromVertex$1(fromObject) {
  const toObject = {};
  const fromVideo = getValueByPath(fromObject, ["_self"]);
  if (fromVideo != null) {
    setValueByPath(toObject, ["video"], videoFromVertex$1(fromVideo));
  }
  return toObject;
}
function getOperationParametersToMldev(fromObject) {
  const toObject = {};
  const fromOperationName = getValueByPath(fromObject, [
    "operationName"
  ]);
  if (fromOperationName != null) {
    setValueByPath(toObject, ["_url", "operationName"], fromOperationName);
  }
  return toObject;
}
function getOperationParametersToVertex(fromObject) {
  const toObject = {};
  const fromOperationName = getValueByPath(fromObject, [
    "operationName"
  ]);
  if (fromOperationName != null) {
    setValueByPath(toObject, ["_url", "operationName"], fromOperationName);
  }
  return toObject;
}
function importFileOperationFromMldev$1(fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], fromMetadata);
  }
  const fromDone = getValueByPath(fromObject, ["done"]);
  if (fromDone != null) {
    setValueByPath(toObject, ["done"], fromDone);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fromError);
  }
  const fromResponse = getValueByPath(fromObject, ["response"]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], importFileResponseFromMldev$1(fromResponse));
  }
  return toObject;
}
function importFileResponseFromMldev$1(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromParent = getValueByPath(fromObject, ["parent"]);
  if (fromParent != null) {
    setValueByPath(toObject, ["parent"], fromParent);
  }
  const fromDocumentName = getValueByPath(fromObject, ["documentName"]);
  if (fromDocumentName != null) {
    setValueByPath(toObject, ["documentName"], fromDocumentName);
  }
  return toObject;
}
function uploadToFileSearchStoreOperationFromMldev(fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], fromMetadata);
  }
  const fromDone = getValueByPath(fromObject, ["done"]);
  if (fromDone != null) {
    setValueByPath(toObject, ["done"], fromDone);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fromError);
  }
  const fromResponse = getValueByPath(fromObject, ["response"]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], uploadToFileSearchStoreResponseFromMldev(fromResponse));
  }
  return toObject;
}
function uploadToFileSearchStoreResponseFromMldev(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromParent = getValueByPath(fromObject, ["parent"]);
  if (fromParent != null) {
    setValueByPath(toObject, ["parent"], fromParent);
  }
  const fromDocumentName = getValueByPath(fromObject, ["documentName"]);
  if (fromDocumentName != null) {
    setValueByPath(toObject, ["documentName"], fromDocumentName);
  }
  return toObject;
}
function videoFromMldev$1(fromObject) {
  const toObject = {};
  const fromUri = getValueByPath(fromObject, ["uri"]);
  if (fromUri != null) {
    setValueByPath(toObject, ["uri"], fromUri);
  }
  const fromVideoBytes = getValueByPath(fromObject, ["encodedVideo"]);
  if (fromVideoBytes != null) {
    setValueByPath(toObject, ["videoBytes"], tBytes$1(fromVideoBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["encoding"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function videoFromVertex$1(fromObject) {
  const toObject = {};
  const fromUri = getValueByPath(fromObject, ["gcsUri"]);
  if (fromUri != null) {
    setValueByPath(toObject, ["uri"], fromUri);
  }
  const fromVideoBytes = getValueByPath(fromObject, [
    "bytesBase64Encoded"
  ]);
  if (fromVideoBytes != null) {
    setValueByPath(toObject, ["videoBytes"], tBytes$1(fromVideoBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
var Outcome;
(function(Outcome2) {
  Outcome2["OUTCOME_UNSPECIFIED"] = "OUTCOME_UNSPECIFIED";
  Outcome2["OUTCOME_OK"] = "OUTCOME_OK";
  Outcome2["OUTCOME_FAILED"] = "OUTCOME_FAILED";
  Outcome2["OUTCOME_DEADLINE_EXCEEDED"] = "OUTCOME_DEADLINE_EXCEEDED";
})(Outcome || (Outcome = {}));
var Language;
(function(Language2) {
  Language2["LANGUAGE_UNSPECIFIED"] = "LANGUAGE_UNSPECIFIED";
  Language2["PYTHON"] = "PYTHON";
})(Language || (Language = {}));
var FunctionResponseScheduling;
(function(FunctionResponseScheduling2) {
  FunctionResponseScheduling2["SCHEDULING_UNSPECIFIED"] = "SCHEDULING_UNSPECIFIED";
  FunctionResponseScheduling2["SILENT"] = "SILENT";
  FunctionResponseScheduling2["WHEN_IDLE"] = "WHEN_IDLE";
  FunctionResponseScheduling2["INTERRUPT"] = "INTERRUPT";
})(FunctionResponseScheduling || (FunctionResponseScheduling = {}));
var Type;
(function(Type2) {
  Type2["TYPE_UNSPECIFIED"] = "TYPE_UNSPECIFIED";
  Type2["STRING"] = "STRING";
  Type2["NUMBER"] = "NUMBER";
  Type2["INTEGER"] = "INTEGER";
  Type2["BOOLEAN"] = "BOOLEAN";
  Type2["ARRAY"] = "ARRAY";
  Type2["OBJECT"] = "OBJECT";
  Type2["NULL"] = "NULL";
})(Type || (Type = {}));
var Mode;
(function(Mode2) {
  Mode2["MODE_UNSPECIFIED"] = "MODE_UNSPECIFIED";
  Mode2["MODE_DYNAMIC"] = "MODE_DYNAMIC";
})(Mode || (Mode = {}));
var ApiSpec;
(function(ApiSpec2) {
  ApiSpec2["API_SPEC_UNSPECIFIED"] = "API_SPEC_UNSPECIFIED";
  ApiSpec2["SIMPLE_SEARCH"] = "SIMPLE_SEARCH";
  ApiSpec2["ELASTIC_SEARCH"] = "ELASTIC_SEARCH";
})(ApiSpec || (ApiSpec = {}));
var AuthType;
(function(AuthType2) {
  AuthType2["AUTH_TYPE_UNSPECIFIED"] = "AUTH_TYPE_UNSPECIFIED";
  AuthType2["NO_AUTH"] = "NO_AUTH";
  AuthType2["API_KEY_AUTH"] = "API_KEY_AUTH";
  AuthType2["HTTP_BASIC_AUTH"] = "HTTP_BASIC_AUTH";
  AuthType2["GOOGLE_SERVICE_ACCOUNT_AUTH"] = "GOOGLE_SERVICE_ACCOUNT_AUTH";
  AuthType2["OAUTH"] = "OAUTH";
  AuthType2["OIDC_AUTH"] = "OIDC_AUTH";
})(AuthType || (AuthType = {}));
var HttpElementLocation;
(function(HttpElementLocation2) {
  HttpElementLocation2["HTTP_IN_UNSPECIFIED"] = "HTTP_IN_UNSPECIFIED";
  HttpElementLocation2["HTTP_IN_QUERY"] = "HTTP_IN_QUERY";
  HttpElementLocation2["HTTP_IN_HEADER"] = "HTTP_IN_HEADER";
  HttpElementLocation2["HTTP_IN_PATH"] = "HTTP_IN_PATH";
  HttpElementLocation2["HTTP_IN_BODY"] = "HTTP_IN_BODY";
  HttpElementLocation2["HTTP_IN_COOKIE"] = "HTTP_IN_COOKIE";
})(HttpElementLocation || (HttpElementLocation = {}));
var PhishBlockThreshold;
(function(PhishBlockThreshold2) {
  PhishBlockThreshold2["PHISH_BLOCK_THRESHOLD_UNSPECIFIED"] = "PHISH_BLOCK_THRESHOLD_UNSPECIFIED";
  PhishBlockThreshold2["BLOCK_LOW_AND_ABOVE"] = "BLOCK_LOW_AND_ABOVE";
  PhishBlockThreshold2["BLOCK_MEDIUM_AND_ABOVE"] = "BLOCK_MEDIUM_AND_ABOVE";
  PhishBlockThreshold2["BLOCK_HIGH_AND_ABOVE"] = "BLOCK_HIGH_AND_ABOVE";
  PhishBlockThreshold2["BLOCK_HIGHER_AND_ABOVE"] = "BLOCK_HIGHER_AND_ABOVE";
  PhishBlockThreshold2["BLOCK_VERY_HIGH_AND_ABOVE"] = "BLOCK_VERY_HIGH_AND_ABOVE";
  PhishBlockThreshold2["BLOCK_ONLY_EXTREMELY_HIGH"] = "BLOCK_ONLY_EXTREMELY_HIGH";
})(PhishBlockThreshold || (PhishBlockThreshold = {}));
var ThinkingLevel;
(function(ThinkingLevel2) {
  ThinkingLevel2["THINKING_LEVEL_UNSPECIFIED"] = "THINKING_LEVEL_UNSPECIFIED";
  ThinkingLevel2["LOW"] = "LOW";
  ThinkingLevel2["MEDIUM"] = "MEDIUM";
  ThinkingLevel2["HIGH"] = "HIGH";
  ThinkingLevel2["MINIMAL"] = "MINIMAL";
})(ThinkingLevel || (ThinkingLevel = {}));
var HarmCategory;
(function(HarmCategory2) {
  HarmCategory2["HARM_CATEGORY_UNSPECIFIED"] = "HARM_CATEGORY_UNSPECIFIED";
  HarmCategory2["HARM_CATEGORY_HARASSMENT"] = "HARM_CATEGORY_HARASSMENT";
  HarmCategory2["HARM_CATEGORY_HATE_SPEECH"] = "HARM_CATEGORY_HATE_SPEECH";
  HarmCategory2["HARM_CATEGORY_SEXUALLY_EXPLICIT"] = "HARM_CATEGORY_SEXUALLY_EXPLICIT";
  HarmCategory2["HARM_CATEGORY_DANGEROUS_CONTENT"] = "HARM_CATEGORY_DANGEROUS_CONTENT";
  HarmCategory2["HARM_CATEGORY_CIVIC_INTEGRITY"] = "HARM_CATEGORY_CIVIC_INTEGRITY";
  HarmCategory2["HARM_CATEGORY_IMAGE_HATE"] = "HARM_CATEGORY_IMAGE_HATE";
  HarmCategory2["HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT"] = "HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT";
  HarmCategory2["HARM_CATEGORY_IMAGE_HARASSMENT"] = "HARM_CATEGORY_IMAGE_HARASSMENT";
  HarmCategory2["HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"] = "HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT";
  HarmCategory2["HARM_CATEGORY_JAILBREAK"] = "HARM_CATEGORY_JAILBREAK";
})(HarmCategory || (HarmCategory = {}));
var HarmBlockMethod;
(function(HarmBlockMethod2) {
  HarmBlockMethod2["HARM_BLOCK_METHOD_UNSPECIFIED"] = "HARM_BLOCK_METHOD_UNSPECIFIED";
  HarmBlockMethod2["SEVERITY"] = "SEVERITY";
  HarmBlockMethod2["PROBABILITY"] = "PROBABILITY";
})(HarmBlockMethod || (HarmBlockMethod = {}));
var HarmBlockThreshold;
(function(HarmBlockThreshold2) {
  HarmBlockThreshold2["HARM_BLOCK_THRESHOLD_UNSPECIFIED"] = "HARM_BLOCK_THRESHOLD_UNSPECIFIED";
  HarmBlockThreshold2["BLOCK_LOW_AND_ABOVE"] = "BLOCK_LOW_AND_ABOVE";
  HarmBlockThreshold2["BLOCK_MEDIUM_AND_ABOVE"] = "BLOCK_MEDIUM_AND_ABOVE";
  HarmBlockThreshold2["BLOCK_ONLY_HIGH"] = "BLOCK_ONLY_HIGH";
  HarmBlockThreshold2["BLOCK_NONE"] = "BLOCK_NONE";
  HarmBlockThreshold2["OFF"] = "OFF";
})(HarmBlockThreshold || (HarmBlockThreshold = {}));
var FinishReason;
(function(FinishReason2) {
  FinishReason2["FINISH_REASON_UNSPECIFIED"] = "FINISH_REASON_UNSPECIFIED";
  FinishReason2["STOP"] = "STOP";
  FinishReason2["MAX_TOKENS"] = "MAX_TOKENS";
  FinishReason2["SAFETY"] = "SAFETY";
  FinishReason2["RECITATION"] = "RECITATION";
  FinishReason2["LANGUAGE"] = "LANGUAGE";
  FinishReason2["OTHER"] = "OTHER";
  FinishReason2["BLOCKLIST"] = "BLOCKLIST";
  FinishReason2["PROHIBITED_CONTENT"] = "PROHIBITED_CONTENT";
  FinishReason2["SPII"] = "SPII";
  FinishReason2["MALFORMED_FUNCTION_CALL"] = "MALFORMED_FUNCTION_CALL";
  FinishReason2["IMAGE_SAFETY"] = "IMAGE_SAFETY";
  FinishReason2["UNEXPECTED_TOOL_CALL"] = "UNEXPECTED_TOOL_CALL";
  FinishReason2["IMAGE_PROHIBITED_CONTENT"] = "IMAGE_PROHIBITED_CONTENT";
  FinishReason2["NO_IMAGE"] = "NO_IMAGE";
  FinishReason2["IMAGE_RECITATION"] = "IMAGE_RECITATION";
  FinishReason2["IMAGE_OTHER"] = "IMAGE_OTHER";
})(FinishReason || (FinishReason = {}));
var HarmProbability;
(function(HarmProbability2) {
  HarmProbability2["HARM_PROBABILITY_UNSPECIFIED"] = "HARM_PROBABILITY_UNSPECIFIED";
  HarmProbability2["NEGLIGIBLE"] = "NEGLIGIBLE";
  HarmProbability2["LOW"] = "LOW";
  HarmProbability2["MEDIUM"] = "MEDIUM";
  HarmProbability2["HIGH"] = "HIGH";
})(HarmProbability || (HarmProbability = {}));
var HarmSeverity;
(function(HarmSeverity2) {
  HarmSeverity2["HARM_SEVERITY_UNSPECIFIED"] = "HARM_SEVERITY_UNSPECIFIED";
  HarmSeverity2["HARM_SEVERITY_NEGLIGIBLE"] = "HARM_SEVERITY_NEGLIGIBLE";
  HarmSeverity2["HARM_SEVERITY_LOW"] = "HARM_SEVERITY_LOW";
  HarmSeverity2["HARM_SEVERITY_MEDIUM"] = "HARM_SEVERITY_MEDIUM";
  HarmSeverity2["HARM_SEVERITY_HIGH"] = "HARM_SEVERITY_HIGH";
})(HarmSeverity || (HarmSeverity = {}));
var UrlRetrievalStatus;
(function(UrlRetrievalStatus2) {
  UrlRetrievalStatus2["URL_RETRIEVAL_STATUS_UNSPECIFIED"] = "URL_RETRIEVAL_STATUS_UNSPECIFIED";
  UrlRetrievalStatus2["URL_RETRIEVAL_STATUS_SUCCESS"] = "URL_RETRIEVAL_STATUS_SUCCESS";
  UrlRetrievalStatus2["URL_RETRIEVAL_STATUS_ERROR"] = "URL_RETRIEVAL_STATUS_ERROR";
  UrlRetrievalStatus2["URL_RETRIEVAL_STATUS_PAYWALL"] = "URL_RETRIEVAL_STATUS_PAYWALL";
  UrlRetrievalStatus2["URL_RETRIEVAL_STATUS_UNSAFE"] = "URL_RETRIEVAL_STATUS_UNSAFE";
})(UrlRetrievalStatus || (UrlRetrievalStatus = {}));
var BlockedReason;
(function(BlockedReason2) {
  BlockedReason2["BLOCKED_REASON_UNSPECIFIED"] = "BLOCKED_REASON_UNSPECIFIED";
  BlockedReason2["SAFETY"] = "SAFETY";
  BlockedReason2["OTHER"] = "OTHER";
  BlockedReason2["BLOCKLIST"] = "BLOCKLIST";
  BlockedReason2["PROHIBITED_CONTENT"] = "PROHIBITED_CONTENT";
  BlockedReason2["IMAGE_SAFETY"] = "IMAGE_SAFETY";
  BlockedReason2["MODEL_ARMOR"] = "MODEL_ARMOR";
  BlockedReason2["JAILBREAK"] = "JAILBREAK";
})(BlockedReason || (BlockedReason = {}));
var TrafficType;
(function(TrafficType2) {
  TrafficType2["TRAFFIC_TYPE_UNSPECIFIED"] = "TRAFFIC_TYPE_UNSPECIFIED";
  TrafficType2["ON_DEMAND"] = "ON_DEMAND";
  TrafficType2["PROVISIONED_THROUGHPUT"] = "PROVISIONED_THROUGHPUT";
})(TrafficType || (TrafficType = {}));
var Modality;
(function(Modality2) {
  Modality2["MODALITY_UNSPECIFIED"] = "MODALITY_UNSPECIFIED";
  Modality2["TEXT"] = "TEXT";
  Modality2["IMAGE"] = "IMAGE";
  Modality2["AUDIO"] = "AUDIO";
})(Modality || (Modality = {}));
var MediaResolution;
(function(MediaResolution2) {
  MediaResolution2["MEDIA_RESOLUTION_UNSPECIFIED"] = "MEDIA_RESOLUTION_UNSPECIFIED";
  MediaResolution2["MEDIA_RESOLUTION_LOW"] = "MEDIA_RESOLUTION_LOW";
  MediaResolution2["MEDIA_RESOLUTION_MEDIUM"] = "MEDIA_RESOLUTION_MEDIUM";
  MediaResolution2["MEDIA_RESOLUTION_HIGH"] = "MEDIA_RESOLUTION_HIGH";
})(MediaResolution || (MediaResolution = {}));
var TuningMode;
(function(TuningMode2) {
  TuningMode2["TUNING_MODE_UNSPECIFIED"] = "TUNING_MODE_UNSPECIFIED";
  TuningMode2["TUNING_MODE_FULL"] = "TUNING_MODE_FULL";
  TuningMode2["TUNING_MODE_PEFT_ADAPTER"] = "TUNING_MODE_PEFT_ADAPTER";
})(TuningMode || (TuningMode = {}));
var AdapterSize;
(function(AdapterSize2) {
  AdapterSize2["ADAPTER_SIZE_UNSPECIFIED"] = "ADAPTER_SIZE_UNSPECIFIED";
  AdapterSize2["ADAPTER_SIZE_ONE"] = "ADAPTER_SIZE_ONE";
  AdapterSize2["ADAPTER_SIZE_TWO"] = "ADAPTER_SIZE_TWO";
  AdapterSize2["ADAPTER_SIZE_FOUR"] = "ADAPTER_SIZE_FOUR";
  AdapterSize2["ADAPTER_SIZE_EIGHT"] = "ADAPTER_SIZE_EIGHT";
  AdapterSize2["ADAPTER_SIZE_SIXTEEN"] = "ADAPTER_SIZE_SIXTEEN";
  AdapterSize2["ADAPTER_SIZE_THIRTY_TWO"] = "ADAPTER_SIZE_THIRTY_TWO";
})(AdapterSize || (AdapterSize = {}));
var JobState;
(function(JobState2) {
  JobState2["JOB_STATE_UNSPECIFIED"] = "JOB_STATE_UNSPECIFIED";
  JobState2["JOB_STATE_QUEUED"] = "JOB_STATE_QUEUED";
  JobState2["JOB_STATE_PENDING"] = "JOB_STATE_PENDING";
  JobState2["JOB_STATE_RUNNING"] = "JOB_STATE_RUNNING";
  JobState2["JOB_STATE_SUCCEEDED"] = "JOB_STATE_SUCCEEDED";
  JobState2["JOB_STATE_FAILED"] = "JOB_STATE_FAILED";
  JobState2["JOB_STATE_CANCELLING"] = "JOB_STATE_CANCELLING";
  JobState2["JOB_STATE_CANCELLED"] = "JOB_STATE_CANCELLED";
  JobState2["JOB_STATE_PAUSED"] = "JOB_STATE_PAUSED";
  JobState2["JOB_STATE_EXPIRED"] = "JOB_STATE_EXPIRED";
  JobState2["JOB_STATE_UPDATING"] = "JOB_STATE_UPDATING";
  JobState2["JOB_STATE_PARTIALLY_SUCCEEDED"] = "JOB_STATE_PARTIALLY_SUCCEEDED";
})(JobState || (JobState = {}));
var TuningTask;
(function(TuningTask2) {
  TuningTask2["TUNING_TASK_UNSPECIFIED"] = "TUNING_TASK_UNSPECIFIED";
  TuningTask2["TUNING_TASK_I2V"] = "TUNING_TASK_I2V";
  TuningTask2["TUNING_TASK_T2V"] = "TUNING_TASK_T2V";
  TuningTask2["TUNING_TASK_R2V"] = "TUNING_TASK_R2V";
})(TuningTask || (TuningTask = {}));
var PartMediaResolutionLevel;
(function(PartMediaResolutionLevel2) {
  PartMediaResolutionLevel2["MEDIA_RESOLUTION_UNSPECIFIED"] = "MEDIA_RESOLUTION_UNSPECIFIED";
  PartMediaResolutionLevel2["MEDIA_RESOLUTION_LOW"] = "MEDIA_RESOLUTION_LOW";
  PartMediaResolutionLevel2["MEDIA_RESOLUTION_MEDIUM"] = "MEDIA_RESOLUTION_MEDIUM";
  PartMediaResolutionLevel2["MEDIA_RESOLUTION_HIGH"] = "MEDIA_RESOLUTION_HIGH";
  PartMediaResolutionLevel2["MEDIA_RESOLUTION_ULTRA_HIGH"] = "MEDIA_RESOLUTION_ULTRA_HIGH";
})(PartMediaResolutionLevel || (PartMediaResolutionLevel = {}));
var FeatureSelectionPreference;
(function(FeatureSelectionPreference2) {
  FeatureSelectionPreference2["FEATURE_SELECTION_PREFERENCE_UNSPECIFIED"] = "FEATURE_SELECTION_PREFERENCE_UNSPECIFIED";
  FeatureSelectionPreference2["PRIORITIZE_QUALITY"] = "PRIORITIZE_QUALITY";
  FeatureSelectionPreference2["BALANCED"] = "BALANCED";
  FeatureSelectionPreference2["PRIORITIZE_COST"] = "PRIORITIZE_COST";
})(FeatureSelectionPreference || (FeatureSelectionPreference = {}));
var Behavior;
(function(Behavior2) {
  Behavior2["UNSPECIFIED"] = "UNSPECIFIED";
  Behavior2["BLOCKING"] = "BLOCKING";
  Behavior2["NON_BLOCKING"] = "NON_BLOCKING";
})(Behavior || (Behavior = {}));
var DynamicRetrievalConfigMode;
(function(DynamicRetrievalConfigMode2) {
  DynamicRetrievalConfigMode2["MODE_UNSPECIFIED"] = "MODE_UNSPECIFIED";
  DynamicRetrievalConfigMode2["MODE_DYNAMIC"] = "MODE_DYNAMIC";
})(DynamicRetrievalConfigMode || (DynamicRetrievalConfigMode = {}));
var Environment;
(function(Environment2) {
  Environment2["ENVIRONMENT_UNSPECIFIED"] = "ENVIRONMENT_UNSPECIFIED";
  Environment2["ENVIRONMENT_BROWSER"] = "ENVIRONMENT_BROWSER";
})(Environment || (Environment = {}));
var FunctionCallingConfigMode;
(function(FunctionCallingConfigMode2) {
  FunctionCallingConfigMode2["MODE_UNSPECIFIED"] = "MODE_UNSPECIFIED";
  FunctionCallingConfigMode2["AUTO"] = "AUTO";
  FunctionCallingConfigMode2["ANY"] = "ANY";
  FunctionCallingConfigMode2["NONE"] = "NONE";
  FunctionCallingConfigMode2["VALIDATED"] = "VALIDATED";
})(FunctionCallingConfigMode || (FunctionCallingConfigMode = {}));
var SafetyFilterLevel;
(function(SafetyFilterLevel2) {
  SafetyFilterLevel2["BLOCK_LOW_AND_ABOVE"] = "BLOCK_LOW_AND_ABOVE";
  SafetyFilterLevel2["BLOCK_MEDIUM_AND_ABOVE"] = "BLOCK_MEDIUM_AND_ABOVE";
  SafetyFilterLevel2["BLOCK_ONLY_HIGH"] = "BLOCK_ONLY_HIGH";
  SafetyFilterLevel2["BLOCK_NONE"] = "BLOCK_NONE";
})(SafetyFilterLevel || (SafetyFilterLevel = {}));
var PersonGeneration;
(function(PersonGeneration2) {
  PersonGeneration2["DONT_ALLOW"] = "DONT_ALLOW";
  PersonGeneration2["ALLOW_ADULT"] = "ALLOW_ADULT";
  PersonGeneration2["ALLOW_ALL"] = "ALLOW_ALL";
})(PersonGeneration || (PersonGeneration = {}));
var ImagePromptLanguage;
(function(ImagePromptLanguage2) {
  ImagePromptLanguage2["auto"] = "auto";
  ImagePromptLanguage2["en"] = "en";
  ImagePromptLanguage2["ja"] = "ja";
  ImagePromptLanguage2["ko"] = "ko";
  ImagePromptLanguage2["hi"] = "hi";
  ImagePromptLanguage2["zh"] = "zh";
  ImagePromptLanguage2["pt"] = "pt";
  ImagePromptLanguage2["es"] = "es";
})(ImagePromptLanguage || (ImagePromptLanguage = {}));
var MaskReferenceMode;
(function(MaskReferenceMode2) {
  MaskReferenceMode2["MASK_MODE_DEFAULT"] = "MASK_MODE_DEFAULT";
  MaskReferenceMode2["MASK_MODE_USER_PROVIDED"] = "MASK_MODE_USER_PROVIDED";
  MaskReferenceMode2["MASK_MODE_BACKGROUND"] = "MASK_MODE_BACKGROUND";
  MaskReferenceMode2["MASK_MODE_FOREGROUND"] = "MASK_MODE_FOREGROUND";
  MaskReferenceMode2["MASK_MODE_SEMANTIC"] = "MASK_MODE_SEMANTIC";
})(MaskReferenceMode || (MaskReferenceMode = {}));
var ControlReferenceType;
(function(ControlReferenceType2) {
  ControlReferenceType2["CONTROL_TYPE_DEFAULT"] = "CONTROL_TYPE_DEFAULT";
  ControlReferenceType2["CONTROL_TYPE_CANNY"] = "CONTROL_TYPE_CANNY";
  ControlReferenceType2["CONTROL_TYPE_SCRIBBLE"] = "CONTROL_TYPE_SCRIBBLE";
  ControlReferenceType2["CONTROL_TYPE_FACE_MESH"] = "CONTROL_TYPE_FACE_MESH";
})(ControlReferenceType || (ControlReferenceType = {}));
var SubjectReferenceType;
(function(SubjectReferenceType2) {
  SubjectReferenceType2["SUBJECT_TYPE_DEFAULT"] = "SUBJECT_TYPE_DEFAULT";
  SubjectReferenceType2["SUBJECT_TYPE_PERSON"] = "SUBJECT_TYPE_PERSON";
  SubjectReferenceType2["SUBJECT_TYPE_ANIMAL"] = "SUBJECT_TYPE_ANIMAL";
  SubjectReferenceType2["SUBJECT_TYPE_PRODUCT"] = "SUBJECT_TYPE_PRODUCT";
})(SubjectReferenceType || (SubjectReferenceType = {}));
var EditMode;
(function(EditMode2) {
  EditMode2["EDIT_MODE_DEFAULT"] = "EDIT_MODE_DEFAULT";
  EditMode2["EDIT_MODE_INPAINT_REMOVAL"] = "EDIT_MODE_INPAINT_REMOVAL";
  EditMode2["EDIT_MODE_INPAINT_INSERTION"] = "EDIT_MODE_INPAINT_INSERTION";
  EditMode2["EDIT_MODE_OUTPAINT"] = "EDIT_MODE_OUTPAINT";
  EditMode2["EDIT_MODE_CONTROLLED_EDITING"] = "EDIT_MODE_CONTROLLED_EDITING";
  EditMode2["EDIT_MODE_STYLE"] = "EDIT_MODE_STYLE";
  EditMode2["EDIT_MODE_BGSWAP"] = "EDIT_MODE_BGSWAP";
  EditMode2["EDIT_MODE_PRODUCT_IMAGE"] = "EDIT_MODE_PRODUCT_IMAGE";
})(EditMode || (EditMode = {}));
var SegmentMode;
(function(SegmentMode2) {
  SegmentMode2["FOREGROUND"] = "FOREGROUND";
  SegmentMode2["BACKGROUND"] = "BACKGROUND";
  SegmentMode2["PROMPT"] = "PROMPT";
  SegmentMode2["SEMANTIC"] = "SEMANTIC";
  SegmentMode2["INTERACTIVE"] = "INTERACTIVE";
})(SegmentMode || (SegmentMode = {}));
var VideoGenerationReferenceType;
(function(VideoGenerationReferenceType2) {
  VideoGenerationReferenceType2["ASSET"] = "ASSET";
  VideoGenerationReferenceType2["STYLE"] = "STYLE";
})(VideoGenerationReferenceType || (VideoGenerationReferenceType = {}));
var VideoGenerationMaskMode;
(function(VideoGenerationMaskMode2) {
  VideoGenerationMaskMode2["INSERT"] = "INSERT";
  VideoGenerationMaskMode2["REMOVE"] = "REMOVE";
  VideoGenerationMaskMode2["REMOVE_STATIC"] = "REMOVE_STATIC";
  VideoGenerationMaskMode2["OUTPAINT"] = "OUTPAINT";
})(VideoGenerationMaskMode || (VideoGenerationMaskMode = {}));
var VideoCompressionQuality;
(function(VideoCompressionQuality2) {
  VideoCompressionQuality2["OPTIMIZED"] = "OPTIMIZED";
  VideoCompressionQuality2["LOSSLESS"] = "LOSSLESS";
})(VideoCompressionQuality || (VideoCompressionQuality = {}));
var TuningMethod;
(function(TuningMethod2) {
  TuningMethod2["SUPERVISED_FINE_TUNING"] = "SUPERVISED_FINE_TUNING";
  TuningMethod2["PREFERENCE_TUNING"] = "PREFERENCE_TUNING";
})(TuningMethod || (TuningMethod = {}));
var DocumentState;
(function(DocumentState2) {
  DocumentState2["STATE_UNSPECIFIED"] = "STATE_UNSPECIFIED";
  DocumentState2["STATE_PENDING"] = "STATE_PENDING";
  DocumentState2["STATE_ACTIVE"] = "STATE_ACTIVE";
  DocumentState2["STATE_FAILED"] = "STATE_FAILED";
})(DocumentState || (DocumentState = {}));
var FileState;
(function(FileState2) {
  FileState2["STATE_UNSPECIFIED"] = "STATE_UNSPECIFIED";
  FileState2["PROCESSING"] = "PROCESSING";
  FileState2["ACTIVE"] = "ACTIVE";
  FileState2["FAILED"] = "FAILED";
})(FileState || (FileState = {}));
var FileSource;
(function(FileSource2) {
  FileSource2["SOURCE_UNSPECIFIED"] = "SOURCE_UNSPECIFIED";
  FileSource2["UPLOADED"] = "UPLOADED";
  FileSource2["GENERATED"] = "GENERATED";
})(FileSource || (FileSource = {}));
var TurnCompleteReason;
(function(TurnCompleteReason2) {
  TurnCompleteReason2["TURN_COMPLETE_REASON_UNSPECIFIED"] = "TURN_COMPLETE_REASON_UNSPECIFIED";
  TurnCompleteReason2["MALFORMED_FUNCTION_CALL"] = "MALFORMED_FUNCTION_CALL";
  TurnCompleteReason2["RESPONSE_REJECTED"] = "RESPONSE_REJECTED";
  TurnCompleteReason2["NEED_MORE_INPUT"] = "NEED_MORE_INPUT";
})(TurnCompleteReason || (TurnCompleteReason = {}));
var MediaModality;
(function(MediaModality2) {
  MediaModality2["MODALITY_UNSPECIFIED"] = "MODALITY_UNSPECIFIED";
  MediaModality2["TEXT"] = "TEXT";
  MediaModality2["IMAGE"] = "IMAGE";
  MediaModality2["VIDEO"] = "VIDEO";
  MediaModality2["AUDIO"] = "AUDIO";
  MediaModality2["DOCUMENT"] = "DOCUMENT";
})(MediaModality || (MediaModality = {}));
var VadSignalType;
(function(VadSignalType2) {
  VadSignalType2["VAD_SIGNAL_TYPE_UNSPECIFIED"] = "VAD_SIGNAL_TYPE_UNSPECIFIED";
  VadSignalType2["VAD_SIGNAL_TYPE_SOS"] = "VAD_SIGNAL_TYPE_SOS";
  VadSignalType2["VAD_SIGNAL_TYPE_EOS"] = "VAD_SIGNAL_TYPE_EOS";
})(VadSignalType || (VadSignalType = {}));
var StartSensitivity;
(function(StartSensitivity2) {
  StartSensitivity2["START_SENSITIVITY_UNSPECIFIED"] = "START_SENSITIVITY_UNSPECIFIED";
  StartSensitivity2["START_SENSITIVITY_HIGH"] = "START_SENSITIVITY_HIGH";
  StartSensitivity2["START_SENSITIVITY_LOW"] = "START_SENSITIVITY_LOW";
})(StartSensitivity || (StartSensitivity = {}));
var EndSensitivity;
(function(EndSensitivity2) {
  EndSensitivity2["END_SENSITIVITY_UNSPECIFIED"] = "END_SENSITIVITY_UNSPECIFIED";
  EndSensitivity2["END_SENSITIVITY_HIGH"] = "END_SENSITIVITY_HIGH";
  EndSensitivity2["END_SENSITIVITY_LOW"] = "END_SENSITIVITY_LOW";
})(EndSensitivity || (EndSensitivity = {}));
var ActivityHandling;
(function(ActivityHandling2) {
  ActivityHandling2["ACTIVITY_HANDLING_UNSPECIFIED"] = "ACTIVITY_HANDLING_UNSPECIFIED";
  ActivityHandling2["START_OF_ACTIVITY_INTERRUPTS"] = "START_OF_ACTIVITY_INTERRUPTS";
  ActivityHandling2["NO_INTERRUPTION"] = "NO_INTERRUPTION";
})(ActivityHandling || (ActivityHandling = {}));
var TurnCoverage;
(function(TurnCoverage2) {
  TurnCoverage2["TURN_COVERAGE_UNSPECIFIED"] = "TURN_COVERAGE_UNSPECIFIED";
  TurnCoverage2["TURN_INCLUDES_ONLY_ACTIVITY"] = "TURN_INCLUDES_ONLY_ACTIVITY";
  TurnCoverage2["TURN_INCLUDES_ALL_INPUT"] = "TURN_INCLUDES_ALL_INPUT";
})(TurnCoverage || (TurnCoverage = {}));
var Scale;
(function(Scale2) {
  Scale2["SCALE_UNSPECIFIED"] = "SCALE_UNSPECIFIED";
  Scale2["C_MAJOR_A_MINOR"] = "C_MAJOR_A_MINOR";
  Scale2["D_FLAT_MAJOR_B_FLAT_MINOR"] = "D_FLAT_MAJOR_B_FLAT_MINOR";
  Scale2["D_MAJOR_B_MINOR"] = "D_MAJOR_B_MINOR";
  Scale2["E_FLAT_MAJOR_C_MINOR"] = "E_FLAT_MAJOR_C_MINOR";
  Scale2["E_MAJOR_D_FLAT_MINOR"] = "E_MAJOR_D_FLAT_MINOR";
  Scale2["F_MAJOR_D_MINOR"] = "F_MAJOR_D_MINOR";
  Scale2["G_FLAT_MAJOR_E_FLAT_MINOR"] = "G_FLAT_MAJOR_E_FLAT_MINOR";
  Scale2["G_MAJOR_E_MINOR"] = "G_MAJOR_E_MINOR";
  Scale2["A_FLAT_MAJOR_F_MINOR"] = "A_FLAT_MAJOR_F_MINOR";
  Scale2["A_MAJOR_G_FLAT_MINOR"] = "A_MAJOR_G_FLAT_MINOR";
  Scale2["B_FLAT_MAJOR_G_MINOR"] = "B_FLAT_MAJOR_G_MINOR";
  Scale2["B_MAJOR_A_FLAT_MINOR"] = "B_MAJOR_A_FLAT_MINOR";
})(Scale || (Scale = {}));
var MusicGenerationMode;
(function(MusicGenerationMode2) {
  MusicGenerationMode2["MUSIC_GENERATION_MODE_UNSPECIFIED"] = "MUSIC_GENERATION_MODE_UNSPECIFIED";
  MusicGenerationMode2["QUALITY"] = "QUALITY";
  MusicGenerationMode2["DIVERSITY"] = "DIVERSITY";
  MusicGenerationMode2["VOCALIZATION"] = "VOCALIZATION";
})(MusicGenerationMode || (MusicGenerationMode = {}));
var LiveMusicPlaybackControl;
(function(LiveMusicPlaybackControl2) {
  LiveMusicPlaybackControl2["PLAYBACK_CONTROL_UNSPECIFIED"] = "PLAYBACK_CONTROL_UNSPECIFIED";
  LiveMusicPlaybackControl2["PLAY"] = "PLAY";
  LiveMusicPlaybackControl2["PAUSE"] = "PAUSE";
  LiveMusicPlaybackControl2["STOP"] = "STOP";
  LiveMusicPlaybackControl2["RESET_CONTEXT"] = "RESET_CONTEXT";
})(LiveMusicPlaybackControl || (LiveMusicPlaybackControl = {}));
function createPartFromUri(uri, mimeType, mediaResolution) {
  return Object.assign({ fileData: {
    fileUri: uri,
    mimeType
  } }, mediaResolution && { mediaResolution: { level: mediaResolution } });
}
function createPartFromText(text) {
  return {
    text
  };
}
function _isPart(obj) {
  if (typeof obj === "object" && obj !== null) {
    return "fileData" in obj || "text" in obj || "functionCall" in obj || "functionResponse" in obj || "inlineData" in obj || "videoMetadata" in obj || "codeExecutionResult" in obj || "executableCode" in obj;
  }
  return false;
}
function _toParts(partOrString) {
  const parts = [];
  if (typeof partOrString === "string") {
    parts.push(createPartFromText(partOrString));
  } else if (_isPart(partOrString)) {
    parts.push(partOrString);
  } else if (Array.isArray(partOrString)) {
    if (partOrString.length === 0) {
      throw new Error("partOrString cannot be an empty array");
    }
    for (const part of partOrString) {
      if (typeof part === "string") {
        parts.push(createPartFromText(part));
      } else if (_isPart(part)) {
        parts.push(part);
      } else {
        throw new Error("element in PartUnion must be a Part object or string");
      }
    }
  } else {
    throw new Error("partOrString must be a Part object, string, or array");
  }
  return parts;
}
function createUserContent(partOrString) {
  return {
    role: "user",
    parts: _toParts(partOrString)
  };
}
var HttpResponse = class {
  constructor(response) {
    const headers = {};
    for (const pair of response.headers.entries()) {
      headers[pair[0]] = pair[1];
    }
    this.headers = headers;
    this.responseInternal = response;
  }
  json() {
    return this.responseInternal.json();
  }
};
var GenerateContentResponse = class {
  /**
   * Returns the concatenation of all text parts from the first candidate in the response.
   *
   * @remarks
   * If there are multiple candidates in the response, the text from the first
   * one will be returned.
   * If there are non-text parts in the response, the concatenation of all text
   * parts will be returned, and a warning will be logged.
   * If there are thought parts in the response, the concatenation of all text
   * parts excluding the thought parts will be returned.
   *
   * @example
   * ```ts
   * const response = await ai.models.generateContent({
   *   model: 'gemini-2.0-flash',
   *   contents:
   *     'Why is the sky blue?',
   * });
   *
   * console.debug(response.text);
   * ```
   */
  get text() {
    var _a2, _b, _c, _d, _e, _f, _g, _h;
    if (((_d = (_c = (_b = (_a2 = this.candidates) === null || _a2 === void 0 ? void 0 : _a2[0]) === null || _b === void 0 ? void 0 : _b.content) === null || _c === void 0 ? void 0 : _c.parts) === null || _d === void 0 ? void 0 : _d.length) === 0) {
      return void 0;
    }
    if (this.candidates && this.candidates.length > 1) {
      console.warn("there are multiple candidates in the response, returning text from the first one.");
    }
    let text = "";
    let anyTextPartText = false;
    const nonTextParts = [];
    for (const part of (_h = (_g = (_f = (_e = this.candidates) === null || _e === void 0 ? void 0 : _e[0]) === null || _f === void 0 ? void 0 : _f.content) === null || _g === void 0 ? void 0 : _g.parts) !== null && _h !== void 0 ? _h : []) {
      for (const [fieldName, fieldValue] of Object.entries(part)) {
        if (fieldName !== "text" && fieldName !== "thought" && fieldName !== "thoughtSignature" && (fieldValue !== null || fieldValue !== void 0)) {
          nonTextParts.push(fieldName);
        }
      }
      if (typeof part.text === "string") {
        if (typeof part.thought === "boolean" && part.thought) {
          continue;
        }
        anyTextPartText = true;
        text += part.text;
      }
    }
    if (nonTextParts.length > 0) {
      console.warn(`there are non-text parts ${nonTextParts} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`);
    }
    return anyTextPartText ? text : void 0;
  }
  /**
   * Returns the concatenation of all inline data parts from the first candidate
   * in the response.
   *
   * @remarks
   * If there are multiple candidates in the response, the inline data from the
   * first one will be returned. If there are non-inline data parts in the
   * response, the concatenation of all inline data parts will be returned, and
   * a warning will be logged.
   */
  get data() {
    var _a2, _b, _c, _d, _e, _f, _g, _h;
    if (((_d = (_c = (_b = (_a2 = this.candidates) === null || _a2 === void 0 ? void 0 : _a2[0]) === null || _b === void 0 ? void 0 : _b.content) === null || _c === void 0 ? void 0 : _c.parts) === null || _d === void 0 ? void 0 : _d.length) === 0) {
      return void 0;
    }
    if (this.candidates && this.candidates.length > 1) {
      console.warn("there are multiple candidates in the response, returning data from the first one.");
    }
    let data = "";
    const nonDataParts = [];
    for (const part of (_h = (_g = (_f = (_e = this.candidates) === null || _e === void 0 ? void 0 : _e[0]) === null || _f === void 0 ? void 0 : _f.content) === null || _g === void 0 ? void 0 : _g.parts) !== null && _h !== void 0 ? _h : []) {
      for (const [fieldName, fieldValue] of Object.entries(part)) {
        if (fieldName !== "inlineData" && (fieldValue !== null || fieldValue !== void 0)) {
          nonDataParts.push(fieldName);
        }
      }
      if (part.inlineData && typeof part.inlineData.data === "string") {
        data += atob(part.inlineData.data);
      }
    }
    if (nonDataParts.length > 0) {
      console.warn(`there are non-data parts ${nonDataParts} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`);
    }
    return data.length > 0 ? btoa(data) : void 0;
  }
  /**
   * Returns the function calls from the first candidate in the response.
   *
   * @remarks
   * If there are multiple candidates in the response, the function calls from
   * the first one will be returned.
   * If there are no function calls in the response, undefined will be returned.
   *
   * @example
   * ```ts
   * const controlLightFunctionDeclaration: FunctionDeclaration = {
   *   name: 'controlLight',
   *   parameters: {
   *   type: Type.OBJECT,
   *   description: 'Set the brightness and color temperature of a room light.',
   *   properties: {
   *     brightness: {
   *       type: Type.NUMBER,
   *       description:
   *         'Light level from 0 to 100. Zero is off and 100 is full brightness.',
   *     },
   *     colorTemperature: {
   *       type: Type.STRING,
   *       description:
   *         'Color temperature of the light fixture which can be `daylight`, `cool` or `warm`.',
   *     },
   *   },
   *   required: ['brightness', 'colorTemperature'],
   *  };
   *  const response = await ai.models.generateContent({
   *     model: 'gemini-2.0-flash',
   *     contents: 'Dim the lights so the room feels cozy and warm.',
   *     config: {
   *       tools: [{functionDeclarations: [controlLightFunctionDeclaration]}],
   *       toolConfig: {
   *         functionCallingConfig: {
   *           mode: FunctionCallingConfigMode.ANY,
   *           allowedFunctionNames: ['controlLight'],
   *         },
   *       },
   *     },
   *   });
   *  console.debug(JSON.stringify(response.functionCalls));
   * ```
   */
  get functionCalls() {
    var _a2, _b, _c, _d, _e, _f, _g, _h;
    if (((_d = (_c = (_b = (_a2 = this.candidates) === null || _a2 === void 0 ? void 0 : _a2[0]) === null || _b === void 0 ? void 0 : _b.content) === null || _c === void 0 ? void 0 : _c.parts) === null || _d === void 0 ? void 0 : _d.length) === 0) {
      return void 0;
    }
    if (this.candidates && this.candidates.length > 1) {
      console.warn("there are multiple candidates in the response, returning function calls from the first one.");
    }
    const functionCalls = (_h = (_g = (_f = (_e = this.candidates) === null || _e === void 0 ? void 0 : _e[0]) === null || _f === void 0 ? void 0 : _f.content) === null || _g === void 0 ? void 0 : _g.parts) === null || _h === void 0 ? void 0 : _h.filter((part) => part.functionCall).map((part) => part.functionCall).filter((functionCall) => functionCall !== void 0);
    if ((functionCalls === null || functionCalls === void 0 ? void 0 : functionCalls.length) === 0) {
      return void 0;
    }
    return functionCalls;
  }
  /**
   * Returns the first executable code from the first candidate in the response.
   *
   * @remarks
   * If there are multiple candidates in the response, the executable code from
   * the first one will be returned.
   * If there are no executable code in the response, undefined will be
   * returned.
   *
   * @example
   * ```ts
   * const response = await ai.models.generateContent({
   *   model: 'gemini-2.0-flash',
   *   contents:
   *     'What is the sum of the first 50 prime numbers? Generate and run code for the calculation, and make sure you get all 50.'
   *   config: {
   *     tools: [{codeExecution: {}}],
   *   },
   * });
   *
   * console.debug(response.executableCode);
   * ```
   */
  get executableCode() {
    var _a2, _b, _c, _d, _e, _f, _g, _h, _j;
    if (((_d = (_c = (_b = (_a2 = this.candidates) === null || _a2 === void 0 ? void 0 : _a2[0]) === null || _b === void 0 ? void 0 : _b.content) === null || _c === void 0 ? void 0 : _c.parts) === null || _d === void 0 ? void 0 : _d.length) === 0) {
      return void 0;
    }
    if (this.candidates && this.candidates.length > 1) {
      console.warn("there are multiple candidates in the response, returning executable code from the first one.");
    }
    const executableCode = (_h = (_g = (_f = (_e = this.candidates) === null || _e === void 0 ? void 0 : _e[0]) === null || _f === void 0 ? void 0 : _f.content) === null || _g === void 0 ? void 0 : _g.parts) === null || _h === void 0 ? void 0 : _h.filter((part) => part.executableCode).map((part) => part.executableCode).filter((executableCode2) => executableCode2 !== void 0);
    if ((executableCode === null || executableCode === void 0 ? void 0 : executableCode.length) === 0) {
      return void 0;
    }
    return (_j = executableCode === null || executableCode === void 0 ? void 0 : executableCode[0]) === null || _j === void 0 ? void 0 : _j.code;
  }
  /**
   * Returns the first code execution result from the first candidate in the response.
   *
   * @remarks
   * If there are multiple candidates in the response, the code execution result from
   * the first one will be returned.
   * If there are no code execution result in the response, undefined will be returned.
   *
   * @example
   * ```ts
   * const response = await ai.models.generateContent({
   *   model: 'gemini-2.0-flash',
   *   contents:
   *     'What is the sum of the first 50 prime numbers? Generate and run code for the calculation, and make sure you get all 50.'
   *   config: {
   *     tools: [{codeExecution: {}}],
   *   },
   * });
   *
   * console.debug(response.codeExecutionResult);
   * ```
   */
  get codeExecutionResult() {
    var _a2, _b, _c, _d, _e, _f, _g, _h, _j;
    if (((_d = (_c = (_b = (_a2 = this.candidates) === null || _a2 === void 0 ? void 0 : _a2[0]) === null || _b === void 0 ? void 0 : _b.content) === null || _c === void 0 ? void 0 : _c.parts) === null || _d === void 0 ? void 0 : _d.length) === 0) {
      return void 0;
    }
    if (this.candidates && this.candidates.length > 1) {
      console.warn("there are multiple candidates in the response, returning code execution result from the first one.");
    }
    const codeExecutionResult = (_h = (_g = (_f = (_e = this.candidates) === null || _e === void 0 ? void 0 : _e[0]) === null || _f === void 0 ? void 0 : _f.content) === null || _g === void 0 ? void 0 : _g.parts) === null || _h === void 0 ? void 0 : _h.filter((part) => part.codeExecutionResult).map((part) => part.codeExecutionResult).filter((codeExecutionResult2) => codeExecutionResult2 !== void 0);
    if ((codeExecutionResult === null || codeExecutionResult === void 0 ? void 0 : codeExecutionResult.length) === 0) {
      return void 0;
    }
    return (_j = codeExecutionResult === null || codeExecutionResult === void 0 ? void 0 : codeExecutionResult[0]) === null || _j === void 0 ? void 0 : _j.output;
  }
};
var EmbedContentResponse = class {
};
var GenerateImagesResponse = class {
};
var EditImageResponse = class {
};
var UpscaleImageResponse = class {
};
var RecontextImageResponse = class {
};
var SegmentImageResponse = class {
};
var ListModelsResponse = class {
};
var DeleteModelResponse = class {
};
var CountTokensResponse = class {
};
var ComputeTokensResponse = class {
};
var GenerateVideosOperation = class {
  /**
   * Instantiates an Operation of the same type as the one being called with the fields set from the API response.
   * @internal
   */
  _fromAPIResponse({ apiResponse, _isVertexAI }) {
    const operation = new GenerateVideosOperation();
    let response;
    const op = apiResponse;
    if (_isVertexAI) {
      response = generateVideosOperationFromVertex$1(op);
    } else {
      response = generateVideosOperationFromMldev$1(op);
    }
    Object.assign(operation, response);
    return operation;
  }
};
var ListTuningJobsResponse = class {
};
var CancelTuningJobResponse = class {
};
var DeleteCachedContentResponse = class {
};
var ListCachedContentsResponse = class {
};
var ListDocumentsResponse = class {
};
var ListFileSearchStoresResponse = class {
};
var UploadToFileSearchStoreResumableResponse = class {
};
var ImportFileOperation = class {
  /**
   * Instantiates an Operation of the same type as the one being called with the fields set from the API response.
   * @internal
   */
  _fromAPIResponse({ apiResponse, _isVertexAI }) {
    const operation = new ImportFileOperation();
    const op = apiResponse;
    const response = importFileOperationFromMldev$1(op);
    Object.assign(operation, response);
    return operation;
  }
};
var ListFilesResponse = class {
};
var CreateFileResponse = class {
};
var DeleteFileResponse = class {
};
var ListBatchJobsResponse = class {
};
var LiveServerMessage = class {
  /**
   * Returns the concatenation of all text parts from the server content if present.
   *
   * @remarks
   * If there are non-text parts in the response, the concatenation of all text
   * parts will be returned, and a warning will be logged.
   */
  get text() {
    var _a2, _b, _c;
    let text = "";
    let anyTextPartFound = false;
    const nonTextParts = [];
    for (const part of (_c = (_b = (_a2 = this.serverContent) === null || _a2 === void 0 ? void 0 : _a2.modelTurn) === null || _b === void 0 ? void 0 : _b.parts) !== null && _c !== void 0 ? _c : []) {
      for (const [fieldName, fieldValue] of Object.entries(part)) {
        if (fieldName !== "text" && fieldName !== "thought" && fieldValue !== null) {
          nonTextParts.push(fieldName);
        }
      }
      if (typeof part.text === "string") {
        if (typeof part.thought === "boolean" && part.thought) {
          continue;
        }
        anyTextPartFound = true;
        text += part.text;
      }
    }
    if (nonTextParts.length > 0) {
      console.warn(`there are non-text parts ${nonTextParts} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`);
    }
    return anyTextPartFound ? text : void 0;
  }
  /**
   * Returns the concatenation of all inline data parts from the server content if present.
   *
   * @remarks
   * If there are non-inline data parts in the
   * response, the concatenation of all inline data parts will be returned, and
   * a warning will be logged.
   */
  get data() {
    var _a2, _b, _c;
    let data = "";
    const nonDataParts = [];
    for (const part of (_c = (_b = (_a2 = this.serverContent) === null || _a2 === void 0 ? void 0 : _a2.modelTurn) === null || _b === void 0 ? void 0 : _b.parts) !== null && _c !== void 0 ? _c : []) {
      for (const [fieldName, fieldValue] of Object.entries(part)) {
        if (fieldName !== "inlineData" && fieldValue !== null) {
          nonDataParts.push(fieldName);
        }
      }
      if (part.inlineData && typeof part.inlineData.data === "string") {
        data += atob(part.inlineData.data);
      }
    }
    if (nonDataParts.length > 0) {
      console.warn(`there are non-data parts ${nonDataParts} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`);
    }
    return data.length > 0 ? btoa(data) : void 0;
  }
};
var LiveMusicServerMessage = class {
  /**
   * Returns the first audio chunk from the server content, if present.
   *
   * @remarks
   * If there are no audio chunks in the response, undefined will be returned.
   */
  get audioChunk() {
    if (this.serverContent && this.serverContent.audioChunks && this.serverContent.audioChunks.length > 0) {
      return this.serverContent.audioChunks[0];
    }
    return void 0;
  }
};
var UploadToFileSearchStoreOperation = class {
  /**
   * Instantiates an Operation of the same type as the one being called with the fields set from the API response.
   * @internal
   */
  _fromAPIResponse({ apiResponse, _isVertexAI }) {
    const operation = new UploadToFileSearchStoreOperation();
    const op = apiResponse;
    const response = uploadToFileSearchStoreOperationFromMldev(op);
    Object.assign(operation, response);
    return operation;
  }
};
function tModel(apiClient, model) {
  if (!model || typeof model !== "string") {
    throw new Error("model is required and must be a string");
  }
  if (model.includes("..") || model.includes("?") || model.includes("&")) {
    throw new Error("invalid model parameter");
  }
  if (apiClient.isVertexAI()) {
    if (model.startsWith("publishers/") || model.startsWith("projects/") || model.startsWith("models/")) {
      return model;
    } else if (model.indexOf("/") >= 0) {
      const parts = model.split("/", 2);
      return `publishers/${parts[0]}/models/${parts[1]}`;
    } else {
      return `publishers/google/models/${model}`;
    }
  } else {
    if (model.startsWith("models/") || model.startsWith("tunedModels/")) {
      return model;
    } else {
      return `models/${model}`;
    }
  }
}
function tCachesModel(apiClient, model) {
  const transformedModel = tModel(apiClient, model);
  if (!transformedModel) {
    return "";
  }
  if (transformedModel.startsWith("publishers/") && apiClient.isVertexAI()) {
    return `projects/${apiClient.getProject()}/locations/${apiClient.getLocation()}/${transformedModel}`;
  } else if (transformedModel.startsWith("models/") && apiClient.isVertexAI()) {
    return `projects/${apiClient.getProject()}/locations/${apiClient.getLocation()}/publishers/google/${transformedModel}`;
  } else {
    return transformedModel;
  }
}
function tBlobs(blobs) {
  if (Array.isArray(blobs)) {
    return blobs.map((blob) => tBlob(blob));
  } else {
    return [tBlob(blobs)];
  }
}
function tBlob(blob) {
  if (typeof blob === "object" && blob !== null) {
    return blob;
  }
  throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof blob}`);
}
function tImageBlob(blob) {
  const transformedBlob = tBlob(blob);
  if (transformedBlob.mimeType && transformedBlob.mimeType.startsWith("image/")) {
    return transformedBlob;
  }
  throw new Error(`Unsupported mime type: ${transformedBlob.mimeType}`);
}
function tAudioBlob(blob) {
  const transformedBlob = tBlob(blob);
  if (transformedBlob.mimeType && transformedBlob.mimeType.startsWith("audio/")) {
    return transformedBlob;
  }
  throw new Error(`Unsupported mime type: ${transformedBlob.mimeType}`);
}
function tPart(origin) {
  if (origin === null || origin === void 0) {
    throw new Error("PartUnion is required");
  }
  if (typeof origin === "object") {
    return origin;
  }
  if (typeof origin === "string") {
    return { text: origin };
  }
  throw new Error(`Unsupported part type: ${typeof origin}`);
}
function tParts(origin) {
  if (origin === null || origin === void 0 || Array.isArray(origin) && origin.length === 0) {
    throw new Error("PartListUnion is required");
  }
  if (Array.isArray(origin)) {
    return origin.map((item) => tPart(item));
  }
  return [tPart(origin)];
}
function _isContent(origin) {
  return origin !== null && origin !== void 0 && typeof origin === "object" && "parts" in origin && Array.isArray(origin.parts);
}
function _isFunctionCallPart(origin) {
  return origin !== null && origin !== void 0 && typeof origin === "object" && "functionCall" in origin;
}
function _isFunctionResponsePart(origin) {
  return origin !== null && origin !== void 0 && typeof origin === "object" && "functionResponse" in origin;
}
function tContent(origin) {
  if (origin === null || origin === void 0) {
    throw new Error("ContentUnion is required");
  }
  if (_isContent(origin)) {
    return origin;
  }
  return {
    role: "user",
    parts: tParts(origin)
  };
}
function tContentsForEmbed(apiClient, origin) {
  if (!origin) {
    return [];
  }
  if (apiClient.isVertexAI() && Array.isArray(origin)) {
    return origin.flatMap((item) => {
      const content = tContent(item);
      if (content.parts && content.parts.length > 0 && content.parts[0].text !== void 0) {
        return [content.parts[0].text];
      }
      return [];
    });
  } else if (apiClient.isVertexAI()) {
    const content = tContent(origin);
    if (content.parts && content.parts.length > 0 && content.parts[0].text !== void 0) {
      return [content.parts[0].text];
    }
    return [];
  }
  if (Array.isArray(origin)) {
    return origin.map((item) => tContent(item));
  }
  return [tContent(origin)];
}
function tContents(origin) {
  if (origin === null || origin === void 0 || Array.isArray(origin) && origin.length === 0) {
    throw new Error("contents are required");
  }
  if (!Array.isArray(origin)) {
    if (_isFunctionCallPart(origin) || _isFunctionResponsePart(origin)) {
      throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");
    }
    return [tContent(origin)];
  }
  const result = [];
  const accumulatedParts = [];
  const isContentArray = _isContent(origin[0]);
  for (const item of origin) {
    const isContent = _isContent(item);
    if (isContent != isContentArray) {
      throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");
    }
    if (isContent) {
      result.push(item);
    } else if (_isFunctionCallPart(item) || _isFunctionResponsePart(item)) {
      throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");
    } else {
      accumulatedParts.push(item);
    }
  }
  if (!isContentArray) {
    result.push({ role: "user", parts: tParts(accumulatedParts) });
  }
  return result;
}
function flattenTypeArrayToAnyOf(typeList, resultingSchema) {
  if (typeList.includes("null")) {
    resultingSchema["nullable"] = true;
  }
  const listWithoutNull = typeList.filter((type) => type !== "null");
  if (listWithoutNull.length === 1) {
    resultingSchema["type"] = Object.values(Type).includes(listWithoutNull[0].toUpperCase()) ? listWithoutNull[0].toUpperCase() : Type.TYPE_UNSPECIFIED;
  } else {
    resultingSchema["anyOf"] = [];
    for (const i of listWithoutNull) {
      resultingSchema["anyOf"].push({
        "type": Object.values(Type).includes(i.toUpperCase()) ? i.toUpperCase() : Type.TYPE_UNSPECIFIED
      });
    }
  }
}
function processJsonSchema(_jsonSchema) {
  const genAISchema = {};
  const schemaFieldNames = ["items"];
  const listSchemaFieldNames = ["anyOf"];
  const dictSchemaFieldNames = ["properties"];
  if (_jsonSchema["type"] && _jsonSchema["anyOf"]) {
    throw new Error("type and anyOf cannot be both populated.");
  }
  const incomingAnyOf = _jsonSchema["anyOf"];
  if (incomingAnyOf != null && incomingAnyOf.length == 2) {
    if (incomingAnyOf[0]["type"] === "null") {
      genAISchema["nullable"] = true;
      _jsonSchema = incomingAnyOf[1];
    } else if (incomingAnyOf[1]["type"] === "null") {
      genAISchema["nullable"] = true;
      _jsonSchema = incomingAnyOf[0];
    }
  }
  if (_jsonSchema["type"] instanceof Array) {
    flattenTypeArrayToAnyOf(_jsonSchema["type"], genAISchema);
  }
  for (const [fieldName, fieldValue] of Object.entries(_jsonSchema)) {
    if (fieldValue == null) {
      continue;
    }
    if (fieldName == "type") {
      if (fieldValue === "null") {
        throw new Error("type: null can not be the only possible type for the field.");
      }
      if (fieldValue instanceof Array) {
        continue;
      }
      genAISchema["type"] = Object.values(Type).includes(fieldValue.toUpperCase()) ? fieldValue.toUpperCase() : Type.TYPE_UNSPECIFIED;
    } else if (schemaFieldNames.includes(fieldName)) {
      genAISchema[fieldName] = processJsonSchema(fieldValue);
    } else if (listSchemaFieldNames.includes(fieldName)) {
      const listSchemaFieldValue = [];
      for (const item of fieldValue) {
        if (item["type"] == "null") {
          genAISchema["nullable"] = true;
          continue;
        }
        listSchemaFieldValue.push(processJsonSchema(item));
      }
      genAISchema[fieldName] = listSchemaFieldValue;
    } else if (dictSchemaFieldNames.includes(fieldName)) {
      const dictSchemaFieldValue = {};
      for (const [key, value] of Object.entries(fieldValue)) {
        dictSchemaFieldValue[key] = processJsonSchema(value);
      }
      genAISchema[fieldName] = dictSchemaFieldValue;
    } else {
      if (fieldName === "additionalProperties") {
        continue;
      }
      genAISchema[fieldName] = fieldValue;
    }
  }
  return genAISchema;
}
function tSchema(schema) {
  return processJsonSchema(schema);
}
function tSpeechConfig(speechConfig) {
  if (typeof speechConfig === "object") {
    return speechConfig;
  } else if (typeof speechConfig === "string") {
    return {
      voiceConfig: {
        prebuiltVoiceConfig: {
          voiceName: speechConfig
        }
      }
    };
  } else {
    throw new Error(`Unsupported speechConfig type: ${typeof speechConfig}`);
  }
}
function tLiveSpeechConfig(speechConfig) {
  if ("multiSpeakerVoiceConfig" in speechConfig) {
    throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");
  }
  return speechConfig;
}
function tTool(tool) {
  if (tool.functionDeclarations) {
    for (const functionDeclaration of tool.functionDeclarations) {
      if (functionDeclaration.parameters) {
        if (!Object.keys(functionDeclaration.parameters).includes("$schema")) {
          functionDeclaration.parameters = processJsonSchema(functionDeclaration.parameters);
        } else {
          if (!functionDeclaration.parametersJsonSchema) {
            functionDeclaration.parametersJsonSchema = functionDeclaration.parameters;
            delete functionDeclaration.parameters;
          }
        }
      }
      if (functionDeclaration.response) {
        if (!Object.keys(functionDeclaration.response).includes("$schema")) {
          functionDeclaration.response = processJsonSchema(functionDeclaration.response);
        } else {
          if (!functionDeclaration.responseJsonSchema) {
            functionDeclaration.responseJsonSchema = functionDeclaration.response;
            delete functionDeclaration.response;
          }
        }
      }
    }
  }
  return tool;
}
function tTools(tools) {
  if (tools === void 0 || tools === null) {
    throw new Error("tools is required");
  }
  if (!Array.isArray(tools)) {
    throw new Error("tools is required and must be an array of Tools");
  }
  const result = [];
  for (const tool of tools) {
    result.push(tool);
  }
  return result;
}
function resourceName(client, resourceName2, resourcePrefix, splitsAfterPrefix = 1) {
  const shouldAppendPrefix = !resourceName2.startsWith(`${resourcePrefix}/`) && resourceName2.split("/").length === splitsAfterPrefix;
  if (client.isVertexAI()) {
    if (resourceName2.startsWith("projects/")) {
      return resourceName2;
    } else if (resourceName2.startsWith("locations/")) {
      return `projects/${client.getProject()}/${resourceName2}`;
    } else if (resourceName2.startsWith(`${resourcePrefix}/`)) {
      return `projects/${client.getProject()}/locations/${client.getLocation()}/${resourceName2}`;
    } else if (shouldAppendPrefix) {
      return `projects/${client.getProject()}/locations/${client.getLocation()}/${resourcePrefix}/${resourceName2}`;
    } else {
      return resourceName2;
    }
  }
  if (shouldAppendPrefix) {
    return `${resourcePrefix}/${resourceName2}`;
  }
  return resourceName2;
}
function tCachedContentName(apiClient, name) {
  if (typeof name !== "string") {
    throw new Error("name must be a string");
  }
  return resourceName(apiClient, name, "cachedContents");
}
function tTuningJobStatus(status) {
  switch (status) {
    case "STATE_UNSPECIFIED":
      return "JOB_STATE_UNSPECIFIED";
    case "CREATING":
      return "JOB_STATE_RUNNING";
    case "ACTIVE":
      return "JOB_STATE_SUCCEEDED";
    case "FAILED":
      return "JOB_STATE_FAILED";
    default:
      return status;
  }
}
function tBytes(fromImageBytes) {
  return tBytes$1(fromImageBytes);
}
function _isFile(origin) {
  return origin !== null && origin !== void 0 && typeof origin === "object" && "name" in origin;
}
function isGeneratedVideo(origin) {
  return origin !== null && origin !== void 0 && typeof origin === "object" && "video" in origin;
}
function isVideo(origin) {
  return origin !== null && origin !== void 0 && typeof origin === "object" && "uri" in origin;
}
function tFileName(fromName) {
  var _a2;
  let name;
  if (_isFile(fromName)) {
    name = fromName.name;
  }
  if (isVideo(fromName)) {
    name = fromName.uri;
    if (name === void 0) {
      return void 0;
    }
  }
  if (isGeneratedVideo(fromName)) {
    name = (_a2 = fromName.video) === null || _a2 === void 0 ? void 0 : _a2.uri;
    if (name === void 0) {
      return void 0;
    }
  }
  if (typeof fromName === "string") {
    name = fromName;
  }
  if (name === void 0) {
    throw new Error("Could not extract file name from the provided input.");
  }
  if (name.startsWith("https://")) {
    const suffix = name.split("files/")[1];
    const match = suffix.match(/[a-z0-9]+/);
    if (match === null) {
      throw new Error(`Could not extract file name from URI ${name}`);
    }
    name = match[0];
  } else if (name.startsWith("files/")) {
    name = name.split("files/")[1];
  }
  return name;
}
function tModelsUrl(apiClient, baseModels) {
  let res;
  if (apiClient.isVertexAI()) {
    res = baseModels ? "publishers/google/models" : "models";
  } else {
    res = baseModels ? "models" : "tunedModels";
  }
  return res;
}
function tExtractModels(response) {
  for (const key of ["models", "tunedModels", "publisherModels"]) {
    if (hasField(response, key)) {
      return response[key];
    }
  }
  return [];
}
function hasField(data, fieldName) {
  return data !== null && typeof data === "object" && fieldName in data;
}
function mcpToGeminiTool(mcpTool, config = {}) {
  const mcpToolSchema = mcpTool;
  const functionDeclaration = {
    name: mcpToolSchema["name"],
    description: mcpToolSchema["description"],
    parametersJsonSchema: mcpToolSchema["inputSchema"]
  };
  if (mcpToolSchema["outputSchema"]) {
    functionDeclaration["responseJsonSchema"] = mcpToolSchema["outputSchema"];
  }
  if (config.behavior) {
    functionDeclaration["behavior"] = config.behavior;
  }
  const geminiTool = {
    functionDeclarations: [
      functionDeclaration
    ]
  };
  return geminiTool;
}
function mcpToolsToGeminiTool(mcpTools, config = {}) {
  const functionDeclarations = [];
  const toolNames = /* @__PURE__ */ new Set();
  for (const mcpTool of mcpTools) {
    const mcpToolName = mcpTool.name;
    if (toolNames.has(mcpToolName)) {
      throw new Error(`Duplicate function name ${mcpToolName} found in MCP tools. Please ensure function names are unique.`);
    }
    toolNames.add(mcpToolName);
    const geminiTool = mcpToGeminiTool(mcpTool, config);
    if (geminiTool.functionDeclarations) {
      functionDeclarations.push(...geminiTool.functionDeclarations);
    }
  }
  return { functionDeclarations };
}
function tBatchJobSource(client, src) {
  let sourceObj;
  if (typeof src === "string") {
    if (client.isVertexAI()) {
      if (src.startsWith("gs://")) {
        sourceObj = { format: "jsonl", gcsUri: [src] };
      } else if (src.startsWith("bq://")) {
        sourceObj = { format: "bigquery", bigqueryUri: src };
      } else {
        throw new Error(`Unsupported string source for Vertex AI: ${src}`);
      }
    } else {
      if (src.startsWith("files/")) {
        sourceObj = { fileName: src };
      } else {
        throw new Error(`Unsupported string source for Gemini API: ${src}`);
      }
    }
  } else if (Array.isArray(src)) {
    if (client.isVertexAI()) {
      throw new Error("InlinedRequest[] is not supported in Vertex AI.");
    }
    sourceObj = { inlinedRequests: src };
  } else {
    sourceObj = src;
  }
  const vertexSourcesCount = [sourceObj.gcsUri, sourceObj.bigqueryUri].filter(Boolean).length;
  const mldevSourcesCount = [
    sourceObj.inlinedRequests,
    sourceObj.fileName
  ].filter(Boolean).length;
  if (client.isVertexAI()) {
    if (mldevSourcesCount > 0 || vertexSourcesCount !== 1) {
      throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.");
    }
  } else {
    if (vertexSourcesCount > 0 || mldevSourcesCount !== 1) {
      throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");
    }
  }
  return sourceObj;
}
function tBatchJobDestination(dest) {
  if (typeof dest !== "string") {
    return dest;
  }
  const destString = dest;
  if (destString.startsWith("gs://")) {
    return {
      format: "jsonl",
      gcsUri: destString
    };
  } else if (destString.startsWith("bq://")) {
    return {
      format: "bigquery",
      bigqueryUri: destString
    };
  } else {
    throw new Error(`Unsupported destination: ${destString}`);
  }
}
function tRecvBatchJobDestination(dest) {
  if (typeof dest !== "object" || dest === null) {
    return {};
  }
  const obj = dest;
  const inlineResponsesVal = obj["inlinedResponses"];
  if (typeof inlineResponsesVal !== "object" || inlineResponsesVal === null) {
    return dest;
  }
  const inlineResponsesObj = inlineResponsesVal;
  const responsesArray = inlineResponsesObj["inlinedResponses"];
  if (!Array.isArray(responsesArray) || responsesArray.length === 0) {
    return dest;
  }
  let hasEmbedding = false;
  for (const responseItem of responsesArray) {
    if (typeof responseItem !== "object" || responseItem === null) {
      continue;
    }
    const responseItemObj = responseItem;
    const responseVal = responseItemObj["response"];
    if (typeof responseVal !== "object" || responseVal === null) {
      continue;
    }
    const responseObj = responseVal;
    if (responseObj["embedding"] !== void 0) {
      hasEmbedding = true;
      break;
    }
  }
  if (hasEmbedding) {
    obj["inlinedEmbedContentResponses"] = obj["inlinedResponses"];
    delete obj["inlinedResponses"];
  }
  return dest;
}
function tBatchJobName(apiClient, name) {
  const nameString = name;
  if (!apiClient.isVertexAI()) {
    const mldevPattern = /batches\/[^/]+$/;
    if (mldevPattern.test(nameString)) {
      return nameString.split("/").pop();
    } else {
      throw new Error(`Invalid batch job name: ${nameString}.`);
    }
  }
  const vertexPattern = /^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/;
  if (vertexPattern.test(nameString)) {
    return nameString.split("/").pop();
  } else if (/^\d+$/.test(nameString)) {
    return nameString;
  } else {
    throw new Error(`Invalid batch job name: ${nameString}.`);
  }
}
function tJobState(state) {
  const stateString = state;
  if (stateString === "BATCH_STATE_UNSPECIFIED") {
    return "JOB_STATE_UNSPECIFIED";
  } else if (stateString === "BATCH_STATE_PENDING") {
    return "JOB_STATE_PENDING";
  } else if (stateString === "BATCH_STATE_RUNNING") {
    return "JOB_STATE_RUNNING";
  } else if (stateString === "BATCH_STATE_SUCCEEDED") {
    return "JOB_STATE_SUCCEEDED";
  } else if (stateString === "BATCH_STATE_FAILED") {
    return "JOB_STATE_FAILED";
  } else if (stateString === "BATCH_STATE_CANCELLED") {
    return "JOB_STATE_CANCELLED";
  } else if (stateString === "BATCH_STATE_EXPIRED") {
    return "JOB_STATE_EXPIRED";
  } else {
    return stateString;
  }
}
function batchJobDestinationFromMldev(fromObject) {
  const toObject = {};
  const fromFileName = getValueByPath(fromObject, ["responsesFile"]);
  if (fromFileName != null) {
    setValueByPath(toObject, ["fileName"], fromFileName);
  }
  const fromInlinedResponses = getValueByPath(fromObject, [
    "inlinedResponses",
    "inlinedResponses"
  ]);
  if (fromInlinedResponses != null) {
    let transformedList = fromInlinedResponses;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return inlinedResponseFromMldev(item);
      });
    }
    setValueByPath(toObject, ["inlinedResponses"], transformedList);
  }
  const fromInlinedEmbedContentResponses = getValueByPath(fromObject, [
    "inlinedEmbedContentResponses",
    "inlinedResponses"
  ]);
  if (fromInlinedEmbedContentResponses != null) {
    let transformedList = fromInlinedEmbedContentResponses;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["inlinedEmbedContentResponses"], transformedList);
  }
  return toObject;
}
function batchJobDestinationFromVertex(fromObject) {
  const toObject = {};
  const fromFormat = getValueByPath(fromObject, ["predictionsFormat"]);
  if (fromFormat != null) {
    setValueByPath(toObject, ["format"], fromFormat);
  }
  const fromGcsUri = getValueByPath(fromObject, [
    "gcsDestination",
    "outputUriPrefix"
  ]);
  if (fromGcsUri != null) {
    setValueByPath(toObject, ["gcsUri"], fromGcsUri);
  }
  const fromBigqueryUri = getValueByPath(fromObject, [
    "bigqueryDestination",
    "outputUri"
  ]);
  if (fromBigqueryUri != null) {
    setValueByPath(toObject, ["bigqueryUri"], fromBigqueryUri);
  }
  return toObject;
}
function batchJobDestinationToVertex(fromObject) {
  const toObject = {};
  const fromFormat = getValueByPath(fromObject, ["format"]);
  if (fromFormat != null) {
    setValueByPath(toObject, ["predictionsFormat"], fromFormat);
  }
  const fromGcsUri = getValueByPath(fromObject, ["gcsUri"]);
  if (fromGcsUri != null) {
    setValueByPath(toObject, ["gcsDestination", "outputUriPrefix"], fromGcsUri);
  }
  const fromBigqueryUri = getValueByPath(fromObject, ["bigqueryUri"]);
  if (fromBigqueryUri != null) {
    setValueByPath(toObject, ["bigqueryDestination", "outputUri"], fromBigqueryUri);
  }
  if (getValueByPath(fromObject, ["fileName"]) !== void 0) {
    throw new Error("fileName parameter is not supported in Vertex AI.");
  }
  if (getValueByPath(fromObject, ["inlinedResponses"]) !== void 0) {
    throw new Error("inlinedResponses parameter is not supported in Vertex AI.");
  }
  if (getValueByPath(fromObject, ["inlinedEmbedContentResponses"]) !== void 0) {
    throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");
  }
  return toObject;
}
function batchJobFromMldev(fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromDisplayName = getValueByPath(fromObject, [
    "metadata",
    "displayName"
  ]);
  if (fromDisplayName != null) {
    setValueByPath(toObject, ["displayName"], fromDisplayName);
  }
  const fromState = getValueByPath(fromObject, ["metadata", "state"]);
  if (fromState != null) {
    setValueByPath(toObject, ["state"], tJobState(fromState));
  }
  const fromCreateTime = getValueByPath(fromObject, [
    "metadata",
    "createTime"
  ]);
  if (fromCreateTime != null) {
    setValueByPath(toObject, ["createTime"], fromCreateTime);
  }
  const fromEndTime = getValueByPath(fromObject, [
    "metadata",
    "endTime"
  ]);
  if (fromEndTime != null) {
    setValueByPath(toObject, ["endTime"], fromEndTime);
  }
  const fromUpdateTime = getValueByPath(fromObject, [
    "metadata",
    "updateTime"
  ]);
  if (fromUpdateTime != null) {
    setValueByPath(toObject, ["updateTime"], fromUpdateTime);
  }
  const fromModel = getValueByPath(fromObject, ["metadata", "model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["model"], fromModel);
  }
  const fromDest = getValueByPath(fromObject, ["metadata", "output"]);
  if (fromDest != null) {
    setValueByPath(toObject, ["dest"], batchJobDestinationFromMldev(tRecvBatchJobDestination(fromDest)));
  }
  return toObject;
}
function batchJobFromVertex(fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (fromDisplayName != null) {
    setValueByPath(toObject, ["displayName"], fromDisplayName);
  }
  const fromState = getValueByPath(fromObject, ["state"]);
  if (fromState != null) {
    setValueByPath(toObject, ["state"], tJobState(fromState));
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fromError);
  }
  const fromCreateTime = getValueByPath(fromObject, ["createTime"]);
  if (fromCreateTime != null) {
    setValueByPath(toObject, ["createTime"], fromCreateTime);
  }
  const fromStartTime = getValueByPath(fromObject, ["startTime"]);
  if (fromStartTime != null) {
    setValueByPath(toObject, ["startTime"], fromStartTime);
  }
  const fromEndTime = getValueByPath(fromObject, ["endTime"]);
  if (fromEndTime != null) {
    setValueByPath(toObject, ["endTime"], fromEndTime);
  }
  const fromUpdateTime = getValueByPath(fromObject, ["updateTime"]);
  if (fromUpdateTime != null) {
    setValueByPath(toObject, ["updateTime"], fromUpdateTime);
  }
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["model"], fromModel);
  }
  const fromSrc = getValueByPath(fromObject, ["inputConfig"]);
  if (fromSrc != null) {
    setValueByPath(toObject, ["src"], batchJobSourceFromVertex(fromSrc));
  }
  const fromDest = getValueByPath(fromObject, ["outputConfig"]);
  if (fromDest != null) {
    setValueByPath(toObject, ["dest"], batchJobDestinationFromVertex(tRecvBatchJobDestination(fromDest)));
  }
  const fromCompletionStats = getValueByPath(fromObject, [
    "completionStats"
  ]);
  if (fromCompletionStats != null) {
    setValueByPath(toObject, ["completionStats"], fromCompletionStats);
  }
  return toObject;
}
function batchJobSourceFromVertex(fromObject) {
  const toObject = {};
  const fromFormat = getValueByPath(fromObject, ["instancesFormat"]);
  if (fromFormat != null) {
    setValueByPath(toObject, ["format"], fromFormat);
  }
  const fromGcsUri = getValueByPath(fromObject, ["gcsSource", "uris"]);
  if (fromGcsUri != null) {
    setValueByPath(toObject, ["gcsUri"], fromGcsUri);
  }
  const fromBigqueryUri = getValueByPath(fromObject, [
    "bigquerySource",
    "inputUri"
  ]);
  if (fromBigqueryUri != null) {
    setValueByPath(toObject, ["bigqueryUri"], fromBigqueryUri);
  }
  return toObject;
}
function batchJobSourceToMldev(apiClient, fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["format"]) !== void 0) {
    throw new Error("format parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["gcsUri"]) !== void 0) {
    throw new Error("gcsUri parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["bigqueryUri"]) !== void 0) {
    throw new Error("bigqueryUri parameter is not supported in Gemini API.");
  }
  const fromFileName = getValueByPath(fromObject, ["fileName"]);
  if (fromFileName != null) {
    setValueByPath(toObject, ["fileName"], fromFileName);
  }
  const fromInlinedRequests = getValueByPath(fromObject, [
    "inlinedRequests"
  ]);
  if (fromInlinedRequests != null) {
    let transformedList = fromInlinedRequests;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return inlinedRequestToMldev(apiClient, item);
      });
    }
    setValueByPath(toObject, ["requests", "requests"], transformedList);
  }
  return toObject;
}
function batchJobSourceToVertex(fromObject) {
  const toObject = {};
  const fromFormat = getValueByPath(fromObject, ["format"]);
  if (fromFormat != null) {
    setValueByPath(toObject, ["instancesFormat"], fromFormat);
  }
  const fromGcsUri = getValueByPath(fromObject, ["gcsUri"]);
  if (fromGcsUri != null) {
    setValueByPath(toObject, ["gcsSource", "uris"], fromGcsUri);
  }
  const fromBigqueryUri = getValueByPath(fromObject, ["bigqueryUri"]);
  if (fromBigqueryUri != null) {
    setValueByPath(toObject, ["bigquerySource", "inputUri"], fromBigqueryUri);
  }
  if (getValueByPath(fromObject, ["fileName"]) !== void 0) {
    throw new Error("fileName parameter is not supported in Vertex AI.");
  }
  if (getValueByPath(fromObject, ["inlinedRequests"]) !== void 0) {
    throw new Error("inlinedRequests parameter is not supported in Vertex AI.");
  }
  return toObject;
}
function blobToMldev$4(fromObject) {
  const toObject = {};
  const fromData = getValueByPath(fromObject, ["data"]);
  if (fromData != null) {
    setValueByPath(toObject, ["data"], fromData);
  }
  if (getValueByPath(fromObject, ["displayName"]) !== void 0) {
    throw new Error("displayName parameter is not supported in Gemini API.");
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function cancelBatchJobParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tBatchJobName(apiClient, fromName));
  }
  return toObject;
}
function cancelBatchJobParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tBatchJobName(apiClient, fromName));
  }
  return toObject;
}
function candidateFromMldev$1(fromObject) {
  const toObject = {};
  const fromContent = getValueByPath(fromObject, ["content"]);
  if (fromContent != null) {
    setValueByPath(toObject, ["content"], fromContent);
  }
  const fromCitationMetadata = getValueByPath(fromObject, [
    "citationMetadata"
  ]);
  if (fromCitationMetadata != null) {
    setValueByPath(toObject, ["citationMetadata"], citationMetadataFromMldev$1(fromCitationMetadata));
  }
  const fromTokenCount = getValueByPath(fromObject, ["tokenCount"]);
  if (fromTokenCount != null) {
    setValueByPath(toObject, ["tokenCount"], fromTokenCount);
  }
  const fromFinishReason = getValueByPath(fromObject, ["finishReason"]);
  if (fromFinishReason != null) {
    setValueByPath(toObject, ["finishReason"], fromFinishReason);
  }
  const fromAvgLogprobs = getValueByPath(fromObject, ["avgLogprobs"]);
  if (fromAvgLogprobs != null) {
    setValueByPath(toObject, ["avgLogprobs"], fromAvgLogprobs);
  }
  const fromGroundingMetadata = getValueByPath(fromObject, [
    "groundingMetadata"
  ]);
  if (fromGroundingMetadata != null) {
    setValueByPath(toObject, ["groundingMetadata"], fromGroundingMetadata);
  }
  const fromIndex = getValueByPath(fromObject, ["index"]);
  if (fromIndex != null) {
    setValueByPath(toObject, ["index"], fromIndex);
  }
  const fromLogprobsResult = getValueByPath(fromObject, [
    "logprobsResult"
  ]);
  if (fromLogprobsResult != null) {
    setValueByPath(toObject, ["logprobsResult"], fromLogprobsResult);
  }
  const fromSafetyRatings = getValueByPath(fromObject, [
    "safetyRatings"
  ]);
  if (fromSafetyRatings != null) {
    let transformedList = fromSafetyRatings;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["safetyRatings"], transformedList);
  }
  const fromUrlContextMetadata = getValueByPath(fromObject, [
    "urlContextMetadata"
  ]);
  if (fromUrlContextMetadata != null) {
    setValueByPath(toObject, ["urlContextMetadata"], fromUrlContextMetadata);
  }
  return toObject;
}
function citationMetadataFromMldev$1(fromObject) {
  const toObject = {};
  const fromCitations = getValueByPath(fromObject, ["citationSources"]);
  if (fromCitations != null) {
    let transformedList = fromCitations;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["citations"], transformedList);
  }
  return toObject;
}
function contentToMldev$4(fromObject) {
  const toObject = {};
  const fromParts = getValueByPath(fromObject, ["parts"]);
  if (fromParts != null) {
    let transformedList = fromParts;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return partToMldev$4(item);
      });
    }
    setValueByPath(toObject, ["parts"], transformedList);
  }
  const fromRole = getValueByPath(fromObject, ["role"]);
  if (fromRole != null) {
    setValueByPath(toObject, ["role"], fromRole);
  }
  return toObject;
}
function createBatchJobConfigToMldev(fromObject, parentObject) {
  const toObject = {};
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (parentObject !== void 0 && fromDisplayName != null) {
    setValueByPath(parentObject, ["batch", "displayName"], fromDisplayName);
  }
  if (getValueByPath(fromObject, ["dest"]) !== void 0) {
    throw new Error("dest parameter is not supported in Gemini API.");
  }
  return toObject;
}
function createBatchJobConfigToVertex(fromObject, parentObject) {
  const toObject = {};
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (parentObject !== void 0 && fromDisplayName != null) {
    setValueByPath(parentObject, ["displayName"], fromDisplayName);
  }
  const fromDest = getValueByPath(fromObject, ["dest"]);
  if (parentObject !== void 0 && fromDest != null) {
    setValueByPath(parentObject, ["outputConfig"], batchJobDestinationToVertex(tBatchJobDestination(fromDest)));
  }
  return toObject;
}
function createBatchJobParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromSrc = getValueByPath(fromObject, ["src"]);
  if (fromSrc != null) {
    setValueByPath(toObject, ["batch", "inputConfig"], batchJobSourceToMldev(apiClient, tBatchJobSource(apiClient, fromSrc)));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    createBatchJobConfigToMldev(fromConfig, toObject);
  }
  return toObject;
}
function createBatchJobParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["model"], tModel(apiClient, fromModel));
  }
  const fromSrc = getValueByPath(fromObject, ["src"]);
  if (fromSrc != null) {
    setValueByPath(toObject, ["inputConfig"], batchJobSourceToVertex(tBatchJobSource(apiClient, fromSrc)));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    createBatchJobConfigToVertex(fromConfig, toObject);
  }
  return toObject;
}
function createEmbeddingsBatchJobConfigToMldev(fromObject, parentObject) {
  const toObject = {};
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (parentObject !== void 0 && fromDisplayName != null) {
    setValueByPath(parentObject, ["batch", "displayName"], fromDisplayName);
  }
  return toObject;
}
function createEmbeddingsBatchJobParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromSrc = getValueByPath(fromObject, ["src"]);
  if (fromSrc != null) {
    setValueByPath(toObject, ["batch", "inputConfig"], embeddingsBatchJobSourceToMldev(apiClient, fromSrc));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    createEmbeddingsBatchJobConfigToMldev(fromConfig, toObject);
  }
  return toObject;
}
function deleteBatchJobParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tBatchJobName(apiClient, fromName));
  }
  return toObject;
}
function deleteBatchJobParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tBatchJobName(apiClient, fromName));
  }
  return toObject;
}
function deleteResourceJobFromMldev(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromDone = getValueByPath(fromObject, ["done"]);
  if (fromDone != null) {
    setValueByPath(toObject, ["done"], fromDone);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fromError);
  }
  return toObject;
}
function deleteResourceJobFromVertex(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromDone = getValueByPath(fromObject, ["done"]);
  if (fromDone != null) {
    setValueByPath(toObject, ["done"], fromDone);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fromError);
  }
  return toObject;
}
function embedContentBatchToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    let transformedList = tContentsForEmbed(apiClient, fromContents);
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["requests[]", "request", "content"], transformedList);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["_self"], embedContentConfigToMldev$1(fromConfig, toObject));
    moveValueByPath(toObject, { "requests[].*": "requests[].request.*" });
  }
  return toObject;
}
function embedContentConfigToMldev$1(fromObject, parentObject) {
  const toObject = {};
  const fromTaskType = getValueByPath(fromObject, ["taskType"]);
  if (parentObject !== void 0 && fromTaskType != null) {
    setValueByPath(parentObject, ["requests[]", "taskType"], fromTaskType);
  }
  const fromTitle = getValueByPath(fromObject, ["title"]);
  if (parentObject !== void 0 && fromTitle != null) {
    setValueByPath(parentObject, ["requests[]", "title"], fromTitle);
  }
  const fromOutputDimensionality = getValueByPath(fromObject, [
    "outputDimensionality"
  ]);
  if (parentObject !== void 0 && fromOutputDimensionality != null) {
    setValueByPath(parentObject, ["requests[]", "outputDimensionality"], fromOutputDimensionality);
  }
  if (getValueByPath(fromObject, ["mimeType"]) !== void 0) {
    throw new Error("mimeType parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["autoTruncate"]) !== void 0) {
    throw new Error("autoTruncate parameter is not supported in Gemini API.");
  }
  return toObject;
}
function embeddingsBatchJobSourceToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromFileName = getValueByPath(fromObject, ["fileName"]);
  if (fromFileName != null) {
    setValueByPath(toObject, ["file_name"], fromFileName);
  }
  const fromInlinedRequests = getValueByPath(fromObject, [
    "inlinedRequests"
  ]);
  if (fromInlinedRequests != null) {
    setValueByPath(toObject, ["requests"], embedContentBatchToMldev(apiClient, fromInlinedRequests));
  }
  return toObject;
}
function fileDataToMldev$4(fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["displayName"]) !== void 0) {
    throw new Error("displayName parameter is not supported in Gemini API.");
  }
  const fromFileUri = getValueByPath(fromObject, ["fileUri"]);
  if (fromFileUri != null) {
    setValueByPath(toObject, ["fileUri"], fromFileUri);
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function functionCallToMldev$4(fromObject) {
  const toObject = {};
  const fromId = getValueByPath(fromObject, ["id"]);
  if (fromId != null) {
    setValueByPath(toObject, ["id"], fromId);
  }
  const fromArgs = getValueByPath(fromObject, ["args"]);
  if (fromArgs != null) {
    setValueByPath(toObject, ["args"], fromArgs);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  if (getValueByPath(fromObject, ["partialArgs"]) !== void 0) {
    throw new Error("partialArgs parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["willContinue"]) !== void 0) {
    throw new Error("willContinue parameter is not supported in Gemini API.");
  }
  return toObject;
}
function functionCallingConfigToMldev$2(fromObject) {
  const toObject = {};
  const fromMode = getValueByPath(fromObject, ["mode"]);
  if (fromMode != null) {
    setValueByPath(toObject, ["mode"], fromMode);
  }
  const fromAllowedFunctionNames = getValueByPath(fromObject, [
    "allowedFunctionNames"
  ]);
  if (fromAllowedFunctionNames != null) {
    setValueByPath(toObject, ["allowedFunctionNames"], fromAllowedFunctionNames);
  }
  if (getValueByPath(fromObject, ["streamFunctionCallArguments"]) !== void 0) {
    throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");
  }
  return toObject;
}
function generateContentConfigToMldev$1(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (parentObject !== void 0 && fromSystemInstruction != null) {
    setValueByPath(parentObject, ["systemInstruction"], contentToMldev$4(tContent(fromSystemInstruction)));
  }
  const fromTemperature = getValueByPath(fromObject, ["temperature"]);
  if (fromTemperature != null) {
    setValueByPath(toObject, ["temperature"], fromTemperature);
  }
  const fromTopP = getValueByPath(fromObject, ["topP"]);
  if (fromTopP != null) {
    setValueByPath(toObject, ["topP"], fromTopP);
  }
  const fromTopK = getValueByPath(fromObject, ["topK"]);
  if (fromTopK != null) {
    setValueByPath(toObject, ["topK"], fromTopK);
  }
  const fromCandidateCount = getValueByPath(fromObject, [
    "candidateCount"
  ]);
  if (fromCandidateCount != null) {
    setValueByPath(toObject, ["candidateCount"], fromCandidateCount);
  }
  const fromMaxOutputTokens = getValueByPath(fromObject, [
    "maxOutputTokens"
  ]);
  if (fromMaxOutputTokens != null) {
    setValueByPath(toObject, ["maxOutputTokens"], fromMaxOutputTokens);
  }
  const fromStopSequences = getValueByPath(fromObject, [
    "stopSequences"
  ]);
  if (fromStopSequences != null) {
    setValueByPath(toObject, ["stopSequences"], fromStopSequences);
  }
  const fromResponseLogprobs = getValueByPath(fromObject, [
    "responseLogprobs"
  ]);
  if (fromResponseLogprobs != null) {
    setValueByPath(toObject, ["responseLogprobs"], fromResponseLogprobs);
  }
  const fromLogprobs = getValueByPath(fromObject, ["logprobs"]);
  if (fromLogprobs != null) {
    setValueByPath(toObject, ["logprobs"], fromLogprobs);
  }
  const fromPresencePenalty = getValueByPath(fromObject, [
    "presencePenalty"
  ]);
  if (fromPresencePenalty != null) {
    setValueByPath(toObject, ["presencePenalty"], fromPresencePenalty);
  }
  const fromFrequencyPenalty = getValueByPath(fromObject, [
    "frequencyPenalty"
  ]);
  if (fromFrequencyPenalty != null) {
    setValueByPath(toObject, ["frequencyPenalty"], fromFrequencyPenalty);
  }
  const fromSeed = getValueByPath(fromObject, ["seed"]);
  if (fromSeed != null) {
    setValueByPath(toObject, ["seed"], fromSeed);
  }
  const fromResponseMimeType = getValueByPath(fromObject, [
    "responseMimeType"
  ]);
  if (fromResponseMimeType != null) {
    setValueByPath(toObject, ["responseMimeType"], fromResponseMimeType);
  }
  const fromResponseSchema = getValueByPath(fromObject, [
    "responseSchema"
  ]);
  if (fromResponseSchema != null) {
    setValueByPath(toObject, ["responseSchema"], tSchema(fromResponseSchema));
  }
  const fromResponseJsonSchema = getValueByPath(fromObject, [
    "responseJsonSchema"
  ]);
  if (fromResponseJsonSchema != null) {
    setValueByPath(toObject, ["responseJsonSchema"], fromResponseJsonSchema);
  }
  if (getValueByPath(fromObject, ["routingConfig"]) !== void 0) {
    throw new Error("routingConfig parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["modelSelectionConfig"]) !== void 0) {
    throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");
  }
  const fromSafetySettings = getValueByPath(fromObject, [
    "safetySettings"
  ]);
  if (parentObject !== void 0 && fromSafetySettings != null) {
    let transformedList = fromSafetySettings;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return safetySettingToMldev$1(item);
      });
    }
    setValueByPath(parentObject, ["safetySettings"], transformedList);
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (parentObject !== void 0 && fromTools != null) {
    let transformedList = tTools(fromTools);
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return toolToMldev$4(tTool(item));
      });
    }
    setValueByPath(parentObject, ["tools"], transformedList);
  }
  const fromToolConfig = getValueByPath(fromObject, ["toolConfig"]);
  if (parentObject !== void 0 && fromToolConfig != null) {
    setValueByPath(parentObject, ["toolConfig"], toolConfigToMldev$2(fromToolConfig));
  }
  if (getValueByPath(fromObject, ["labels"]) !== void 0) {
    throw new Error("labels parameter is not supported in Gemini API.");
  }
  const fromCachedContent = getValueByPath(fromObject, [
    "cachedContent"
  ]);
  if (parentObject !== void 0 && fromCachedContent != null) {
    setValueByPath(parentObject, ["cachedContent"], tCachedContentName(apiClient, fromCachedContent));
  }
  const fromResponseModalities = getValueByPath(fromObject, [
    "responseModalities"
  ]);
  if (fromResponseModalities != null) {
    setValueByPath(toObject, ["responseModalities"], fromResponseModalities);
  }
  const fromMediaResolution = getValueByPath(fromObject, [
    "mediaResolution"
  ]);
  if (fromMediaResolution != null) {
    setValueByPath(toObject, ["mediaResolution"], fromMediaResolution);
  }
  const fromSpeechConfig = getValueByPath(fromObject, ["speechConfig"]);
  if (fromSpeechConfig != null) {
    setValueByPath(toObject, ["speechConfig"], tSpeechConfig(fromSpeechConfig));
  }
  if (getValueByPath(fromObject, ["audioTimestamp"]) !== void 0) {
    throw new Error("audioTimestamp parameter is not supported in Gemini API.");
  }
  const fromThinkingConfig = getValueByPath(fromObject, [
    "thinkingConfig"
  ]);
  if (fromThinkingConfig != null) {
    setValueByPath(toObject, ["thinkingConfig"], fromThinkingConfig);
  }
  const fromImageConfig = getValueByPath(fromObject, ["imageConfig"]);
  if (fromImageConfig != null) {
    setValueByPath(toObject, ["imageConfig"], imageConfigToMldev$1(fromImageConfig));
  }
  const fromEnableEnhancedCivicAnswers = getValueByPath(fromObject, [
    "enableEnhancedCivicAnswers"
  ]);
  if (fromEnableEnhancedCivicAnswers != null) {
    setValueByPath(toObject, ["enableEnhancedCivicAnswers"], fromEnableEnhancedCivicAnswers);
  }
  return toObject;
}
function generateContentResponseFromMldev$1(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromCandidates = getValueByPath(fromObject, ["candidates"]);
  if (fromCandidates != null) {
    let transformedList = fromCandidates;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return candidateFromMldev$1(item);
      });
    }
    setValueByPath(toObject, ["candidates"], transformedList);
  }
  const fromModelVersion = getValueByPath(fromObject, ["modelVersion"]);
  if (fromModelVersion != null) {
    setValueByPath(toObject, ["modelVersion"], fromModelVersion);
  }
  const fromPromptFeedback = getValueByPath(fromObject, [
    "promptFeedback"
  ]);
  if (fromPromptFeedback != null) {
    setValueByPath(toObject, ["promptFeedback"], fromPromptFeedback);
  }
  const fromResponseId = getValueByPath(fromObject, ["responseId"]);
  if (fromResponseId != null) {
    setValueByPath(toObject, ["responseId"], fromResponseId);
  }
  const fromUsageMetadata = getValueByPath(fromObject, [
    "usageMetadata"
  ]);
  if (fromUsageMetadata != null) {
    setValueByPath(toObject, ["usageMetadata"], fromUsageMetadata);
  }
  return toObject;
}
function getBatchJobParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tBatchJobName(apiClient, fromName));
  }
  return toObject;
}
function getBatchJobParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tBatchJobName(apiClient, fromName));
  }
  return toObject;
}
function googleMapsToMldev$4(fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["authConfig"]) !== void 0) {
    throw new Error("authConfig parameter is not supported in Gemini API.");
  }
  const fromEnableWidget = getValueByPath(fromObject, ["enableWidget"]);
  if (fromEnableWidget != null) {
    setValueByPath(toObject, ["enableWidget"], fromEnableWidget);
  }
  return toObject;
}
function googleSearchToMldev$4(fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["excludeDomains"]) !== void 0) {
    throw new Error("excludeDomains parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["blockingConfidence"]) !== void 0) {
    throw new Error("blockingConfidence parameter is not supported in Gemini API.");
  }
  const fromTimeRangeFilter = getValueByPath(fromObject, [
    "timeRangeFilter"
  ]);
  if (fromTimeRangeFilter != null) {
    setValueByPath(toObject, ["timeRangeFilter"], fromTimeRangeFilter);
  }
  return toObject;
}
function imageConfigToMldev$1(fromObject) {
  const toObject = {};
  const fromAspectRatio = getValueByPath(fromObject, ["aspectRatio"]);
  if (fromAspectRatio != null) {
    setValueByPath(toObject, ["aspectRatio"], fromAspectRatio);
  }
  const fromImageSize = getValueByPath(fromObject, ["imageSize"]);
  if (fromImageSize != null) {
    setValueByPath(toObject, ["imageSize"], fromImageSize);
  }
  if (getValueByPath(fromObject, ["outputMimeType"]) !== void 0) {
    throw new Error("outputMimeType parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["outputCompressionQuality"]) !== void 0) {
    throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");
  }
  return toObject;
}
function inlinedRequestToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["request", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    let transformedList = tContents(fromContents);
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return contentToMldev$4(item);
      });
    }
    setValueByPath(toObject, ["request", "contents"], transformedList);
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], fromMetadata);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["request", "generationConfig"], generateContentConfigToMldev$1(apiClient, fromConfig, getValueByPath(toObject, ["request"], {})));
  }
  return toObject;
}
function inlinedResponseFromMldev(fromObject) {
  const toObject = {};
  const fromResponse = getValueByPath(fromObject, ["response"]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], generateContentResponseFromMldev$1(fromResponse));
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fromError);
  }
  return toObject;
}
function listBatchJobsConfigToMldev(fromObject, parentObject) {
  const toObject = {};
  const fromPageSize = getValueByPath(fromObject, ["pageSize"]);
  if (parentObject !== void 0 && fromPageSize != null) {
    setValueByPath(parentObject, ["_query", "pageSize"], fromPageSize);
  }
  const fromPageToken = getValueByPath(fromObject, ["pageToken"]);
  if (parentObject !== void 0 && fromPageToken != null) {
    setValueByPath(parentObject, ["_query", "pageToken"], fromPageToken);
  }
  if (getValueByPath(fromObject, ["filter"]) !== void 0) {
    throw new Error("filter parameter is not supported in Gemini API.");
  }
  return toObject;
}
function listBatchJobsConfigToVertex(fromObject, parentObject) {
  const toObject = {};
  const fromPageSize = getValueByPath(fromObject, ["pageSize"]);
  if (parentObject !== void 0 && fromPageSize != null) {
    setValueByPath(parentObject, ["_query", "pageSize"], fromPageSize);
  }
  const fromPageToken = getValueByPath(fromObject, ["pageToken"]);
  if (parentObject !== void 0 && fromPageToken != null) {
    setValueByPath(parentObject, ["_query", "pageToken"], fromPageToken);
  }
  const fromFilter = getValueByPath(fromObject, ["filter"]);
  if (parentObject !== void 0 && fromFilter != null) {
    setValueByPath(parentObject, ["_query", "filter"], fromFilter);
  }
  return toObject;
}
function listBatchJobsParametersToMldev(fromObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    listBatchJobsConfigToMldev(fromConfig, toObject);
  }
  return toObject;
}
function listBatchJobsParametersToVertex(fromObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    listBatchJobsConfigToVertex(fromConfig, toObject);
  }
  return toObject;
}
function listBatchJobsResponseFromMldev(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromNextPageToken = getValueByPath(fromObject, [
    "nextPageToken"
  ]);
  if (fromNextPageToken != null) {
    setValueByPath(toObject, ["nextPageToken"], fromNextPageToken);
  }
  const fromBatchJobs = getValueByPath(fromObject, ["operations"]);
  if (fromBatchJobs != null) {
    let transformedList = fromBatchJobs;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return batchJobFromMldev(item);
      });
    }
    setValueByPath(toObject, ["batchJobs"], transformedList);
  }
  return toObject;
}
function listBatchJobsResponseFromVertex(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromNextPageToken = getValueByPath(fromObject, [
    "nextPageToken"
  ]);
  if (fromNextPageToken != null) {
    setValueByPath(toObject, ["nextPageToken"], fromNextPageToken);
  }
  const fromBatchJobs = getValueByPath(fromObject, [
    "batchPredictionJobs"
  ]);
  if (fromBatchJobs != null) {
    let transformedList = fromBatchJobs;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return batchJobFromVertex(item);
      });
    }
    setValueByPath(toObject, ["batchJobs"], transformedList);
  }
  return toObject;
}
function partToMldev$4(fromObject) {
  const toObject = {};
  const fromMediaResolution = getValueByPath(fromObject, [
    "mediaResolution"
  ]);
  if (fromMediaResolution != null) {
    setValueByPath(toObject, ["mediaResolution"], fromMediaResolution);
  }
  const fromCodeExecutionResult = getValueByPath(fromObject, [
    "codeExecutionResult"
  ]);
  if (fromCodeExecutionResult != null) {
    setValueByPath(toObject, ["codeExecutionResult"], fromCodeExecutionResult);
  }
  const fromExecutableCode = getValueByPath(fromObject, [
    "executableCode"
  ]);
  if (fromExecutableCode != null) {
    setValueByPath(toObject, ["executableCode"], fromExecutableCode);
  }
  const fromFileData = getValueByPath(fromObject, ["fileData"]);
  if (fromFileData != null) {
    setValueByPath(toObject, ["fileData"], fileDataToMldev$4(fromFileData));
  }
  const fromFunctionCall = getValueByPath(fromObject, ["functionCall"]);
  if (fromFunctionCall != null) {
    setValueByPath(toObject, ["functionCall"], functionCallToMldev$4(fromFunctionCall));
  }
  const fromFunctionResponse = getValueByPath(fromObject, [
    "functionResponse"
  ]);
  if (fromFunctionResponse != null) {
    setValueByPath(toObject, ["functionResponse"], fromFunctionResponse);
  }
  const fromInlineData = getValueByPath(fromObject, ["inlineData"]);
  if (fromInlineData != null) {
    setValueByPath(toObject, ["inlineData"], blobToMldev$4(fromInlineData));
  }
  const fromText = getValueByPath(fromObject, ["text"]);
  if (fromText != null) {
    setValueByPath(toObject, ["text"], fromText);
  }
  const fromThought = getValueByPath(fromObject, ["thought"]);
  if (fromThought != null) {
    setValueByPath(toObject, ["thought"], fromThought);
  }
  const fromThoughtSignature = getValueByPath(fromObject, [
    "thoughtSignature"
  ]);
  if (fromThoughtSignature != null) {
    setValueByPath(toObject, ["thoughtSignature"], fromThoughtSignature);
  }
  const fromVideoMetadata = getValueByPath(fromObject, [
    "videoMetadata"
  ]);
  if (fromVideoMetadata != null) {
    setValueByPath(toObject, ["videoMetadata"], fromVideoMetadata);
  }
  return toObject;
}
function safetySettingToMldev$1(fromObject) {
  const toObject = {};
  const fromCategory = getValueByPath(fromObject, ["category"]);
  if (fromCategory != null) {
    setValueByPath(toObject, ["category"], fromCategory);
  }
  if (getValueByPath(fromObject, ["method"]) !== void 0) {
    throw new Error("method parameter is not supported in Gemini API.");
  }
  const fromThreshold = getValueByPath(fromObject, ["threshold"]);
  if (fromThreshold != null) {
    setValueByPath(toObject, ["threshold"], fromThreshold);
  }
  return toObject;
}
function toolConfigToMldev$2(fromObject) {
  const toObject = {};
  const fromFunctionCallingConfig = getValueByPath(fromObject, [
    "functionCallingConfig"
  ]);
  if (fromFunctionCallingConfig != null) {
    setValueByPath(toObject, ["functionCallingConfig"], functionCallingConfigToMldev$2(fromFunctionCallingConfig));
  }
  const fromRetrievalConfig = getValueByPath(fromObject, [
    "retrievalConfig"
  ]);
  if (fromRetrievalConfig != null) {
    setValueByPath(toObject, ["retrievalConfig"], fromRetrievalConfig);
  }
  return toObject;
}
function toolToMldev$4(fromObject) {
  const toObject = {};
  const fromFunctionDeclarations = getValueByPath(fromObject, [
    "functionDeclarations"
  ]);
  if (fromFunctionDeclarations != null) {
    let transformedList = fromFunctionDeclarations;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["functionDeclarations"], transformedList);
  }
  if (getValueByPath(fromObject, ["retrieval"]) !== void 0) {
    throw new Error("retrieval parameter is not supported in Gemini API.");
  }
  const fromGoogleSearchRetrieval = getValueByPath(fromObject, [
    "googleSearchRetrieval"
  ]);
  if (fromGoogleSearchRetrieval != null) {
    setValueByPath(toObject, ["googleSearchRetrieval"], fromGoogleSearchRetrieval);
  }
  const fromComputerUse = getValueByPath(fromObject, ["computerUse"]);
  if (fromComputerUse != null) {
    setValueByPath(toObject, ["computerUse"], fromComputerUse);
  }
  const fromFileSearch = getValueByPath(fromObject, ["fileSearch"]);
  if (fromFileSearch != null) {
    setValueByPath(toObject, ["fileSearch"], fromFileSearch);
  }
  const fromCodeExecution = getValueByPath(fromObject, [
    "codeExecution"
  ]);
  if (fromCodeExecution != null) {
    setValueByPath(toObject, ["codeExecution"], fromCodeExecution);
  }
  if (getValueByPath(fromObject, ["enterpriseWebSearch"]) !== void 0) {
    throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");
  }
  const fromGoogleMaps = getValueByPath(fromObject, ["googleMaps"]);
  if (fromGoogleMaps != null) {
    setValueByPath(toObject, ["googleMaps"], googleMapsToMldev$4(fromGoogleMaps));
  }
  const fromGoogleSearch = getValueByPath(fromObject, ["googleSearch"]);
  if (fromGoogleSearch != null) {
    setValueByPath(toObject, ["googleSearch"], googleSearchToMldev$4(fromGoogleSearch));
  }
  const fromUrlContext = getValueByPath(fromObject, ["urlContext"]);
  if (fromUrlContext != null) {
    setValueByPath(toObject, ["urlContext"], fromUrlContext);
  }
  return toObject;
}
var PagedItem;
(function(PagedItem2) {
  PagedItem2["PAGED_ITEM_BATCH_JOBS"] = "batchJobs";
  PagedItem2["PAGED_ITEM_MODELS"] = "models";
  PagedItem2["PAGED_ITEM_TUNING_JOBS"] = "tuningJobs";
  PagedItem2["PAGED_ITEM_FILES"] = "files";
  PagedItem2["PAGED_ITEM_CACHED_CONTENTS"] = "cachedContents";
  PagedItem2["PAGED_ITEM_FILE_SEARCH_STORES"] = "fileSearchStores";
  PagedItem2["PAGED_ITEM_DOCUMENTS"] = "documents";
})(PagedItem || (PagedItem = {}));
var Pager = class {
  constructor(name, request, response, params) {
    this.pageInternal = [];
    this.paramsInternal = {};
    this.requestInternal = request;
    this.init(name, response, params);
  }
  init(name, response, params) {
    var _a2, _b;
    this.nameInternal = name;
    this.pageInternal = response[this.nameInternal] || [];
    this.sdkHttpResponseInternal = response === null || response === void 0 ? void 0 : response.sdkHttpResponse;
    this.idxInternal = 0;
    let requestParams = { config: {} };
    if (!params || Object.keys(params).length === 0) {
      requestParams = { config: {} };
    } else if (typeof params === "object") {
      requestParams = Object.assign({}, params);
    } else {
      requestParams = params;
    }
    if (requestParams["config"]) {
      requestParams["config"]["pageToken"] = response["nextPageToken"];
    }
    this.paramsInternal = requestParams;
    this.pageInternalSize = (_b = (_a2 = requestParams["config"]) === null || _a2 === void 0 ? void 0 : _a2["pageSize"]) !== null && _b !== void 0 ? _b : this.pageInternal.length;
  }
  initNextPage(response) {
    this.init(this.nameInternal, response, this.paramsInternal);
  }
  /**
   * Returns the current page, which is a list of items.
   *
   * @remarks
   * The first page is retrieved when the pager is created. The returned list of
   * items could be a subset of the entire list.
   */
  get page() {
    return this.pageInternal;
  }
  /**
   * Returns the type of paged item (for example, ``batch_jobs``).
   */
  get name() {
    return this.nameInternal;
  }
  /**
   * Returns the length of the page fetched each time by this pager.
   *
   * @remarks
   * The number of items in the page is less than or equal to the page length.
   */
  get pageSize() {
    return this.pageInternalSize;
  }
  /**
   * Returns the headers of the API response.
   */
  get sdkHttpResponse() {
    return this.sdkHttpResponseInternal;
  }
  /**
   * Returns the parameters when making the API request for the next page.
   *
   * @remarks
   * Parameters contain a set of optional configs that can be
   * used to customize the API request. For example, the `pageToken` parameter
   * contains the token to request the next page.
   */
  get params() {
    return this.paramsInternal;
  }
  /**
   * Returns the total number of items in the current page.
   */
  get pageLength() {
    return this.pageInternal.length;
  }
  /**
   * Returns the item at the given index.
   */
  getItem(index) {
    return this.pageInternal[index];
  }
  /**
   * Returns an async iterator that support iterating through all items
   * retrieved from the API.
   *
   * @remarks
   * The iterator will automatically fetch the next page if there are more items
   * to fetch from the API.
   *
   * @example
   *
   * ```ts
   * const pager = await ai.files.list({config: {pageSize: 10}});
   * for await (const file of pager) {
   *   console.log(file.name);
   * }
   * ```
   */
  [Symbol.asyncIterator]() {
    return {
      next: async () => {
        if (this.idxInternal >= this.pageLength) {
          if (this.hasNextPage()) {
            await this.nextPage();
          } else {
            return { value: void 0, done: true };
          }
        }
        const item = this.getItem(this.idxInternal);
        this.idxInternal += 1;
        return { value: item, done: false };
      },
      return: async () => {
        return { value: void 0, done: true };
      }
    };
  }
  /**
   * Fetches the next page of items. This makes a new API request.
   *
   * @throws {Error} If there are no more pages to fetch.
   *
   * @example
   *
   * ```ts
   * const pager = await ai.files.list({config: {pageSize: 10}});
   * let page = pager.page;
   * while (true) {
   *   for (const file of page) {
   *     console.log(file.name);
   *   }
   *   if (!pager.hasNextPage()) {
   *     break;
   *   }
   *   page = await pager.nextPage();
   * }
   * ```
   */
  async nextPage() {
    if (!this.hasNextPage()) {
      throw new Error("No more pages to fetch.");
    }
    const response = await this.requestInternal(this.params);
    this.initNextPage(response);
    return this.page;
  }
  /**
   * Returns true if there are more pages to fetch from the API.
   */
  hasNextPage() {
    var _a2;
    if (((_a2 = this.params["config"]) === null || _a2 === void 0 ? void 0 : _a2["pageToken"]) !== void 0) {
      return true;
    }
    return false;
  }
};
var Batches = class extends BaseModule {
  constructor(apiClient) {
    super();
    this.apiClient = apiClient;
    this.list = async (params = {}) => {
      return new Pager(PagedItem.PAGED_ITEM_BATCH_JOBS, (x) => this.listInternal(x), await this.listInternal(params), params);
    };
    this.create = async (params) => {
      if (this.apiClient.isVertexAI()) {
        params.config = this.formatDestination(params.src, params.config);
      }
      return this.createInternal(params);
    };
    this.createEmbeddings = async (params) => {
      console.warn("batches.createEmbeddings() is experimental and may change without notice.");
      if (this.apiClient.isVertexAI()) {
        throw new Error("Vertex AI does not support batches.createEmbeddings.");
      }
      return this.createEmbeddingsInternal(params);
    };
  }
  // Helper function to handle inlined generate content requests
  createInlinedGenerateContentRequest(params) {
    const body = createBatchJobParametersToMldev(
      this.apiClient,
      // Use instance apiClient
      params
    );
    const urlParams = body["_url"];
    const path2 = formatMap("{model}:batchGenerateContent", urlParams);
    const batch = body["batch"];
    const inputConfig = batch["inputConfig"];
    const requestsWrapper = inputConfig["requests"];
    const requests = requestsWrapper["requests"];
    const newRequests = [];
    for (const request of requests) {
      const requestDict = Object.assign({}, request);
      if (requestDict["systemInstruction"]) {
        const systemInstructionValue = requestDict["systemInstruction"];
        delete requestDict["systemInstruction"];
        const requestContent = requestDict["request"];
        requestContent["systemInstruction"] = systemInstructionValue;
        requestDict["request"] = requestContent;
      }
      newRequests.push(requestDict);
    }
    requestsWrapper["requests"] = newRequests;
    delete body["config"];
    delete body["_url"];
    delete body["_query"];
    return { path: path2, body };
  }
  // Helper function to get the first GCS URI
  getGcsUri(src) {
    if (typeof src === "string") {
      return src.startsWith("gs://") ? src : void 0;
    }
    if (!Array.isArray(src) && src.gcsUri && src.gcsUri.length > 0) {
      return src.gcsUri[0];
    }
    return void 0;
  }
  // Helper function to get the BigQuery URI
  getBigqueryUri(src) {
    if (typeof src === "string") {
      return src.startsWith("bq://") ? src : void 0;
    }
    if (!Array.isArray(src)) {
      return src.bigqueryUri;
    }
    return void 0;
  }
  // Function to format the destination configuration for Vertex AI
  formatDestination(src, config) {
    const newConfig = config ? Object.assign({}, config) : {};
    const timestampStr = Date.now().toString();
    if (!newConfig.displayName) {
      newConfig.displayName = `genaiBatchJob_${timestampStr}`;
    }
    if (newConfig.dest === void 0) {
      const gcsUri = this.getGcsUri(src);
      const bigqueryUri = this.getBigqueryUri(src);
      if (gcsUri) {
        if (gcsUri.endsWith(".jsonl")) {
          newConfig.dest = `${gcsUri.slice(0, -6)}/dest`;
        } else {
          newConfig.dest = `${gcsUri}_dest_${timestampStr}`;
        }
      } else if (bigqueryUri) {
        newConfig.dest = `${bigqueryUri}_dest_${timestampStr}`;
      } else {
        throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.");
      }
    }
    return newConfig;
  }
  /**
   * Internal method to create batch job.
   *
   * @param params - The parameters for create batch job request.
   * @return The created batch job.
   *
   */
  async createInternal(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = createBatchJobParametersToVertex(this.apiClient, params);
      path2 = formatMap("batchPredictionJobs", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = batchJobFromVertex(apiResponse);
        return resp;
      });
    } else {
      const body = createBatchJobParametersToMldev(this.apiClient, params);
      path2 = formatMap("{model}:batchGenerateContent", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = batchJobFromMldev(apiResponse);
        return resp;
      });
    }
  }
  /**
   * Internal method to create batch job.
   *
   * @param params - The parameters for create batch job request.
   * @return The created batch job.
   *
   */
  async createEmbeddingsInternal(params) {
    var _a2, _b;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = createEmbeddingsBatchJobParametersToMldev(this.apiClient, params);
      path2 = formatMap("{model}:asyncBatchEmbedContent", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = batchJobFromMldev(apiResponse);
        return resp;
      });
    }
  }
  /**
   * Gets batch job configurations.
   *
   * @param params - The parameters for the get request.
   * @return The batch job.
   *
   * @example
   * ```ts
   * await ai.batches.get({name: '...'}); // The server-generated resource name.
   * ```
   */
  async get(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = getBatchJobParametersToVertex(this.apiClient, params);
      path2 = formatMap("batchPredictionJobs/{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = batchJobFromVertex(apiResponse);
        return resp;
      });
    } else {
      const body = getBatchJobParametersToMldev(this.apiClient, params);
      path2 = formatMap("batches/{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = batchJobFromMldev(apiResponse);
        return resp;
      });
    }
  }
  /**
   * Cancels a batch job.
   *
   * @param params - The parameters for the cancel request.
   * @return The empty response returned by the API.
   *
   * @example
   * ```ts
   * await ai.batches.cancel({name: '...'}); // The server-generated resource name.
   * ```
   */
  async cancel(params) {
    var _a2, _b, _c, _d;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = cancelBatchJobParametersToVertex(this.apiClient, params);
      path2 = formatMap("batchPredictionJobs/{name}:cancel", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      await this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      });
    } else {
      const body = cancelBatchJobParametersToMldev(this.apiClient, params);
      path2 = formatMap("batches/{name}:cancel", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      await this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      });
    }
  }
  async listInternal(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = listBatchJobsParametersToVertex(params);
      path2 = formatMap("batchPredictionJobs", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = listBatchJobsResponseFromVertex(apiResponse);
        const typedResp = new ListBatchJobsResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = listBatchJobsParametersToMldev(params);
      path2 = formatMap("batches", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = listBatchJobsResponseFromMldev(apiResponse);
        const typedResp = new ListBatchJobsResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  /**
   * Deletes a batch job.
   *
   * @param params - The parameters for the delete request.
   * @return The empty response returned by the API.
   *
   * @example
   * ```ts
   * await ai.batches.delete({name: '...'}); // The server-generated resource name.
   * ```
   */
  async delete(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = deleteBatchJobParametersToVertex(this.apiClient, params);
      path2 = formatMap("batchPredictionJobs/{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "DELETE",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = deleteResourceJobFromVertex(apiResponse);
        return resp;
      });
    } else {
      const body = deleteBatchJobParametersToMldev(this.apiClient, params);
      path2 = formatMap("batches/{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "DELETE",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = deleteResourceJobFromMldev(apiResponse);
        return resp;
      });
    }
  }
};
function blobToMldev$3(fromObject) {
  const toObject = {};
  const fromData = getValueByPath(fromObject, ["data"]);
  if (fromData != null) {
    setValueByPath(toObject, ["data"], fromData);
  }
  if (getValueByPath(fromObject, ["displayName"]) !== void 0) {
    throw new Error("displayName parameter is not supported in Gemini API.");
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function contentToMldev$3(fromObject) {
  const toObject = {};
  const fromParts = getValueByPath(fromObject, ["parts"]);
  if (fromParts != null) {
    let transformedList = fromParts;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return partToMldev$3(item);
      });
    }
    setValueByPath(toObject, ["parts"], transformedList);
  }
  const fromRole = getValueByPath(fromObject, ["role"]);
  if (fromRole != null) {
    setValueByPath(toObject, ["role"], fromRole);
  }
  return toObject;
}
function createCachedContentConfigToMldev(fromObject, parentObject) {
  const toObject = {};
  const fromTtl = getValueByPath(fromObject, ["ttl"]);
  if (parentObject !== void 0 && fromTtl != null) {
    setValueByPath(parentObject, ["ttl"], fromTtl);
  }
  const fromExpireTime = getValueByPath(fromObject, ["expireTime"]);
  if (parentObject !== void 0 && fromExpireTime != null) {
    setValueByPath(parentObject, ["expireTime"], fromExpireTime);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (parentObject !== void 0 && fromDisplayName != null) {
    setValueByPath(parentObject, ["displayName"], fromDisplayName);
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (parentObject !== void 0 && fromContents != null) {
    let transformedList = tContents(fromContents);
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return contentToMldev$3(item);
      });
    }
    setValueByPath(parentObject, ["contents"], transformedList);
  }
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (parentObject !== void 0 && fromSystemInstruction != null) {
    setValueByPath(parentObject, ["systemInstruction"], contentToMldev$3(tContent(fromSystemInstruction)));
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (parentObject !== void 0 && fromTools != null) {
    let transformedList = fromTools;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return toolToMldev$3(item);
      });
    }
    setValueByPath(parentObject, ["tools"], transformedList);
  }
  const fromToolConfig = getValueByPath(fromObject, ["toolConfig"]);
  if (parentObject !== void 0 && fromToolConfig != null) {
    setValueByPath(parentObject, ["toolConfig"], toolConfigToMldev$1(fromToolConfig));
  }
  if (getValueByPath(fromObject, ["kmsKeyName"]) !== void 0) {
    throw new Error("kmsKeyName parameter is not supported in Gemini API.");
  }
  return toObject;
}
function createCachedContentConfigToVertex(fromObject, parentObject) {
  const toObject = {};
  const fromTtl = getValueByPath(fromObject, ["ttl"]);
  if (parentObject !== void 0 && fromTtl != null) {
    setValueByPath(parentObject, ["ttl"], fromTtl);
  }
  const fromExpireTime = getValueByPath(fromObject, ["expireTime"]);
  if (parentObject !== void 0 && fromExpireTime != null) {
    setValueByPath(parentObject, ["expireTime"], fromExpireTime);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (parentObject !== void 0 && fromDisplayName != null) {
    setValueByPath(parentObject, ["displayName"], fromDisplayName);
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (parentObject !== void 0 && fromContents != null) {
    let transformedList = tContents(fromContents);
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(parentObject, ["contents"], transformedList);
  }
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (parentObject !== void 0 && fromSystemInstruction != null) {
    setValueByPath(parentObject, ["systemInstruction"], tContent(fromSystemInstruction));
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (parentObject !== void 0 && fromTools != null) {
    let transformedList = fromTools;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return toolToVertex$2(item);
      });
    }
    setValueByPath(parentObject, ["tools"], transformedList);
  }
  const fromToolConfig = getValueByPath(fromObject, ["toolConfig"]);
  if (parentObject !== void 0 && fromToolConfig != null) {
    setValueByPath(parentObject, ["toolConfig"], fromToolConfig);
  }
  const fromKmsKeyName = getValueByPath(fromObject, ["kmsKeyName"]);
  if (parentObject !== void 0 && fromKmsKeyName != null) {
    setValueByPath(parentObject, ["encryption_spec", "kmsKeyName"], fromKmsKeyName);
  }
  return toObject;
}
function createCachedContentParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["model"], tCachesModel(apiClient, fromModel));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    createCachedContentConfigToMldev(fromConfig, toObject);
  }
  return toObject;
}
function createCachedContentParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["model"], tCachesModel(apiClient, fromModel));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    createCachedContentConfigToVertex(fromConfig, toObject);
  }
  return toObject;
}
function deleteCachedContentParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tCachedContentName(apiClient, fromName));
  }
  return toObject;
}
function deleteCachedContentParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tCachedContentName(apiClient, fromName));
  }
  return toObject;
}
function deleteCachedContentResponseFromMldev(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  return toObject;
}
function deleteCachedContentResponseFromVertex(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  return toObject;
}
function fileDataToMldev$3(fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["displayName"]) !== void 0) {
    throw new Error("displayName parameter is not supported in Gemini API.");
  }
  const fromFileUri = getValueByPath(fromObject, ["fileUri"]);
  if (fromFileUri != null) {
    setValueByPath(toObject, ["fileUri"], fromFileUri);
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function functionCallToMldev$3(fromObject) {
  const toObject = {};
  const fromId = getValueByPath(fromObject, ["id"]);
  if (fromId != null) {
    setValueByPath(toObject, ["id"], fromId);
  }
  const fromArgs = getValueByPath(fromObject, ["args"]);
  if (fromArgs != null) {
    setValueByPath(toObject, ["args"], fromArgs);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  if (getValueByPath(fromObject, ["partialArgs"]) !== void 0) {
    throw new Error("partialArgs parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["willContinue"]) !== void 0) {
    throw new Error("willContinue parameter is not supported in Gemini API.");
  }
  return toObject;
}
function functionCallingConfigToMldev$1(fromObject) {
  const toObject = {};
  const fromMode = getValueByPath(fromObject, ["mode"]);
  if (fromMode != null) {
    setValueByPath(toObject, ["mode"], fromMode);
  }
  const fromAllowedFunctionNames = getValueByPath(fromObject, [
    "allowedFunctionNames"
  ]);
  if (fromAllowedFunctionNames != null) {
    setValueByPath(toObject, ["allowedFunctionNames"], fromAllowedFunctionNames);
  }
  if (getValueByPath(fromObject, ["streamFunctionCallArguments"]) !== void 0) {
    throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");
  }
  return toObject;
}
function functionDeclarationToVertex$2(fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["behavior"]) !== void 0) {
    throw new Error("behavior parameter is not supported in Vertex AI.");
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromParameters = getValueByPath(fromObject, ["parameters"]);
  if (fromParameters != null) {
    setValueByPath(toObject, ["parameters"], fromParameters);
  }
  const fromParametersJsonSchema = getValueByPath(fromObject, [
    "parametersJsonSchema"
  ]);
  if (fromParametersJsonSchema != null) {
    setValueByPath(toObject, ["parametersJsonSchema"], fromParametersJsonSchema);
  }
  const fromResponse = getValueByPath(fromObject, ["response"]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], fromResponse);
  }
  const fromResponseJsonSchema = getValueByPath(fromObject, [
    "responseJsonSchema"
  ]);
  if (fromResponseJsonSchema != null) {
    setValueByPath(toObject, ["responseJsonSchema"], fromResponseJsonSchema);
  }
  return toObject;
}
function getCachedContentParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tCachedContentName(apiClient, fromName));
  }
  return toObject;
}
function getCachedContentParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tCachedContentName(apiClient, fromName));
  }
  return toObject;
}
function googleMapsToMldev$3(fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["authConfig"]) !== void 0) {
    throw new Error("authConfig parameter is not supported in Gemini API.");
  }
  const fromEnableWidget = getValueByPath(fromObject, ["enableWidget"]);
  if (fromEnableWidget != null) {
    setValueByPath(toObject, ["enableWidget"], fromEnableWidget);
  }
  return toObject;
}
function googleSearchToMldev$3(fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["excludeDomains"]) !== void 0) {
    throw new Error("excludeDomains parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["blockingConfidence"]) !== void 0) {
    throw new Error("blockingConfidence parameter is not supported in Gemini API.");
  }
  const fromTimeRangeFilter = getValueByPath(fromObject, [
    "timeRangeFilter"
  ]);
  if (fromTimeRangeFilter != null) {
    setValueByPath(toObject, ["timeRangeFilter"], fromTimeRangeFilter);
  }
  return toObject;
}
function listCachedContentsConfigToMldev(fromObject, parentObject) {
  const toObject = {};
  const fromPageSize = getValueByPath(fromObject, ["pageSize"]);
  if (parentObject !== void 0 && fromPageSize != null) {
    setValueByPath(parentObject, ["_query", "pageSize"], fromPageSize);
  }
  const fromPageToken = getValueByPath(fromObject, ["pageToken"]);
  if (parentObject !== void 0 && fromPageToken != null) {
    setValueByPath(parentObject, ["_query", "pageToken"], fromPageToken);
  }
  return toObject;
}
function listCachedContentsConfigToVertex(fromObject, parentObject) {
  const toObject = {};
  const fromPageSize = getValueByPath(fromObject, ["pageSize"]);
  if (parentObject !== void 0 && fromPageSize != null) {
    setValueByPath(parentObject, ["_query", "pageSize"], fromPageSize);
  }
  const fromPageToken = getValueByPath(fromObject, ["pageToken"]);
  if (parentObject !== void 0 && fromPageToken != null) {
    setValueByPath(parentObject, ["_query", "pageToken"], fromPageToken);
  }
  return toObject;
}
function listCachedContentsParametersToMldev(fromObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    listCachedContentsConfigToMldev(fromConfig, toObject);
  }
  return toObject;
}
function listCachedContentsParametersToVertex(fromObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    listCachedContentsConfigToVertex(fromConfig, toObject);
  }
  return toObject;
}
function listCachedContentsResponseFromMldev(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromNextPageToken = getValueByPath(fromObject, [
    "nextPageToken"
  ]);
  if (fromNextPageToken != null) {
    setValueByPath(toObject, ["nextPageToken"], fromNextPageToken);
  }
  const fromCachedContents = getValueByPath(fromObject, [
    "cachedContents"
  ]);
  if (fromCachedContents != null) {
    let transformedList = fromCachedContents;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["cachedContents"], transformedList);
  }
  return toObject;
}
function listCachedContentsResponseFromVertex(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromNextPageToken = getValueByPath(fromObject, [
    "nextPageToken"
  ]);
  if (fromNextPageToken != null) {
    setValueByPath(toObject, ["nextPageToken"], fromNextPageToken);
  }
  const fromCachedContents = getValueByPath(fromObject, [
    "cachedContents"
  ]);
  if (fromCachedContents != null) {
    let transformedList = fromCachedContents;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["cachedContents"], transformedList);
  }
  return toObject;
}
function partToMldev$3(fromObject) {
  const toObject = {};
  const fromMediaResolution = getValueByPath(fromObject, [
    "mediaResolution"
  ]);
  if (fromMediaResolution != null) {
    setValueByPath(toObject, ["mediaResolution"], fromMediaResolution);
  }
  const fromCodeExecutionResult = getValueByPath(fromObject, [
    "codeExecutionResult"
  ]);
  if (fromCodeExecutionResult != null) {
    setValueByPath(toObject, ["codeExecutionResult"], fromCodeExecutionResult);
  }
  const fromExecutableCode = getValueByPath(fromObject, [
    "executableCode"
  ]);
  if (fromExecutableCode != null) {
    setValueByPath(toObject, ["executableCode"], fromExecutableCode);
  }
  const fromFileData = getValueByPath(fromObject, ["fileData"]);
  if (fromFileData != null) {
    setValueByPath(toObject, ["fileData"], fileDataToMldev$3(fromFileData));
  }
  const fromFunctionCall = getValueByPath(fromObject, ["functionCall"]);
  if (fromFunctionCall != null) {
    setValueByPath(toObject, ["functionCall"], functionCallToMldev$3(fromFunctionCall));
  }
  const fromFunctionResponse = getValueByPath(fromObject, [
    "functionResponse"
  ]);
  if (fromFunctionResponse != null) {
    setValueByPath(toObject, ["functionResponse"], fromFunctionResponse);
  }
  const fromInlineData = getValueByPath(fromObject, ["inlineData"]);
  if (fromInlineData != null) {
    setValueByPath(toObject, ["inlineData"], blobToMldev$3(fromInlineData));
  }
  const fromText = getValueByPath(fromObject, ["text"]);
  if (fromText != null) {
    setValueByPath(toObject, ["text"], fromText);
  }
  const fromThought = getValueByPath(fromObject, ["thought"]);
  if (fromThought != null) {
    setValueByPath(toObject, ["thought"], fromThought);
  }
  const fromThoughtSignature = getValueByPath(fromObject, [
    "thoughtSignature"
  ]);
  if (fromThoughtSignature != null) {
    setValueByPath(toObject, ["thoughtSignature"], fromThoughtSignature);
  }
  const fromVideoMetadata = getValueByPath(fromObject, [
    "videoMetadata"
  ]);
  if (fromVideoMetadata != null) {
    setValueByPath(toObject, ["videoMetadata"], fromVideoMetadata);
  }
  return toObject;
}
function toolConfigToMldev$1(fromObject) {
  const toObject = {};
  const fromFunctionCallingConfig = getValueByPath(fromObject, [
    "functionCallingConfig"
  ]);
  if (fromFunctionCallingConfig != null) {
    setValueByPath(toObject, ["functionCallingConfig"], functionCallingConfigToMldev$1(fromFunctionCallingConfig));
  }
  const fromRetrievalConfig = getValueByPath(fromObject, [
    "retrievalConfig"
  ]);
  if (fromRetrievalConfig != null) {
    setValueByPath(toObject, ["retrievalConfig"], fromRetrievalConfig);
  }
  return toObject;
}
function toolToMldev$3(fromObject) {
  const toObject = {};
  const fromFunctionDeclarations = getValueByPath(fromObject, [
    "functionDeclarations"
  ]);
  if (fromFunctionDeclarations != null) {
    let transformedList = fromFunctionDeclarations;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["functionDeclarations"], transformedList);
  }
  if (getValueByPath(fromObject, ["retrieval"]) !== void 0) {
    throw new Error("retrieval parameter is not supported in Gemini API.");
  }
  const fromGoogleSearchRetrieval = getValueByPath(fromObject, [
    "googleSearchRetrieval"
  ]);
  if (fromGoogleSearchRetrieval != null) {
    setValueByPath(toObject, ["googleSearchRetrieval"], fromGoogleSearchRetrieval);
  }
  const fromComputerUse = getValueByPath(fromObject, ["computerUse"]);
  if (fromComputerUse != null) {
    setValueByPath(toObject, ["computerUse"], fromComputerUse);
  }
  const fromFileSearch = getValueByPath(fromObject, ["fileSearch"]);
  if (fromFileSearch != null) {
    setValueByPath(toObject, ["fileSearch"], fromFileSearch);
  }
  const fromCodeExecution = getValueByPath(fromObject, [
    "codeExecution"
  ]);
  if (fromCodeExecution != null) {
    setValueByPath(toObject, ["codeExecution"], fromCodeExecution);
  }
  if (getValueByPath(fromObject, ["enterpriseWebSearch"]) !== void 0) {
    throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");
  }
  const fromGoogleMaps = getValueByPath(fromObject, ["googleMaps"]);
  if (fromGoogleMaps != null) {
    setValueByPath(toObject, ["googleMaps"], googleMapsToMldev$3(fromGoogleMaps));
  }
  const fromGoogleSearch = getValueByPath(fromObject, ["googleSearch"]);
  if (fromGoogleSearch != null) {
    setValueByPath(toObject, ["googleSearch"], googleSearchToMldev$3(fromGoogleSearch));
  }
  const fromUrlContext = getValueByPath(fromObject, ["urlContext"]);
  if (fromUrlContext != null) {
    setValueByPath(toObject, ["urlContext"], fromUrlContext);
  }
  return toObject;
}
function toolToVertex$2(fromObject) {
  const toObject = {};
  const fromFunctionDeclarations = getValueByPath(fromObject, [
    "functionDeclarations"
  ]);
  if (fromFunctionDeclarations != null) {
    let transformedList = fromFunctionDeclarations;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return functionDeclarationToVertex$2(item);
      });
    }
    setValueByPath(toObject, ["functionDeclarations"], transformedList);
  }
  const fromRetrieval = getValueByPath(fromObject, ["retrieval"]);
  if (fromRetrieval != null) {
    setValueByPath(toObject, ["retrieval"], fromRetrieval);
  }
  const fromGoogleSearchRetrieval = getValueByPath(fromObject, [
    "googleSearchRetrieval"
  ]);
  if (fromGoogleSearchRetrieval != null) {
    setValueByPath(toObject, ["googleSearchRetrieval"], fromGoogleSearchRetrieval);
  }
  const fromComputerUse = getValueByPath(fromObject, ["computerUse"]);
  if (fromComputerUse != null) {
    setValueByPath(toObject, ["computerUse"], fromComputerUse);
  }
  if (getValueByPath(fromObject, ["fileSearch"]) !== void 0) {
    throw new Error("fileSearch parameter is not supported in Vertex AI.");
  }
  const fromCodeExecution = getValueByPath(fromObject, [
    "codeExecution"
  ]);
  if (fromCodeExecution != null) {
    setValueByPath(toObject, ["codeExecution"], fromCodeExecution);
  }
  const fromEnterpriseWebSearch = getValueByPath(fromObject, [
    "enterpriseWebSearch"
  ]);
  if (fromEnterpriseWebSearch != null) {
    setValueByPath(toObject, ["enterpriseWebSearch"], fromEnterpriseWebSearch);
  }
  const fromGoogleMaps = getValueByPath(fromObject, ["googleMaps"]);
  if (fromGoogleMaps != null) {
    setValueByPath(toObject, ["googleMaps"], fromGoogleMaps);
  }
  const fromGoogleSearch = getValueByPath(fromObject, ["googleSearch"]);
  if (fromGoogleSearch != null) {
    setValueByPath(toObject, ["googleSearch"], fromGoogleSearch);
  }
  const fromUrlContext = getValueByPath(fromObject, ["urlContext"]);
  if (fromUrlContext != null) {
    setValueByPath(toObject, ["urlContext"], fromUrlContext);
  }
  return toObject;
}
function updateCachedContentConfigToMldev(fromObject, parentObject) {
  const toObject = {};
  const fromTtl = getValueByPath(fromObject, ["ttl"]);
  if (parentObject !== void 0 && fromTtl != null) {
    setValueByPath(parentObject, ["ttl"], fromTtl);
  }
  const fromExpireTime = getValueByPath(fromObject, ["expireTime"]);
  if (parentObject !== void 0 && fromExpireTime != null) {
    setValueByPath(parentObject, ["expireTime"], fromExpireTime);
  }
  return toObject;
}
function updateCachedContentConfigToVertex(fromObject, parentObject) {
  const toObject = {};
  const fromTtl = getValueByPath(fromObject, ["ttl"]);
  if (parentObject !== void 0 && fromTtl != null) {
    setValueByPath(parentObject, ["ttl"], fromTtl);
  }
  const fromExpireTime = getValueByPath(fromObject, ["expireTime"]);
  if (parentObject !== void 0 && fromExpireTime != null) {
    setValueByPath(parentObject, ["expireTime"], fromExpireTime);
  }
  return toObject;
}
function updateCachedContentParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tCachedContentName(apiClient, fromName));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    updateCachedContentConfigToMldev(fromConfig, toObject);
  }
  return toObject;
}
function updateCachedContentParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], tCachedContentName(apiClient, fromName));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    updateCachedContentConfigToVertex(fromConfig, toObject);
  }
  return toObject;
}
var Caches = class extends BaseModule {
  constructor(apiClient) {
    super();
    this.apiClient = apiClient;
    this.list = async (params = {}) => {
      return new Pager(PagedItem.PAGED_ITEM_CACHED_CONTENTS, (x) => this.listInternal(x), await this.listInternal(params), params);
    };
  }
  /**
   * Creates a cached contents resource.
   *
   * @remarks
   * Context caching is only supported for specific models. See [Gemini
   * Developer API reference](https://ai.google.dev/gemini-api/docs/caching?lang=node/context-cac)
   * and [Vertex AI reference](https://cloud.google.com/vertex-ai/generative-ai/docs/context-cache/context-cache-overview#supported_models)
   * for more information.
   *
   * @param params - The parameters for the create request.
   * @return The created cached content.
   *
   * @example
   * ```ts
   * const contents = ...; // Initialize the content to cache.
   * const response = await ai.caches.create({
   *   model: 'gemini-2.0-flash-001',
   *   config: {
   *    'contents': contents,
   *    'displayName': 'test cache',
   *    'systemInstruction': 'What is the sum of the two pdfs?',
   *    'ttl': '86400s',
   *  }
   * });
   * ```
   */
  async create(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = createCachedContentParametersToVertex(this.apiClient, params);
      path2 = formatMap("cachedContents", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((resp) => {
        return resp;
      });
    } else {
      const body = createCachedContentParametersToMldev(this.apiClient, params);
      path2 = formatMap("cachedContents", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((resp) => {
        return resp;
      });
    }
  }
  /**
   * Gets cached content configurations.
   *
   * @param params - The parameters for the get request.
   * @return The cached content.
   *
   * @example
   * ```ts
   * await ai.caches.get({name: '...'}); // The server-generated resource name.
   * ```
   */
  async get(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = getCachedContentParametersToVertex(this.apiClient, params);
      path2 = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((resp) => {
        return resp;
      });
    } else {
      const body = getCachedContentParametersToMldev(this.apiClient, params);
      path2 = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((resp) => {
        return resp;
      });
    }
  }
  /**
   * Deletes cached content.
   *
   * @param params - The parameters for the delete request.
   * @return The empty response returned by the API.
   *
   * @example
   * ```ts
   * await ai.caches.delete({name: '...'}); // The server-generated resource name.
   * ```
   */
  async delete(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = deleteCachedContentParametersToVertex(this.apiClient, params);
      path2 = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "DELETE",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = deleteCachedContentResponseFromVertex(apiResponse);
        const typedResp = new DeleteCachedContentResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = deleteCachedContentParametersToMldev(this.apiClient, params);
      path2 = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "DELETE",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = deleteCachedContentResponseFromMldev(apiResponse);
        const typedResp = new DeleteCachedContentResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  /**
   * Updates cached content configurations.
   *
   * @param params - The parameters for the update request.
   * @return The updated cached content.
   *
   * @example
   * ```ts
   * const response = await ai.caches.update({
   *   name: '...',  // The server-generated resource name.
   *   config: {'ttl': '7600s'}
   * });
   * ```
   */
  async update(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = updateCachedContentParametersToVertex(this.apiClient, params);
      path2 = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "PATCH",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((resp) => {
        return resp;
      });
    } else {
      const body = updateCachedContentParametersToMldev(this.apiClient, params);
      path2 = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "PATCH",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((resp) => {
        return resp;
      });
    }
  }
  async listInternal(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = listCachedContentsParametersToVertex(params);
      path2 = formatMap("cachedContents", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = listCachedContentsResponseFromVertex(apiResponse);
        const typedResp = new ListCachedContentsResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = listCachedContentsParametersToMldev(params);
      path2 = formatMap("cachedContents", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = listCachedContentsResponseFromMldev(apiResponse);
        const typedResp = new ListCachedContentsResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
};
function __rest(s, e) {
  var t = {};
  for (var p in s)
    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
      t[p] = s[p];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
        t[p[i]] = s[p[i]];
    }
  return t;
}
function __values(o) {
  var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
  if (m)
    return m.call(o);
  if (o && typeof o.length === "number")
    return {
      next: function() {
        if (o && i >= o.length)
          o = void 0;
        return { value: o && o[i++], done: !o };
      }
    };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}
function __await(v) {
  return this instanceof __await ? (this.v = v, this) : new __await(v);
}
function __asyncGenerator(thisArg, _arguments, generator) {
  if (!Symbol.asyncIterator)
    throw new TypeError("Symbol.asyncIterator is not defined.");
  var g = generator.apply(thisArg, _arguments || []), i, q = [];
  return i = Object.create((typeof AsyncIterator === "function" ? AsyncIterator : Object).prototype), verb("next"), verb("throw"), verb("return", awaitReturn), i[Symbol.asyncIterator] = function() {
    return this;
  }, i;
  function awaitReturn(f) {
    return function(v) {
      return Promise.resolve(v).then(f, reject);
    };
  }
  function verb(n, f) {
    if (g[n]) {
      i[n] = function(v) {
        return new Promise(function(a, b) {
          q.push([n, v, a, b]) > 1 || resume(n, v);
        });
      };
      if (f)
        i[n] = f(i[n]);
    }
  }
  function resume(n, v) {
    try {
      step(g[n](v));
    } catch (e) {
      settle(q[0][3], e);
    }
  }
  function step(r) {
    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);
  }
  function fulfill(value) {
    resume("next", value);
  }
  function reject(value) {
    resume("throw", value);
  }
  function settle(f, v) {
    if (f(v), q.shift(), q.length)
      resume(q[0][0], q[0][1]);
  }
}
function __asyncValues(o) {
  if (!Symbol.asyncIterator)
    throw new TypeError("Symbol.asyncIterator is not defined.");
  var m = o[Symbol.asyncIterator], i;
  return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function() {
    return this;
  }, i);
  function verb(n) {
    i[n] = o[n] && function(v) {
      return new Promise(function(resolve, reject) {
        v = o[n](v), settle(resolve, reject, v.done, v.value);
      });
    };
  }
  function settle(resolve, reject, d, v) {
    Promise.resolve(v).then(function(v2) {
      resolve({ value: v2, done: d });
    }, reject);
  }
}
function isValidResponse(response) {
  var _a2;
  if (response.candidates == void 0 || response.candidates.length === 0) {
    return false;
  }
  const content = (_a2 = response.candidates[0]) === null || _a2 === void 0 ? void 0 : _a2.content;
  if (content === void 0) {
    return false;
  }
  return isValidContent(content);
}
function isValidContent(content) {
  if (content.parts === void 0 || content.parts.length === 0) {
    return false;
  }
  for (const part of content.parts) {
    if (part === void 0 || Object.keys(part).length === 0) {
      return false;
    }
  }
  return true;
}
function validateHistory(history) {
  if (history.length === 0) {
    return;
  }
  for (const content of history) {
    if (content.role !== "user" && content.role !== "model") {
      throw new Error(`Role must be user or model, but got ${content.role}.`);
    }
  }
}
function extractCuratedHistory(comprehensiveHistory) {
  if (comprehensiveHistory === void 0 || comprehensiveHistory.length === 0) {
    return [];
  }
  const curatedHistory = [];
  const length = comprehensiveHistory.length;
  let i = 0;
  while (i < length) {
    if (comprehensiveHistory[i].role === "user") {
      curatedHistory.push(comprehensiveHistory[i]);
      i++;
    } else {
      const modelOutput = [];
      let isValid = true;
      while (i < length && comprehensiveHistory[i].role === "model") {
        modelOutput.push(comprehensiveHistory[i]);
        if (isValid && !isValidContent(comprehensiveHistory[i])) {
          isValid = false;
        }
        i++;
      }
      if (isValid) {
        curatedHistory.push(...modelOutput);
      } else {
        curatedHistory.pop();
      }
    }
  }
  return curatedHistory;
}
var Chats = class {
  constructor(modelsModule, apiClient) {
    this.modelsModule = modelsModule;
    this.apiClient = apiClient;
  }
  /**
   * Creates a new chat session.
   *
   * @remarks
   * The config in the params will be used for all requests within the chat
   * session unless overridden by a per-request `config` in
   * @see {@link types.SendMessageParameters#config}.
   *
   * @param params - Parameters for creating a chat session.
   * @returns A new chat session.
   *
   * @example
   * ```ts
   * const chat = ai.chats.create({
   *   model: 'gemini-2.0-flash'
   *   config: {
   *     temperature: 0.5,
   *     maxOutputTokens: 1024,
   *   }
   * });
   * ```
   */
  create(params) {
    return new Chat(
      this.apiClient,
      this.modelsModule,
      params.model,
      params.config,
      // Deep copy the history to avoid mutating the history outside of the
      // chat session.
      structuredClone(params.history)
    );
  }
};
var Chat = class {
  constructor(apiClient, modelsModule, model, config = {}, history = []) {
    this.apiClient = apiClient;
    this.modelsModule = modelsModule;
    this.model = model;
    this.config = config;
    this.history = history;
    this.sendPromise = Promise.resolve();
    validateHistory(history);
  }
  /**
   * Sends a message to the model and returns the response.
   *
   * @remarks
   * This method will wait for the previous message to be processed before
   * sending the next message.
   *
   * @see {@link Chat#sendMessageStream} for streaming method.
   * @param params - parameters for sending messages within a chat session.
   * @returns The model's response.
   *
   * @example
   * ```ts
   * const chat = ai.chats.create({model: 'gemini-2.0-flash'});
   * const response = await chat.sendMessage({
   *   message: 'Why is the sky blue?'
   * });
   * console.log(response.text);
   * ```
   */
  async sendMessage(params) {
    var _a2;
    await this.sendPromise;
    const inputContent = tContent(params.message);
    const responsePromise = this.modelsModule.generateContent({
      model: this.model,
      contents: this.getHistory(true).concat(inputContent),
      config: (_a2 = params.config) !== null && _a2 !== void 0 ? _a2 : this.config
    });
    this.sendPromise = (async () => {
      var _a3, _b, _c;
      const response = await responsePromise;
      const outputContent = (_b = (_a3 = response.candidates) === null || _a3 === void 0 ? void 0 : _a3[0]) === null || _b === void 0 ? void 0 : _b.content;
      const fullAutomaticFunctionCallingHistory = response.automaticFunctionCallingHistory;
      const index = this.getHistory(true).length;
      let automaticFunctionCallingHistory = [];
      if (fullAutomaticFunctionCallingHistory != null) {
        automaticFunctionCallingHistory = (_c = fullAutomaticFunctionCallingHistory.slice(index)) !== null && _c !== void 0 ? _c : [];
      }
      const modelOutput = outputContent ? [outputContent] : [];
      this.recordHistory(inputContent, modelOutput, automaticFunctionCallingHistory);
      return;
    })();
    await this.sendPromise.catch(() => {
      this.sendPromise = Promise.resolve();
    });
    return responsePromise;
  }
  /**
   * Sends a message to the model and returns the response in chunks.
   *
   * @remarks
   * This method will wait for the previous message to be processed before
   * sending the next message.
   *
   * @see {@link Chat#sendMessage} for non-streaming method.
   * @param params - parameters for sending the message.
   * @return The model's response.
   *
   * @example
   * ```ts
   * const chat = ai.chats.create({model: 'gemini-2.0-flash'});
   * const response = await chat.sendMessageStream({
   *   message: 'Why is the sky blue?'
   * });
   * for await (const chunk of response) {
   *   console.log(chunk.text);
   * }
   * ```
   */
  async sendMessageStream(params) {
    var _a2;
    await this.sendPromise;
    const inputContent = tContent(params.message);
    const streamResponse = this.modelsModule.generateContentStream({
      model: this.model,
      contents: this.getHistory(true).concat(inputContent),
      config: (_a2 = params.config) !== null && _a2 !== void 0 ? _a2 : this.config
    });
    this.sendPromise = streamResponse.then(() => void 0).catch(() => void 0);
    const response = await streamResponse;
    const result = this.processStreamResponse(response, inputContent);
    return result;
  }
  /**
   * Returns the chat history.
   *
   * @remarks
   * The history is a list of contents alternating between user and model.
   *
   * There are two types of history:
   * - The `curated history` contains only the valid turns between user and
   * model, which will be included in the subsequent requests sent to the model.
   * - The `comprehensive history` contains all turns, including invalid or
   *   empty model outputs, providing a complete record of the history.
   *
   * The history is updated after receiving the response from the model,
   * for streaming response, it means receiving the last chunk of the response.
   *
   * The `comprehensive history` is returned by default. To get the `curated
   * history`, set the `curated` parameter to `true`.
   *
   * @param curated - whether to return the curated history or the comprehensive
   *     history.
   * @return History contents alternating between user and model for the entire
   *     chat session.
   */
  getHistory(curated = false) {
    const history = curated ? extractCuratedHistory(this.history) : this.history;
    return structuredClone(history);
  }
  processStreamResponse(streamResponse, inputContent) {
    return __asyncGenerator(this, arguments, function* processStreamResponse_1() {
      var _a2, e_1, _b, _c;
      var _d, _e;
      const outputContent = [];
      try {
        for (var _f = true, streamResponse_1 = __asyncValues(streamResponse), streamResponse_1_1; streamResponse_1_1 = yield __await(streamResponse_1.next()), _a2 = streamResponse_1_1.done, !_a2; _f = true) {
          _c = streamResponse_1_1.value;
          _f = false;
          const chunk = _c;
          if (isValidResponse(chunk)) {
            const content = (_e = (_d = chunk.candidates) === null || _d === void 0 ? void 0 : _d[0]) === null || _e === void 0 ? void 0 : _e.content;
            if (content !== void 0) {
              outputContent.push(content);
            }
          }
          yield yield __await(chunk);
        }
      } catch (e_1_1) {
        e_1 = { error: e_1_1 };
      } finally {
        try {
          if (!_f && !_a2 && (_b = streamResponse_1.return))
            yield __await(_b.call(streamResponse_1));
        } finally {
          if (e_1)
            throw e_1.error;
        }
      }
      this.recordHistory(inputContent, outputContent);
    });
  }
  recordHistory(userInput, modelOutput, automaticFunctionCallingHistory) {
    let outputContents = [];
    if (modelOutput.length > 0 && modelOutput.every((content) => content.role !== void 0)) {
      outputContents = modelOutput;
    } else {
      outputContents.push({
        role: "model",
        parts: []
      });
    }
    if (automaticFunctionCallingHistory && automaticFunctionCallingHistory.length > 0) {
      this.history.push(...extractCuratedHistory(automaticFunctionCallingHistory));
    } else {
      this.history.push(userInput);
    }
    this.history.push(...outputContents);
  }
};
var ApiError = class extends Error {
  constructor(options) {
    super(options.message);
    this.name = "ApiError";
    this.status = options.status;
    Object.setPrototypeOf(this, ApiError.prototype);
  }
};
function createFileParametersToMldev(fromObject) {
  const toObject = {};
  const fromFile = getValueByPath(fromObject, ["file"]);
  if (fromFile != null) {
    setValueByPath(toObject, ["file"], fromFile);
  }
  return toObject;
}
function createFileResponseFromMldev(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  return toObject;
}
function deleteFileParametersToMldev(fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "file"], tFileName(fromName));
  }
  return toObject;
}
function deleteFileResponseFromMldev(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  return toObject;
}
function getFileParametersToMldev(fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "file"], tFileName(fromName));
  }
  return toObject;
}
function listFilesConfigToMldev(fromObject, parentObject) {
  const toObject = {};
  const fromPageSize = getValueByPath(fromObject, ["pageSize"]);
  if (parentObject !== void 0 && fromPageSize != null) {
    setValueByPath(parentObject, ["_query", "pageSize"], fromPageSize);
  }
  const fromPageToken = getValueByPath(fromObject, ["pageToken"]);
  if (parentObject !== void 0 && fromPageToken != null) {
    setValueByPath(parentObject, ["_query", "pageToken"], fromPageToken);
  }
  return toObject;
}
function listFilesParametersToMldev(fromObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    listFilesConfigToMldev(fromConfig, toObject);
  }
  return toObject;
}
function listFilesResponseFromMldev(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromNextPageToken = getValueByPath(fromObject, [
    "nextPageToken"
  ]);
  if (fromNextPageToken != null) {
    setValueByPath(toObject, ["nextPageToken"], fromNextPageToken);
  }
  const fromFiles = getValueByPath(fromObject, ["files"]);
  if (fromFiles != null) {
    let transformedList = fromFiles;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["files"], transformedList);
  }
  return toObject;
}
var Files = class extends BaseModule {
  constructor(apiClient) {
    super();
    this.apiClient = apiClient;
    this.list = async (params = {}) => {
      return new Pager(PagedItem.PAGED_ITEM_FILES, (x) => this.listInternal(x), await this.listInternal(params), params);
    };
  }
  /**
   * Uploads a file asynchronously to the Gemini API.
   * This method is not available in Vertex AI.
   * Supported upload sources:
   * - Node.js: File path (string) or Blob object.
   * - Browser: Blob object (e.g., File).
   *
   * @remarks
   * The `mimeType` can be specified in the `config` parameter. If omitted:
   *  - For file path (string) inputs, the `mimeType` will be inferred from the
   *     file extension.
   *  - For Blob object inputs, the `mimeType` will be set to the Blob's `type`
   *     property.
   * Somex eamples for file extension to mimeType mapping:
   * .txt -> text/plain
   * .json -> application/json
   * .jpg  -> image/jpeg
   * .png -> image/png
   * .mp3 -> audio/mpeg
   * .mp4 -> video/mp4
   *
   * This section can contain multiple paragraphs and code examples.
   *
   * @param params - Optional parameters specified in the
   *        `types.UploadFileParameters` interface.
   *         @see {@link types.UploadFileParameters#config} for the optional
   *         config in the parameters.
   * @return A promise that resolves to a `types.File` object.
   * @throws An error if called on a Vertex AI client.
   * @throws An error if the `mimeType` is not provided and can not be inferred,
   * the `mimeType` can be provided in the `params.config` parameter.
   * @throws An error occurs if a suitable upload location cannot be established.
   *
   * @example
   * The following code uploads a file to Gemini API.
   *
   * ```ts
   * const file = await ai.files.upload({file: 'file.txt', config: {
   *   mimeType: 'text/plain',
   * }});
   * console.log(file.name);
   * ```
   */
  async upload(params) {
    if (this.apiClient.isVertexAI()) {
      throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");
    }
    return this.apiClient.uploadFile(params.file, params.config).then((resp) => {
      return resp;
    });
  }
  /**
   * Downloads a remotely stored file asynchronously to a location specified in
   * the `params` object. This method only works on Node environment, to
   * download files in the browser, use a browser compliant method like an <a>
   * tag.
   *
   * @param params - The parameters for the download request.
   *
   * @example
   * The following code downloads an example file named "files/mehozpxf877d" as
   * "file.txt".
   *
   * ```ts
   * await ai.files.download({file: file.name, downloadPath: 'file.txt'});
   * ```
   */
  async download(params) {
    await this.apiClient.downloadFile(params);
  }
  async listInternal(params) {
    var _a2, _b;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = listFilesParametersToMldev(params);
      path2 = formatMap("files", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = listFilesResponseFromMldev(apiResponse);
        const typedResp = new ListFilesResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  async createInternal(params) {
    var _a2, _b;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = createFileParametersToMldev(params);
      path2 = formatMap("upload/v1beta/files", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = createFileResponseFromMldev(apiResponse);
        const typedResp = new CreateFileResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  /**
   * Retrieves the file information from the service.
   *
   * @param params - The parameters for the get request
   * @return The Promise that resolves to the types.File object requested.
   *
   * @example
   * ```ts
   * const config: GetFileParameters = {
   *   name: fileName,
   * };
   * file = await ai.files.get(config);
   * console.log(file.name);
   * ```
   */
  async get(params) {
    var _a2, _b;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = getFileParametersToMldev(params);
      path2 = formatMap("files/{file}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((resp) => {
        return resp;
      });
    }
  }
  /**
   * Deletes a remotely stored file.
   *
   * @param params - The parameters for the delete request.
   * @return The DeleteFileResponse, the response for the delete method.
   *
   * @example
   * The following code deletes an example file named "files/mehozpxf877d".
   *
   * ```ts
   * await ai.files.delete({name: file.name});
   * ```
   */
  async delete(params) {
    var _a2, _b;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = deleteFileParametersToMldev(params);
      path2 = formatMap("files/{file}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "DELETE",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = deleteFileResponseFromMldev(apiResponse);
        const typedResp = new DeleteFileResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
};
function blobToMldev$2(fromObject) {
  const toObject = {};
  const fromData = getValueByPath(fromObject, ["data"]);
  if (fromData != null) {
    setValueByPath(toObject, ["data"], fromData);
  }
  if (getValueByPath(fromObject, ["displayName"]) !== void 0) {
    throw new Error("displayName parameter is not supported in Gemini API.");
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function contentToMldev$2(fromObject) {
  const toObject = {};
  const fromParts = getValueByPath(fromObject, ["parts"]);
  if (fromParts != null) {
    let transformedList = fromParts;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return partToMldev$2(item);
      });
    }
    setValueByPath(toObject, ["parts"], transformedList);
  }
  const fromRole = getValueByPath(fromObject, ["role"]);
  if (fromRole != null) {
    setValueByPath(toObject, ["role"], fromRole);
  }
  return toObject;
}
function fileDataToMldev$2(fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["displayName"]) !== void 0) {
    throw new Error("displayName parameter is not supported in Gemini API.");
  }
  const fromFileUri = getValueByPath(fromObject, ["fileUri"]);
  if (fromFileUri != null) {
    setValueByPath(toObject, ["fileUri"], fromFileUri);
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function functionCallToMldev$2(fromObject) {
  const toObject = {};
  const fromId = getValueByPath(fromObject, ["id"]);
  if (fromId != null) {
    setValueByPath(toObject, ["id"], fromId);
  }
  const fromArgs = getValueByPath(fromObject, ["args"]);
  if (fromArgs != null) {
    setValueByPath(toObject, ["args"], fromArgs);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  if (getValueByPath(fromObject, ["partialArgs"]) !== void 0) {
    throw new Error("partialArgs parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["willContinue"]) !== void 0) {
    throw new Error("willContinue parameter is not supported in Gemini API.");
  }
  return toObject;
}
function functionDeclarationToVertex$1(fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["behavior"]) !== void 0) {
    throw new Error("behavior parameter is not supported in Vertex AI.");
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromParameters = getValueByPath(fromObject, ["parameters"]);
  if (fromParameters != null) {
    setValueByPath(toObject, ["parameters"], fromParameters);
  }
  const fromParametersJsonSchema = getValueByPath(fromObject, [
    "parametersJsonSchema"
  ]);
  if (fromParametersJsonSchema != null) {
    setValueByPath(toObject, ["parametersJsonSchema"], fromParametersJsonSchema);
  }
  const fromResponse = getValueByPath(fromObject, ["response"]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], fromResponse);
  }
  const fromResponseJsonSchema = getValueByPath(fromObject, [
    "responseJsonSchema"
  ]);
  if (fromResponseJsonSchema != null) {
    setValueByPath(toObject, ["responseJsonSchema"], fromResponseJsonSchema);
  }
  return toObject;
}
function generationConfigToVertex$1(fromObject) {
  const toObject = {};
  const fromModelSelectionConfig = getValueByPath(fromObject, [
    "modelSelectionConfig"
  ]);
  if (fromModelSelectionConfig != null) {
    setValueByPath(toObject, ["modelConfig"], fromModelSelectionConfig);
  }
  const fromResponseJsonSchema = getValueByPath(fromObject, [
    "responseJsonSchema"
  ]);
  if (fromResponseJsonSchema != null) {
    setValueByPath(toObject, ["responseJsonSchema"], fromResponseJsonSchema);
  }
  const fromAudioTimestamp = getValueByPath(fromObject, [
    "audioTimestamp"
  ]);
  if (fromAudioTimestamp != null) {
    setValueByPath(toObject, ["audioTimestamp"], fromAudioTimestamp);
  }
  const fromCandidateCount = getValueByPath(fromObject, [
    "candidateCount"
  ]);
  if (fromCandidateCount != null) {
    setValueByPath(toObject, ["candidateCount"], fromCandidateCount);
  }
  const fromEnableAffectiveDialog = getValueByPath(fromObject, [
    "enableAffectiveDialog"
  ]);
  if (fromEnableAffectiveDialog != null) {
    setValueByPath(toObject, ["enableAffectiveDialog"], fromEnableAffectiveDialog);
  }
  const fromFrequencyPenalty = getValueByPath(fromObject, [
    "frequencyPenalty"
  ]);
  if (fromFrequencyPenalty != null) {
    setValueByPath(toObject, ["frequencyPenalty"], fromFrequencyPenalty);
  }
  const fromLogprobs = getValueByPath(fromObject, ["logprobs"]);
  if (fromLogprobs != null) {
    setValueByPath(toObject, ["logprobs"], fromLogprobs);
  }
  const fromMaxOutputTokens = getValueByPath(fromObject, [
    "maxOutputTokens"
  ]);
  if (fromMaxOutputTokens != null) {
    setValueByPath(toObject, ["maxOutputTokens"], fromMaxOutputTokens);
  }
  const fromMediaResolution = getValueByPath(fromObject, [
    "mediaResolution"
  ]);
  if (fromMediaResolution != null) {
    setValueByPath(toObject, ["mediaResolution"], fromMediaResolution);
  }
  const fromPresencePenalty = getValueByPath(fromObject, [
    "presencePenalty"
  ]);
  if (fromPresencePenalty != null) {
    setValueByPath(toObject, ["presencePenalty"], fromPresencePenalty);
  }
  const fromResponseLogprobs = getValueByPath(fromObject, [
    "responseLogprobs"
  ]);
  if (fromResponseLogprobs != null) {
    setValueByPath(toObject, ["responseLogprobs"], fromResponseLogprobs);
  }
  const fromResponseMimeType = getValueByPath(fromObject, [
    "responseMimeType"
  ]);
  if (fromResponseMimeType != null) {
    setValueByPath(toObject, ["responseMimeType"], fromResponseMimeType);
  }
  const fromResponseModalities = getValueByPath(fromObject, [
    "responseModalities"
  ]);
  if (fromResponseModalities != null) {
    setValueByPath(toObject, ["responseModalities"], fromResponseModalities);
  }
  const fromResponseSchema = getValueByPath(fromObject, [
    "responseSchema"
  ]);
  if (fromResponseSchema != null) {
    setValueByPath(toObject, ["responseSchema"], fromResponseSchema);
  }
  const fromRoutingConfig = getValueByPath(fromObject, [
    "routingConfig"
  ]);
  if (fromRoutingConfig != null) {
    setValueByPath(toObject, ["routingConfig"], fromRoutingConfig);
  }
  const fromSeed = getValueByPath(fromObject, ["seed"]);
  if (fromSeed != null) {
    setValueByPath(toObject, ["seed"], fromSeed);
  }
  const fromSpeechConfig = getValueByPath(fromObject, ["speechConfig"]);
  if (fromSpeechConfig != null) {
    setValueByPath(toObject, ["speechConfig"], fromSpeechConfig);
  }
  const fromStopSequences = getValueByPath(fromObject, [
    "stopSequences"
  ]);
  if (fromStopSequences != null) {
    setValueByPath(toObject, ["stopSequences"], fromStopSequences);
  }
  const fromTemperature = getValueByPath(fromObject, ["temperature"]);
  if (fromTemperature != null) {
    setValueByPath(toObject, ["temperature"], fromTemperature);
  }
  const fromThinkingConfig = getValueByPath(fromObject, [
    "thinkingConfig"
  ]);
  if (fromThinkingConfig != null) {
    setValueByPath(toObject, ["thinkingConfig"], fromThinkingConfig);
  }
  const fromTopK = getValueByPath(fromObject, ["topK"]);
  if (fromTopK != null) {
    setValueByPath(toObject, ["topK"], fromTopK);
  }
  const fromTopP = getValueByPath(fromObject, ["topP"]);
  if (fromTopP != null) {
    setValueByPath(toObject, ["topP"], fromTopP);
  }
  if (getValueByPath(fromObject, ["enableEnhancedCivicAnswers"]) !== void 0) {
    throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");
  }
  return toObject;
}
function googleMapsToMldev$2(fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["authConfig"]) !== void 0) {
    throw new Error("authConfig parameter is not supported in Gemini API.");
  }
  const fromEnableWidget = getValueByPath(fromObject, ["enableWidget"]);
  if (fromEnableWidget != null) {
    setValueByPath(toObject, ["enableWidget"], fromEnableWidget);
  }
  return toObject;
}
function googleSearchToMldev$2(fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["excludeDomains"]) !== void 0) {
    throw new Error("excludeDomains parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["blockingConfidence"]) !== void 0) {
    throw new Error("blockingConfidence parameter is not supported in Gemini API.");
  }
  const fromTimeRangeFilter = getValueByPath(fromObject, [
    "timeRangeFilter"
  ]);
  if (fromTimeRangeFilter != null) {
    setValueByPath(toObject, ["timeRangeFilter"], fromTimeRangeFilter);
  }
  return toObject;
}
function liveConnectConfigToMldev$1(fromObject, parentObject) {
  const toObject = {};
  const fromGenerationConfig = getValueByPath(fromObject, [
    "generationConfig"
  ]);
  if (parentObject !== void 0 && fromGenerationConfig != null) {
    setValueByPath(parentObject, ["setup", "generationConfig"], fromGenerationConfig);
  }
  const fromResponseModalities = getValueByPath(fromObject, [
    "responseModalities"
  ]);
  if (parentObject !== void 0 && fromResponseModalities != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "responseModalities"], fromResponseModalities);
  }
  const fromTemperature = getValueByPath(fromObject, ["temperature"]);
  if (parentObject !== void 0 && fromTemperature != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "temperature"], fromTemperature);
  }
  const fromTopP = getValueByPath(fromObject, ["topP"]);
  if (parentObject !== void 0 && fromTopP != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "topP"], fromTopP);
  }
  const fromTopK = getValueByPath(fromObject, ["topK"]);
  if (parentObject !== void 0 && fromTopK != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "topK"], fromTopK);
  }
  const fromMaxOutputTokens = getValueByPath(fromObject, [
    "maxOutputTokens"
  ]);
  if (parentObject !== void 0 && fromMaxOutputTokens != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "maxOutputTokens"], fromMaxOutputTokens);
  }
  const fromMediaResolution = getValueByPath(fromObject, [
    "mediaResolution"
  ]);
  if (parentObject !== void 0 && fromMediaResolution != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "mediaResolution"], fromMediaResolution);
  }
  const fromSeed = getValueByPath(fromObject, ["seed"]);
  if (parentObject !== void 0 && fromSeed != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "seed"], fromSeed);
  }
  const fromSpeechConfig = getValueByPath(fromObject, ["speechConfig"]);
  if (parentObject !== void 0 && fromSpeechConfig != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "speechConfig"], tLiveSpeechConfig(fromSpeechConfig));
  }
  const fromThinkingConfig = getValueByPath(fromObject, [
    "thinkingConfig"
  ]);
  if (parentObject !== void 0 && fromThinkingConfig != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "thinkingConfig"], fromThinkingConfig);
  }
  const fromEnableAffectiveDialog = getValueByPath(fromObject, [
    "enableAffectiveDialog"
  ]);
  if (parentObject !== void 0 && fromEnableAffectiveDialog != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "enableAffectiveDialog"], fromEnableAffectiveDialog);
  }
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (parentObject !== void 0 && fromSystemInstruction != null) {
    setValueByPath(parentObject, ["setup", "systemInstruction"], contentToMldev$2(tContent(fromSystemInstruction)));
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (parentObject !== void 0 && fromTools != null) {
    let transformedList = tTools(fromTools);
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return toolToMldev$2(tTool(item));
      });
    }
    setValueByPath(parentObject, ["setup", "tools"], transformedList);
  }
  const fromSessionResumption = getValueByPath(fromObject, [
    "sessionResumption"
  ]);
  if (parentObject !== void 0 && fromSessionResumption != null) {
    setValueByPath(parentObject, ["setup", "sessionResumption"], sessionResumptionConfigToMldev$1(fromSessionResumption));
  }
  const fromInputAudioTranscription = getValueByPath(fromObject, [
    "inputAudioTranscription"
  ]);
  if (parentObject !== void 0 && fromInputAudioTranscription != null) {
    setValueByPath(parentObject, ["setup", "inputAudioTranscription"], fromInputAudioTranscription);
  }
  const fromOutputAudioTranscription = getValueByPath(fromObject, [
    "outputAudioTranscription"
  ]);
  if (parentObject !== void 0 && fromOutputAudioTranscription != null) {
    setValueByPath(parentObject, ["setup", "outputAudioTranscription"], fromOutputAudioTranscription);
  }
  const fromRealtimeInputConfig = getValueByPath(fromObject, [
    "realtimeInputConfig"
  ]);
  if (parentObject !== void 0 && fromRealtimeInputConfig != null) {
    setValueByPath(parentObject, ["setup", "realtimeInputConfig"], fromRealtimeInputConfig);
  }
  const fromContextWindowCompression = getValueByPath(fromObject, [
    "contextWindowCompression"
  ]);
  if (parentObject !== void 0 && fromContextWindowCompression != null) {
    setValueByPath(parentObject, ["setup", "contextWindowCompression"], fromContextWindowCompression);
  }
  const fromProactivity = getValueByPath(fromObject, ["proactivity"]);
  if (parentObject !== void 0 && fromProactivity != null) {
    setValueByPath(parentObject, ["setup", "proactivity"], fromProactivity);
  }
  if (getValueByPath(fromObject, ["explicitVadSignal"]) !== void 0) {
    throw new Error("explicitVadSignal parameter is not supported in Gemini API.");
  }
  return toObject;
}
function liveConnectConfigToVertex(fromObject, parentObject) {
  const toObject = {};
  const fromGenerationConfig = getValueByPath(fromObject, [
    "generationConfig"
  ]);
  if (parentObject !== void 0 && fromGenerationConfig != null) {
    setValueByPath(parentObject, ["setup", "generationConfig"], generationConfigToVertex$1(fromGenerationConfig));
  }
  const fromResponseModalities = getValueByPath(fromObject, [
    "responseModalities"
  ]);
  if (parentObject !== void 0 && fromResponseModalities != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "responseModalities"], fromResponseModalities);
  }
  const fromTemperature = getValueByPath(fromObject, ["temperature"]);
  if (parentObject !== void 0 && fromTemperature != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "temperature"], fromTemperature);
  }
  const fromTopP = getValueByPath(fromObject, ["topP"]);
  if (parentObject !== void 0 && fromTopP != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "topP"], fromTopP);
  }
  const fromTopK = getValueByPath(fromObject, ["topK"]);
  if (parentObject !== void 0 && fromTopK != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "topK"], fromTopK);
  }
  const fromMaxOutputTokens = getValueByPath(fromObject, [
    "maxOutputTokens"
  ]);
  if (parentObject !== void 0 && fromMaxOutputTokens != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "maxOutputTokens"], fromMaxOutputTokens);
  }
  const fromMediaResolution = getValueByPath(fromObject, [
    "mediaResolution"
  ]);
  if (parentObject !== void 0 && fromMediaResolution != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "mediaResolution"], fromMediaResolution);
  }
  const fromSeed = getValueByPath(fromObject, ["seed"]);
  if (parentObject !== void 0 && fromSeed != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "seed"], fromSeed);
  }
  const fromSpeechConfig = getValueByPath(fromObject, ["speechConfig"]);
  if (parentObject !== void 0 && fromSpeechConfig != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "speechConfig"], tLiveSpeechConfig(fromSpeechConfig));
  }
  const fromThinkingConfig = getValueByPath(fromObject, [
    "thinkingConfig"
  ]);
  if (parentObject !== void 0 && fromThinkingConfig != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "thinkingConfig"], fromThinkingConfig);
  }
  const fromEnableAffectiveDialog = getValueByPath(fromObject, [
    "enableAffectiveDialog"
  ]);
  if (parentObject !== void 0 && fromEnableAffectiveDialog != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "enableAffectiveDialog"], fromEnableAffectiveDialog);
  }
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (parentObject !== void 0 && fromSystemInstruction != null) {
    setValueByPath(parentObject, ["setup", "systemInstruction"], tContent(fromSystemInstruction));
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (parentObject !== void 0 && fromTools != null) {
    let transformedList = tTools(fromTools);
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return toolToVertex$1(tTool(item));
      });
    }
    setValueByPath(parentObject, ["setup", "tools"], transformedList);
  }
  const fromSessionResumption = getValueByPath(fromObject, [
    "sessionResumption"
  ]);
  if (parentObject !== void 0 && fromSessionResumption != null) {
    setValueByPath(parentObject, ["setup", "sessionResumption"], fromSessionResumption);
  }
  const fromInputAudioTranscription = getValueByPath(fromObject, [
    "inputAudioTranscription"
  ]);
  if (parentObject !== void 0 && fromInputAudioTranscription != null) {
    setValueByPath(parentObject, ["setup", "inputAudioTranscription"], fromInputAudioTranscription);
  }
  const fromOutputAudioTranscription = getValueByPath(fromObject, [
    "outputAudioTranscription"
  ]);
  if (parentObject !== void 0 && fromOutputAudioTranscription != null) {
    setValueByPath(parentObject, ["setup", "outputAudioTranscription"], fromOutputAudioTranscription);
  }
  const fromRealtimeInputConfig = getValueByPath(fromObject, [
    "realtimeInputConfig"
  ]);
  if (parentObject !== void 0 && fromRealtimeInputConfig != null) {
    setValueByPath(parentObject, ["setup", "realtimeInputConfig"], fromRealtimeInputConfig);
  }
  const fromContextWindowCompression = getValueByPath(fromObject, [
    "contextWindowCompression"
  ]);
  if (parentObject !== void 0 && fromContextWindowCompression != null) {
    setValueByPath(parentObject, ["setup", "contextWindowCompression"], fromContextWindowCompression);
  }
  const fromProactivity = getValueByPath(fromObject, ["proactivity"]);
  if (parentObject !== void 0 && fromProactivity != null) {
    setValueByPath(parentObject, ["setup", "proactivity"], fromProactivity);
  }
  const fromExplicitVadSignal = getValueByPath(fromObject, [
    "explicitVadSignal"
  ]);
  if (parentObject !== void 0 && fromExplicitVadSignal != null) {
    setValueByPath(parentObject, ["setup", "explicitVadSignal"], fromExplicitVadSignal);
  }
  return toObject;
}
function liveConnectParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["setup", "model"], tModel(apiClient, fromModel));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], liveConnectConfigToMldev$1(fromConfig, toObject));
  }
  return toObject;
}
function liveConnectParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["setup", "model"], tModel(apiClient, fromModel));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], liveConnectConfigToVertex(fromConfig, toObject));
  }
  return toObject;
}
function liveMusicSetConfigParametersToMldev(fromObject) {
  const toObject = {};
  const fromMusicGenerationConfig = getValueByPath(fromObject, [
    "musicGenerationConfig"
  ]);
  if (fromMusicGenerationConfig != null) {
    setValueByPath(toObject, ["musicGenerationConfig"], fromMusicGenerationConfig);
  }
  return toObject;
}
function liveMusicSetWeightedPromptsParametersToMldev(fromObject) {
  const toObject = {};
  const fromWeightedPrompts = getValueByPath(fromObject, [
    "weightedPrompts"
  ]);
  if (fromWeightedPrompts != null) {
    let transformedList = fromWeightedPrompts;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["weightedPrompts"], transformedList);
  }
  return toObject;
}
function liveSendRealtimeInputParametersToMldev(fromObject) {
  const toObject = {};
  const fromMedia = getValueByPath(fromObject, ["media"]);
  if (fromMedia != null) {
    let transformedList = tBlobs(fromMedia);
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return blobToMldev$2(item);
      });
    }
    setValueByPath(toObject, ["mediaChunks"], transformedList);
  }
  const fromAudio = getValueByPath(fromObject, ["audio"]);
  if (fromAudio != null) {
    setValueByPath(toObject, ["audio"], blobToMldev$2(tAudioBlob(fromAudio)));
  }
  const fromAudioStreamEnd = getValueByPath(fromObject, [
    "audioStreamEnd"
  ]);
  if (fromAudioStreamEnd != null) {
    setValueByPath(toObject, ["audioStreamEnd"], fromAudioStreamEnd);
  }
  const fromVideo = getValueByPath(fromObject, ["video"]);
  if (fromVideo != null) {
    setValueByPath(toObject, ["video"], blobToMldev$2(tImageBlob(fromVideo)));
  }
  const fromText = getValueByPath(fromObject, ["text"]);
  if (fromText != null) {
    setValueByPath(toObject, ["text"], fromText);
  }
  const fromActivityStart = getValueByPath(fromObject, [
    "activityStart"
  ]);
  if (fromActivityStart != null) {
    setValueByPath(toObject, ["activityStart"], fromActivityStart);
  }
  const fromActivityEnd = getValueByPath(fromObject, ["activityEnd"]);
  if (fromActivityEnd != null) {
    setValueByPath(toObject, ["activityEnd"], fromActivityEnd);
  }
  return toObject;
}
function liveSendRealtimeInputParametersToVertex(fromObject) {
  const toObject = {};
  const fromMedia = getValueByPath(fromObject, ["media"]);
  if (fromMedia != null) {
    let transformedList = tBlobs(fromMedia);
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["mediaChunks"], transformedList);
  }
  const fromAudio = getValueByPath(fromObject, ["audio"]);
  if (fromAudio != null) {
    setValueByPath(toObject, ["audio"], tAudioBlob(fromAudio));
  }
  const fromAudioStreamEnd = getValueByPath(fromObject, [
    "audioStreamEnd"
  ]);
  if (fromAudioStreamEnd != null) {
    setValueByPath(toObject, ["audioStreamEnd"], fromAudioStreamEnd);
  }
  const fromVideo = getValueByPath(fromObject, ["video"]);
  if (fromVideo != null) {
    setValueByPath(toObject, ["video"], tImageBlob(fromVideo));
  }
  const fromText = getValueByPath(fromObject, ["text"]);
  if (fromText != null) {
    setValueByPath(toObject, ["text"], fromText);
  }
  const fromActivityStart = getValueByPath(fromObject, [
    "activityStart"
  ]);
  if (fromActivityStart != null) {
    setValueByPath(toObject, ["activityStart"], fromActivityStart);
  }
  const fromActivityEnd = getValueByPath(fromObject, ["activityEnd"]);
  if (fromActivityEnd != null) {
    setValueByPath(toObject, ["activityEnd"], fromActivityEnd);
  }
  return toObject;
}
function liveServerMessageFromVertex(fromObject) {
  const toObject = {};
  const fromSetupComplete = getValueByPath(fromObject, [
    "setupComplete"
  ]);
  if (fromSetupComplete != null) {
    setValueByPath(toObject, ["setupComplete"], fromSetupComplete);
  }
  const fromServerContent = getValueByPath(fromObject, [
    "serverContent"
  ]);
  if (fromServerContent != null) {
    setValueByPath(toObject, ["serverContent"], fromServerContent);
  }
  const fromToolCall = getValueByPath(fromObject, ["toolCall"]);
  if (fromToolCall != null) {
    setValueByPath(toObject, ["toolCall"], fromToolCall);
  }
  const fromToolCallCancellation = getValueByPath(fromObject, [
    "toolCallCancellation"
  ]);
  if (fromToolCallCancellation != null) {
    setValueByPath(toObject, ["toolCallCancellation"], fromToolCallCancellation);
  }
  const fromUsageMetadata = getValueByPath(fromObject, [
    "usageMetadata"
  ]);
  if (fromUsageMetadata != null) {
    setValueByPath(toObject, ["usageMetadata"], usageMetadataFromVertex(fromUsageMetadata));
  }
  const fromGoAway = getValueByPath(fromObject, ["goAway"]);
  if (fromGoAway != null) {
    setValueByPath(toObject, ["goAway"], fromGoAway);
  }
  const fromSessionResumptionUpdate = getValueByPath(fromObject, [
    "sessionResumptionUpdate"
  ]);
  if (fromSessionResumptionUpdate != null) {
    setValueByPath(toObject, ["sessionResumptionUpdate"], fromSessionResumptionUpdate);
  }
  const fromVoiceActivityDetectionSignal = getValueByPath(fromObject, [
    "voiceActivityDetectionSignal"
  ]);
  if (fromVoiceActivityDetectionSignal != null) {
    setValueByPath(toObject, ["voiceActivityDetectionSignal"], fromVoiceActivityDetectionSignal);
  }
  return toObject;
}
function partToMldev$2(fromObject) {
  const toObject = {};
  const fromMediaResolution = getValueByPath(fromObject, [
    "mediaResolution"
  ]);
  if (fromMediaResolution != null) {
    setValueByPath(toObject, ["mediaResolution"], fromMediaResolution);
  }
  const fromCodeExecutionResult = getValueByPath(fromObject, [
    "codeExecutionResult"
  ]);
  if (fromCodeExecutionResult != null) {
    setValueByPath(toObject, ["codeExecutionResult"], fromCodeExecutionResult);
  }
  const fromExecutableCode = getValueByPath(fromObject, [
    "executableCode"
  ]);
  if (fromExecutableCode != null) {
    setValueByPath(toObject, ["executableCode"], fromExecutableCode);
  }
  const fromFileData = getValueByPath(fromObject, ["fileData"]);
  if (fromFileData != null) {
    setValueByPath(toObject, ["fileData"], fileDataToMldev$2(fromFileData));
  }
  const fromFunctionCall = getValueByPath(fromObject, ["functionCall"]);
  if (fromFunctionCall != null) {
    setValueByPath(toObject, ["functionCall"], functionCallToMldev$2(fromFunctionCall));
  }
  const fromFunctionResponse = getValueByPath(fromObject, [
    "functionResponse"
  ]);
  if (fromFunctionResponse != null) {
    setValueByPath(toObject, ["functionResponse"], fromFunctionResponse);
  }
  const fromInlineData = getValueByPath(fromObject, ["inlineData"]);
  if (fromInlineData != null) {
    setValueByPath(toObject, ["inlineData"], blobToMldev$2(fromInlineData));
  }
  const fromText = getValueByPath(fromObject, ["text"]);
  if (fromText != null) {
    setValueByPath(toObject, ["text"], fromText);
  }
  const fromThought = getValueByPath(fromObject, ["thought"]);
  if (fromThought != null) {
    setValueByPath(toObject, ["thought"], fromThought);
  }
  const fromThoughtSignature = getValueByPath(fromObject, [
    "thoughtSignature"
  ]);
  if (fromThoughtSignature != null) {
    setValueByPath(toObject, ["thoughtSignature"], fromThoughtSignature);
  }
  const fromVideoMetadata = getValueByPath(fromObject, [
    "videoMetadata"
  ]);
  if (fromVideoMetadata != null) {
    setValueByPath(toObject, ["videoMetadata"], fromVideoMetadata);
  }
  return toObject;
}
function sessionResumptionConfigToMldev$1(fromObject) {
  const toObject = {};
  const fromHandle = getValueByPath(fromObject, ["handle"]);
  if (fromHandle != null) {
    setValueByPath(toObject, ["handle"], fromHandle);
  }
  if (getValueByPath(fromObject, ["transparent"]) !== void 0) {
    throw new Error("transparent parameter is not supported in Gemini API.");
  }
  return toObject;
}
function toolToMldev$2(fromObject) {
  const toObject = {};
  const fromFunctionDeclarations = getValueByPath(fromObject, [
    "functionDeclarations"
  ]);
  if (fromFunctionDeclarations != null) {
    let transformedList = fromFunctionDeclarations;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["functionDeclarations"], transformedList);
  }
  if (getValueByPath(fromObject, ["retrieval"]) !== void 0) {
    throw new Error("retrieval parameter is not supported in Gemini API.");
  }
  const fromGoogleSearchRetrieval = getValueByPath(fromObject, [
    "googleSearchRetrieval"
  ]);
  if (fromGoogleSearchRetrieval != null) {
    setValueByPath(toObject, ["googleSearchRetrieval"], fromGoogleSearchRetrieval);
  }
  const fromComputerUse = getValueByPath(fromObject, ["computerUse"]);
  if (fromComputerUse != null) {
    setValueByPath(toObject, ["computerUse"], fromComputerUse);
  }
  const fromFileSearch = getValueByPath(fromObject, ["fileSearch"]);
  if (fromFileSearch != null) {
    setValueByPath(toObject, ["fileSearch"], fromFileSearch);
  }
  const fromCodeExecution = getValueByPath(fromObject, [
    "codeExecution"
  ]);
  if (fromCodeExecution != null) {
    setValueByPath(toObject, ["codeExecution"], fromCodeExecution);
  }
  if (getValueByPath(fromObject, ["enterpriseWebSearch"]) !== void 0) {
    throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");
  }
  const fromGoogleMaps = getValueByPath(fromObject, ["googleMaps"]);
  if (fromGoogleMaps != null) {
    setValueByPath(toObject, ["googleMaps"], googleMapsToMldev$2(fromGoogleMaps));
  }
  const fromGoogleSearch = getValueByPath(fromObject, ["googleSearch"]);
  if (fromGoogleSearch != null) {
    setValueByPath(toObject, ["googleSearch"], googleSearchToMldev$2(fromGoogleSearch));
  }
  const fromUrlContext = getValueByPath(fromObject, ["urlContext"]);
  if (fromUrlContext != null) {
    setValueByPath(toObject, ["urlContext"], fromUrlContext);
  }
  return toObject;
}
function toolToVertex$1(fromObject) {
  const toObject = {};
  const fromFunctionDeclarations = getValueByPath(fromObject, [
    "functionDeclarations"
  ]);
  if (fromFunctionDeclarations != null) {
    let transformedList = fromFunctionDeclarations;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return functionDeclarationToVertex$1(item);
      });
    }
    setValueByPath(toObject, ["functionDeclarations"], transformedList);
  }
  const fromRetrieval = getValueByPath(fromObject, ["retrieval"]);
  if (fromRetrieval != null) {
    setValueByPath(toObject, ["retrieval"], fromRetrieval);
  }
  const fromGoogleSearchRetrieval = getValueByPath(fromObject, [
    "googleSearchRetrieval"
  ]);
  if (fromGoogleSearchRetrieval != null) {
    setValueByPath(toObject, ["googleSearchRetrieval"], fromGoogleSearchRetrieval);
  }
  const fromComputerUse = getValueByPath(fromObject, ["computerUse"]);
  if (fromComputerUse != null) {
    setValueByPath(toObject, ["computerUse"], fromComputerUse);
  }
  if (getValueByPath(fromObject, ["fileSearch"]) !== void 0) {
    throw new Error("fileSearch parameter is not supported in Vertex AI.");
  }
  const fromCodeExecution = getValueByPath(fromObject, [
    "codeExecution"
  ]);
  if (fromCodeExecution != null) {
    setValueByPath(toObject, ["codeExecution"], fromCodeExecution);
  }
  const fromEnterpriseWebSearch = getValueByPath(fromObject, [
    "enterpriseWebSearch"
  ]);
  if (fromEnterpriseWebSearch != null) {
    setValueByPath(toObject, ["enterpriseWebSearch"], fromEnterpriseWebSearch);
  }
  const fromGoogleMaps = getValueByPath(fromObject, ["googleMaps"]);
  if (fromGoogleMaps != null) {
    setValueByPath(toObject, ["googleMaps"], fromGoogleMaps);
  }
  const fromGoogleSearch = getValueByPath(fromObject, ["googleSearch"]);
  if (fromGoogleSearch != null) {
    setValueByPath(toObject, ["googleSearch"], fromGoogleSearch);
  }
  const fromUrlContext = getValueByPath(fromObject, ["urlContext"]);
  if (fromUrlContext != null) {
    setValueByPath(toObject, ["urlContext"], fromUrlContext);
  }
  return toObject;
}
function usageMetadataFromVertex(fromObject) {
  const toObject = {};
  const fromPromptTokenCount = getValueByPath(fromObject, [
    "promptTokenCount"
  ]);
  if (fromPromptTokenCount != null) {
    setValueByPath(toObject, ["promptTokenCount"], fromPromptTokenCount);
  }
  const fromCachedContentTokenCount = getValueByPath(fromObject, [
    "cachedContentTokenCount"
  ]);
  if (fromCachedContentTokenCount != null) {
    setValueByPath(toObject, ["cachedContentTokenCount"], fromCachedContentTokenCount);
  }
  const fromResponseTokenCount = getValueByPath(fromObject, [
    "candidatesTokenCount"
  ]);
  if (fromResponseTokenCount != null) {
    setValueByPath(toObject, ["responseTokenCount"], fromResponseTokenCount);
  }
  const fromToolUsePromptTokenCount = getValueByPath(fromObject, [
    "toolUsePromptTokenCount"
  ]);
  if (fromToolUsePromptTokenCount != null) {
    setValueByPath(toObject, ["toolUsePromptTokenCount"], fromToolUsePromptTokenCount);
  }
  const fromThoughtsTokenCount = getValueByPath(fromObject, [
    "thoughtsTokenCount"
  ]);
  if (fromThoughtsTokenCount != null) {
    setValueByPath(toObject, ["thoughtsTokenCount"], fromThoughtsTokenCount);
  }
  const fromTotalTokenCount = getValueByPath(fromObject, [
    "totalTokenCount"
  ]);
  if (fromTotalTokenCount != null) {
    setValueByPath(toObject, ["totalTokenCount"], fromTotalTokenCount);
  }
  const fromPromptTokensDetails = getValueByPath(fromObject, [
    "promptTokensDetails"
  ]);
  if (fromPromptTokensDetails != null) {
    let transformedList = fromPromptTokensDetails;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["promptTokensDetails"], transformedList);
  }
  const fromCacheTokensDetails = getValueByPath(fromObject, [
    "cacheTokensDetails"
  ]);
  if (fromCacheTokensDetails != null) {
    let transformedList = fromCacheTokensDetails;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["cacheTokensDetails"], transformedList);
  }
  const fromResponseTokensDetails = getValueByPath(fromObject, [
    "candidatesTokensDetails"
  ]);
  if (fromResponseTokensDetails != null) {
    let transformedList = fromResponseTokensDetails;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["responseTokensDetails"], transformedList);
  }
  const fromToolUsePromptTokensDetails = getValueByPath(fromObject, [
    "toolUsePromptTokensDetails"
  ]);
  if (fromToolUsePromptTokensDetails != null) {
    let transformedList = fromToolUsePromptTokensDetails;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["toolUsePromptTokensDetails"], transformedList);
  }
  const fromTrafficType = getValueByPath(fromObject, ["trafficType"]);
  if (fromTrafficType != null) {
    setValueByPath(toObject, ["trafficType"], fromTrafficType);
  }
  return toObject;
}
function blobToMldev$1(fromObject) {
  const toObject = {};
  const fromData = getValueByPath(fromObject, ["data"]);
  if (fromData != null) {
    setValueByPath(toObject, ["data"], fromData);
  }
  if (getValueByPath(fromObject, ["displayName"]) !== void 0) {
    throw new Error("displayName parameter is not supported in Gemini API.");
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function candidateFromMldev(fromObject) {
  const toObject = {};
  const fromContent = getValueByPath(fromObject, ["content"]);
  if (fromContent != null) {
    setValueByPath(toObject, ["content"], fromContent);
  }
  const fromCitationMetadata = getValueByPath(fromObject, [
    "citationMetadata"
  ]);
  if (fromCitationMetadata != null) {
    setValueByPath(toObject, ["citationMetadata"], citationMetadataFromMldev(fromCitationMetadata));
  }
  const fromTokenCount = getValueByPath(fromObject, ["tokenCount"]);
  if (fromTokenCount != null) {
    setValueByPath(toObject, ["tokenCount"], fromTokenCount);
  }
  const fromFinishReason = getValueByPath(fromObject, ["finishReason"]);
  if (fromFinishReason != null) {
    setValueByPath(toObject, ["finishReason"], fromFinishReason);
  }
  const fromAvgLogprobs = getValueByPath(fromObject, ["avgLogprobs"]);
  if (fromAvgLogprobs != null) {
    setValueByPath(toObject, ["avgLogprobs"], fromAvgLogprobs);
  }
  const fromGroundingMetadata = getValueByPath(fromObject, [
    "groundingMetadata"
  ]);
  if (fromGroundingMetadata != null) {
    setValueByPath(toObject, ["groundingMetadata"], fromGroundingMetadata);
  }
  const fromIndex = getValueByPath(fromObject, ["index"]);
  if (fromIndex != null) {
    setValueByPath(toObject, ["index"], fromIndex);
  }
  const fromLogprobsResult = getValueByPath(fromObject, [
    "logprobsResult"
  ]);
  if (fromLogprobsResult != null) {
    setValueByPath(toObject, ["logprobsResult"], fromLogprobsResult);
  }
  const fromSafetyRatings = getValueByPath(fromObject, [
    "safetyRatings"
  ]);
  if (fromSafetyRatings != null) {
    let transformedList = fromSafetyRatings;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["safetyRatings"], transformedList);
  }
  const fromUrlContextMetadata = getValueByPath(fromObject, [
    "urlContextMetadata"
  ]);
  if (fromUrlContextMetadata != null) {
    setValueByPath(toObject, ["urlContextMetadata"], fromUrlContextMetadata);
  }
  return toObject;
}
function citationMetadataFromMldev(fromObject) {
  const toObject = {};
  const fromCitations = getValueByPath(fromObject, ["citationSources"]);
  if (fromCitations != null) {
    let transformedList = fromCitations;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["citations"], transformedList);
  }
  return toObject;
}
function computeTokensParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    let transformedList = tContents(fromContents);
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["contents"], transformedList);
  }
  return toObject;
}
function computeTokensResponseFromVertex(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromTokensInfo = getValueByPath(fromObject, ["tokensInfo"]);
  if (fromTokensInfo != null) {
    let transformedList = fromTokensInfo;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["tokensInfo"], transformedList);
  }
  return toObject;
}
function contentEmbeddingFromVertex(fromObject) {
  const toObject = {};
  const fromValues = getValueByPath(fromObject, ["values"]);
  if (fromValues != null) {
    setValueByPath(toObject, ["values"], fromValues);
  }
  const fromStatistics = getValueByPath(fromObject, ["statistics"]);
  if (fromStatistics != null) {
    setValueByPath(toObject, ["statistics"], contentEmbeddingStatisticsFromVertex(fromStatistics));
  }
  return toObject;
}
function contentEmbeddingStatisticsFromVertex(fromObject) {
  const toObject = {};
  const fromTruncated = getValueByPath(fromObject, ["truncated"]);
  if (fromTruncated != null) {
    setValueByPath(toObject, ["truncated"], fromTruncated);
  }
  const fromTokenCount = getValueByPath(fromObject, ["token_count"]);
  if (fromTokenCount != null) {
    setValueByPath(toObject, ["tokenCount"], fromTokenCount);
  }
  return toObject;
}
function contentToMldev$1(fromObject) {
  const toObject = {};
  const fromParts = getValueByPath(fromObject, ["parts"]);
  if (fromParts != null) {
    let transformedList = fromParts;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return partToMldev$1(item);
      });
    }
    setValueByPath(toObject, ["parts"], transformedList);
  }
  const fromRole = getValueByPath(fromObject, ["role"]);
  if (fromRole != null) {
    setValueByPath(toObject, ["role"], fromRole);
  }
  return toObject;
}
function controlReferenceConfigToVertex(fromObject) {
  const toObject = {};
  const fromControlType = getValueByPath(fromObject, ["controlType"]);
  if (fromControlType != null) {
    setValueByPath(toObject, ["controlType"], fromControlType);
  }
  const fromEnableControlImageComputation = getValueByPath(fromObject, [
    "enableControlImageComputation"
  ]);
  if (fromEnableControlImageComputation != null) {
    setValueByPath(toObject, ["computeControl"], fromEnableControlImageComputation);
  }
  return toObject;
}
function countTokensConfigToMldev(fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["systemInstruction"]) !== void 0) {
    throw new Error("systemInstruction parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["tools"]) !== void 0) {
    throw new Error("tools parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["generationConfig"]) !== void 0) {
    throw new Error("generationConfig parameter is not supported in Gemini API.");
  }
  return toObject;
}
function countTokensConfigToVertex(fromObject, parentObject) {
  const toObject = {};
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (parentObject !== void 0 && fromSystemInstruction != null) {
    setValueByPath(parentObject, ["systemInstruction"], tContent(fromSystemInstruction));
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (parentObject !== void 0 && fromTools != null) {
    let transformedList = fromTools;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return toolToVertex(item);
      });
    }
    setValueByPath(parentObject, ["tools"], transformedList);
  }
  const fromGenerationConfig = getValueByPath(fromObject, [
    "generationConfig"
  ]);
  if (parentObject !== void 0 && fromGenerationConfig != null) {
    setValueByPath(parentObject, ["generationConfig"], generationConfigToVertex(fromGenerationConfig));
  }
  return toObject;
}
function countTokensParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    let transformedList = tContents(fromContents);
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return contentToMldev$1(item);
      });
    }
    setValueByPath(toObject, ["contents"], transformedList);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    countTokensConfigToMldev(fromConfig);
  }
  return toObject;
}
function countTokensParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    let transformedList = tContents(fromContents);
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["contents"], transformedList);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    countTokensConfigToVertex(fromConfig, toObject);
  }
  return toObject;
}
function countTokensResponseFromMldev(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromTotalTokens = getValueByPath(fromObject, ["totalTokens"]);
  if (fromTotalTokens != null) {
    setValueByPath(toObject, ["totalTokens"], fromTotalTokens);
  }
  const fromCachedContentTokenCount = getValueByPath(fromObject, [
    "cachedContentTokenCount"
  ]);
  if (fromCachedContentTokenCount != null) {
    setValueByPath(toObject, ["cachedContentTokenCount"], fromCachedContentTokenCount);
  }
  return toObject;
}
function countTokensResponseFromVertex(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromTotalTokens = getValueByPath(fromObject, ["totalTokens"]);
  if (fromTotalTokens != null) {
    setValueByPath(toObject, ["totalTokens"], fromTotalTokens);
  }
  return toObject;
}
function deleteModelParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "name"], tModel(apiClient, fromModel));
  }
  return toObject;
}
function deleteModelParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "name"], tModel(apiClient, fromModel));
  }
  return toObject;
}
function deleteModelResponseFromMldev(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  return toObject;
}
function deleteModelResponseFromVertex(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  return toObject;
}
function editImageConfigToVertex(fromObject, parentObject) {
  const toObject = {};
  const fromOutputGcsUri = getValueByPath(fromObject, ["outputGcsUri"]);
  if (parentObject !== void 0 && fromOutputGcsUri != null) {
    setValueByPath(parentObject, ["parameters", "storageUri"], fromOutputGcsUri);
  }
  const fromNegativePrompt = getValueByPath(fromObject, [
    "negativePrompt"
  ]);
  if (parentObject !== void 0 && fromNegativePrompt != null) {
    setValueByPath(parentObject, ["parameters", "negativePrompt"], fromNegativePrompt);
  }
  const fromNumberOfImages = getValueByPath(fromObject, [
    "numberOfImages"
  ]);
  if (parentObject !== void 0 && fromNumberOfImages != null) {
    setValueByPath(parentObject, ["parameters", "sampleCount"], fromNumberOfImages);
  }
  const fromAspectRatio = getValueByPath(fromObject, ["aspectRatio"]);
  if (parentObject !== void 0 && fromAspectRatio != null) {
    setValueByPath(parentObject, ["parameters", "aspectRatio"], fromAspectRatio);
  }
  const fromGuidanceScale = getValueByPath(fromObject, [
    "guidanceScale"
  ]);
  if (parentObject !== void 0 && fromGuidanceScale != null) {
    setValueByPath(parentObject, ["parameters", "guidanceScale"], fromGuidanceScale);
  }
  const fromSeed = getValueByPath(fromObject, ["seed"]);
  if (parentObject !== void 0 && fromSeed != null) {
    setValueByPath(parentObject, ["parameters", "seed"], fromSeed);
  }
  const fromSafetyFilterLevel = getValueByPath(fromObject, [
    "safetyFilterLevel"
  ]);
  if (parentObject !== void 0 && fromSafetyFilterLevel != null) {
    setValueByPath(parentObject, ["parameters", "safetySetting"], fromSafetyFilterLevel);
  }
  const fromPersonGeneration = getValueByPath(fromObject, [
    "personGeneration"
  ]);
  if (parentObject !== void 0 && fromPersonGeneration != null) {
    setValueByPath(parentObject, ["parameters", "personGeneration"], fromPersonGeneration);
  }
  const fromIncludeSafetyAttributes = getValueByPath(fromObject, [
    "includeSafetyAttributes"
  ]);
  if (parentObject !== void 0 && fromIncludeSafetyAttributes != null) {
    setValueByPath(parentObject, ["parameters", "includeSafetyAttributes"], fromIncludeSafetyAttributes);
  }
  const fromIncludeRaiReason = getValueByPath(fromObject, [
    "includeRaiReason"
  ]);
  if (parentObject !== void 0 && fromIncludeRaiReason != null) {
    setValueByPath(parentObject, ["parameters", "includeRaiReason"], fromIncludeRaiReason);
  }
  const fromLanguage = getValueByPath(fromObject, ["language"]);
  if (parentObject !== void 0 && fromLanguage != null) {
    setValueByPath(parentObject, ["parameters", "language"], fromLanguage);
  }
  const fromOutputMimeType = getValueByPath(fromObject, [
    "outputMimeType"
  ]);
  if (parentObject !== void 0 && fromOutputMimeType != null) {
    setValueByPath(parentObject, ["parameters", "outputOptions", "mimeType"], fromOutputMimeType);
  }
  const fromOutputCompressionQuality = getValueByPath(fromObject, [
    "outputCompressionQuality"
  ]);
  if (parentObject !== void 0 && fromOutputCompressionQuality != null) {
    setValueByPath(parentObject, ["parameters", "outputOptions", "compressionQuality"], fromOutputCompressionQuality);
  }
  const fromAddWatermark = getValueByPath(fromObject, ["addWatermark"]);
  if (parentObject !== void 0 && fromAddWatermark != null) {
    setValueByPath(parentObject, ["parameters", "addWatermark"], fromAddWatermark);
  }
  const fromLabels = getValueByPath(fromObject, ["labels"]);
  if (parentObject !== void 0 && fromLabels != null) {
    setValueByPath(parentObject, ["labels"], fromLabels);
  }
  const fromEditMode = getValueByPath(fromObject, ["editMode"]);
  if (parentObject !== void 0 && fromEditMode != null) {
    setValueByPath(parentObject, ["parameters", "editMode"], fromEditMode);
  }
  const fromBaseSteps = getValueByPath(fromObject, ["baseSteps"]);
  if (parentObject !== void 0 && fromBaseSteps != null) {
    setValueByPath(parentObject, ["parameters", "editConfig", "baseSteps"], fromBaseSteps);
  }
  return toObject;
}
function editImageParametersInternalToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromPrompt = getValueByPath(fromObject, ["prompt"]);
  if (fromPrompt != null) {
    setValueByPath(toObject, ["instances[0]", "prompt"], fromPrompt);
  }
  const fromReferenceImages = getValueByPath(fromObject, [
    "referenceImages"
  ]);
  if (fromReferenceImages != null) {
    let transformedList = fromReferenceImages;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return referenceImageAPIInternalToVertex(item);
      });
    }
    setValueByPath(toObject, ["instances[0]", "referenceImages"], transformedList);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    editImageConfigToVertex(fromConfig, toObject);
  }
  return toObject;
}
function editImageResponseFromVertex(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromGeneratedImages = getValueByPath(fromObject, [
    "predictions"
  ]);
  if (fromGeneratedImages != null) {
    let transformedList = fromGeneratedImages;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return generatedImageFromVertex(item);
      });
    }
    setValueByPath(toObject, ["generatedImages"], transformedList);
  }
  return toObject;
}
function embedContentConfigToMldev(fromObject, parentObject) {
  const toObject = {};
  const fromTaskType = getValueByPath(fromObject, ["taskType"]);
  if (parentObject !== void 0 && fromTaskType != null) {
    setValueByPath(parentObject, ["requests[]", "taskType"], fromTaskType);
  }
  const fromTitle = getValueByPath(fromObject, ["title"]);
  if (parentObject !== void 0 && fromTitle != null) {
    setValueByPath(parentObject, ["requests[]", "title"], fromTitle);
  }
  const fromOutputDimensionality = getValueByPath(fromObject, [
    "outputDimensionality"
  ]);
  if (parentObject !== void 0 && fromOutputDimensionality != null) {
    setValueByPath(parentObject, ["requests[]", "outputDimensionality"], fromOutputDimensionality);
  }
  if (getValueByPath(fromObject, ["mimeType"]) !== void 0) {
    throw new Error("mimeType parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["autoTruncate"]) !== void 0) {
    throw new Error("autoTruncate parameter is not supported in Gemini API.");
  }
  return toObject;
}
function embedContentConfigToVertex(fromObject, parentObject) {
  const toObject = {};
  const fromTaskType = getValueByPath(fromObject, ["taskType"]);
  if (parentObject !== void 0 && fromTaskType != null) {
    setValueByPath(parentObject, ["instances[]", "task_type"], fromTaskType);
  }
  const fromTitle = getValueByPath(fromObject, ["title"]);
  if (parentObject !== void 0 && fromTitle != null) {
    setValueByPath(parentObject, ["instances[]", "title"], fromTitle);
  }
  const fromOutputDimensionality = getValueByPath(fromObject, [
    "outputDimensionality"
  ]);
  if (parentObject !== void 0 && fromOutputDimensionality != null) {
    setValueByPath(parentObject, ["parameters", "outputDimensionality"], fromOutputDimensionality);
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (parentObject !== void 0 && fromMimeType != null) {
    setValueByPath(parentObject, ["instances[]", "mimeType"], fromMimeType);
  }
  const fromAutoTruncate = getValueByPath(fromObject, ["autoTruncate"]);
  if (parentObject !== void 0 && fromAutoTruncate != null) {
    setValueByPath(parentObject, ["parameters", "autoTruncate"], fromAutoTruncate);
  }
  return toObject;
}
function embedContentParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    let transformedList = tContentsForEmbed(apiClient, fromContents);
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["requests[]", "content"], transformedList);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    embedContentConfigToMldev(fromConfig, toObject);
  }
  const fromModelForEmbedContent = getValueByPath(fromObject, ["model"]);
  if (fromModelForEmbedContent !== void 0) {
    setValueByPath(toObject, ["requests[]", "model"], tModel(apiClient, fromModelForEmbedContent));
  }
  return toObject;
}
function embedContentParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    let transformedList = tContentsForEmbed(apiClient, fromContents);
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["instances[]", "content"], transformedList);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    embedContentConfigToVertex(fromConfig, toObject);
  }
  return toObject;
}
function embedContentResponseFromMldev(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromEmbeddings = getValueByPath(fromObject, ["embeddings"]);
  if (fromEmbeddings != null) {
    let transformedList = fromEmbeddings;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["embeddings"], transformedList);
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], fromMetadata);
  }
  return toObject;
}
function embedContentResponseFromVertex(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromEmbeddings = getValueByPath(fromObject, [
    "predictions[]",
    "embeddings"
  ]);
  if (fromEmbeddings != null) {
    let transformedList = fromEmbeddings;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return contentEmbeddingFromVertex(item);
      });
    }
    setValueByPath(toObject, ["embeddings"], transformedList);
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], fromMetadata);
  }
  return toObject;
}
function endpointFromVertex(fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["endpoint"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromDeployedModelId = getValueByPath(fromObject, [
    "deployedModelId"
  ]);
  if (fromDeployedModelId != null) {
    setValueByPath(toObject, ["deployedModelId"], fromDeployedModelId);
  }
  return toObject;
}
function fileDataToMldev$1(fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["displayName"]) !== void 0) {
    throw new Error("displayName parameter is not supported in Gemini API.");
  }
  const fromFileUri = getValueByPath(fromObject, ["fileUri"]);
  if (fromFileUri != null) {
    setValueByPath(toObject, ["fileUri"], fromFileUri);
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function functionCallToMldev$1(fromObject) {
  const toObject = {};
  const fromId = getValueByPath(fromObject, ["id"]);
  if (fromId != null) {
    setValueByPath(toObject, ["id"], fromId);
  }
  const fromArgs = getValueByPath(fromObject, ["args"]);
  if (fromArgs != null) {
    setValueByPath(toObject, ["args"], fromArgs);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  if (getValueByPath(fromObject, ["partialArgs"]) !== void 0) {
    throw new Error("partialArgs parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["willContinue"]) !== void 0) {
    throw new Error("willContinue parameter is not supported in Gemini API.");
  }
  return toObject;
}
function functionCallingConfigToMldev(fromObject) {
  const toObject = {};
  const fromMode = getValueByPath(fromObject, ["mode"]);
  if (fromMode != null) {
    setValueByPath(toObject, ["mode"], fromMode);
  }
  const fromAllowedFunctionNames = getValueByPath(fromObject, [
    "allowedFunctionNames"
  ]);
  if (fromAllowedFunctionNames != null) {
    setValueByPath(toObject, ["allowedFunctionNames"], fromAllowedFunctionNames);
  }
  if (getValueByPath(fromObject, ["streamFunctionCallArguments"]) !== void 0) {
    throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");
  }
  return toObject;
}
function functionDeclarationToVertex(fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["behavior"]) !== void 0) {
    throw new Error("behavior parameter is not supported in Vertex AI.");
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromParameters = getValueByPath(fromObject, ["parameters"]);
  if (fromParameters != null) {
    setValueByPath(toObject, ["parameters"], fromParameters);
  }
  const fromParametersJsonSchema = getValueByPath(fromObject, [
    "parametersJsonSchema"
  ]);
  if (fromParametersJsonSchema != null) {
    setValueByPath(toObject, ["parametersJsonSchema"], fromParametersJsonSchema);
  }
  const fromResponse = getValueByPath(fromObject, ["response"]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], fromResponse);
  }
  const fromResponseJsonSchema = getValueByPath(fromObject, [
    "responseJsonSchema"
  ]);
  if (fromResponseJsonSchema != null) {
    setValueByPath(toObject, ["responseJsonSchema"], fromResponseJsonSchema);
  }
  return toObject;
}
function generateContentConfigToMldev(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (parentObject !== void 0 && fromSystemInstruction != null) {
    setValueByPath(parentObject, ["systemInstruction"], contentToMldev$1(tContent(fromSystemInstruction)));
  }
  const fromTemperature = getValueByPath(fromObject, ["temperature"]);
  if (fromTemperature != null) {
    setValueByPath(toObject, ["temperature"], fromTemperature);
  }
  const fromTopP = getValueByPath(fromObject, ["topP"]);
  if (fromTopP != null) {
    setValueByPath(toObject, ["topP"], fromTopP);
  }
  const fromTopK = getValueByPath(fromObject, ["topK"]);
  if (fromTopK != null) {
    setValueByPath(toObject, ["topK"], fromTopK);
  }
  const fromCandidateCount = getValueByPath(fromObject, [
    "candidateCount"
  ]);
  if (fromCandidateCount != null) {
    setValueByPath(toObject, ["candidateCount"], fromCandidateCount);
  }
  const fromMaxOutputTokens = getValueByPath(fromObject, [
    "maxOutputTokens"
  ]);
  if (fromMaxOutputTokens != null) {
    setValueByPath(toObject, ["maxOutputTokens"], fromMaxOutputTokens);
  }
  const fromStopSequences = getValueByPath(fromObject, [
    "stopSequences"
  ]);
  if (fromStopSequences != null) {
    setValueByPath(toObject, ["stopSequences"], fromStopSequences);
  }
  const fromResponseLogprobs = getValueByPath(fromObject, [
    "responseLogprobs"
  ]);
  if (fromResponseLogprobs != null) {
    setValueByPath(toObject, ["responseLogprobs"], fromResponseLogprobs);
  }
  const fromLogprobs = getValueByPath(fromObject, ["logprobs"]);
  if (fromLogprobs != null) {
    setValueByPath(toObject, ["logprobs"], fromLogprobs);
  }
  const fromPresencePenalty = getValueByPath(fromObject, [
    "presencePenalty"
  ]);
  if (fromPresencePenalty != null) {
    setValueByPath(toObject, ["presencePenalty"], fromPresencePenalty);
  }
  const fromFrequencyPenalty = getValueByPath(fromObject, [
    "frequencyPenalty"
  ]);
  if (fromFrequencyPenalty != null) {
    setValueByPath(toObject, ["frequencyPenalty"], fromFrequencyPenalty);
  }
  const fromSeed = getValueByPath(fromObject, ["seed"]);
  if (fromSeed != null) {
    setValueByPath(toObject, ["seed"], fromSeed);
  }
  const fromResponseMimeType = getValueByPath(fromObject, [
    "responseMimeType"
  ]);
  if (fromResponseMimeType != null) {
    setValueByPath(toObject, ["responseMimeType"], fromResponseMimeType);
  }
  const fromResponseSchema = getValueByPath(fromObject, [
    "responseSchema"
  ]);
  if (fromResponseSchema != null) {
    setValueByPath(toObject, ["responseSchema"], tSchema(fromResponseSchema));
  }
  const fromResponseJsonSchema = getValueByPath(fromObject, [
    "responseJsonSchema"
  ]);
  if (fromResponseJsonSchema != null) {
    setValueByPath(toObject, ["responseJsonSchema"], fromResponseJsonSchema);
  }
  if (getValueByPath(fromObject, ["routingConfig"]) !== void 0) {
    throw new Error("routingConfig parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["modelSelectionConfig"]) !== void 0) {
    throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");
  }
  const fromSafetySettings = getValueByPath(fromObject, [
    "safetySettings"
  ]);
  if (parentObject !== void 0 && fromSafetySettings != null) {
    let transformedList = fromSafetySettings;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return safetySettingToMldev(item);
      });
    }
    setValueByPath(parentObject, ["safetySettings"], transformedList);
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (parentObject !== void 0 && fromTools != null) {
    let transformedList = tTools(fromTools);
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return toolToMldev$1(tTool(item));
      });
    }
    setValueByPath(parentObject, ["tools"], transformedList);
  }
  const fromToolConfig = getValueByPath(fromObject, ["toolConfig"]);
  if (parentObject !== void 0 && fromToolConfig != null) {
    setValueByPath(parentObject, ["toolConfig"], toolConfigToMldev(fromToolConfig));
  }
  if (getValueByPath(fromObject, ["labels"]) !== void 0) {
    throw new Error("labels parameter is not supported in Gemini API.");
  }
  const fromCachedContent = getValueByPath(fromObject, [
    "cachedContent"
  ]);
  if (parentObject !== void 0 && fromCachedContent != null) {
    setValueByPath(parentObject, ["cachedContent"], tCachedContentName(apiClient, fromCachedContent));
  }
  const fromResponseModalities = getValueByPath(fromObject, [
    "responseModalities"
  ]);
  if (fromResponseModalities != null) {
    setValueByPath(toObject, ["responseModalities"], fromResponseModalities);
  }
  const fromMediaResolution = getValueByPath(fromObject, [
    "mediaResolution"
  ]);
  if (fromMediaResolution != null) {
    setValueByPath(toObject, ["mediaResolution"], fromMediaResolution);
  }
  const fromSpeechConfig = getValueByPath(fromObject, ["speechConfig"]);
  if (fromSpeechConfig != null) {
    setValueByPath(toObject, ["speechConfig"], tSpeechConfig(fromSpeechConfig));
  }
  if (getValueByPath(fromObject, ["audioTimestamp"]) !== void 0) {
    throw new Error("audioTimestamp parameter is not supported in Gemini API.");
  }
  const fromThinkingConfig = getValueByPath(fromObject, [
    "thinkingConfig"
  ]);
  if (fromThinkingConfig != null) {
    setValueByPath(toObject, ["thinkingConfig"], fromThinkingConfig);
  }
  const fromImageConfig = getValueByPath(fromObject, ["imageConfig"]);
  if (fromImageConfig != null) {
    setValueByPath(toObject, ["imageConfig"], imageConfigToMldev(fromImageConfig));
  }
  const fromEnableEnhancedCivicAnswers = getValueByPath(fromObject, [
    "enableEnhancedCivicAnswers"
  ]);
  if (fromEnableEnhancedCivicAnswers != null) {
    setValueByPath(toObject, ["enableEnhancedCivicAnswers"], fromEnableEnhancedCivicAnswers);
  }
  return toObject;
}
function generateContentConfigToVertex(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (parentObject !== void 0 && fromSystemInstruction != null) {
    setValueByPath(parentObject, ["systemInstruction"], tContent(fromSystemInstruction));
  }
  const fromTemperature = getValueByPath(fromObject, ["temperature"]);
  if (fromTemperature != null) {
    setValueByPath(toObject, ["temperature"], fromTemperature);
  }
  const fromTopP = getValueByPath(fromObject, ["topP"]);
  if (fromTopP != null) {
    setValueByPath(toObject, ["topP"], fromTopP);
  }
  const fromTopK = getValueByPath(fromObject, ["topK"]);
  if (fromTopK != null) {
    setValueByPath(toObject, ["topK"], fromTopK);
  }
  const fromCandidateCount = getValueByPath(fromObject, [
    "candidateCount"
  ]);
  if (fromCandidateCount != null) {
    setValueByPath(toObject, ["candidateCount"], fromCandidateCount);
  }
  const fromMaxOutputTokens = getValueByPath(fromObject, [
    "maxOutputTokens"
  ]);
  if (fromMaxOutputTokens != null) {
    setValueByPath(toObject, ["maxOutputTokens"], fromMaxOutputTokens);
  }
  const fromStopSequences = getValueByPath(fromObject, [
    "stopSequences"
  ]);
  if (fromStopSequences != null) {
    setValueByPath(toObject, ["stopSequences"], fromStopSequences);
  }
  const fromResponseLogprobs = getValueByPath(fromObject, [
    "responseLogprobs"
  ]);
  if (fromResponseLogprobs != null) {
    setValueByPath(toObject, ["responseLogprobs"], fromResponseLogprobs);
  }
  const fromLogprobs = getValueByPath(fromObject, ["logprobs"]);
  if (fromLogprobs != null) {
    setValueByPath(toObject, ["logprobs"], fromLogprobs);
  }
  const fromPresencePenalty = getValueByPath(fromObject, [
    "presencePenalty"
  ]);
  if (fromPresencePenalty != null) {
    setValueByPath(toObject, ["presencePenalty"], fromPresencePenalty);
  }
  const fromFrequencyPenalty = getValueByPath(fromObject, [
    "frequencyPenalty"
  ]);
  if (fromFrequencyPenalty != null) {
    setValueByPath(toObject, ["frequencyPenalty"], fromFrequencyPenalty);
  }
  const fromSeed = getValueByPath(fromObject, ["seed"]);
  if (fromSeed != null) {
    setValueByPath(toObject, ["seed"], fromSeed);
  }
  const fromResponseMimeType = getValueByPath(fromObject, [
    "responseMimeType"
  ]);
  if (fromResponseMimeType != null) {
    setValueByPath(toObject, ["responseMimeType"], fromResponseMimeType);
  }
  const fromResponseSchema = getValueByPath(fromObject, [
    "responseSchema"
  ]);
  if (fromResponseSchema != null) {
    setValueByPath(toObject, ["responseSchema"], tSchema(fromResponseSchema));
  }
  const fromResponseJsonSchema = getValueByPath(fromObject, [
    "responseJsonSchema"
  ]);
  if (fromResponseJsonSchema != null) {
    setValueByPath(toObject, ["responseJsonSchema"], fromResponseJsonSchema);
  }
  const fromRoutingConfig = getValueByPath(fromObject, [
    "routingConfig"
  ]);
  if (fromRoutingConfig != null) {
    setValueByPath(toObject, ["routingConfig"], fromRoutingConfig);
  }
  const fromModelSelectionConfig = getValueByPath(fromObject, [
    "modelSelectionConfig"
  ]);
  if (fromModelSelectionConfig != null) {
    setValueByPath(toObject, ["modelConfig"], fromModelSelectionConfig);
  }
  const fromSafetySettings = getValueByPath(fromObject, [
    "safetySettings"
  ]);
  if (parentObject !== void 0 && fromSafetySettings != null) {
    let transformedList = fromSafetySettings;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(parentObject, ["safetySettings"], transformedList);
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (parentObject !== void 0 && fromTools != null) {
    let transformedList = tTools(fromTools);
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return toolToVertex(tTool(item));
      });
    }
    setValueByPath(parentObject, ["tools"], transformedList);
  }
  const fromToolConfig = getValueByPath(fromObject, ["toolConfig"]);
  if (parentObject !== void 0 && fromToolConfig != null) {
    setValueByPath(parentObject, ["toolConfig"], fromToolConfig);
  }
  const fromLabels = getValueByPath(fromObject, ["labels"]);
  if (parentObject !== void 0 && fromLabels != null) {
    setValueByPath(parentObject, ["labels"], fromLabels);
  }
  const fromCachedContent = getValueByPath(fromObject, [
    "cachedContent"
  ]);
  if (parentObject !== void 0 && fromCachedContent != null) {
    setValueByPath(parentObject, ["cachedContent"], tCachedContentName(apiClient, fromCachedContent));
  }
  const fromResponseModalities = getValueByPath(fromObject, [
    "responseModalities"
  ]);
  if (fromResponseModalities != null) {
    setValueByPath(toObject, ["responseModalities"], fromResponseModalities);
  }
  const fromMediaResolution = getValueByPath(fromObject, [
    "mediaResolution"
  ]);
  if (fromMediaResolution != null) {
    setValueByPath(toObject, ["mediaResolution"], fromMediaResolution);
  }
  const fromSpeechConfig = getValueByPath(fromObject, ["speechConfig"]);
  if (fromSpeechConfig != null) {
    setValueByPath(toObject, ["speechConfig"], tSpeechConfig(fromSpeechConfig));
  }
  const fromAudioTimestamp = getValueByPath(fromObject, [
    "audioTimestamp"
  ]);
  if (fromAudioTimestamp != null) {
    setValueByPath(toObject, ["audioTimestamp"], fromAudioTimestamp);
  }
  const fromThinkingConfig = getValueByPath(fromObject, [
    "thinkingConfig"
  ]);
  if (fromThinkingConfig != null) {
    setValueByPath(toObject, ["thinkingConfig"], fromThinkingConfig);
  }
  const fromImageConfig = getValueByPath(fromObject, ["imageConfig"]);
  if (fromImageConfig != null) {
    setValueByPath(toObject, ["imageConfig"], imageConfigToVertex(fromImageConfig));
  }
  if (getValueByPath(fromObject, ["enableEnhancedCivicAnswers"]) !== void 0) {
    throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");
  }
  return toObject;
}
function generateContentParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    let transformedList = tContents(fromContents);
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return contentToMldev$1(item);
      });
    }
    setValueByPath(toObject, ["contents"], transformedList);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["generationConfig"], generateContentConfigToMldev(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function generateContentParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromContents = getValueByPath(fromObject, ["contents"]);
  if (fromContents != null) {
    let transformedList = tContents(fromContents);
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["contents"], transformedList);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["generationConfig"], generateContentConfigToVertex(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function generateContentResponseFromMldev(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromCandidates = getValueByPath(fromObject, ["candidates"]);
  if (fromCandidates != null) {
    let transformedList = fromCandidates;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return candidateFromMldev(item);
      });
    }
    setValueByPath(toObject, ["candidates"], transformedList);
  }
  const fromModelVersion = getValueByPath(fromObject, ["modelVersion"]);
  if (fromModelVersion != null) {
    setValueByPath(toObject, ["modelVersion"], fromModelVersion);
  }
  const fromPromptFeedback = getValueByPath(fromObject, [
    "promptFeedback"
  ]);
  if (fromPromptFeedback != null) {
    setValueByPath(toObject, ["promptFeedback"], fromPromptFeedback);
  }
  const fromResponseId = getValueByPath(fromObject, ["responseId"]);
  if (fromResponseId != null) {
    setValueByPath(toObject, ["responseId"], fromResponseId);
  }
  const fromUsageMetadata = getValueByPath(fromObject, [
    "usageMetadata"
  ]);
  if (fromUsageMetadata != null) {
    setValueByPath(toObject, ["usageMetadata"], fromUsageMetadata);
  }
  return toObject;
}
function generateContentResponseFromVertex(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromCandidates = getValueByPath(fromObject, ["candidates"]);
  if (fromCandidates != null) {
    let transformedList = fromCandidates;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["candidates"], transformedList);
  }
  const fromCreateTime = getValueByPath(fromObject, ["createTime"]);
  if (fromCreateTime != null) {
    setValueByPath(toObject, ["createTime"], fromCreateTime);
  }
  const fromModelVersion = getValueByPath(fromObject, ["modelVersion"]);
  if (fromModelVersion != null) {
    setValueByPath(toObject, ["modelVersion"], fromModelVersion);
  }
  const fromPromptFeedback = getValueByPath(fromObject, [
    "promptFeedback"
  ]);
  if (fromPromptFeedback != null) {
    setValueByPath(toObject, ["promptFeedback"], fromPromptFeedback);
  }
  const fromResponseId = getValueByPath(fromObject, ["responseId"]);
  if (fromResponseId != null) {
    setValueByPath(toObject, ["responseId"], fromResponseId);
  }
  const fromUsageMetadata = getValueByPath(fromObject, [
    "usageMetadata"
  ]);
  if (fromUsageMetadata != null) {
    setValueByPath(toObject, ["usageMetadata"], fromUsageMetadata);
  }
  return toObject;
}
function generateImagesConfigToMldev(fromObject, parentObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["outputGcsUri"]) !== void 0) {
    throw new Error("outputGcsUri parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["negativePrompt"]) !== void 0) {
    throw new Error("negativePrompt parameter is not supported in Gemini API.");
  }
  const fromNumberOfImages = getValueByPath(fromObject, [
    "numberOfImages"
  ]);
  if (parentObject !== void 0 && fromNumberOfImages != null) {
    setValueByPath(parentObject, ["parameters", "sampleCount"], fromNumberOfImages);
  }
  const fromAspectRatio = getValueByPath(fromObject, ["aspectRatio"]);
  if (parentObject !== void 0 && fromAspectRatio != null) {
    setValueByPath(parentObject, ["parameters", "aspectRatio"], fromAspectRatio);
  }
  const fromGuidanceScale = getValueByPath(fromObject, [
    "guidanceScale"
  ]);
  if (parentObject !== void 0 && fromGuidanceScale != null) {
    setValueByPath(parentObject, ["parameters", "guidanceScale"], fromGuidanceScale);
  }
  if (getValueByPath(fromObject, ["seed"]) !== void 0) {
    throw new Error("seed parameter is not supported in Gemini API.");
  }
  const fromSafetyFilterLevel = getValueByPath(fromObject, [
    "safetyFilterLevel"
  ]);
  if (parentObject !== void 0 && fromSafetyFilterLevel != null) {
    setValueByPath(parentObject, ["parameters", "safetySetting"], fromSafetyFilterLevel);
  }
  const fromPersonGeneration = getValueByPath(fromObject, [
    "personGeneration"
  ]);
  if (parentObject !== void 0 && fromPersonGeneration != null) {
    setValueByPath(parentObject, ["parameters", "personGeneration"], fromPersonGeneration);
  }
  const fromIncludeSafetyAttributes = getValueByPath(fromObject, [
    "includeSafetyAttributes"
  ]);
  if (parentObject !== void 0 && fromIncludeSafetyAttributes != null) {
    setValueByPath(parentObject, ["parameters", "includeSafetyAttributes"], fromIncludeSafetyAttributes);
  }
  const fromIncludeRaiReason = getValueByPath(fromObject, [
    "includeRaiReason"
  ]);
  if (parentObject !== void 0 && fromIncludeRaiReason != null) {
    setValueByPath(parentObject, ["parameters", "includeRaiReason"], fromIncludeRaiReason);
  }
  const fromLanguage = getValueByPath(fromObject, ["language"]);
  if (parentObject !== void 0 && fromLanguage != null) {
    setValueByPath(parentObject, ["parameters", "language"], fromLanguage);
  }
  const fromOutputMimeType = getValueByPath(fromObject, [
    "outputMimeType"
  ]);
  if (parentObject !== void 0 && fromOutputMimeType != null) {
    setValueByPath(parentObject, ["parameters", "outputOptions", "mimeType"], fromOutputMimeType);
  }
  const fromOutputCompressionQuality = getValueByPath(fromObject, [
    "outputCompressionQuality"
  ]);
  if (parentObject !== void 0 && fromOutputCompressionQuality != null) {
    setValueByPath(parentObject, ["parameters", "outputOptions", "compressionQuality"], fromOutputCompressionQuality);
  }
  if (getValueByPath(fromObject, ["addWatermark"]) !== void 0) {
    throw new Error("addWatermark parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["labels"]) !== void 0) {
    throw new Error("labels parameter is not supported in Gemini API.");
  }
  const fromImageSize = getValueByPath(fromObject, ["imageSize"]);
  if (parentObject !== void 0 && fromImageSize != null) {
    setValueByPath(parentObject, ["parameters", "sampleImageSize"], fromImageSize);
  }
  if (getValueByPath(fromObject, ["enhancePrompt"]) !== void 0) {
    throw new Error("enhancePrompt parameter is not supported in Gemini API.");
  }
  return toObject;
}
function generateImagesConfigToVertex(fromObject, parentObject) {
  const toObject = {};
  const fromOutputGcsUri = getValueByPath(fromObject, ["outputGcsUri"]);
  if (parentObject !== void 0 && fromOutputGcsUri != null) {
    setValueByPath(parentObject, ["parameters", "storageUri"], fromOutputGcsUri);
  }
  const fromNegativePrompt = getValueByPath(fromObject, [
    "negativePrompt"
  ]);
  if (parentObject !== void 0 && fromNegativePrompt != null) {
    setValueByPath(parentObject, ["parameters", "negativePrompt"], fromNegativePrompt);
  }
  const fromNumberOfImages = getValueByPath(fromObject, [
    "numberOfImages"
  ]);
  if (parentObject !== void 0 && fromNumberOfImages != null) {
    setValueByPath(parentObject, ["parameters", "sampleCount"], fromNumberOfImages);
  }
  const fromAspectRatio = getValueByPath(fromObject, ["aspectRatio"]);
  if (parentObject !== void 0 && fromAspectRatio != null) {
    setValueByPath(parentObject, ["parameters", "aspectRatio"], fromAspectRatio);
  }
  const fromGuidanceScale = getValueByPath(fromObject, [
    "guidanceScale"
  ]);
  if (parentObject !== void 0 && fromGuidanceScale != null) {
    setValueByPath(parentObject, ["parameters", "guidanceScale"], fromGuidanceScale);
  }
  const fromSeed = getValueByPath(fromObject, ["seed"]);
  if (parentObject !== void 0 && fromSeed != null) {
    setValueByPath(parentObject, ["parameters", "seed"], fromSeed);
  }
  const fromSafetyFilterLevel = getValueByPath(fromObject, [
    "safetyFilterLevel"
  ]);
  if (parentObject !== void 0 && fromSafetyFilterLevel != null) {
    setValueByPath(parentObject, ["parameters", "safetySetting"], fromSafetyFilterLevel);
  }
  const fromPersonGeneration = getValueByPath(fromObject, [
    "personGeneration"
  ]);
  if (parentObject !== void 0 && fromPersonGeneration != null) {
    setValueByPath(parentObject, ["parameters", "personGeneration"], fromPersonGeneration);
  }
  const fromIncludeSafetyAttributes = getValueByPath(fromObject, [
    "includeSafetyAttributes"
  ]);
  if (parentObject !== void 0 && fromIncludeSafetyAttributes != null) {
    setValueByPath(parentObject, ["parameters", "includeSafetyAttributes"], fromIncludeSafetyAttributes);
  }
  const fromIncludeRaiReason = getValueByPath(fromObject, [
    "includeRaiReason"
  ]);
  if (parentObject !== void 0 && fromIncludeRaiReason != null) {
    setValueByPath(parentObject, ["parameters", "includeRaiReason"], fromIncludeRaiReason);
  }
  const fromLanguage = getValueByPath(fromObject, ["language"]);
  if (parentObject !== void 0 && fromLanguage != null) {
    setValueByPath(parentObject, ["parameters", "language"], fromLanguage);
  }
  const fromOutputMimeType = getValueByPath(fromObject, [
    "outputMimeType"
  ]);
  if (parentObject !== void 0 && fromOutputMimeType != null) {
    setValueByPath(parentObject, ["parameters", "outputOptions", "mimeType"], fromOutputMimeType);
  }
  const fromOutputCompressionQuality = getValueByPath(fromObject, [
    "outputCompressionQuality"
  ]);
  if (parentObject !== void 0 && fromOutputCompressionQuality != null) {
    setValueByPath(parentObject, ["parameters", "outputOptions", "compressionQuality"], fromOutputCompressionQuality);
  }
  const fromAddWatermark = getValueByPath(fromObject, ["addWatermark"]);
  if (parentObject !== void 0 && fromAddWatermark != null) {
    setValueByPath(parentObject, ["parameters", "addWatermark"], fromAddWatermark);
  }
  const fromLabels = getValueByPath(fromObject, ["labels"]);
  if (parentObject !== void 0 && fromLabels != null) {
    setValueByPath(parentObject, ["labels"], fromLabels);
  }
  const fromImageSize = getValueByPath(fromObject, ["imageSize"]);
  if (parentObject !== void 0 && fromImageSize != null) {
    setValueByPath(parentObject, ["parameters", "sampleImageSize"], fromImageSize);
  }
  const fromEnhancePrompt = getValueByPath(fromObject, [
    "enhancePrompt"
  ]);
  if (parentObject !== void 0 && fromEnhancePrompt != null) {
    setValueByPath(parentObject, ["parameters", "enhancePrompt"], fromEnhancePrompt);
  }
  return toObject;
}
function generateImagesParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromPrompt = getValueByPath(fromObject, ["prompt"]);
  if (fromPrompt != null) {
    setValueByPath(toObject, ["instances[0]", "prompt"], fromPrompt);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    generateImagesConfigToMldev(fromConfig, toObject);
  }
  return toObject;
}
function generateImagesParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromPrompt = getValueByPath(fromObject, ["prompt"]);
  if (fromPrompt != null) {
    setValueByPath(toObject, ["instances[0]", "prompt"], fromPrompt);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    generateImagesConfigToVertex(fromConfig, toObject);
  }
  return toObject;
}
function generateImagesResponseFromMldev(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromGeneratedImages = getValueByPath(fromObject, [
    "predictions"
  ]);
  if (fromGeneratedImages != null) {
    let transformedList = fromGeneratedImages;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return generatedImageFromMldev(item);
      });
    }
    setValueByPath(toObject, ["generatedImages"], transformedList);
  }
  const fromPositivePromptSafetyAttributes = getValueByPath(fromObject, [
    "positivePromptSafetyAttributes"
  ]);
  if (fromPositivePromptSafetyAttributes != null) {
    setValueByPath(toObject, ["positivePromptSafetyAttributes"], safetyAttributesFromMldev(fromPositivePromptSafetyAttributes));
  }
  return toObject;
}
function generateImagesResponseFromVertex(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromGeneratedImages = getValueByPath(fromObject, [
    "predictions"
  ]);
  if (fromGeneratedImages != null) {
    let transformedList = fromGeneratedImages;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return generatedImageFromVertex(item);
      });
    }
    setValueByPath(toObject, ["generatedImages"], transformedList);
  }
  const fromPositivePromptSafetyAttributes = getValueByPath(fromObject, [
    "positivePromptSafetyAttributes"
  ]);
  if (fromPositivePromptSafetyAttributes != null) {
    setValueByPath(toObject, ["positivePromptSafetyAttributes"], safetyAttributesFromVertex(fromPositivePromptSafetyAttributes));
  }
  return toObject;
}
function generateVideosConfigToMldev(fromObject, parentObject) {
  const toObject = {};
  const fromNumberOfVideos = getValueByPath(fromObject, [
    "numberOfVideos"
  ]);
  if (parentObject !== void 0 && fromNumberOfVideos != null) {
    setValueByPath(parentObject, ["parameters", "sampleCount"], fromNumberOfVideos);
  }
  if (getValueByPath(fromObject, ["outputGcsUri"]) !== void 0) {
    throw new Error("outputGcsUri parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["fps"]) !== void 0) {
    throw new Error("fps parameter is not supported in Gemini API.");
  }
  const fromDurationSeconds = getValueByPath(fromObject, [
    "durationSeconds"
  ]);
  if (parentObject !== void 0 && fromDurationSeconds != null) {
    setValueByPath(parentObject, ["parameters", "durationSeconds"], fromDurationSeconds);
  }
  if (getValueByPath(fromObject, ["seed"]) !== void 0) {
    throw new Error("seed parameter is not supported in Gemini API.");
  }
  const fromAspectRatio = getValueByPath(fromObject, ["aspectRatio"]);
  if (parentObject !== void 0 && fromAspectRatio != null) {
    setValueByPath(parentObject, ["parameters", "aspectRatio"], fromAspectRatio);
  }
  const fromResolution = getValueByPath(fromObject, ["resolution"]);
  if (parentObject !== void 0 && fromResolution != null) {
    setValueByPath(parentObject, ["parameters", "resolution"], fromResolution);
  }
  const fromPersonGeneration = getValueByPath(fromObject, [
    "personGeneration"
  ]);
  if (parentObject !== void 0 && fromPersonGeneration != null) {
    setValueByPath(parentObject, ["parameters", "personGeneration"], fromPersonGeneration);
  }
  if (getValueByPath(fromObject, ["pubsubTopic"]) !== void 0) {
    throw new Error("pubsubTopic parameter is not supported in Gemini API.");
  }
  const fromNegativePrompt = getValueByPath(fromObject, [
    "negativePrompt"
  ]);
  if (parentObject !== void 0 && fromNegativePrompt != null) {
    setValueByPath(parentObject, ["parameters", "negativePrompt"], fromNegativePrompt);
  }
  const fromEnhancePrompt = getValueByPath(fromObject, [
    "enhancePrompt"
  ]);
  if (parentObject !== void 0 && fromEnhancePrompt != null) {
    setValueByPath(parentObject, ["parameters", "enhancePrompt"], fromEnhancePrompt);
  }
  if (getValueByPath(fromObject, ["generateAudio"]) !== void 0) {
    throw new Error("generateAudio parameter is not supported in Gemini API.");
  }
  const fromLastFrame = getValueByPath(fromObject, ["lastFrame"]);
  if (parentObject !== void 0 && fromLastFrame != null) {
    setValueByPath(parentObject, ["instances[0]", "lastFrame"], imageToMldev(fromLastFrame));
  }
  const fromReferenceImages = getValueByPath(fromObject, [
    "referenceImages"
  ]);
  if (parentObject !== void 0 && fromReferenceImages != null) {
    let transformedList = fromReferenceImages;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return videoGenerationReferenceImageToMldev(item);
      });
    }
    setValueByPath(parentObject, ["instances[0]", "referenceImages"], transformedList);
  }
  if (getValueByPath(fromObject, ["mask"]) !== void 0) {
    throw new Error("mask parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["compressionQuality"]) !== void 0) {
    throw new Error("compressionQuality parameter is not supported in Gemini API.");
  }
  return toObject;
}
function generateVideosConfigToVertex(fromObject, parentObject) {
  const toObject = {};
  const fromNumberOfVideos = getValueByPath(fromObject, [
    "numberOfVideos"
  ]);
  if (parentObject !== void 0 && fromNumberOfVideos != null) {
    setValueByPath(parentObject, ["parameters", "sampleCount"], fromNumberOfVideos);
  }
  const fromOutputGcsUri = getValueByPath(fromObject, ["outputGcsUri"]);
  if (parentObject !== void 0 && fromOutputGcsUri != null) {
    setValueByPath(parentObject, ["parameters", "storageUri"], fromOutputGcsUri);
  }
  const fromFps = getValueByPath(fromObject, ["fps"]);
  if (parentObject !== void 0 && fromFps != null) {
    setValueByPath(parentObject, ["parameters", "fps"], fromFps);
  }
  const fromDurationSeconds = getValueByPath(fromObject, [
    "durationSeconds"
  ]);
  if (parentObject !== void 0 && fromDurationSeconds != null) {
    setValueByPath(parentObject, ["parameters", "durationSeconds"], fromDurationSeconds);
  }
  const fromSeed = getValueByPath(fromObject, ["seed"]);
  if (parentObject !== void 0 && fromSeed != null) {
    setValueByPath(parentObject, ["parameters", "seed"], fromSeed);
  }
  const fromAspectRatio = getValueByPath(fromObject, ["aspectRatio"]);
  if (parentObject !== void 0 && fromAspectRatio != null) {
    setValueByPath(parentObject, ["parameters", "aspectRatio"], fromAspectRatio);
  }
  const fromResolution = getValueByPath(fromObject, ["resolution"]);
  if (parentObject !== void 0 && fromResolution != null) {
    setValueByPath(parentObject, ["parameters", "resolution"], fromResolution);
  }
  const fromPersonGeneration = getValueByPath(fromObject, [
    "personGeneration"
  ]);
  if (parentObject !== void 0 && fromPersonGeneration != null) {
    setValueByPath(parentObject, ["parameters", "personGeneration"], fromPersonGeneration);
  }
  const fromPubsubTopic = getValueByPath(fromObject, ["pubsubTopic"]);
  if (parentObject !== void 0 && fromPubsubTopic != null) {
    setValueByPath(parentObject, ["parameters", "pubsubTopic"], fromPubsubTopic);
  }
  const fromNegativePrompt = getValueByPath(fromObject, [
    "negativePrompt"
  ]);
  if (parentObject !== void 0 && fromNegativePrompt != null) {
    setValueByPath(parentObject, ["parameters", "negativePrompt"], fromNegativePrompt);
  }
  const fromEnhancePrompt = getValueByPath(fromObject, [
    "enhancePrompt"
  ]);
  if (parentObject !== void 0 && fromEnhancePrompt != null) {
    setValueByPath(parentObject, ["parameters", "enhancePrompt"], fromEnhancePrompt);
  }
  const fromGenerateAudio = getValueByPath(fromObject, [
    "generateAudio"
  ]);
  if (parentObject !== void 0 && fromGenerateAudio != null) {
    setValueByPath(parentObject, ["parameters", "generateAudio"], fromGenerateAudio);
  }
  const fromLastFrame = getValueByPath(fromObject, ["lastFrame"]);
  if (parentObject !== void 0 && fromLastFrame != null) {
    setValueByPath(parentObject, ["instances[0]", "lastFrame"], imageToVertex(fromLastFrame));
  }
  const fromReferenceImages = getValueByPath(fromObject, [
    "referenceImages"
  ]);
  if (parentObject !== void 0 && fromReferenceImages != null) {
    let transformedList = fromReferenceImages;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return videoGenerationReferenceImageToVertex(item);
      });
    }
    setValueByPath(parentObject, ["instances[0]", "referenceImages"], transformedList);
  }
  const fromMask = getValueByPath(fromObject, ["mask"]);
  if (parentObject !== void 0 && fromMask != null) {
    setValueByPath(parentObject, ["instances[0]", "mask"], videoGenerationMaskToVertex(fromMask));
  }
  const fromCompressionQuality = getValueByPath(fromObject, [
    "compressionQuality"
  ]);
  if (parentObject !== void 0 && fromCompressionQuality != null) {
    setValueByPath(parentObject, ["parameters", "compressionQuality"], fromCompressionQuality);
  }
  return toObject;
}
function generateVideosOperationFromMldev(fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], fromMetadata);
  }
  const fromDone = getValueByPath(fromObject, ["done"]);
  if (fromDone != null) {
    setValueByPath(toObject, ["done"], fromDone);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fromError);
  }
  const fromResponse = getValueByPath(fromObject, [
    "response",
    "generateVideoResponse"
  ]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], generateVideosResponseFromMldev(fromResponse));
  }
  return toObject;
}
function generateVideosOperationFromVertex(fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], fromMetadata);
  }
  const fromDone = getValueByPath(fromObject, ["done"]);
  if (fromDone != null) {
    setValueByPath(toObject, ["done"], fromDone);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fromError);
  }
  const fromResponse = getValueByPath(fromObject, ["response"]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], generateVideosResponseFromVertex(fromResponse));
  }
  return toObject;
}
function generateVideosParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromPrompt = getValueByPath(fromObject, ["prompt"]);
  if (fromPrompt != null) {
    setValueByPath(toObject, ["instances[0]", "prompt"], fromPrompt);
  }
  const fromImage = getValueByPath(fromObject, ["image"]);
  if (fromImage != null) {
    setValueByPath(toObject, ["instances[0]", "image"], imageToMldev(fromImage));
  }
  const fromVideo = getValueByPath(fromObject, ["video"]);
  if (fromVideo != null) {
    setValueByPath(toObject, ["instances[0]", "video"], videoToMldev(fromVideo));
  }
  const fromSource = getValueByPath(fromObject, ["source"]);
  if (fromSource != null) {
    generateVideosSourceToMldev(fromSource, toObject);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    generateVideosConfigToMldev(fromConfig, toObject);
  }
  return toObject;
}
function generateVideosParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromPrompt = getValueByPath(fromObject, ["prompt"]);
  if (fromPrompt != null) {
    setValueByPath(toObject, ["instances[0]", "prompt"], fromPrompt);
  }
  const fromImage = getValueByPath(fromObject, ["image"]);
  if (fromImage != null) {
    setValueByPath(toObject, ["instances[0]", "image"], imageToVertex(fromImage));
  }
  const fromVideo = getValueByPath(fromObject, ["video"]);
  if (fromVideo != null) {
    setValueByPath(toObject, ["instances[0]", "video"], videoToVertex(fromVideo));
  }
  const fromSource = getValueByPath(fromObject, ["source"]);
  if (fromSource != null) {
    generateVideosSourceToVertex(fromSource, toObject);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    generateVideosConfigToVertex(fromConfig, toObject);
  }
  return toObject;
}
function generateVideosResponseFromMldev(fromObject) {
  const toObject = {};
  const fromGeneratedVideos = getValueByPath(fromObject, [
    "generatedSamples"
  ]);
  if (fromGeneratedVideos != null) {
    let transformedList = fromGeneratedVideos;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return generatedVideoFromMldev(item);
      });
    }
    setValueByPath(toObject, ["generatedVideos"], transformedList);
  }
  const fromRaiMediaFilteredCount = getValueByPath(fromObject, [
    "raiMediaFilteredCount"
  ]);
  if (fromRaiMediaFilteredCount != null) {
    setValueByPath(toObject, ["raiMediaFilteredCount"], fromRaiMediaFilteredCount);
  }
  const fromRaiMediaFilteredReasons = getValueByPath(fromObject, [
    "raiMediaFilteredReasons"
  ]);
  if (fromRaiMediaFilteredReasons != null) {
    setValueByPath(toObject, ["raiMediaFilteredReasons"], fromRaiMediaFilteredReasons);
  }
  return toObject;
}
function generateVideosResponseFromVertex(fromObject) {
  const toObject = {};
  const fromGeneratedVideos = getValueByPath(fromObject, ["videos"]);
  if (fromGeneratedVideos != null) {
    let transformedList = fromGeneratedVideos;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return generatedVideoFromVertex(item);
      });
    }
    setValueByPath(toObject, ["generatedVideos"], transformedList);
  }
  const fromRaiMediaFilteredCount = getValueByPath(fromObject, [
    "raiMediaFilteredCount"
  ]);
  if (fromRaiMediaFilteredCount != null) {
    setValueByPath(toObject, ["raiMediaFilteredCount"], fromRaiMediaFilteredCount);
  }
  const fromRaiMediaFilteredReasons = getValueByPath(fromObject, [
    "raiMediaFilteredReasons"
  ]);
  if (fromRaiMediaFilteredReasons != null) {
    setValueByPath(toObject, ["raiMediaFilteredReasons"], fromRaiMediaFilteredReasons);
  }
  return toObject;
}
function generateVideosSourceToMldev(fromObject, parentObject) {
  const toObject = {};
  const fromPrompt = getValueByPath(fromObject, ["prompt"]);
  if (parentObject !== void 0 && fromPrompt != null) {
    setValueByPath(parentObject, ["instances[0]", "prompt"], fromPrompt);
  }
  const fromImage = getValueByPath(fromObject, ["image"]);
  if (parentObject !== void 0 && fromImage != null) {
    setValueByPath(parentObject, ["instances[0]", "image"], imageToMldev(fromImage));
  }
  const fromVideo = getValueByPath(fromObject, ["video"]);
  if (parentObject !== void 0 && fromVideo != null) {
    setValueByPath(parentObject, ["instances[0]", "video"], videoToMldev(fromVideo));
  }
  return toObject;
}
function generateVideosSourceToVertex(fromObject, parentObject) {
  const toObject = {};
  const fromPrompt = getValueByPath(fromObject, ["prompt"]);
  if (parentObject !== void 0 && fromPrompt != null) {
    setValueByPath(parentObject, ["instances[0]", "prompt"], fromPrompt);
  }
  const fromImage = getValueByPath(fromObject, ["image"]);
  if (parentObject !== void 0 && fromImage != null) {
    setValueByPath(parentObject, ["instances[0]", "image"], imageToVertex(fromImage));
  }
  const fromVideo = getValueByPath(fromObject, ["video"]);
  if (parentObject !== void 0 && fromVideo != null) {
    setValueByPath(parentObject, ["instances[0]", "video"], videoToVertex(fromVideo));
  }
  return toObject;
}
function generatedImageFromMldev(fromObject) {
  const toObject = {};
  const fromImage = getValueByPath(fromObject, ["_self"]);
  if (fromImage != null) {
    setValueByPath(toObject, ["image"], imageFromMldev(fromImage));
  }
  const fromRaiFilteredReason = getValueByPath(fromObject, [
    "raiFilteredReason"
  ]);
  if (fromRaiFilteredReason != null) {
    setValueByPath(toObject, ["raiFilteredReason"], fromRaiFilteredReason);
  }
  const fromSafetyAttributes = getValueByPath(fromObject, ["_self"]);
  if (fromSafetyAttributes != null) {
    setValueByPath(toObject, ["safetyAttributes"], safetyAttributesFromMldev(fromSafetyAttributes));
  }
  return toObject;
}
function generatedImageFromVertex(fromObject) {
  const toObject = {};
  const fromImage = getValueByPath(fromObject, ["_self"]);
  if (fromImage != null) {
    setValueByPath(toObject, ["image"], imageFromVertex(fromImage));
  }
  const fromRaiFilteredReason = getValueByPath(fromObject, [
    "raiFilteredReason"
  ]);
  if (fromRaiFilteredReason != null) {
    setValueByPath(toObject, ["raiFilteredReason"], fromRaiFilteredReason);
  }
  const fromSafetyAttributes = getValueByPath(fromObject, ["_self"]);
  if (fromSafetyAttributes != null) {
    setValueByPath(toObject, ["safetyAttributes"], safetyAttributesFromVertex(fromSafetyAttributes));
  }
  const fromEnhancedPrompt = getValueByPath(fromObject, ["prompt"]);
  if (fromEnhancedPrompt != null) {
    setValueByPath(toObject, ["enhancedPrompt"], fromEnhancedPrompt);
  }
  return toObject;
}
function generatedImageMaskFromVertex(fromObject) {
  const toObject = {};
  const fromMask = getValueByPath(fromObject, ["_self"]);
  if (fromMask != null) {
    setValueByPath(toObject, ["mask"], imageFromVertex(fromMask));
  }
  const fromLabels = getValueByPath(fromObject, ["labels"]);
  if (fromLabels != null) {
    let transformedList = fromLabels;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["labels"], transformedList);
  }
  return toObject;
}
function generatedVideoFromMldev(fromObject) {
  const toObject = {};
  const fromVideo = getValueByPath(fromObject, ["video"]);
  if (fromVideo != null) {
    setValueByPath(toObject, ["video"], videoFromMldev(fromVideo));
  }
  return toObject;
}
function generatedVideoFromVertex(fromObject) {
  const toObject = {};
  const fromVideo = getValueByPath(fromObject, ["_self"]);
  if (fromVideo != null) {
    setValueByPath(toObject, ["video"], videoFromVertex(fromVideo));
  }
  return toObject;
}
function generationConfigToVertex(fromObject) {
  const toObject = {};
  const fromModelSelectionConfig = getValueByPath(fromObject, [
    "modelSelectionConfig"
  ]);
  if (fromModelSelectionConfig != null) {
    setValueByPath(toObject, ["modelConfig"], fromModelSelectionConfig);
  }
  const fromResponseJsonSchema = getValueByPath(fromObject, [
    "responseJsonSchema"
  ]);
  if (fromResponseJsonSchema != null) {
    setValueByPath(toObject, ["responseJsonSchema"], fromResponseJsonSchema);
  }
  const fromAudioTimestamp = getValueByPath(fromObject, [
    "audioTimestamp"
  ]);
  if (fromAudioTimestamp != null) {
    setValueByPath(toObject, ["audioTimestamp"], fromAudioTimestamp);
  }
  const fromCandidateCount = getValueByPath(fromObject, [
    "candidateCount"
  ]);
  if (fromCandidateCount != null) {
    setValueByPath(toObject, ["candidateCount"], fromCandidateCount);
  }
  const fromEnableAffectiveDialog = getValueByPath(fromObject, [
    "enableAffectiveDialog"
  ]);
  if (fromEnableAffectiveDialog != null) {
    setValueByPath(toObject, ["enableAffectiveDialog"], fromEnableAffectiveDialog);
  }
  const fromFrequencyPenalty = getValueByPath(fromObject, [
    "frequencyPenalty"
  ]);
  if (fromFrequencyPenalty != null) {
    setValueByPath(toObject, ["frequencyPenalty"], fromFrequencyPenalty);
  }
  const fromLogprobs = getValueByPath(fromObject, ["logprobs"]);
  if (fromLogprobs != null) {
    setValueByPath(toObject, ["logprobs"], fromLogprobs);
  }
  const fromMaxOutputTokens = getValueByPath(fromObject, [
    "maxOutputTokens"
  ]);
  if (fromMaxOutputTokens != null) {
    setValueByPath(toObject, ["maxOutputTokens"], fromMaxOutputTokens);
  }
  const fromMediaResolution = getValueByPath(fromObject, [
    "mediaResolution"
  ]);
  if (fromMediaResolution != null) {
    setValueByPath(toObject, ["mediaResolution"], fromMediaResolution);
  }
  const fromPresencePenalty = getValueByPath(fromObject, [
    "presencePenalty"
  ]);
  if (fromPresencePenalty != null) {
    setValueByPath(toObject, ["presencePenalty"], fromPresencePenalty);
  }
  const fromResponseLogprobs = getValueByPath(fromObject, [
    "responseLogprobs"
  ]);
  if (fromResponseLogprobs != null) {
    setValueByPath(toObject, ["responseLogprobs"], fromResponseLogprobs);
  }
  const fromResponseMimeType = getValueByPath(fromObject, [
    "responseMimeType"
  ]);
  if (fromResponseMimeType != null) {
    setValueByPath(toObject, ["responseMimeType"], fromResponseMimeType);
  }
  const fromResponseModalities = getValueByPath(fromObject, [
    "responseModalities"
  ]);
  if (fromResponseModalities != null) {
    setValueByPath(toObject, ["responseModalities"], fromResponseModalities);
  }
  const fromResponseSchema = getValueByPath(fromObject, [
    "responseSchema"
  ]);
  if (fromResponseSchema != null) {
    setValueByPath(toObject, ["responseSchema"], fromResponseSchema);
  }
  const fromRoutingConfig = getValueByPath(fromObject, [
    "routingConfig"
  ]);
  if (fromRoutingConfig != null) {
    setValueByPath(toObject, ["routingConfig"], fromRoutingConfig);
  }
  const fromSeed = getValueByPath(fromObject, ["seed"]);
  if (fromSeed != null) {
    setValueByPath(toObject, ["seed"], fromSeed);
  }
  const fromSpeechConfig = getValueByPath(fromObject, ["speechConfig"]);
  if (fromSpeechConfig != null) {
    setValueByPath(toObject, ["speechConfig"], fromSpeechConfig);
  }
  const fromStopSequences = getValueByPath(fromObject, [
    "stopSequences"
  ]);
  if (fromStopSequences != null) {
    setValueByPath(toObject, ["stopSequences"], fromStopSequences);
  }
  const fromTemperature = getValueByPath(fromObject, ["temperature"]);
  if (fromTemperature != null) {
    setValueByPath(toObject, ["temperature"], fromTemperature);
  }
  const fromThinkingConfig = getValueByPath(fromObject, [
    "thinkingConfig"
  ]);
  if (fromThinkingConfig != null) {
    setValueByPath(toObject, ["thinkingConfig"], fromThinkingConfig);
  }
  const fromTopK = getValueByPath(fromObject, ["topK"]);
  if (fromTopK != null) {
    setValueByPath(toObject, ["topK"], fromTopK);
  }
  const fromTopP = getValueByPath(fromObject, ["topP"]);
  if (fromTopP != null) {
    setValueByPath(toObject, ["topP"], fromTopP);
  }
  if (getValueByPath(fromObject, ["enableEnhancedCivicAnswers"]) !== void 0) {
    throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");
  }
  return toObject;
}
function getModelParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "name"], tModel(apiClient, fromModel));
  }
  return toObject;
}
function getModelParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "name"], tModel(apiClient, fromModel));
  }
  return toObject;
}
function googleMapsToMldev$1(fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["authConfig"]) !== void 0) {
    throw new Error("authConfig parameter is not supported in Gemini API.");
  }
  const fromEnableWidget = getValueByPath(fromObject, ["enableWidget"]);
  if (fromEnableWidget != null) {
    setValueByPath(toObject, ["enableWidget"], fromEnableWidget);
  }
  return toObject;
}
function googleSearchToMldev$1(fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["excludeDomains"]) !== void 0) {
    throw new Error("excludeDomains parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["blockingConfidence"]) !== void 0) {
    throw new Error("blockingConfidence parameter is not supported in Gemini API.");
  }
  const fromTimeRangeFilter = getValueByPath(fromObject, [
    "timeRangeFilter"
  ]);
  if (fromTimeRangeFilter != null) {
    setValueByPath(toObject, ["timeRangeFilter"], fromTimeRangeFilter);
  }
  return toObject;
}
function imageConfigToMldev(fromObject) {
  const toObject = {};
  const fromAspectRatio = getValueByPath(fromObject, ["aspectRatio"]);
  if (fromAspectRatio != null) {
    setValueByPath(toObject, ["aspectRatio"], fromAspectRatio);
  }
  const fromImageSize = getValueByPath(fromObject, ["imageSize"]);
  if (fromImageSize != null) {
    setValueByPath(toObject, ["imageSize"], fromImageSize);
  }
  if (getValueByPath(fromObject, ["outputMimeType"]) !== void 0) {
    throw new Error("outputMimeType parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["outputCompressionQuality"]) !== void 0) {
    throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");
  }
  return toObject;
}
function imageConfigToVertex(fromObject) {
  const toObject = {};
  const fromAspectRatio = getValueByPath(fromObject, ["aspectRatio"]);
  if (fromAspectRatio != null) {
    setValueByPath(toObject, ["aspectRatio"], fromAspectRatio);
  }
  const fromImageSize = getValueByPath(fromObject, ["imageSize"]);
  if (fromImageSize != null) {
    setValueByPath(toObject, ["imageSize"], fromImageSize);
  }
  const fromOutputMimeType = getValueByPath(fromObject, [
    "outputMimeType"
  ]);
  if (fromOutputMimeType != null) {
    setValueByPath(toObject, ["imageOutputOptions", "mimeType"], fromOutputMimeType);
  }
  const fromOutputCompressionQuality = getValueByPath(fromObject, [
    "outputCompressionQuality"
  ]);
  if (fromOutputCompressionQuality != null) {
    setValueByPath(toObject, ["imageOutputOptions", "compressionQuality"], fromOutputCompressionQuality);
  }
  return toObject;
}
function imageFromMldev(fromObject) {
  const toObject = {};
  const fromImageBytes = getValueByPath(fromObject, [
    "bytesBase64Encoded"
  ]);
  if (fromImageBytes != null) {
    setValueByPath(toObject, ["imageBytes"], tBytes(fromImageBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function imageFromVertex(fromObject) {
  const toObject = {};
  const fromGcsUri = getValueByPath(fromObject, ["gcsUri"]);
  if (fromGcsUri != null) {
    setValueByPath(toObject, ["gcsUri"], fromGcsUri);
  }
  const fromImageBytes = getValueByPath(fromObject, [
    "bytesBase64Encoded"
  ]);
  if (fromImageBytes != null) {
    setValueByPath(toObject, ["imageBytes"], tBytes(fromImageBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function imageToMldev(fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["gcsUri"]) !== void 0) {
    throw new Error("gcsUri parameter is not supported in Gemini API.");
  }
  const fromImageBytes = getValueByPath(fromObject, ["imageBytes"]);
  if (fromImageBytes != null) {
    setValueByPath(toObject, ["bytesBase64Encoded"], tBytes(fromImageBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function imageToVertex(fromObject) {
  const toObject = {};
  const fromGcsUri = getValueByPath(fromObject, ["gcsUri"]);
  if (fromGcsUri != null) {
    setValueByPath(toObject, ["gcsUri"], fromGcsUri);
  }
  const fromImageBytes = getValueByPath(fromObject, ["imageBytes"]);
  if (fromImageBytes != null) {
    setValueByPath(toObject, ["bytesBase64Encoded"], tBytes(fromImageBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function listModelsConfigToMldev(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromPageSize = getValueByPath(fromObject, ["pageSize"]);
  if (parentObject !== void 0 && fromPageSize != null) {
    setValueByPath(parentObject, ["_query", "pageSize"], fromPageSize);
  }
  const fromPageToken = getValueByPath(fromObject, ["pageToken"]);
  if (parentObject !== void 0 && fromPageToken != null) {
    setValueByPath(parentObject, ["_query", "pageToken"], fromPageToken);
  }
  const fromFilter = getValueByPath(fromObject, ["filter"]);
  if (parentObject !== void 0 && fromFilter != null) {
    setValueByPath(parentObject, ["_query", "filter"], fromFilter);
  }
  const fromQueryBase = getValueByPath(fromObject, ["queryBase"]);
  if (parentObject !== void 0 && fromQueryBase != null) {
    setValueByPath(parentObject, ["_url", "models_url"], tModelsUrl(apiClient, fromQueryBase));
  }
  return toObject;
}
function listModelsConfigToVertex(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromPageSize = getValueByPath(fromObject, ["pageSize"]);
  if (parentObject !== void 0 && fromPageSize != null) {
    setValueByPath(parentObject, ["_query", "pageSize"], fromPageSize);
  }
  const fromPageToken = getValueByPath(fromObject, ["pageToken"]);
  if (parentObject !== void 0 && fromPageToken != null) {
    setValueByPath(parentObject, ["_query", "pageToken"], fromPageToken);
  }
  const fromFilter = getValueByPath(fromObject, ["filter"]);
  if (parentObject !== void 0 && fromFilter != null) {
    setValueByPath(parentObject, ["_query", "filter"], fromFilter);
  }
  const fromQueryBase = getValueByPath(fromObject, ["queryBase"]);
  if (parentObject !== void 0 && fromQueryBase != null) {
    setValueByPath(parentObject, ["_url", "models_url"], tModelsUrl(apiClient, fromQueryBase));
  }
  return toObject;
}
function listModelsParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    listModelsConfigToMldev(apiClient, fromConfig, toObject);
  }
  return toObject;
}
function listModelsParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    listModelsConfigToVertex(apiClient, fromConfig, toObject);
  }
  return toObject;
}
function listModelsResponseFromMldev(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromNextPageToken = getValueByPath(fromObject, [
    "nextPageToken"
  ]);
  if (fromNextPageToken != null) {
    setValueByPath(toObject, ["nextPageToken"], fromNextPageToken);
  }
  const fromModels = getValueByPath(fromObject, ["_self"]);
  if (fromModels != null) {
    let transformedList = tExtractModels(fromModels);
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return modelFromMldev(item);
      });
    }
    setValueByPath(toObject, ["models"], transformedList);
  }
  return toObject;
}
function listModelsResponseFromVertex(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromNextPageToken = getValueByPath(fromObject, [
    "nextPageToken"
  ]);
  if (fromNextPageToken != null) {
    setValueByPath(toObject, ["nextPageToken"], fromNextPageToken);
  }
  const fromModels = getValueByPath(fromObject, ["_self"]);
  if (fromModels != null) {
    let transformedList = tExtractModels(fromModels);
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return modelFromVertex(item);
      });
    }
    setValueByPath(toObject, ["models"], transformedList);
  }
  return toObject;
}
function maskReferenceConfigToVertex(fromObject) {
  const toObject = {};
  const fromMaskMode = getValueByPath(fromObject, ["maskMode"]);
  if (fromMaskMode != null) {
    setValueByPath(toObject, ["maskMode"], fromMaskMode);
  }
  const fromSegmentationClasses = getValueByPath(fromObject, [
    "segmentationClasses"
  ]);
  if (fromSegmentationClasses != null) {
    setValueByPath(toObject, ["maskClasses"], fromSegmentationClasses);
  }
  const fromMaskDilation = getValueByPath(fromObject, ["maskDilation"]);
  if (fromMaskDilation != null) {
    setValueByPath(toObject, ["dilation"], fromMaskDilation);
  }
  return toObject;
}
function modelFromMldev(fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (fromDisplayName != null) {
    setValueByPath(toObject, ["displayName"], fromDisplayName);
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromVersion = getValueByPath(fromObject, ["version"]);
  if (fromVersion != null) {
    setValueByPath(toObject, ["version"], fromVersion);
  }
  const fromTunedModelInfo = getValueByPath(fromObject, ["_self"]);
  if (fromTunedModelInfo != null) {
    setValueByPath(toObject, ["tunedModelInfo"], tunedModelInfoFromMldev(fromTunedModelInfo));
  }
  const fromInputTokenLimit = getValueByPath(fromObject, [
    "inputTokenLimit"
  ]);
  if (fromInputTokenLimit != null) {
    setValueByPath(toObject, ["inputTokenLimit"], fromInputTokenLimit);
  }
  const fromOutputTokenLimit = getValueByPath(fromObject, [
    "outputTokenLimit"
  ]);
  if (fromOutputTokenLimit != null) {
    setValueByPath(toObject, ["outputTokenLimit"], fromOutputTokenLimit);
  }
  const fromSupportedActions = getValueByPath(fromObject, [
    "supportedGenerationMethods"
  ]);
  if (fromSupportedActions != null) {
    setValueByPath(toObject, ["supportedActions"], fromSupportedActions);
  }
  const fromTemperature = getValueByPath(fromObject, ["temperature"]);
  if (fromTemperature != null) {
    setValueByPath(toObject, ["temperature"], fromTemperature);
  }
  const fromMaxTemperature = getValueByPath(fromObject, [
    "maxTemperature"
  ]);
  if (fromMaxTemperature != null) {
    setValueByPath(toObject, ["maxTemperature"], fromMaxTemperature);
  }
  const fromTopP = getValueByPath(fromObject, ["topP"]);
  if (fromTopP != null) {
    setValueByPath(toObject, ["topP"], fromTopP);
  }
  const fromTopK = getValueByPath(fromObject, ["topK"]);
  if (fromTopK != null) {
    setValueByPath(toObject, ["topK"], fromTopK);
  }
  const fromThinking = getValueByPath(fromObject, ["thinking"]);
  if (fromThinking != null) {
    setValueByPath(toObject, ["thinking"], fromThinking);
  }
  return toObject;
}
function modelFromVertex(fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (fromDisplayName != null) {
    setValueByPath(toObject, ["displayName"], fromDisplayName);
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromVersion = getValueByPath(fromObject, ["versionId"]);
  if (fromVersion != null) {
    setValueByPath(toObject, ["version"], fromVersion);
  }
  const fromEndpoints = getValueByPath(fromObject, ["deployedModels"]);
  if (fromEndpoints != null) {
    let transformedList = fromEndpoints;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return endpointFromVertex(item);
      });
    }
    setValueByPath(toObject, ["endpoints"], transformedList);
  }
  const fromLabels = getValueByPath(fromObject, ["labels"]);
  if (fromLabels != null) {
    setValueByPath(toObject, ["labels"], fromLabels);
  }
  const fromTunedModelInfo = getValueByPath(fromObject, ["_self"]);
  if (fromTunedModelInfo != null) {
    setValueByPath(toObject, ["tunedModelInfo"], tunedModelInfoFromVertex(fromTunedModelInfo));
  }
  const fromDefaultCheckpointId = getValueByPath(fromObject, [
    "defaultCheckpointId"
  ]);
  if (fromDefaultCheckpointId != null) {
    setValueByPath(toObject, ["defaultCheckpointId"], fromDefaultCheckpointId);
  }
  const fromCheckpoints = getValueByPath(fromObject, ["checkpoints"]);
  if (fromCheckpoints != null) {
    let transformedList = fromCheckpoints;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["checkpoints"], transformedList);
  }
  return toObject;
}
function partToMldev$1(fromObject) {
  const toObject = {};
  const fromMediaResolution = getValueByPath(fromObject, [
    "mediaResolution"
  ]);
  if (fromMediaResolution != null) {
    setValueByPath(toObject, ["mediaResolution"], fromMediaResolution);
  }
  const fromCodeExecutionResult = getValueByPath(fromObject, [
    "codeExecutionResult"
  ]);
  if (fromCodeExecutionResult != null) {
    setValueByPath(toObject, ["codeExecutionResult"], fromCodeExecutionResult);
  }
  const fromExecutableCode = getValueByPath(fromObject, [
    "executableCode"
  ]);
  if (fromExecutableCode != null) {
    setValueByPath(toObject, ["executableCode"], fromExecutableCode);
  }
  const fromFileData = getValueByPath(fromObject, ["fileData"]);
  if (fromFileData != null) {
    setValueByPath(toObject, ["fileData"], fileDataToMldev$1(fromFileData));
  }
  const fromFunctionCall = getValueByPath(fromObject, ["functionCall"]);
  if (fromFunctionCall != null) {
    setValueByPath(toObject, ["functionCall"], functionCallToMldev$1(fromFunctionCall));
  }
  const fromFunctionResponse = getValueByPath(fromObject, [
    "functionResponse"
  ]);
  if (fromFunctionResponse != null) {
    setValueByPath(toObject, ["functionResponse"], fromFunctionResponse);
  }
  const fromInlineData = getValueByPath(fromObject, ["inlineData"]);
  if (fromInlineData != null) {
    setValueByPath(toObject, ["inlineData"], blobToMldev$1(fromInlineData));
  }
  const fromText = getValueByPath(fromObject, ["text"]);
  if (fromText != null) {
    setValueByPath(toObject, ["text"], fromText);
  }
  const fromThought = getValueByPath(fromObject, ["thought"]);
  if (fromThought != null) {
    setValueByPath(toObject, ["thought"], fromThought);
  }
  const fromThoughtSignature = getValueByPath(fromObject, [
    "thoughtSignature"
  ]);
  if (fromThoughtSignature != null) {
    setValueByPath(toObject, ["thoughtSignature"], fromThoughtSignature);
  }
  const fromVideoMetadata = getValueByPath(fromObject, [
    "videoMetadata"
  ]);
  if (fromVideoMetadata != null) {
    setValueByPath(toObject, ["videoMetadata"], fromVideoMetadata);
  }
  return toObject;
}
function productImageToVertex(fromObject) {
  const toObject = {};
  const fromProductImage = getValueByPath(fromObject, ["productImage"]);
  if (fromProductImage != null) {
    setValueByPath(toObject, ["image"], imageToVertex(fromProductImage));
  }
  return toObject;
}
function recontextImageConfigToVertex(fromObject, parentObject) {
  const toObject = {};
  const fromNumberOfImages = getValueByPath(fromObject, [
    "numberOfImages"
  ]);
  if (parentObject !== void 0 && fromNumberOfImages != null) {
    setValueByPath(parentObject, ["parameters", "sampleCount"], fromNumberOfImages);
  }
  const fromBaseSteps = getValueByPath(fromObject, ["baseSteps"]);
  if (parentObject !== void 0 && fromBaseSteps != null) {
    setValueByPath(parentObject, ["parameters", "baseSteps"], fromBaseSteps);
  }
  const fromOutputGcsUri = getValueByPath(fromObject, ["outputGcsUri"]);
  if (parentObject !== void 0 && fromOutputGcsUri != null) {
    setValueByPath(parentObject, ["parameters", "storageUri"], fromOutputGcsUri);
  }
  const fromSeed = getValueByPath(fromObject, ["seed"]);
  if (parentObject !== void 0 && fromSeed != null) {
    setValueByPath(parentObject, ["parameters", "seed"], fromSeed);
  }
  const fromSafetyFilterLevel = getValueByPath(fromObject, [
    "safetyFilterLevel"
  ]);
  if (parentObject !== void 0 && fromSafetyFilterLevel != null) {
    setValueByPath(parentObject, ["parameters", "safetySetting"], fromSafetyFilterLevel);
  }
  const fromPersonGeneration = getValueByPath(fromObject, [
    "personGeneration"
  ]);
  if (parentObject !== void 0 && fromPersonGeneration != null) {
    setValueByPath(parentObject, ["parameters", "personGeneration"], fromPersonGeneration);
  }
  const fromAddWatermark = getValueByPath(fromObject, ["addWatermark"]);
  if (parentObject !== void 0 && fromAddWatermark != null) {
    setValueByPath(parentObject, ["parameters", "addWatermark"], fromAddWatermark);
  }
  const fromOutputMimeType = getValueByPath(fromObject, [
    "outputMimeType"
  ]);
  if (parentObject !== void 0 && fromOutputMimeType != null) {
    setValueByPath(parentObject, ["parameters", "outputOptions", "mimeType"], fromOutputMimeType);
  }
  const fromOutputCompressionQuality = getValueByPath(fromObject, [
    "outputCompressionQuality"
  ]);
  if (parentObject !== void 0 && fromOutputCompressionQuality != null) {
    setValueByPath(parentObject, ["parameters", "outputOptions", "compressionQuality"], fromOutputCompressionQuality);
  }
  const fromEnhancePrompt = getValueByPath(fromObject, [
    "enhancePrompt"
  ]);
  if (parentObject !== void 0 && fromEnhancePrompt != null) {
    setValueByPath(parentObject, ["parameters", "enhancePrompt"], fromEnhancePrompt);
  }
  const fromLabels = getValueByPath(fromObject, ["labels"]);
  if (parentObject !== void 0 && fromLabels != null) {
    setValueByPath(parentObject, ["labels"], fromLabels);
  }
  return toObject;
}
function recontextImageParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromSource = getValueByPath(fromObject, ["source"]);
  if (fromSource != null) {
    recontextImageSourceToVertex(fromSource, toObject);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    recontextImageConfigToVertex(fromConfig, toObject);
  }
  return toObject;
}
function recontextImageResponseFromVertex(fromObject) {
  const toObject = {};
  const fromGeneratedImages = getValueByPath(fromObject, [
    "predictions"
  ]);
  if (fromGeneratedImages != null) {
    let transformedList = fromGeneratedImages;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return generatedImageFromVertex(item);
      });
    }
    setValueByPath(toObject, ["generatedImages"], transformedList);
  }
  return toObject;
}
function recontextImageSourceToVertex(fromObject, parentObject) {
  const toObject = {};
  const fromPrompt = getValueByPath(fromObject, ["prompt"]);
  if (parentObject !== void 0 && fromPrompt != null) {
    setValueByPath(parentObject, ["instances[0]", "prompt"], fromPrompt);
  }
  const fromPersonImage = getValueByPath(fromObject, ["personImage"]);
  if (parentObject !== void 0 && fromPersonImage != null) {
    setValueByPath(parentObject, ["instances[0]", "personImage", "image"], imageToVertex(fromPersonImage));
  }
  const fromProductImages = getValueByPath(fromObject, [
    "productImages"
  ]);
  if (parentObject !== void 0 && fromProductImages != null) {
    let transformedList = fromProductImages;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return productImageToVertex(item);
      });
    }
    setValueByPath(parentObject, ["instances[0]", "productImages"], transformedList);
  }
  return toObject;
}
function referenceImageAPIInternalToVertex(fromObject) {
  const toObject = {};
  const fromReferenceImage = getValueByPath(fromObject, [
    "referenceImage"
  ]);
  if (fromReferenceImage != null) {
    setValueByPath(toObject, ["referenceImage"], imageToVertex(fromReferenceImage));
  }
  const fromReferenceId = getValueByPath(fromObject, ["referenceId"]);
  if (fromReferenceId != null) {
    setValueByPath(toObject, ["referenceId"], fromReferenceId);
  }
  const fromReferenceType = getValueByPath(fromObject, [
    "referenceType"
  ]);
  if (fromReferenceType != null) {
    setValueByPath(toObject, ["referenceType"], fromReferenceType);
  }
  const fromMaskImageConfig = getValueByPath(fromObject, [
    "maskImageConfig"
  ]);
  if (fromMaskImageConfig != null) {
    setValueByPath(toObject, ["maskImageConfig"], maskReferenceConfigToVertex(fromMaskImageConfig));
  }
  const fromControlImageConfig = getValueByPath(fromObject, [
    "controlImageConfig"
  ]);
  if (fromControlImageConfig != null) {
    setValueByPath(toObject, ["controlImageConfig"], controlReferenceConfigToVertex(fromControlImageConfig));
  }
  const fromStyleImageConfig = getValueByPath(fromObject, [
    "styleImageConfig"
  ]);
  if (fromStyleImageConfig != null) {
    setValueByPath(toObject, ["styleImageConfig"], fromStyleImageConfig);
  }
  const fromSubjectImageConfig = getValueByPath(fromObject, [
    "subjectImageConfig"
  ]);
  if (fromSubjectImageConfig != null) {
    setValueByPath(toObject, ["subjectImageConfig"], fromSubjectImageConfig);
  }
  return toObject;
}
function safetyAttributesFromMldev(fromObject) {
  const toObject = {};
  const fromCategories = getValueByPath(fromObject, [
    "safetyAttributes",
    "categories"
  ]);
  if (fromCategories != null) {
    setValueByPath(toObject, ["categories"], fromCategories);
  }
  const fromScores = getValueByPath(fromObject, [
    "safetyAttributes",
    "scores"
  ]);
  if (fromScores != null) {
    setValueByPath(toObject, ["scores"], fromScores);
  }
  const fromContentType = getValueByPath(fromObject, ["contentType"]);
  if (fromContentType != null) {
    setValueByPath(toObject, ["contentType"], fromContentType);
  }
  return toObject;
}
function safetyAttributesFromVertex(fromObject) {
  const toObject = {};
  const fromCategories = getValueByPath(fromObject, [
    "safetyAttributes",
    "categories"
  ]);
  if (fromCategories != null) {
    setValueByPath(toObject, ["categories"], fromCategories);
  }
  const fromScores = getValueByPath(fromObject, [
    "safetyAttributes",
    "scores"
  ]);
  if (fromScores != null) {
    setValueByPath(toObject, ["scores"], fromScores);
  }
  const fromContentType = getValueByPath(fromObject, ["contentType"]);
  if (fromContentType != null) {
    setValueByPath(toObject, ["contentType"], fromContentType);
  }
  return toObject;
}
function safetySettingToMldev(fromObject) {
  const toObject = {};
  const fromCategory = getValueByPath(fromObject, ["category"]);
  if (fromCategory != null) {
    setValueByPath(toObject, ["category"], fromCategory);
  }
  if (getValueByPath(fromObject, ["method"]) !== void 0) {
    throw new Error("method parameter is not supported in Gemini API.");
  }
  const fromThreshold = getValueByPath(fromObject, ["threshold"]);
  if (fromThreshold != null) {
    setValueByPath(toObject, ["threshold"], fromThreshold);
  }
  return toObject;
}
function scribbleImageToVertex(fromObject) {
  const toObject = {};
  const fromImage = getValueByPath(fromObject, ["image"]);
  if (fromImage != null) {
    setValueByPath(toObject, ["image"], imageToVertex(fromImage));
  }
  return toObject;
}
function segmentImageConfigToVertex(fromObject, parentObject) {
  const toObject = {};
  const fromMode = getValueByPath(fromObject, ["mode"]);
  if (parentObject !== void 0 && fromMode != null) {
    setValueByPath(parentObject, ["parameters", "mode"], fromMode);
  }
  const fromMaxPredictions = getValueByPath(fromObject, [
    "maxPredictions"
  ]);
  if (parentObject !== void 0 && fromMaxPredictions != null) {
    setValueByPath(parentObject, ["parameters", "maxPredictions"], fromMaxPredictions);
  }
  const fromConfidenceThreshold = getValueByPath(fromObject, [
    "confidenceThreshold"
  ]);
  if (parentObject !== void 0 && fromConfidenceThreshold != null) {
    setValueByPath(parentObject, ["parameters", "confidenceThreshold"], fromConfidenceThreshold);
  }
  const fromMaskDilation = getValueByPath(fromObject, ["maskDilation"]);
  if (parentObject !== void 0 && fromMaskDilation != null) {
    setValueByPath(parentObject, ["parameters", "maskDilation"], fromMaskDilation);
  }
  const fromBinaryColorThreshold = getValueByPath(fromObject, [
    "binaryColorThreshold"
  ]);
  if (parentObject !== void 0 && fromBinaryColorThreshold != null) {
    setValueByPath(parentObject, ["parameters", "binaryColorThreshold"], fromBinaryColorThreshold);
  }
  const fromLabels = getValueByPath(fromObject, ["labels"]);
  if (parentObject !== void 0 && fromLabels != null) {
    setValueByPath(parentObject, ["labels"], fromLabels);
  }
  return toObject;
}
function segmentImageParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromSource = getValueByPath(fromObject, ["source"]);
  if (fromSource != null) {
    segmentImageSourceToVertex(fromSource, toObject);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    segmentImageConfigToVertex(fromConfig, toObject);
  }
  return toObject;
}
function segmentImageResponseFromVertex(fromObject) {
  const toObject = {};
  const fromGeneratedMasks = getValueByPath(fromObject, ["predictions"]);
  if (fromGeneratedMasks != null) {
    let transformedList = fromGeneratedMasks;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return generatedImageMaskFromVertex(item);
      });
    }
    setValueByPath(toObject, ["generatedMasks"], transformedList);
  }
  return toObject;
}
function segmentImageSourceToVertex(fromObject, parentObject) {
  const toObject = {};
  const fromPrompt = getValueByPath(fromObject, ["prompt"]);
  if (parentObject !== void 0 && fromPrompt != null) {
    setValueByPath(parentObject, ["instances[0]", "prompt"], fromPrompt);
  }
  const fromImage = getValueByPath(fromObject, ["image"]);
  if (parentObject !== void 0 && fromImage != null) {
    setValueByPath(parentObject, ["instances[0]", "image"], imageToVertex(fromImage));
  }
  const fromScribbleImage = getValueByPath(fromObject, [
    "scribbleImage"
  ]);
  if (parentObject !== void 0 && fromScribbleImage != null) {
    setValueByPath(parentObject, ["instances[0]", "scribble"], scribbleImageToVertex(fromScribbleImage));
  }
  return toObject;
}
function toolConfigToMldev(fromObject) {
  const toObject = {};
  const fromFunctionCallingConfig = getValueByPath(fromObject, [
    "functionCallingConfig"
  ]);
  if (fromFunctionCallingConfig != null) {
    setValueByPath(toObject, ["functionCallingConfig"], functionCallingConfigToMldev(fromFunctionCallingConfig));
  }
  const fromRetrievalConfig = getValueByPath(fromObject, [
    "retrievalConfig"
  ]);
  if (fromRetrievalConfig != null) {
    setValueByPath(toObject, ["retrievalConfig"], fromRetrievalConfig);
  }
  return toObject;
}
function toolToMldev$1(fromObject) {
  const toObject = {};
  const fromFunctionDeclarations = getValueByPath(fromObject, [
    "functionDeclarations"
  ]);
  if (fromFunctionDeclarations != null) {
    let transformedList = fromFunctionDeclarations;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["functionDeclarations"], transformedList);
  }
  if (getValueByPath(fromObject, ["retrieval"]) !== void 0) {
    throw new Error("retrieval parameter is not supported in Gemini API.");
  }
  const fromGoogleSearchRetrieval = getValueByPath(fromObject, [
    "googleSearchRetrieval"
  ]);
  if (fromGoogleSearchRetrieval != null) {
    setValueByPath(toObject, ["googleSearchRetrieval"], fromGoogleSearchRetrieval);
  }
  const fromComputerUse = getValueByPath(fromObject, ["computerUse"]);
  if (fromComputerUse != null) {
    setValueByPath(toObject, ["computerUse"], fromComputerUse);
  }
  const fromFileSearch = getValueByPath(fromObject, ["fileSearch"]);
  if (fromFileSearch != null) {
    setValueByPath(toObject, ["fileSearch"], fromFileSearch);
  }
  const fromCodeExecution = getValueByPath(fromObject, [
    "codeExecution"
  ]);
  if (fromCodeExecution != null) {
    setValueByPath(toObject, ["codeExecution"], fromCodeExecution);
  }
  if (getValueByPath(fromObject, ["enterpriseWebSearch"]) !== void 0) {
    throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");
  }
  const fromGoogleMaps = getValueByPath(fromObject, ["googleMaps"]);
  if (fromGoogleMaps != null) {
    setValueByPath(toObject, ["googleMaps"], googleMapsToMldev$1(fromGoogleMaps));
  }
  const fromGoogleSearch = getValueByPath(fromObject, ["googleSearch"]);
  if (fromGoogleSearch != null) {
    setValueByPath(toObject, ["googleSearch"], googleSearchToMldev$1(fromGoogleSearch));
  }
  const fromUrlContext = getValueByPath(fromObject, ["urlContext"]);
  if (fromUrlContext != null) {
    setValueByPath(toObject, ["urlContext"], fromUrlContext);
  }
  return toObject;
}
function toolToVertex(fromObject) {
  const toObject = {};
  const fromFunctionDeclarations = getValueByPath(fromObject, [
    "functionDeclarations"
  ]);
  if (fromFunctionDeclarations != null) {
    let transformedList = fromFunctionDeclarations;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return functionDeclarationToVertex(item);
      });
    }
    setValueByPath(toObject, ["functionDeclarations"], transformedList);
  }
  const fromRetrieval = getValueByPath(fromObject, ["retrieval"]);
  if (fromRetrieval != null) {
    setValueByPath(toObject, ["retrieval"], fromRetrieval);
  }
  const fromGoogleSearchRetrieval = getValueByPath(fromObject, [
    "googleSearchRetrieval"
  ]);
  if (fromGoogleSearchRetrieval != null) {
    setValueByPath(toObject, ["googleSearchRetrieval"], fromGoogleSearchRetrieval);
  }
  const fromComputerUse = getValueByPath(fromObject, ["computerUse"]);
  if (fromComputerUse != null) {
    setValueByPath(toObject, ["computerUse"], fromComputerUse);
  }
  if (getValueByPath(fromObject, ["fileSearch"]) !== void 0) {
    throw new Error("fileSearch parameter is not supported in Vertex AI.");
  }
  const fromCodeExecution = getValueByPath(fromObject, [
    "codeExecution"
  ]);
  if (fromCodeExecution != null) {
    setValueByPath(toObject, ["codeExecution"], fromCodeExecution);
  }
  const fromEnterpriseWebSearch = getValueByPath(fromObject, [
    "enterpriseWebSearch"
  ]);
  if (fromEnterpriseWebSearch != null) {
    setValueByPath(toObject, ["enterpriseWebSearch"], fromEnterpriseWebSearch);
  }
  const fromGoogleMaps = getValueByPath(fromObject, ["googleMaps"]);
  if (fromGoogleMaps != null) {
    setValueByPath(toObject, ["googleMaps"], fromGoogleMaps);
  }
  const fromGoogleSearch = getValueByPath(fromObject, ["googleSearch"]);
  if (fromGoogleSearch != null) {
    setValueByPath(toObject, ["googleSearch"], fromGoogleSearch);
  }
  const fromUrlContext = getValueByPath(fromObject, ["urlContext"]);
  if (fromUrlContext != null) {
    setValueByPath(toObject, ["urlContext"], fromUrlContext);
  }
  return toObject;
}
function tunedModelInfoFromMldev(fromObject) {
  const toObject = {};
  const fromBaseModel = getValueByPath(fromObject, ["baseModel"]);
  if (fromBaseModel != null) {
    setValueByPath(toObject, ["baseModel"], fromBaseModel);
  }
  const fromCreateTime = getValueByPath(fromObject, ["createTime"]);
  if (fromCreateTime != null) {
    setValueByPath(toObject, ["createTime"], fromCreateTime);
  }
  const fromUpdateTime = getValueByPath(fromObject, ["updateTime"]);
  if (fromUpdateTime != null) {
    setValueByPath(toObject, ["updateTime"], fromUpdateTime);
  }
  return toObject;
}
function tunedModelInfoFromVertex(fromObject) {
  const toObject = {};
  const fromBaseModel = getValueByPath(fromObject, [
    "labels",
    "google-vertex-llm-tuning-base-model-id"
  ]);
  if (fromBaseModel != null) {
    setValueByPath(toObject, ["baseModel"], fromBaseModel);
  }
  const fromCreateTime = getValueByPath(fromObject, ["createTime"]);
  if (fromCreateTime != null) {
    setValueByPath(toObject, ["createTime"], fromCreateTime);
  }
  const fromUpdateTime = getValueByPath(fromObject, ["updateTime"]);
  if (fromUpdateTime != null) {
    setValueByPath(toObject, ["updateTime"], fromUpdateTime);
  }
  return toObject;
}
function updateModelConfigToMldev(fromObject, parentObject) {
  const toObject = {};
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (parentObject !== void 0 && fromDisplayName != null) {
    setValueByPath(parentObject, ["displayName"], fromDisplayName);
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (parentObject !== void 0 && fromDescription != null) {
    setValueByPath(parentObject, ["description"], fromDescription);
  }
  const fromDefaultCheckpointId = getValueByPath(fromObject, [
    "defaultCheckpointId"
  ]);
  if (parentObject !== void 0 && fromDefaultCheckpointId != null) {
    setValueByPath(parentObject, ["defaultCheckpointId"], fromDefaultCheckpointId);
  }
  return toObject;
}
function updateModelConfigToVertex(fromObject, parentObject) {
  const toObject = {};
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (parentObject !== void 0 && fromDisplayName != null) {
    setValueByPath(parentObject, ["displayName"], fromDisplayName);
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (parentObject !== void 0 && fromDescription != null) {
    setValueByPath(parentObject, ["description"], fromDescription);
  }
  const fromDefaultCheckpointId = getValueByPath(fromObject, [
    "defaultCheckpointId"
  ]);
  if (parentObject !== void 0 && fromDefaultCheckpointId != null) {
    setValueByPath(parentObject, ["defaultCheckpointId"], fromDefaultCheckpointId);
  }
  return toObject;
}
function updateModelParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "name"], tModel(apiClient, fromModel));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    updateModelConfigToMldev(fromConfig, toObject);
  }
  return toObject;
}
function updateModelParametersToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    updateModelConfigToVertex(fromConfig, toObject);
  }
  return toObject;
}
function upscaleImageAPIConfigInternalToVertex(fromObject, parentObject) {
  const toObject = {};
  const fromOutputGcsUri = getValueByPath(fromObject, ["outputGcsUri"]);
  if (parentObject !== void 0 && fromOutputGcsUri != null) {
    setValueByPath(parentObject, ["parameters", "storageUri"], fromOutputGcsUri);
  }
  const fromSafetyFilterLevel = getValueByPath(fromObject, [
    "safetyFilterLevel"
  ]);
  if (parentObject !== void 0 && fromSafetyFilterLevel != null) {
    setValueByPath(parentObject, ["parameters", "safetySetting"], fromSafetyFilterLevel);
  }
  const fromPersonGeneration = getValueByPath(fromObject, [
    "personGeneration"
  ]);
  if (parentObject !== void 0 && fromPersonGeneration != null) {
    setValueByPath(parentObject, ["parameters", "personGeneration"], fromPersonGeneration);
  }
  const fromIncludeRaiReason = getValueByPath(fromObject, [
    "includeRaiReason"
  ]);
  if (parentObject !== void 0 && fromIncludeRaiReason != null) {
    setValueByPath(parentObject, ["parameters", "includeRaiReason"], fromIncludeRaiReason);
  }
  const fromOutputMimeType = getValueByPath(fromObject, [
    "outputMimeType"
  ]);
  if (parentObject !== void 0 && fromOutputMimeType != null) {
    setValueByPath(parentObject, ["parameters", "outputOptions", "mimeType"], fromOutputMimeType);
  }
  const fromOutputCompressionQuality = getValueByPath(fromObject, [
    "outputCompressionQuality"
  ]);
  if (parentObject !== void 0 && fromOutputCompressionQuality != null) {
    setValueByPath(parentObject, ["parameters", "outputOptions", "compressionQuality"], fromOutputCompressionQuality);
  }
  const fromEnhanceInputImage = getValueByPath(fromObject, [
    "enhanceInputImage"
  ]);
  if (parentObject !== void 0 && fromEnhanceInputImage != null) {
    setValueByPath(parentObject, ["parameters", "upscaleConfig", "enhanceInputImage"], fromEnhanceInputImage);
  }
  const fromImagePreservationFactor = getValueByPath(fromObject, [
    "imagePreservationFactor"
  ]);
  if (parentObject !== void 0 && fromImagePreservationFactor != null) {
    setValueByPath(parentObject, ["parameters", "upscaleConfig", "imagePreservationFactor"], fromImagePreservationFactor);
  }
  const fromLabels = getValueByPath(fromObject, ["labels"]);
  if (parentObject !== void 0 && fromLabels != null) {
    setValueByPath(parentObject, ["labels"], fromLabels);
  }
  const fromNumberOfImages = getValueByPath(fromObject, [
    "numberOfImages"
  ]);
  if (parentObject !== void 0 && fromNumberOfImages != null) {
    setValueByPath(parentObject, ["parameters", "sampleCount"], fromNumberOfImages);
  }
  const fromMode = getValueByPath(fromObject, ["mode"]);
  if (parentObject !== void 0 && fromMode != null) {
    setValueByPath(parentObject, ["parameters", "mode"], fromMode);
  }
  return toObject;
}
function upscaleImageAPIParametersInternalToVertex(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["_url", "model"], tModel(apiClient, fromModel));
  }
  const fromImage = getValueByPath(fromObject, ["image"]);
  if (fromImage != null) {
    setValueByPath(toObject, ["instances[0]", "image"], imageToVertex(fromImage));
  }
  const fromUpscaleFactor = getValueByPath(fromObject, [
    "upscaleFactor"
  ]);
  if (fromUpscaleFactor != null) {
    setValueByPath(toObject, ["parameters", "upscaleConfig", "upscaleFactor"], fromUpscaleFactor);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    upscaleImageAPIConfigInternalToVertex(fromConfig, toObject);
  }
  return toObject;
}
function upscaleImageResponseFromVertex(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromGeneratedImages = getValueByPath(fromObject, [
    "predictions"
  ]);
  if (fromGeneratedImages != null) {
    let transformedList = fromGeneratedImages;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return generatedImageFromVertex(item);
      });
    }
    setValueByPath(toObject, ["generatedImages"], transformedList);
  }
  return toObject;
}
function videoFromMldev(fromObject) {
  const toObject = {};
  const fromUri = getValueByPath(fromObject, ["uri"]);
  if (fromUri != null) {
    setValueByPath(toObject, ["uri"], fromUri);
  }
  const fromVideoBytes = getValueByPath(fromObject, ["encodedVideo"]);
  if (fromVideoBytes != null) {
    setValueByPath(toObject, ["videoBytes"], tBytes(fromVideoBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["encoding"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function videoFromVertex(fromObject) {
  const toObject = {};
  const fromUri = getValueByPath(fromObject, ["gcsUri"]);
  if (fromUri != null) {
    setValueByPath(toObject, ["uri"], fromUri);
  }
  const fromVideoBytes = getValueByPath(fromObject, [
    "bytesBase64Encoded"
  ]);
  if (fromVideoBytes != null) {
    setValueByPath(toObject, ["videoBytes"], tBytes(fromVideoBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function videoGenerationMaskToVertex(fromObject) {
  const toObject = {};
  const fromImage = getValueByPath(fromObject, ["image"]);
  if (fromImage != null) {
    setValueByPath(toObject, ["_self"], imageToVertex(fromImage));
  }
  const fromMaskMode = getValueByPath(fromObject, ["maskMode"]);
  if (fromMaskMode != null) {
    setValueByPath(toObject, ["maskMode"], fromMaskMode);
  }
  return toObject;
}
function videoGenerationReferenceImageToMldev(fromObject) {
  const toObject = {};
  const fromImage = getValueByPath(fromObject, ["image"]);
  if (fromImage != null) {
    setValueByPath(toObject, ["image"], imageToMldev(fromImage));
  }
  const fromReferenceType = getValueByPath(fromObject, [
    "referenceType"
  ]);
  if (fromReferenceType != null) {
    setValueByPath(toObject, ["referenceType"], fromReferenceType);
  }
  return toObject;
}
function videoGenerationReferenceImageToVertex(fromObject) {
  const toObject = {};
  const fromImage = getValueByPath(fromObject, ["image"]);
  if (fromImage != null) {
    setValueByPath(toObject, ["image"], imageToVertex(fromImage));
  }
  const fromReferenceType = getValueByPath(fromObject, [
    "referenceType"
  ]);
  if (fromReferenceType != null) {
    setValueByPath(toObject, ["referenceType"], fromReferenceType);
  }
  return toObject;
}
function videoToMldev(fromObject) {
  const toObject = {};
  const fromUri = getValueByPath(fromObject, ["uri"]);
  if (fromUri != null) {
    setValueByPath(toObject, ["uri"], fromUri);
  }
  const fromVideoBytes = getValueByPath(fromObject, ["videoBytes"]);
  if (fromVideoBytes != null) {
    setValueByPath(toObject, ["encodedVideo"], tBytes(fromVideoBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["encoding"], fromMimeType);
  }
  return toObject;
}
function videoToVertex(fromObject) {
  const toObject = {};
  const fromUri = getValueByPath(fromObject, ["uri"]);
  if (fromUri != null) {
    setValueByPath(toObject, ["gcsUri"], fromUri);
  }
  const fromVideoBytes = getValueByPath(fromObject, ["videoBytes"]);
  if (fromVideoBytes != null) {
    setValueByPath(toObject, ["bytesBase64Encoded"], tBytes(fromVideoBytes));
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function createFileSearchStoreConfigToMldev(fromObject, parentObject) {
  const toObject = {};
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (parentObject !== void 0 && fromDisplayName != null) {
    setValueByPath(parentObject, ["displayName"], fromDisplayName);
  }
  return toObject;
}
function createFileSearchStoreParametersToMldev(fromObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    createFileSearchStoreConfigToMldev(fromConfig, toObject);
  }
  return toObject;
}
function deleteFileSearchStoreConfigToMldev(fromObject, parentObject) {
  const toObject = {};
  const fromForce = getValueByPath(fromObject, ["force"]);
  if (parentObject !== void 0 && fromForce != null) {
    setValueByPath(parentObject, ["_query", "force"], fromForce);
  }
  return toObject;
}
function deleteFileSearchStoreParametersToMldev(fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], fromName);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    deleteFileSearchStoreConfigToMldev(fromConfig, toObject);
  }
  return toObject;
}
function getFileSearchStoreParametersToMldev(fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], fromName);
  }
  return toObject;
}
function importFileConfigToMldev(fromObject, parentObject) {
  const toObject = {};
  const fromCustomMetadata = getValueByPath(fromObject, [
    "customMetadata"
  ]);
  if (parentObject !== void 0 && fromCustomMetadata != null) {
    let transformedList = fromCustomMetadata;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(parentObject, ["customMetadata"], transformedList);
  }
  const fromChunkingConfig = getValueByPath(fromObject, [
    "chunkingConfig"
  ]);
  if (parentObject !== void 0 && fromChunkingConfig != null) {
    setValueByPath(parentObject, ["chunkingConfig"], fromChunkingConfig);
  }
  return toObject;
}
function importFileOperationFromMldev(fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], fromMetadata);
  }
  const fromDone = getValueByPath(fromObject, ["done"]);
  if (fromDone != null) {
    setValueByPath(toObject, ["done"], fromDone);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fromError);
  }
  const fromResponse = getValueByPath(fromObject, ["response"]);
  if (fromResponse != null) {
    setValueByPath(toObject, ["response"], importFileResponseFromMldev(fromResponse));
  }
  return toObject;
}
function importFileParametersToMldev(fromObject) {
  const toObject = {};
  const fromFileSearchStoreName = getValueByPath(fromObject, [
    "fileSearchStoreName"
  ]);
  if (fromFileSearchStoreName != null) {
    setValueByPath(toObject, ["_url", "file_search_store_name"], fromFileSearchStoreName);
  }
  const fromFileName = getValueByPath(fromObject, ["fileName"]);
  if (fromFileName != null) {
    setValueByPath(toObject, ["fileName"], fromFileName);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    importFileConfigToMldev(fromConfig, toObject);
  }
  return toObject;
}
function importFileResponseFromMldev(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromParent = getValueByPath(fromObject, ["parent"]);
  if (fromParent != null) {
    setValueByPath(toObject, ["parent"], fromParent);
  }
  const fromDocumentName = getValueByPath(fromObject, ["documentName"]);
  if (fromDocumentName != null) {
    setValueByPath(toObject, ["documentName"], fromDocumentName);
  }
  return toObject;
}
function listFileSearchStoresConfigToMldev(fromObject, parentObject) {
  const toObject = {};
  const fromPageSize = getValueByPath(fromObject, ["pageSize"]);
  if (parentObject !== void 0 && fromPageSize != null) {
    setValueByPath(parentObject, ["_query", "pageSize"], fromPageSize);
  }
  const fromPageToken = getValueByPath(fromObject, ["pageToken"]);
  if (parentObject !== void 0 && fromPageToken != null) {
    setValueByPath(parentObject, ["_query", "pageToken"], fromPageToken);
  }
  return toObject;
}
function listFileSearchStoresParametersToMldev(fromObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    listFileSearchStoresConfigToMldev(fromConfig, toObject);
  }
  return toObject;
}
function listFileSearchStoresResponseFromMldev(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromNextPageToken = getValueByPath(fromObject, [
    "nextPageToken"
  ]);
  if (fromNextPageToken != null) {
    setValueByPath(toObject, ["nextPageToken"], fromNextPageToken);
  }
  const fromFileSearchStores = getValueByPath(fromObject, [
    "fileSearchStores"
  ]);
  if (fromFileSearchStores != null) {
    let transformedList = fromFileSearchStores;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["fileSearchStores"], transformedList);
  }
  return toObject;
}
function uploadToFileSearchStoreConfigToMldev(fromObject, parentObject) {
  const toObject = {};
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (parentObject !== void 0 && fromMimeType != null) {
    setValueByPath(parentObject, ["mimeType"], fromMimeType);
  }
  const fromDisplayName = getValueByPath(fromObject, ["displayName"]);
  if (parentObject !== void 0 && fromDisplayName != null) {
    setValueByPath(parentObject, ["displayName"], fromDisplayName);
  }
  const fromCustomMetadata = getValueByPath(fromObject, [
    "customMetadata"
  ]);
  if (parentObject !== void 0 && fromCustomMetadata != null) {
    let transformedList = fromCustomMetadata;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(parentObject, ["customMetadata"], transformedList);
  }
  const fromChunkingConfig = getValueByPath(fromObject, [
    "chunkingConfig"
  ]);
  if (parentObject !== void 0 && fromChunkingConfig != null) {
    setValueByPath(parentObject, ["chunkingConfig"], fromChunkingConfig);
  }
  return toObject;
}
function uploadToFileSearchStoreParametersToMldev(fromObject) {
  const toObject = {};
  const fromFileSearchStoreName = getValueByPath(fromObject, [
    "fileSearchStoreName"
  ]);
  if (fromFileSearchStoreName != null) {
    setValueByPath(toObject, ["_url", "file_search_store_name"], fromFileSearchStoreName);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    uploadToFileSearchStoreConfigToMldev(fromConfig, toObject);
  }
  return toObject;
}
function uploadToFileSearchStoreResumableResponseFromMldev(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  return toObject;
}
var CONTENT_TYPE_HEADER = "Content-Type";
var SERVER_TIMEOUT_HEADER = "X-Server-Timeout";
var USER_AGENT_HEADER = "User-Agent";
var GOOGLE_API_CLIENT_HEADER = "x-goog-api-client";
var SDK_VERSION = "1.34.0";
var LIBRARY_LABEL = `google-genai-sdk/${SDK_VERSION}`;
var VERTEX_AI_API_DEFAULT_VERSION = "v1beta1";
var GOOGLE_AI_API_DEFAULT_VERSION = "v1beta";
var ApiClient = class {
  constructor(opts) {
    var _a2, _b;
    this.clientOptions = Object.assign(Object.assign({}, opts), { project: opts.project, location: opts.location, apiKey: opts.apiKey, vertexai: opts.vertexai });
    const initHttpOptions = {};
    if (this.clientOptions.vertexai) {
      initHttpOptions.apiVersion = (_a2 = this.clientOptions.apiVersion) !== null && _a2 !== void 0 ? _a2 : VERTEX_AI_API_DEFAULT_VERSION;
      initHttpOptions.baseUrl = this.baseUrlFromProjectLocation();
      this.normalizeAuthParameters();
    } else {
      initHttpOptions.apiVersion = (_b = this.clientOptions.apiVersion) !== null && _b !== void 0 ? _b : GOOGLE_AI_API_DEFAULT_VERSION;
      initHttpOptions.baseUrl = `https://generativelanguage.googleapis.com/`;
    }
    initHttpOptions.headers = this.getDefaultHeaders();
    this.clientOptions.httpOptions = initHttpOptions;
    if (opts.httpOptions) {
      this.clientOptions.httpOptions = this.patchHttpOptions(initHttpOptions, opts.httpOptions);
    }
  }
  /**
   * Determines the base URL for Vertex AI based on project and location.
   * Uses the global endpoint if location is 'global' or if project/location
   * are not specified (implying API key usage).
   * @private
   */
  baseUrlFromProjectLocation() {
    if (this.clientOptions.project && this.clientOptions.location && this.clientOptions.location !== "global") {
      return `https://${this.clientOptions.location}-aiplatform.googleapis.com/`;
    }
    return `https://aiplatform.googleapis.com/`;
  }
  /**
   * Normalizes authentication parameters for Vertex AI.
   * If project and location are provided, API key is cleared.
   * If project and location are not provided (implying API key usage),
   * project and location are cleared.
   * @private
   */
  normalizeAuthParameters() {
    if (this.clientOptions.project && this.clientOptions.location) {
      this.clientOptions.apiKey = void 0;
      return;
    }
    this.clientOptions.project = void 0;
    this.clientOptions.location = void 0;
  }
  isVertexAI() {
    var _a2;
    return (_a2 = this.clientOptions.vertexai) !== null && _a2 !== void 0 ? _a2 : false;
  }
  getProject() {
    return this.clientOptions.project;
  }
  getLocation() {
    return this.clientOptions.location;
  }
  async getAuthHeaders() {
    const headers = new Headers();
    await this.clientOptions.auth.addAuthHeaders(headers);
    return headers;
  }
  getApiVersion() {
    if (this.clientOptions.httpOptions && this.clientOptions.httpOptions.apiVersion !== void 0) {
      return this.clientOptions.httpOptions.apiVersion;
    }
    throw new Error("API version is not set.");
  }
  getBaseUrl() {
    if (this.clientOptions.httpOptions && this.clientOptions.httpOptions.baseUrl !== void 0) {
      return this.clientOptions.httpOptions.baseUrl;
    }
    throw new Error("Base URL is not set.");
  }
  getRequestUrl() {
    return this.getRequestUrlInternal(this.clientOptions.httpOptions);
  }
  getHeaders() {
    if (this.clientOptions.httpOptions && this.clientOptions.httpOptions.headers !== void 0) {
      return this.clientOptions.httpOptions.headers;
    } else {
      throw new Error("Headers are not set.");
    }
  }
  getRequestUrlInternal(httpOptions) {
    if (!httpOptions || httpOptions.baseUrl === void 0 || httpOptions.apiVersion === void 0) {
      throw new Error("HTTP options are not correctly set.");
    }
    const baseUrl = httpOptions.baseUrl.endsWith("/") ? httpOptions.baseUrl.slice(0, -1) : httpOptions.baseUrl;
    const urlElement = [baseUrl];
    if (httpOptions.apiVersion && httpOptions.apiVersion !== "") {
      urlElement.push(httpOptions.apiVersion);
    }
    return urlElement.join("/");
  }
  getBaseResourcePath() {
    return `projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`;
  }
  getApiKey() {
    return this.clientOptions.apiKey;
  }
  getWebsocketBaseUrl() {
    const baseUrl = this.getBaseUrl();
    const urlParts = new URL(baseUrl);
    urlParts.protocol = urlParts.protocol == "http:" ? "ws" : "wss";
    return urlParts.toString();
  }
  setBaseUrl(url) {
    if (this.clientOptions.httpOptions) {
      this.clientOptions.httpOptions.baseUrl = url;
    } else {
      throw new Error("HTTP options are not correctly set.");
    }
  }
  constructUrl(path2, httpOptions, prependProjectLocation) {
    const urlElement = [this.getRequestUrlInternal(httpOptions)];
    if (prependProjectLocation) {
      urlElement.push(this.getBaseResourcePath());
    }
    if (path2 !== "") {
      urlElement.push(path2);
    }
    const url = new URL(`${urlElement.join("/")}`);
    return url;
  }
  shouldPrependVertexProjectPath(request) {
    if (this.clientOptions.apiKey) {
      return false;
    }
    if (!this.clientOptions.vertexai) {
      return false;
    }
    if (request.path.startsWith("projects/")) {
      return false;
    }
    if (request.httpMethod === "GET" && request.path.startsWith("publishers/google/models")) {
      return false;
    }
    return true;
  }
  async request(request) {
    let patchedHttpOptions = this.clientOptions.httpOptions;
    if (request.httpOptions) {
      patchedHttpOptions = this.patchHttpOptions(this.clientOptions.httpOptions, request.httpOptions);
    }
    const prependProjectLocation = this.shouldPrependVertexProjectPath(request);
    const url = this.constructUrl(request.path, patchedHttpOptions, prependProjectLocation);
    if (request.queryParams) {
      for (const [key, value] of Object.entries(request.queryParams)) {
        url.searchParams.append(key, String(value));
      }
    }
    let requestInit = {};
    if (request.httpMethod === "GET") {
      if (request.body && request.body !== "{}") {
        throw new Error("Request body should be empty for GET request, but got non empty request body");
      }
    } else {
      requestInit.body = request.body;
    }
    requestInit = await this.includeExtraHttpOptionsToRequestInit(requestInit, patchedHttpOptions, url.toString(), request.abortSignal);
    return this.unaryApiCall(url, requestInit, request.httpMethod);
  }
  patchHttpOptions(baseHttpOptions, requestHttpOptions) {
    const patchedHttpOptions = JSON.parse(JSON.stringify(baseHttpOptions));
    for (const [key, value] of Object.entries(requestHttpOptions)) {
      if (typeof value === "object") {
        patchedHttpOptions[key] = Object.assign(Object.assign({}, patchedHttpOptions[key]), value);
      } else if (value !== void 0) {
        patchedHttpOptions[key] = value;
      }
    }
    return patchedHttpOptions;
  }
  async requestStream(request) {
    let patchedHttpOptions = this.clientOptions.httpOptions;
    if (request.httpOptions) {
      patchedHttpOptions = this.patchHttpOptions(this.clientOptions.httpOptions, request.httpOptions);
    }
    const prependProjectLocation = this.shouldPrependVertexProjectPath(request);
    const url = this.constructUrl(request.path, patchedHttpOptions, prependProjectLocation);
    if (!url.searchParams.has("alt") || url.searchParams.get("alt") !== "sse") {
      url.searchParams.set("alt", "sse");
    }
    let requestInit = {};
    requestInit.body = request.body;
    requestInit = await this.includeExtraHttpOptionsToRequestInit(requestInit, patchedHttpOptions, url.toString(), request.abortSignal);
    return this.streamApiCall(url, requestInit, request.httpMethod);
  }
  async includeExtraHttpOptionsToRequestInit(requestInit, httpOptions, url, abortSignal) {
    if (httpOptions && httpOptions.timeout || abortSignal) {
      const abortController = new AbortController();
      const signal = abortController.signal;
      if (httpOptions.timeout && (httpOptions === null || httpOptions === void 0 ? void 0 : httpOptions.timeout) > 0) {
        const timeoutHandle = setTimeout(() => abortController.abort(), httpOptions.timeout);
        if (timeoutHandle && typeof timeoutHandle.unref === "function") {
          timeoutHandle.unref();
        }
      }
      if (abortSignal) {
        abortSignal.addEventListener("abort", () => {
          abortController.abort();
        });
      }
      requestInit.signal = signal;
    }
    if (httpOptions && httpOptions.extraBody !== null) {
      includeExtraBodyToRequestInit(requestInit, httpOptions.extraBody);
    }
    requestInit.headers = await this.getHeadersInternal(httpOptions, url);
    return requestInit;
  }
  async unaryApiCall(url, requestInit, httpMethod) {
    return this.apiCall(url.toString(), Object.assign(Object.assign({}, requestInit), { method: httpMethod })).then(async (response) => {
      await throwErrorIfNotOK(response);
      return new HttpResponse(response);
    }).catch((e) => {
      if (e instanceof Error) {
        throw e;
      } else {
        throw new Error(JSON.stringify(e));
      }
    });
  }
  async streamApiCall(url, requestInit, httpMethod) {
    return this.apiCall(url.toString(), Object.assign(Object.assign({}, requestInit), { method: httpMethod })).then(async (response) => {
      await throwErrorIfNotOK(response);
      return this.processStreamResponse(response);
    }).catch((e) => {
      if (e instanceof Error) {
        throw e;
      } else {
        throw new Error(JSON.stringify(e));
      }
    });
  }
  processStreamResponse(response) {
    return __asyncGenerator(this, arguments, function* processStreamResponse_1() {
      var _a2;
      const reader = (_a2 = response === null || response === void 0 ? void 0 : response.body) === null || _a2 === void 0 ? void 0 : _a2.getReader();
      const decoder = new TextDecoder("utf-8");
      if (!reader) {
        throw new Error("Response body is empty");
      }
      try {
        let buffer = "";
        const dataPrefix = "data:";
        const delimiters = ["\n\n", "\r\r", "\r\n\r\n"];
        while (true) {
          const { done, value } = yield __await(reader.read());
          if (done) {
            if (buffer.trim().length > 0) {
              throw new Error("Incomplete JSON segment at the end");
            }
            break;
          }
          const chunkString = decoder.decode(value, { stream: true });
          try {
            const chunkJson = JSON.parse(chunkString);
            if ("error" in chunkJson) {
              const errorJson = JSON.parse(JSON.stringify(chunkJson["error"]));
              const status = errorJson["status"];
              const code = errorJson["code"];
              const errorMessage = `got status: ${status}. ${JSON.stringify(chunkJson)}`;
              if (code >= 400 && code < 600) {
                const apiError = new ApiError({
                  message: errorMessage,
                  status: code
                });
                throw apiError;
              }
            }
          } catch (e) {
            const error = e;
            if (error.name === "ApiError") {
              throw e;
            }
          }
          buffer += chunkString;
          let delimiterIndex = -1;
          let delimiterLength = 0;
          while (true) {
            delimiterIndex = -1;
            delimiterLength = 0;
            for (const delimiter of delimiters) {
              const index = buffer.indexOf(delimiter);
              if (index !== -1 && (delimiterIndex === -1 || index < delimiterIndex)) {
                delimiterIndex = index;
                delimiterLength = delimiter.length;
              }
            }
            if (delimiterIndex === -1) {
              break;
            }
            const eventString = buffer.substring(0, delimiterIndex);
            buffer = buffer.substring(delimiterIndex + delimiterLength);
            const trimmedEvent = eventString.trim();
            if (trimmedEvent.startsWith(dataPrefix)) {
              const processedChunkString = trimmedEvent.substring(dataPrefix.length).trim();
              try {
                const partialResponse = new Response(processedChunkString, {
                  headers: response === null || response === void 0 ? void 0 : response.headers,
                  status: response === null || response === void 0 ? void 0 : response.status,
                  statusText: response === null || response === void 0 ? void 0 : response.statusText
                });
                yield yield __await(new HttpResponse(partialResponse));
              } catch (e) {
                throw new Error(`exception parsing stream chunk ${processedChunkString}. ${e}`);
              }
            }
          }
        }
      } finally {
        reader.releaseLock();
      }
    });
  }
  async apiCall(url, requestInit) {
    return fetch(url, requestInit).catch((e) => {
      throw new Error(`exception ${e} sending request`);
    });
  }
  getDefaultHeaders() {
    const headers = {};
    const versionHeaderValue = LIBRARY_LABEL + " " + this.clientOptions.userAgentExtra;
    headers[USER_AGENT_HEADER] = versionHeaderValue;
    headers[GOOGLE_API_CLIENT_HEADER] = versionHeaderValue;
    headers[CONTENT_TYPE_HEADER] = "application/json";
    return headers;
  }
  async getHeadersInternal(httpOptions, url) {
    const headers = new Headers();
    if (httpOptions && httpOptions.headers) {
      for (const [key, value] of Object.entries(httpOptions.headers)) {
        headers.append(key, value);
      }
      if (httpOptions.timeout && httpOptions.timeout > 0) {
        headers.append(SERVER_TIMEOUT_HEADER, String(Math.ceil(httpOptions.timeout / 1e3)));
      }
    }
    await this.clientOptions.auth.addAuthHeaders(headers, url);
    return headers;
  }
  getFileName(file) {
    var _a2;
    let fileName = "";
    if (typeof file === "string") {
      fileName = file.replace(/[/\\]+$/, "");
      fileName = (_a2 = fileName.split(/[/\\]/).pop()) !== null && _a2 !== void 0 ? _a2 : "";
    }
    return fileName;
  }
  /**
   * Uploads a file asynchronously using Gemini API only, this is not supported
   * in Vertex AI.
   *
   * @param file The string path to the file to be uploaded or a Blob object.
   * @param config Optional parameters specified in the `UploadFileConfig`
   *     interface. @see {@link types.UploadFileConfig}
   * @return A promise that resolves to a `File` object.
   * @throws An error if called on a Vertex AI client.
   * @throws An error if the `mimeType` is not provided and can not be inferred,
   */
  async uploadFile(file, config) {
    var _a2;
    const fileToUpload = {};
    if (config != null) {
      fileToUpload.mimeType = config.mimeType;
      fileToUpload.name = config.name;
      fileToUpload.displayName = config.displayName;
    }
    if (fileToUpload.name && !fileToUpload.name.startsWith("files/")) {
      fileToUpload.name = `files/${fileToUpload.name}`;
    }
    const uploader = this.clientOptions.uploader;
    const fileStat = await uploader.stat(file);
    fileToUpload.sizeBytes = String(fileStat.size);
    const mimeType = (_a2 = config === null || config === void 0 ? void 0 : config.mimeType) !== null && _a2 !== void 0 ? _a2 : fileStat.type;
    if (mimeType === void 0 || mimeType === "") {
      throw new Error("Can not determine mimeType. Please provide mimeType in the config.");
    }
    fileToUpload.mimeType = mimeType;
    const body = {
      file: fileToUpload
    };
    const fileName = this.getFileName(file);
    const path2 = formatMap("upload/v1beta/files", body["_url"]);
    const uploadUrl = await this.fetchUploadUrl(path2, fileToUpload.sizeBytes, fileToUpload.mimeType, fileName, body, config === null || config === void 0 ? void 0 : config.httpOptions);
    return uploader.upload(file, uploadUrl, this);
  }
  /**
   * Uploads a file to a given file search store asynchronously using Gemini API only, this is not supported
   * in Vertex AI.
   *
   * @param fileSearchStoreName The name of the file search store to upload the file to.
   * @param file The string path to the file to be uploaded or a Blob object.
   * @param config Optional parameters specified in the `UploadFileConfig`
   *     interface. @see {@link UploadFileConfig}
   * @return A promise that resolves to a `File` object.
   * @throws An error if called on a Vertex AI client.
   * @throws An error if the `mimeType` is not provided and can not be inferred,
   */
  async uploadFileToFileSearchStore(fileSearchStoreName, file, config) {
    var _a2;
    const uploader = this.clientOptions.uploader;
    const fileStat = await uploader.stat(file);
    const sizeBytes = String(fileStat.size);
    const mimeType = (_a2 = config === null || config === void 0 ? void 0 : config.mimeType) !== null && _a2 !== void 0 ? _a2 : fileStat.type;
    if (mimeType === void 0 || mimeType === "") {
      throw new Error("Can not determine mimeType. Please provide mimeType in the config.");
    }
    const path2 = `upload/v1beta/${fileSearchStoreName}:uploadToFileSearchStore`;
    const fileName = this.getFileName(file);
    const body = {};
    if (config != null) {
      uploadToFileSearchStoreConfigToMldev(config, body);
    }
    const uploadUrl = await this.fetchUploadUrl(path2, sizeBytes, mimeType, fileName, body, config === null || config === void 0 ? void 0 : config.httpOptions);
    return uploader.uploadToFileSearchStore(file, uploadUrl, this);
  }
  /**
   * Downloads a file asynchronously to the specified path.
   *
   * @params params - The parameters for the download request, see {@link
   * types.DownloadFileParameters}
   */
  async downloadFile(params) {
    const downloader = this.clientOptions.downloader;
    await downloader.download(params, this);
  }
  async fetchUploadUrl(path2, sizeBytes, mimeType, fileName, body, configHttpOptions) {
    var _a2;
    let httpOptions = {};
    if (configHttpOptions) {
      httpOptions = configHttpOptions;
    } else {
      httpOptions = {
        apiVersion: "",
        // api-version is set in the path.
        headers: Object.assign({ "Content-Type": "application/json", "X-Goog-Upload-Protocol": "resumable", "X-Goog-Upload-Command": "start", "X-Goog-Upload-Header-Content-Length": `${sizeBytes}`, "X-Goog-Upload-Header-Content-Type": `${mimeType}` }, fileName ? { "X-Goog-Upload-File-Name": fileName } : {})
      };
    }
    const httpResponse = await this.request({
      path: path2,
      body: JSON.stringify(body),
      httpMethod: "POST",
      httpOptions
    });
    if (!httpResponse || !(httpResponse === null || httpResponse === void 0 ? void 0 : httpResponse.headers)) {
      throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");
    }
    const uploadUrl = (_a2 = httpResponse === null || httpResponse === void 0 ? void 0 : httpResponse.headers) === null || _a2 === void 0 ? void 0 : _a2["x-goog-upload-url"];
    if (uploadUrl === void 0) {
      throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");
    }
    return uploadUrl;
  }
};
async function throwErrorIfNotOK(response) {
  var _a2;
  if (response === void 0) {
    throw new Error("response is undefined");
  }
  if (!response.ok) {
    const status = response.status;
    let errorBody;
    if ((_a2 = response.headers.get("content-type")) === null || _a2 === void 0 ? void 0 : _a2.includes("application/json")) {
      errorBody = await response.json();
    } else {
      errorBody = {
        error: {
          message: await response.text(),
          code: response.status,
          status: response.statusText
        }
      };
    }
    const errorMessage = JSON.stringify(errorBody);
    if (status >= 400 && status < 600) {
      const apiError = new ApiError({
        message: errorMessage,
        status
      });
      throw apiError;
    }
    throw new Error(errorMessage);
  }
}
function includeExtraBodyToRequestInit(requestInit, extraBody) {
  if (!extraBody || Object.keys(extraBody).length === 0) {
    return;
  }
  if (requestInit.body instanceof Blob) {
    console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");
    return;
  }
  let currentBodyObject = {};
  if (typeof requestInit.body === "string" && requestInit.body.length > 0) {
    try {
      const parsedBody = JSON.parse(requestInit.body);
      if (typeof parsedBody === "object" && parsedBody !== null && !Array.isArray(parsedBody)) {
        currentBodyObject = parsedBody;
      } else {
        console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");
        return;
      }
    } catch (e) {
      console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");
      return;
    }
  }
  function deepMerge(target, source) {
    const output = Object.assign({}, target);
    for (const key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        const sourceValue = source[key];
        const targetValue = output[key];
        if (sourceValue && typeof sourceValue === "object" && !Array.isArray(sourceValue) && targetValue && typeof targetValue === "object" && !Array.isArray(targetValue)) {
          output[key] = deepMerge(targetValue, sourceValue);
        } else {
          if (targetValue && sourceValue && typeof targetValue !== typeof sourceValue) {
            console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${key}". Original type: ${typeof targetValue}, New type: ${typeof sourceValue}. Overwriting.`);
          }
          output[key] = sourceValue;
        }
      }
    }
    return output;
  }
  const mergedBody = deepMerge(currentBodyObject, extraBody);
  requestInit.body = JSON.stringify(mergedBody);
}
var MCP_LABEL = "mcp_used/unknown";
var hasMcpToolUsageFromMcpToTool = false;
function hasMcpToolUsage(tools) {
  for (const tool of tools) {
    if (isMcpCallableTool(tool)) {
      return true;
    }
    if (typeof tool === "object" && "inputSchema" in tool) {
      return true;
    }
  }
  return hasMcpToolUsageFromMcpToTool;
}
function setMcpUsageHeader(headers) {
  var _a2;
  const existingHeader = (_a2 = headers[GOOGLE_API_CLIENT_HEADER]) !== null && _a2 !== void 0 ? _a2 : "";
  headers[GOOGLE_API_CLIENT_HEADER] = (existingHeader + ` ${MCP_LABEL}`).trimStart();
}
function isMcpCallableTool(object) {
  return object !== null && typeof object === "object" && object instanceof McpCallableTool;
}
function listAllTools(mcpClient_1) {
  return __asyncGenerator(this, arguments, function* listAllTools_1(mcpClient, maxTools = 100) {
    let cursor = void 0;
    let numTools = 0;
    while (numTools < maxTools) {
      const t = yield __await(mcpClient.listTools({ cursor }));
      for (const tool of t.tools) {
        yield yield __await(tool);
        numTools++;
      }
      if (!t.nextCursor) {
        break;
      }
      cursor = t.nextCursor;
    }
  });
}
var McpCallableTool = class {
  constructor(mcpClients = [], config) {
    this.mcpTools = [];
    this.functionNameToMcpClient = {};
    this.mcpClients = mcpClients;
    this.config = config;
  }
  /**
   * Creates a McpCallableTool.
   */
  static create(mcpClients, config) {
    return new McpCallableTool(mcpClients, config);
  }
  /**
   * Validates the function names are not duplicate and initialize the function
   * name to MCP client mapping.
   *
   * @throws {Error} if the MCP tools from the MCP clients have duplicate tool
   *     names.
   */
  async initialize() {
    var _a2, e_1, _b, _c;
    if (this.mcpTools.length > 0) {
      return;
    }
    const functionMap = {};
    const mcpTools = [];
    for (const mcpClient of this.mcpClients) {
      try {
        for (var _d = true, _e = (e_1 = void 0, __asyncValues(listAllTools(mcpClient))), _f; _f = await _e.next(), _a2 = _f.done, !_a2; _d = true) {
          _c = _f.value;
          _d = false;
          const mcpTool = _c;
          mcpTools.push(mcpTool);
          const mcpToolName = mcpTool.name;
          if (functionMap[mcpToolName]) {
            throw new Error(`Duplicate function name ${mcpToolName} found in MCP tools. Please ensure function names are unique.`);
          }
          functionMap[mcpToolName] = mcpClient;
        }
      } catch (e_1_1) {
        e_1 = { error: e_1_1 };
      } finally {
        try {
          if (!_d && !_a2 && (_b = _e.return))
            await _b.call(_e);
        } finally {
          if (e_1)
            throw e_1.error;
        }
      }
    }
    this.mcpTools = mcpTools;
    this.functionNameToMcpClient = functionMap;
  }
  async tool() {
    await this.initialize();
    return mcpToolsToGeminiTool(this.mcpTools, this.config);
  }
  async callTool(functionCalls) {
    await this.initialize();
    const functionCallResponseParts = [];
    for (const functionCall of functionCalls) {
      if (functionCall.name in this.functionNameToMcpClient) {
        const mcpClient = this.functionNameToMcpClient[functionCall.name];
        let requestOptions = void 0;
        if (this.config.timeout) {
          requestOptions = {
            timeout: this.config.timeout
          };
        }
        const callToolResponse = await mcpClient.callTool(
          {
            name: functionCall.name,
            arguments: functionCall.args
          },
          // Set the result schema to undefined to allow MCP to rely on the
          // default schema.
          void 0,
          requestOptions
        );
        functionCallResponseParts.push({
          functionResponse: {
            name: functionCall.name,
            response: callToolResponse.isError ? { error: callToolResponse } : callToolResponse
          }
        });
      }
    }
    return functionCallResponseParts;
  }
};
async function handleWebSocketMessage$1(apiClient, onmessage, event) {
  const serverMessage = new LiveMusicServerMessage();
  let data;
  if (event.data instanceof Blob) {
    data = JSON.parse(await event.data.text());
  } else {
    data = JSON.parse(event.data);
  }
  Object.assign(serverMessage, data);
  onmessage(serverMessage);
}
var LiveMusic = class {
  constructor(apiClient, auth, webSocketFactory) {
    this.apiClient = apiClient;
    this.auth = auth;
    this.webSocketFactory = webSocketFactory;
  }
  /**
       Establishes a connection to the specified model and returns a
       LiveMusicSession object representing that connection.
  
       @experimental
  
       @remarks
  
       @param params - The parameters for establishing a connection to the model.
       @return A live session.
  
       @example
       ```ts
       let model = 'models/lyria-realtime-exp';
       const session = await ai.live.music.connect({
         model: model,
         callbacks: {
           onmessage: (e: MessageEvent) => {
             console.log('Received message from the server: %s\n', debug(e.data));
           },
           onerror: (e: ErrorEvent) => {
             console.log('Error occurred: %s\n', debug(e.error));
           },
           onclose: (e: CloseEvent) => {
             console.log('Connection closed.');
           },
         },
       });
       ```
      */
  async connect(params) {
    var _a2, _b;
    if (this.apiClient.isVertexAI()) {
      throw new Error("Live music is not supported for Vertex AI.");
    }
    console.warn("Live music generation is experimental and may change in future versions.");
    const websocketBaseUrl = this.apiClient.getWebsocketBaseUrl();
    const apiVersion = this.apiClient.getApiVersion();
    const headers = mapToHeaders$1(this.apiClient.getDefaultHeaders());
    const apiKey = this.apiClient.getApiKey();
    const url = `${websocketBaseUrl}/ws/google.ai.generativelanguage.${apiVersion}.GenerativeService.BidiGenerateMusic?key=${apiKey}`;
    let onopenResolve = () => {
    };
    const onopenPromise = new Promise((resolve) => {
      onopenResolve = resolve;
    });
    const callbacks = params.callbacks;
    const onopenAwaitedCallback = function() {
      onopenResolve({});
    };
    const apiClient = this.apiClient;
    const websocketCallbacks = {
      onopen: onopenAwaitedCallback,
      onmessage: (event) => {
        void handleWebSocketMessage$1(apiClient, callbacks.onmessage, event);
      },
      onerror: (_a2 = callbacks === null || callbacks === void 0 ? void 0 : callbacks.onerror) !== null && _a2 !== void 0 ? _a2 : function(e) {
      },
      onclose: (_b = callbacks === null || callbacks === void 0 ? void 0 : callbacks.onclose) !== null && _b !== void 0 ? _b : function(e) {
      }
    };
    const conn = this.webSocketFactory.create(url, headersToMap$1(headers), websocketCallbacks);
    conn.connect();
    await onopenPromise;
    const model = tModel(this.apiClient, params.model);
    const setup = { model };
    const clientMessage = { setup };
    conn.send(JSON.stringify(clientMessage));
    return new LiveMusicSession(conn, this.apiClient);
  }
};
var LiveMusicSession = class {
  constructor(conn, apiClient) {
    this.conn = conn;
    this.apiClient = apiClient;
  }
  /**
      Sets inputs to steer music generation. Updates the session's current
      weighted prompts.
  
      @param params - Contains one property, `weightedPrompts`.
  
        - `weightedPrompts` to send to the model; weights are normalized to
          sum to 1.0.
  
      @experimental
     */
  async setWeightedPrompts(params) {
    if (!params.weightedPrompts || Object.keys(params.weightedPrompts).length === 0) {
      throw new Error("Weighted prompts must be set and contain at least one entry.");
    }
    const clientContent = liveMusicSetWeightedPromptsParametersToMldev(params);
    this.conn.send(JSON.stringify({ clientContent }));
  }
  /**
      Sets a configuration to the model. Updates the session's current
      music generation config.
  
      @param params - Contains one property, `musicGenerationConfig`.
  
        - `musicGenerationConfig` to set in the model. Passing an empty or
      undefined config to the model will reset the config to defaults.
  
      @experimental
     */
  async setMusicGenerationConfig(params) {
    if (!params.musicGenerationConfig) {
      params.musicGenerationConfig = {};
    }
    const setConfigParameters = liveMusicSetConfigParametersToMldev(params);
    this.conn.send(JSON.stringify(setConfigParameters));
  }
  sendPlaybackControl(playbackControl) {
    const clientMessage = { playbackControl };
    this.conn.send(JSON.stringify(clientMessage));
  }
  /**
   * Start the music stream.
   *
   * @experimental
   */
  play() {
    this.sendPlaybackControl(LiveMusicPlaybackControl.PLAY);
  }
  /**
   * Temporarily halt the music stream. Use `play` to resume from the current
   * position.
   *
   * @experimental
   */
  pause() {
    this.sendPlaybackControl(LiveMusicPlaybackControl.PAUSE);
  }
  /**
   * Stop the music stream and reset the state. Retains the current prompts
   * and config.
   *
   * @experimental
   */
  stop() {
    this.sendPlaybackControl(LiveMusicPlaybackControl.STOP);
  }
  /**
   * Resets the context of the music generation without stopping it.
   * Retains the current prompts and config.
   *
   * @experimental
   */
  resetContext() {
    this.sendPlaybackControl(LiveMusicPlaybackControl.RESET_CONTEXT);
  }
  /**
       Terminates the WebSocket connection.
  
       @experimental
     */
  close() {
    this.conn.close();
  }
};
function headersToMap$1(headers) {
  const headerMap = {};
  headers.forEach((value, key) => {
    headerMap[key] = value;
  });
  return headerMap;
}
function mapToHeaders$1(map) {
  const headers = new Headers();
  for (const [key, value] of Object.entries(map)) {
    headers.append(key, value);
  }
  return headers;
}
var FUNCTION_RESPONSE_REQUIRES_ID = "FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";
async function handleWebSocketMessage(apiClient, onmessage, event) {
  const serverMessage = new LiveServerMessage();
  let jsonData;
  if (event.data instanceof Blob) {
    jsonData = await event.data.text();
  } else if (event.data instanceof ArrayBuffer) {
    jsonData = new TextDecoder().decode(event.data);
  } else {
    jsonData = event.data;
  }
  const data = JSON.parse(jsonData);
  if (apiClient.isVertexAI()) {
    const resp = liveServerMessageFromVertex(data);
    Object.assign(serverMessage, resp);
  } else {
    const resp = data;
    Object.assign(serverMessage, resp);
  }
  onmessage(serverMessage);
}
var Live = class {
  constructor(apiClient, auth, webSocketFactory) {
    this.apiClient = apiClient;
    this.auth = auth;
    this.webSocketFactory = webSocketFactory;
    this.music = new LiveMusic(this.apiClient, this.auth, this.webSocketFactory);
  }
  /**
       Establishes a connection to the specified model with the given
       configuration and returns a Session object representing that connection.
  
       @experimental Built-in MCP support is an experimental feature, may change in
       future versions.
  
       @remarks
  
       @param params - The parameters for establishing a connection to the model.
       @return A live session.
  
       @example
       ```ts
       let model: string;
       if (GOOGLE_GENAI_USE_VERTEXAI) {
         model = 'gemini-2.0-flash-live-preview-04-09';
       } else {
         model = 'gemini-live-2.5-flash-preview';
       }
       const session = await ai.live.connect({
         model: model,
         config: {
           responseModalities: [Modality.AUDIO],
         },
         callbacks: {
           onopen: () => {
             console.log('Connected to the socket.');
           },
           onmessage: (e: MessageEvent) => {
             console.log('Received message from the server: %s\n', debug(e.data));
           },
           onerror: (e: ErrorEvent) => {
             console.log('Error occurred: %s\n', debug(e.error));
           },
           onclose: (e: CloseEvent) => {
             console.log('Connection closed.');
           },
         },
       });
       ```
      */
  async connect(params) {
    var _a2, _b, _c, _d, _e, _f;
    if (params.config && params.config.httpOptions) {
      throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");
    }
    const websocketBaseUrl = this.apiClient.getWebsocketBaseUrl();
    const apiVersion = this.apiClient.getApiVersion();
    let url;
    const clientHeaders = this.apiClient.getHeaders();
    if (params.config && params.config.tools && hasMcpToolUsage(params.config.tools)) {
      setMcpUsageHeader(clientHeaders);
    }
    const headers = mapToHeaders(clientHeaders);
    if (this.apiClient.isVertexAI()) {
      url = `${websocketBaseUrl}/ws/google.cloud.aiplatform.${apiVersion}.LlmBidiService/BidiGenerateContent`;
      await this.auth.addAuthHeaders(headers, url);
    } else {
      const apiKey = this.apiClient.getApiKey();
      let method = "BidiGenerateContent";
      let keyName = "key";
      if (apiKey === null || apiKey === void 0 ? void 0 : apiKey.startsWith("auth_tokens/")) {
        console.warn("Warning: Ephemeral token support is experimental and may change in future versions.");
        if (apiVersion !== "v1alpha") {
          console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection.");
        }
        method = "BidiGenerateContentConstrained";
        keyName = "access_token";
      }
      url = `${websocketBaseUrl}/ws/google.ai.generativelanguage.${apiVersion}.GenerativeService.${method}?${keyName}=${apiKey}`;
    }
    let onopenResolve = () => {
    };
    const onopenPromise = new Promise((resolve) => {
      onopenResolve = resolve;
    });
    const callbacks = params.callbacks;
    const onopenAwaitedCallback = function() {
      var _a3;
      (_a3 = callbacks === null || callbacks === void 0 ? void 0 : callbacks.onopen) === null || _a3 === void 0 ? void 0 : _a3.call(callbacks);
      onopenResolve({});
    };
    const apiClient = this.apiClient;
    const websocketCallbacks = {
      onopen: onopenAwaitedCallback,
      onmessage: (event) => {
        void handleWebSocketMessage(apiClient, callbacks.onmessage, event);
      },
      onerror: (_a2 = callbacks === null || callbacks === void 0 ? void 0 : callbacks.onerror) !== null && _a2 !== void 0 ? _a2 : function(e) {
      },
      onclose: (_b = callbacks === null || callbacks === void 0 ? void 0 : callbacks.onclose) !== null && _b !== void 0 ? _b : function(e) {
      }
    };
    const conn = this.webSocketFactory.create(url, headersToMap(headers), websocketCallbacks);
    conn.connect();
    await onopenPromise;
    let transformedModel = tModel(this.apiClient, params.model);
    if (this.apiClient.isVertexAI() && transformedModel.startsWith("publishers/")) {
      const project = this.apiClient.getProject();
      const location = this.apiClient.getLocation();
      transformedModel = `projects/${project}/locations/${location}/` + transformedModel;
    }
    let clientMessage = {};
    if (this.apiClient.isVertexAI() && ((_c = params.config) === null || _c === void 0 ? void 0 : _c.responseModalities) === void 0) {
      if (params.config === void 0) {
        params.config = { responseModalities: [Modality.AUDIO] };
      } else {
        params.config.responseModalities = [Modality.AUDIO];
      }
    }
    if ((_d = params.config) === null || _d === void 0 ? void 0 : _d.generationConfig) {
      console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");
    }
    const inputTools = (_f = (_e = params.config) === null || _e === void 0 ? void 0 : _e.tools) !== null && _f !== void 0 ? _f : [];
    const convertedTools = [];
    for (const tool of inputTools) {
      if (this.isCallableTool(tool)) {
        const callableTool = tool;
        convertedTools.push(await callableTool.tool());
      } else {
        convertedTools.push(tool);
      }
    }
    if (convertedTools.length > 0) {
      params.config.tools = convertedTools;
    }
    const liveConnectParameters = {
      model: transformedModel,
      config: params.config,
      callbacks: params.callbacks
    };
    if (this.apiClient.isVertexAI()) {
      clientMessage = liveConnectParametersToVertex(this.apiClient, liveConnectParameters);
    } else {
      clientMessage = liveConnectParametersToMldev(this.apiClient, liveConnectParameters);
    }
    delete clientMessage["config"];
    conn.send(JSON.stringify(clientMessage));
    return new Session(conn, this.apiClient);
  }
  // TODO: b/416041229 - Abstract this method to a common place.
  isCallableTool(tool) {
    return "callTool" in tool && typeof tool.callTool === "function";
  }
};
var defaultLiveSendClientContentParamerters = {
  turnComplete: true
};
var Session = class {
  constructor(conn, apiClient) {
    this.conn = conn;
    this.apiClient = apiClient;
  }
  tLiveClientContent(apiClient, params) {
    if (params.turns !== null && params.turns !== void 0) {
      let contents = [];
      try {
        contents = tContents(params.turns);
        if (!apiClient.isVertexAI()) {
          contents = contents.map((item) => contentToMldev$1(item));
        }
      } catch (_a2) {
        throw new Error(`Failed to parse client content "turns", type: '${typeof params.turns}'`);
      }
      return {
        clientContent: { turns: contents, turnComplete: params.turnComplete }
      };
    }
    return {
      clientContent: { turnComplete: params.turnComplete }
    };
  }
  tLiveClienttToolResponse(apiClient, params) {
    let functionResponses = [];
    if (params.functionResponses == null) {
      throw new Error("functionResponses is required.");
    }
    if (!Array.isArray(params.functionResponses)) {
      functionResponses = [params.functionResponses];
    } else {
      functionResponses = params.functionResponses;
    }
    if (functionResponses.length === 0) {
      throw new Error("functionResponses is required.");
    }
    for (const functionResponse of functionResponses) {
      if (typeof functionResponse !== "object" || functionResponse === null || !("name" in functionResponse) || !("response" in functionResponse)) {
        throw new Error(`Could not parse function response, type '${typeof functionResponse}'.`);
      }
      if (!apiClient.isVertexAI() && !("id" in functionResponse)) {
        throw new Error(FUNCTION_RESPONSE_REQUIRES_ID);
      }
    }
    const clientMessage = {
      toolResponse: { functionResponses }
    };
    return clientMessage;
  }
  /**
      Send a message over the established connection.
  
      @param params - Contains two **optional** properties, `turns` and
          `turnComplete`.
  
        - `turns` will be converted to a `Content[]`
        - `turnComplete: true` [default] indicates that you are done sending
          content and expect a response. If `turnComplete: false`, the server
          will wait for additional messages before starting generation.
  
      @experimental
  
      @remarks
      There are two ways to send messages to the live API:
      `sendClientContent` and `sendRealtimeInput`.
  
      `sendClientContent` messages are added to the model context **in order**.
      Having a conversation using `sendClientContent` messages is roughly
      equivalent to using the `Chat.sendMessageStream`, except that the state of
      the `chat` history is stored on the API server instead of locally.
  
      Because of `sendClientContent`'s order guarantee, the model cannot respons
      as quickly to `sendClientContent` messages as to `sendRealtimeInput`
      messages. This makes the biggest difference when sending objects that have
      significant preprocessing time (typically images).
  
      The `sendClientContent` message sends a `Content[]`
      which has more options than the `Blob` sent by `sendRealtimeInput`.
  
      So the main use-cases for `sendClientContent` over `sendRealtimeInput` are:
  
      - Sending anything that can't be represented as a `Blob` (text,
      `sendClientContent({turns="Hello?"}`)).
      - Managing turns when not using audio input and voice activity detection.
        (`sendClientContent({turnComplete:true})` or the short form
      `sendClientContent()`)
      - Prefilling a conversation context
        ```
        sendClientContent({
            turns: [
              Content({role:user, parts:...}),
              Content({role:user, parts:...}),
              ...
            ]
        })
        ```
      @experimental
     */
  sendClientContent(params) {
    params = Object.assign(Object.assign({}, defaultLiveSendClientContentParamerters), params);
    const clientMessage = this.tLiveClientContent(this.apiClient, params);
    this.conn.send(JSON.stringify(clientMessage));
  }
  /**
      Send a realtime message over the established connection.
  
      @param params - Contains one property, `media`.
  
        - `media` will be converted to a `Blob`
  
      @experimental
  
      @remarks
      Use `sendRealtimeInput` for realtime audio chunks and video frames (images).
  
      With `sendRealtimeInput` the api will respond to audio automatically
      based on voice activity detection (VAD).
  
      `sendRealtimeInput` is optimized for responsivness at the expense of
      deterministic ordering guarantees. Audio and video tokens are to the
      context when they become available.
  
      Note: The Call signature expects a `Blob` object, but only a subset
      of audio and image mimetypes are allowed.
     */
  sendRealtimeInput(params) {
    let clientMessage = {};
    if (this.apiClient.isVertexAI()) {
      clientMessage = {
        "realtimeInput": liveSendRealtimeInputParametersToVertex(params)
      };
    } else {
      clientMessage = {
        "realtimeInput": liveSendRealtimeInputParametersToMldev(params)
      };
    }
    this.conn.send(JSON.stringify(clientMessage));
  }
  /**
      Send a function response message over the established connection.
  
      @param params - Contains property `functionResponses`.
  
        - `functionResponses` will be converted to a `functionResponses[]`
  
      @remarks
      Use `sendFunctionResponse` to reply to `LiveServerToolCall` from the server.
  
      Use {@link types.LiveConnectConfig#tools} to configure the callable functions.
  
      @experimental
     */
  sendToolResponse(params) {
    if (params.functionResponses == null) {
      throw new Error("Tool response parameters are required.");
    }
    const clientMessage = this.tLiveClienttToolResponse(this.apiClient, params);
    this.conn.send(JSON.stringify(clientMessage));
  }
  /**
       Terminates the WebSocket connection.
  
       @experimental
  
       @example
       ```ts
       let model: string;
       if (GOOGLE_GENAI_USE_VERTEXAI) {
         model = 'gemini-2.0-flash-live-preview-04-09';
       } else {
         model = 'gemini-live-2.5-flash-preview';
       }
       const session = await ai.live.connect({
         model: model,
         config: {
           responseModalities: [Modality.AUDIO],
         }
       });
  
       session.close();
       ```
     */
  close() {
    this.conn.close();
  }
};
function headersToMap(headers) {
  const headerMap = {};
  headers.forEach((value, key) => {
    headerMap[key] = value;
  });
  return headerMap;
}
function mapToHeaders(map) {
  const headers = new Headers();
  for (const [key, value] of Object.entries(map)) {
    headers.append(key, value);
  }
  return headers;
}
var DEFAULT_MAX_REMOTE_CALLS = 10;
function shouldDisableAfc(config) {
  var _a2, _b, _c;
  if ((_a2 = config === null || config === void 0 ? void 0 : config.automaticFunctionCalling) === null || _a2 === void 0 ? void 0 : _a2.disable) {
    return true;
  }
  let callableToolsPresent = false;
  for (const tool of (_b = config === null || config === void 0 ? void 0 : config.tools) !== null && _b !== void 0 ? _b : []) {
    if (isCallableTool(tool)) {
      callableToolsPresent = true;
      break;
    }
  }
  if (!callableToolsPresent) {
    return true;
  }
  const maxCalls = (_c = config === null || config === void 0 ? void 0 : config.automaticFunctionCalling) === null || _c === void 0 ? void 0 : _c.maximumRemoteCalls;
  if (maxCalls && (maxCalls < 0 || !Number.isInteger(maxCalls)) || maxCalls == 0) {
    console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:", maxCalls);
    return true;
  }
  return false;
}
function isCallableTool(tool) {
  return "callTool" in tool && typeof tool.callTool === "function";
}
function hasCallableTools(params) {
  var _a2, _b, _c;
  return (_c = (_b = (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.tools) === null || _b === void 0 ? void 0 : _b.some((tool) => isCallableTool(tool))) !== null && _c !== void 0 ? _c : false;
}
function findAfcIncompatibleToolIndexes(params) {
  var _a2;
  const afcIncompatibleToolIndexes = [];
  if (!((_a2 = params === null || params === void 0 ? void 0 : params.config) === null || _a2 === void 0 ? void 0 : _a2.tools)) {
    return afcIncompatibleToolIndexes;
  }
  params.config.tools.forEach((tool, index) => {
    if (isCallableTool(tool)) {
      return;
    }
    const geminiTool = tool;
    if (geminiTool.functionDeclarations && geminiTool.functionDeclarations.length > 0) {
      afcIncompatibleToolIndexes.push(index);
    }
  });
  return afcIncompatibleToolIndexes;
}
function shouldAppendAfcHistory(config) {
  var _a2;
  return !((_a2 = config === null || config === void 0 ? void 0 : config.automaticFunctionCalling) === null || _a2 === void 0 ? void 0 : _a2.ignoreCallHistory);
}
var Models = class extends BaseModule {
  constructor(apiClient) {
    super();
    this.apiClient = apiClient;
    this.generateContent = async (params) => {
      var _a2, _b, _c, _d, _e;
      const transformedParams = await this.processParamsMaybeAddMcpUsage(params);
      this.maybeMoveToResponseJsonSchem(params);
      if (!hasCallableTools(params) || shouldDisableAfc(params.config)) {
        return await this.generateContentInternal(transformedParams);
      }
      const incompatibleToolIndexes = findAfcIncompatibleToolIndexes(params);
      if (incompatibleToolIndexes.length > 0) {
        const formattedIndexes = incompatibleToolIndexes.map((index) => `tools[${index}]`).join(", ");
        throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${formattedIndexes}.`);
      }
      let response;
      let functionResponseContent;
      const automaticFunctionCallingHistory = tContents(transformedParams.contents);
      const maxRemoteCalls = (_c = (_b = (_a2 = transformedParams.config) === null || _a2 === void 0 ? void 0 : _a2.automaticFunctionCalling) === null || _b === void 0 ? void 0 : _b.maximumRemoteCalls) !== null && _c !== void 0 ? _c : DEFAULT_MAX_REMOTE_CALLS;
      let remoteCalls = 0;
      while (remoteCalls < maxRemoteCalls) {
        response = await this.generateContentInternal(transformedParams);
        if (!response.functionCalls || response.functionCalls.length === 0) {
          break;
        }
        const responseContent = response.candidates[0].content;
        const functionResponseParts = [];
        for (const tool of (_e = (_d = params.config) === null || _d === void 0 ? void 0 : _d.tools) !== null && _e !== void 0 ? _e : []) {
          if (isCallableTool(tool)) {
            const callableTool = tool;
            const parts = await callableTool.callTool(response.functionCalls);
            functionResponseParts.push(...parts);
          }
        }
        remoteCalls++;
        functionResponseContent = {
          role: "user",
          parts: functionResponseParts
        };
        transformedParams.contents = tContents(transformedParams.contents);
        transformedParams.contents.push(responseContent);
        transformedParams.contents.push(functionResponseContent);
        if (shouldAppendAfcHistory(transformedParams.config)) {
          automaticFunctionCallingHistory.push(responseContent);
          automaticFunctionCallingHistory.push(functionResponseContent);
        }
      }
      if (shouldAppendAfcHistory(transformedParams.config)) {
        response.automaticFunctionCallingHistory = automaticFunctionCallingHistory;
      }
      return response;
    };
    this.generateContentStream = async (params) => {
      var _a2, _b, _c, _d, _e;
      this.maybeMoveToResponseJsonSchem(params);
      if (shouldDisableAfc(params.config)) {
        const transformedParams = await this.processParamsMaybeAddMcpUsage(params);
        return await this.generateContentStreamInternal(transformedParams);
      }
      const incompatibleToolIndexes = findAfcIncompatibleToolIndexes(params);
      if (incompatibleToolIndexes.length > 0) {
        const formattedIndexes = incompatibleToolIndexes.map((index) => `tools[${index}]`).join(", ");
        throw new Error(`Incompatible tools found at ${formattedIndexes}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`);
      }
      const streamFunctionCall = (_c = (_b = (_a2 = params === null || params === void 0 ? void 0 : params.config) === null || _a2 === void 0 ? void 0 : _a2.toolConfig) === null || _b === void 0 ? void 0 : _b.functionCallingConfig) === null || _c === void 0 ? void 0 : _c.streamFunctionCallArguments;
      const disableAfc = (_e = (_d = params === null || params === void 0 ? void 0 : params.config) === null || _d === void 0 ? void 0 : _d.automaticFunctionCalling) === null || _e === void 0 ? void 0 : _e.disable;
      if (streamFunctionCall && !disableAfc) {
        throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");
      }
      return await this.processAfcStream(params);
    };
    this.generateImages = async (params) => {
      return await this.generateImagesInternal(params).then((apiResponse) => {
        var _a2;
        let positivePromptSafetyAttributes;
        const generatedImages = [];
        if (apiResponse === null || apiResponse === void 0 ? void 0 : apiResponse.generatedImages) {
          for (const generatedImage of apiResponse.generatedImages) {
            if (generatedImage && (generatedImage === null || generatedImage === void 0 ? void 0 : generatedImage.safetyAttributes) && ((_a2 = generatedImage === null || generatedImage === void 0 ? void 0 : generatedImage.safetyAttributes) === null || _a2 === void 0 ? void 0 : _a2.contentType) === "Positive Prompt") {
              positivePromptSafetyAttributes = generatedImage === null || generatedImage === void 0 ? void 0 : generatedImage.safetyAttributes;
            } else {
              generatedImages.push(generatedImage);
            }
          }
        }
        let response;
        if (positivePromptSafetyAttributes) {
          response = {
            generatedImages,
            positivePromptSafetyAttributes,
            sdkHttpResponse: apiResponse.sdkHttpResponse
          };
        } else {
          response = {
            generatedImages,
            sdkHttpResponse: apiResponse.sdkHttpResponse
          };
        }
        return response;
      });
    };
    this.list = async (params) => {
      var _a2;
      const defaultConfig = {
        queryBase: true
      };
      const actualConfig = Object.assign(Object.assign({}, defaultConfig), params === null || params === void 0 ? void 0 : params.config);
      const actualParams = {
        config: actualConfig
      };
      if (this.apiClient.isVertexAI()) {
        if (!actualParams.config.queryBase) {
          if ((_a2 = actualParams.config) === null || _a2 === void 0 ? void 0 : _a2.filter) {
            throw new Error("Filtering tuned models list for Vertex AI is not currently supported");
          } else {
            actualParams.config.filter = "labels.tune-type:*";
          }
        }
      }
      return new Pager(PagedItem.PAGED_ITEM_MODELS, (x) => this.listInternal(x), await this.listInternal(actualParams), actualParams);
    };
    this.editImage = async (params) => {
      const paramsInternal = {
        model: params.model,
        prompt: params.prompt,
        referenceImages: [],
        config: params.config
      };
      if (params.referenceImages) {
        if (params.referenceImages) {
          paramsInternal.referenceImages = params.referenceImages.map((img) => img.toReferenceImageAPI());
        }
      }
      return await this.editImageInternal(paramsInternal);
    };
    this.upscaleImage = async (params) => {
      let apiConfig = {
        numberOfImages: 1,
        mode: "upscale"
      };
      if (params.config) {
        apiConfig = Object.assign(Object.assign({}, apiConfig), params.config);
      }
      const apiParams = {
        model: params.model,
        image: params.image,
        upscaleFactor: params.upscaleFactor,
        config: apiConfig
      };
      return await this.upscaleImageInternal(apiParams);
    };
    this.generateVideos = async (params) => {
      var _a2, _b, _c, _d, _e, _f;
      if ((params.prompt || params.image || params.video) && params.source) {
        throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");
      }
      if (!this.apiClient.isVertexAI()) {
        if (((_a2 = params.video) === null || _a2 === void 0 ? void 0 : _a2.uri) && ((_b = params.video) === null || _b === void 0 ? void 0 : _b.videoBytes)) {
          params.video = {
            uri: params.video.uri,
            mimeType: params.video.mimeType
          };
        } else if (((_d = (_c = params.source) === null || _c === void 0 ? void 0 : _c.video) === null || _d === void 0 ? void 0 : _d.uri) && ((_f = (_e = params.source) === null || _e === void 0 ? void 0 : _e.video) === null || _f === void 0 ? void 0 : _f.videoBytes)) {
          params.source.video = {
            uri: params.source.video.uri,
            mimeType: params.source.video.mimeType
          };
        }
      }
      return await this.generateVideosInternal(params);
    };
  }
  /**
   * This logic is needed for GenerateContentConfig only.
   * Previously we made GenerateContentConfig.responseSchema field to accept
   * unknown. Since v1.9.0, we switch to use backend JSON schema support.
   * To maintain backward compatibility, we move the data that was treated as
   * JSON schema from the responseSchema field to the responseJsonSchema field.
   */
  maybeMoveToResponseJsonSchem(params) {
    if (params.config && params.config.responseSchema) {
      if (!params.config.responseJsonSchema) {
        if (Object.keys(params.config.responseSchema).includes("$schema")) {
          params.config.responseJsonSchema = params.config.responseSchema;
          delete params.config.responseSchema;
        }
      }
    }
    return;
  }
  /**
   * Transforms the CallableTools in the parameters to be simply Tools, it
   * copies the params into a new object and replaces the tools, it does not
   * modify the original params. Also sets the MCP usage header if there are
   * MCP tools in the parameters.
   */
  async processParamsMaybeAddMcpUsage(params) {
    var _a2, _b, _c;
    const tools = (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.tools;
    if (!tools) {
      return params;
    }
    const transformedTools = await Promise.all(tools.map(async (tool) => {
      if (isCallableTool(tool)) {
        const callableTool = tool;
        return await callableTool.tool();
      }
      return tool;
    }));
    const newParams = {
      model: params.model,
      contents: params.contents,
      config: Object.assign(Object.assign({}, params.config), { tools: transformedTools })
    };
    newParams.config.tools = transformedTools;
    if (params.config && params.config.tools && hasMcpToolUsage(params.config.tools)) {
      const headers = (_c = (_b = params.config.httpOptions) === null || _b === void 0 ? void 0 : _b.headers) !== null && _c !== void 0 ? _c : {};
      let newHeaders = Object.assign({}, headers);
      if (Object.keys(newHeaders).length === 0) {
        newHeaders = this.apiClient.getDefaultHeaders();
      }
      setMcpUsageHeader(newHeaders);
      newParams.config.httpOptions = Object.assign(Object.assign({}, params.config.httpOptions), { headers: newHeaders });
    }
    return newParams;
  }
  async initAfcToolsMap(params) {
    var _a2, _b, _c;
    const afcTools = /* @__PURE__ */ new Map();
    for (const tool of (_b = (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.tools) !== null && _b !== void 0 ? _b : []) {
      if (isCallableTool(tool)) {
        const callableTool = tool;
        const toolDeclaration = await callableTool.tool();
        for (const declaration of (_c = toolDeclaration.functionDeclarations) !== null && _c !== void 0 ? _c : []) {
          if (!declaration.name) {
            throw new Error("Function declaration name is required.");
          }
          if (afcTools.has(declaration.name)) {
            throw new Error(`Duplicate tool declaration name: ${declaration.name}`);
          }
          afcTools.set(declaration.name, callableTool);
        }
      }
    }
    return afcTools;
  }
  async processAfcStream(params) {
    var _a2, _b, _c;
    const maxRemoteCalls = (_c = (_b = (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.automaticFunctionCalling) === null || _b === void 0 ? void 0 : _b.maximumRemoteCalls) !== null && _c !== void 0 ? _c : DEFAULT_MAX_REMOTE_CALLS;
    let wereFunctionsCalled = false;
    let remoteCallCount = 0;
    const afcToolsMap = await this.initAfcToolsMap(params);
    return function(models, afcTools, params2) {
      return __asyncGenerator(this, arguments, function* () {
        var _a3, e_1, _b2, _c2;
        var _d, _e;
        while (remoteCallCount < maxRemoteCalls) {
          if (wereFunctionsCalled) {
            remoteCallCount++;
            wereFunctionsCalled = false;
          }
          const transformedParams = yield __await(models.processParamsMaybeAddMcpUsage(params2));
          const response = yield __await(models.generateContentStreamInternal(transformedParams));
          const functionResponses = [];
          const responseContents = [];
          try {
            for (var _f = true, response_1 = (e_1 = void 0, __asyncValues(response)), response_1_1; response_1_1 = yield __await(response_1.next()), _a3 = response_1_1.done, !_a3; _f = true) {
              _c2 = response_1_1.value;
              _f = false;
              const chunk = _c2;
              yield yield __await(chunk);
              if (chunk.candidates && ((_d = chunk.candidates[0]) === null || _d === void 0 ? void 0 : _d.content)) {
                responseContents.push(chunk.candidates[0].content);
                for (const part of (_e = chunk.candidates[0].content.parts) !== null && _e !== void 0 ? _e : []) {
                  if (remoteCallCount < maxRemoteCalls && part.functionCall) {
                    if (!part.functionCall.name) {
                      throw new Error("Function call name was not returned by the model.");
                    }
                    if (!afcTools.has(part.functionCall.name)) {
                      throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${afcTools.keys()}, mising tool: ${part.functionCall.name}`);
                    } else {
                      const responseParts = yield __await(afcTools.get(part.functionCall.name).callTool([part.functionCall]));
                      functionResponses.push(...responseParts);
                    }
                  }
                }
              }
            }
          } catch (e_1_1) {
            e_1 = { error: e_1_1 };
          } finally {
            try {
              if (!_f && !_a3 && (_b2 = response_1.return))
                yield __await(_b2.call(response_1));
            } finally {
              if (e_1)
                throw e_1.error;
            }
          }
          if (functionResponses.length > 0) {
            wereFunctionsCalled = true;
            const typedResponseChunk = new GenerateContentResponse();
            typedResponseChunk.candidates = [
              {
                content: {
                  role: "user",
                  parts: functionResponses
                }
              }
            ];
            yield yield __await(typedResponseChunk);
            const newContents = [];
            newContents.push(...responseContents);
            newContents.push({
              role: "user",
              parts: functionResponses
            });
            const updatedContents = tContents(params2.contents).concat(newContents);
            params2.contents = updatedContents;
          } else {
            break;
          }
        }
      });
    }(this, afcToolsMap, params);
  }
  async generateContentInternal(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = generateContentParametersToVertex(this.apiClient, params);
      path2 = formatMap("{model}:generateContent", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = generateContentResponseFromVertex(apiResponse);
        const typedResp = new GenerateContentResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = generateContentParametersToMldev(this.apiClient, params);
      path2 = formatMap("{model}:generateContent", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = generateContentResponseFromMldev(apiResponse);
        const typedResp = new GenerateContentResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  async generateContentStreamInternal(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = generateContentParametersToVertex(this.apiClient, params);
      path2 = formatMap("{model}:streamGenerateContent?alt=sse", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      const apiClient = this.apiClient;
      response = apiClient.requestStream({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      });
      return response.then(function(apiResponse) {
        return __asyncGenerator(this, arguments, function* () {
          var _a3, e_2, _b2, _c2;
          try {
            for (var _d2 = true, apiResponse_1 = __asyncValues(apiResponse), apiResponse_1_1; apiResponse_1_1 = yield __await(apiResponse_1.next()), _a3 = apiResponse_1_1.done, !_a3; _d2 = true) {
              _c2 = apiResponse_1_1.value;
              _d2 = false;
              const chunk = _c2;
              const resp = generateContentResponseFromVertex(yield __await(chunk.json()));
              resp["sdkHttpResponse"] = {
                headers: chunk.headers
              };
              const typedResp = new GenerateContentResponse();
              Object.assign(typedResp, resp);
              yield yield __await(typedResp);
            }
          } catch (e_2_1) {
            e_2 = { error: e_2_1 };
          } finally {
            try {
              if (!_d2 && !_a3 && (_b2 = apiResponse_1.return))
                yield __await(_b2.call(apiResponse_1));
            } finally {
              if (e_2)
                throw e_2.error;
            }
          }
        });
      });
    } else {
      const body = generateContentParametersToMldev(this.apiClient, params);
      path2 = formatMap("{model}:streamGenerateContent?alt=sse", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      const apiClient = this.apiClient;
      response = apiClient.requestStream({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      });
      return response.then(function(apiResponse) {
        return __asyncGenerator(this, arguments, function* () {
          var _a3, e_3, _b2, _c2;
          try {
            for (var _d2 = true, apiResponse_2 = __asyncValues(apiResponse), apiResponse_2_1; apiResponse_2_1 = yield __await(apiResponse_2.next()), _a3 = apiResponse_2_1.done, !_a3; _d2 = true) {
              _c2 = apiResponse_2_1.value;
              _d2 = false;
              const chunk = _c2;
              const resp = generateContentResponseFromMldev(yield __await(chunk.json()));
              resp["sdkHttpResponse"] = {
                headers: chunk.headers
              };
              const typedResp = new GenerateContentResponse();
              Object.assign(typedResp, resp);
              yield yield __await(typedResp);
            }
          } catch (e_3_1) {
            e_3 = { error: e_3_1 };
          } finally {
            try {
              if (!_d2 && !_a3 && (_b2 = apiResponse_2.return))
                yield __await(_b2.call(apiResponse_2));
            } finally {
              if (e_3)
                throw e_3.error;
            }
          }
        });
      });
    }
  }
  /**
   * Calculates embeddings for the given contents. Only text is supported.
   *
   * @param params - The parameters for embedding contents.
   * @return The response from the API.
   *
   * @example
   * ```ts
   * const response = await ai.models.embedContent({
   *  model: 'text-embedding-004',
   *  contents: [
   *    'What is your name?',
   *    'What is your favorite color?',
   *  ],
   *  config: {
   *    outputDimensionality: 64,
   *  },
   * });
   * console.log(response);
   * ```
   */
  async embedContent(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = embedContentParametersToVertex(this.apiClient, params);
      path2 = formatMap("{model}:predict", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = embedContentResponseFromVertex(apiResponse);
        const typedResp = new EmbedContentResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = embedContentParametersToMldev(this.apiClient, params);
      path2 = formatMap("{model}:batchEmbedContents", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = embedContentResponseFromMldev(apiResponse);
        const typedResp = new EmbedContentResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  /**
   * Private method for generating images.
   */
  async generateImagesInternal(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = generateImagesParametersToVertex(this.apiClient, params);
      path2 = formatMap("{model}:predict", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = generateImagesResponseFromVertex(apiResponse);
        const typedResp = new GenerateImagesResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = generateImagesParametersToMldev(this.apiClient, params);
      path2 = formatMap("{model}:predict", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = generateImagesResponseFromMldev(apiResponse);
        const typedResp = new GenerateImagesResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  /**
   * Private method for editing an image.
   */
  async editImageInternal(params) {
    var _a2, _b;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = editImageParametersInternalToVertex(this.apiClient, params);
      path2 = formatMap("{model}:predict", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = editImageResponseFromVertex(apiResponse);
        const typedResp = new EditImageResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      throw new Error("This method is only supported by the Vertex AI.");
    }
  }
  /**
   * Private method for upscaling an image.
   */
  async upscaleImageInternal(params) {
    var _a2, _b;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = upscaleImageAPIParametersInternalToVertex(this.apiClient, params);
      path2 = formatMap("{model}:predict", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = upscaleImageResponseFromVertex(apiResponse);
        const typedResp = new UpscaleImageResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      throw new Error("This method is only supported by the Vertex AI.");
    }
  }
  /**
   * Recontextualizes an image.
   *
   * There are two types of recontextualization currently supported:
   * 1) Imagen Product Recontext - Generate images of products in new scenes
   *    and contexts.
   * 2) Virtual Try-On: Generate images of persons modeling fashion products.
   *
   * @param params - The parameters for recontextualizing an image.
   * @return The response from the API.
   *
   * @example
   * ```ts
   * const response1 = await ai.models.recontextImage({
   *  model: 'imagen-product-recontext-preview-06-30',
   *  source: {
   *    prompt: 'In a modern kitchen setting.',
   *    productImages: [productImage],
   *  },
   *  config: {
   *    numberOfImages: 1,
   *  },
   * });
   * console.log(response1?.generatedImages?.[0]?.image?.imageBytes);
   *
   * const response2 = await ai.models.recontextImage({
   *  model: 'virtual-try-on-preview-08-04',
   *  source: {
   *    personImage: personImage,
   *    productImages: [productImage],
   *  },
   *  config: {
   *    numberOfImages: 1,
   *  },
   * });
   * console.log(response2?.generatedImages?.[0]?.image?.imageBytes);
   * ```
   */
  async recontextImage(params) {
    var _a2, _b;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = recontextImageParametersToVertex(this.apiClient, params);
      path2 = formatMap("{model}:predict", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = recontextImageResponseFromVertex(apiResponse);
        const typedResp = new RecontextImageResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      throw new Error("This method is only supported by the Vertex AI.");
    }
  }
  /**
   * Segments an image, creating a mask of a specified area.
   *
   * @param params - The parameters for segmenting an image.
   * @return The response from the API.
   *
   * @example
   * ```ts
   * const response = await ai.models.segmentImage({
   *  model: 'image-segmentation-001',
   *  source: {
   *    image: image,
   *  },
   *  config: {
   *    mode: 'foreground',
   *  },
   * });
   * console.log(response?.generatedMasks?.[0]?.mask?.imageBytes);
   * ```
   */
  async segmentImage(params) {
    var _a2, _b;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = segmentImageParametersToVertex(this.apiClient, params);
      path2 = formatMap("{model}:predict", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = segmentImageResponseFromVertex(apiResponse);
        const typedResp = new SegmentImageResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      throw new Error("This method is only supported by the Vertex AI.");
    }
  }
  /**
   * Fetches information about a model by name.
   *
   * @example
   * ```ts
   * const modelInfo = await ai.models.get({model: 'gemini-2.0-flash'});
   * ```
   */
  async get(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = getModelParametersToVertex(this.apiClient, params);
      path2 = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = modelFromVertex(apiResponse);
        return resp;
      });
    } else {
      const body = getModelParametersToMldev(this.apiClient, params);
      path2 = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = modelFromMldev(apiResponse);
        return resp;
      });
    }
  }
  async listInternal(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = listModelsParametersToVertex(this.apiClient, params);
      path2 = formatMap("{models_url}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = listModelsResponseFromVertex(apiResponse);
        const typedResp = new ListModelsResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = listModelsParametersToMldev(this.apiClient, params);
      path2 = formatMap("{models_url}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = listModelsResponseFromMldev(apiResponse);
        const typedResp = new ListModelsResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  /**
   * Updates a tuned model by its name.
   *
   * @param params - The parameters for updating the model.
   * @return The response from the API.
   *
   * @example
   * ```ts
   * const response = await ai.models.update({
   *   model: 'tuned-model-name',
   *   config: {
   *     displayName: 'New display name',
   *     description: 'New description',
   *   },
   * });
   * ```
   */
  async update(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = updateModelParametersToVertex(this.apiClient, params);
      path2 = formatMap("{model}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "PATCH",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = modelFromVertex(apiResponse);
        return resp;
      });
    } else {
      const body = updateModelParametersToMldev(this.apiClient, params);
      path2 = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "PATCH",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = modelFromMldev(apiResponse);
        return resp;
      });
    }
  }
  /**
   * Deletes a tuned model by its name.
   *
   * @param params - The parameters for deleting the model.
   * @return The response from the API.
   *
   * @example
   * ```ts
   * const response = await ai.models.delete({model: 'tuned-model-name'});
   * ```
   */
  async delete(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = deleteModelParametersToVertex(this.apiClient, params);
      path2 = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "DELETE",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = deleteModelResponseFromVertex(apiResponse);
        const typedResp = new DeleteModelResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = deleteModelParametersToMldev(this.apiClient, params);
      path2 = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "DELETE",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = deleteModelResponseFromMldev(apiResponse);
        const typedResp = new DeleteModelResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  /**
   * Counts the number of tokens in the given contents. Multimodal input is
   * supported for Gemini models.
   *
   * @param params - The parameters for counting tokens.
   * @return The response from the API.
   *
   * @example
   * ```ts
   * const response = await ai.models.countTokens({
   *  model: 'gemini-2.0-flash',
   *  contents: 'The quick brown fox jumps over the lazy dog.'
   * });
   * console.log(response);
   * ```
   */
  async countTokens(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = countTokensParametersToVertex(this.apiClient, params);
      path2 = formatMap("{model}:countTokens", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = countTokensResponseFromVertex(apiResponse);
        const typedResp = new CountTokensResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = countTokensParametersToMldev(this.apiClient, params);
      path2 = formatMap("{model}:countTokens", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = countTokensResponseFromMldev(apiResponse);
        const typedResp = new CountTokensResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  /**
   * Given a list of contents, returns a corresponding TokensInfo containing
   * the list of tokens and list of token ids.
   *
   * This method is not supported by the Gemini Developer API.
   *
   * @param params - The parameters for computing tokens.
   * @return The response from the API.
   *
   * @example
   * ```ts
   * const response = await ai.models.computeTokens({
   *  model: 'gemini-2.0-flash',
   *  contents: 'What is your name?'
   * });
   * console.log(response);
   * ```
   */
  async computeTokens(params) {
    var _a2, _b;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = computeTokensParametersToVertex(this.apiClient, params);
      path2 = formatMap("{model}:computeTokens", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = computeTokensResponseFromVertex(apiResponse);
        const typedResp = new ComputeTokensResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      throw new Error("This method is only supported by the Vertex AI.");
    }
  }
  /**
   * Private method for generating videos.
   */
  async generateVideosInternal(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = generateVideosParametersToVertex(this.apiClient, params);
      path2 = formatMap("{model}:predictLongRunning", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = generateVideosOperationFromVertex(apiResponse);
        const typedResp = new GenerateVideosOperation();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = generateVideosParametersToMldev(this.apiClient, params);
      path2 = formatMap("{model}:predictLongRunning", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = generateVideosOperationFromMldev(apiResponse);
        const typedResp = new GenerateVideosOperation();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
};
var Operations = class extends BaseModule {
  constructor(apiClient) {
    super();
    this.apiClient = apiClient;
  }
  /**
   * Gets the status of a long-running operation.
   *
   * @param parameters The parameters for the get operation request.
   * @return The updated Operation object, with the latest status or result.
   */
  async getVideosOperation(parameters) {
    const operation = parameters.operation;
    const config = parameters.config;
    if (operation.name === void 0 || operation.name === "") {
      throw new Error("Operation name is required.");
    }
    if (this.apiClient.isVertexAI()) {
      const resourceName2 = operation.name.split("/operations/")[0];
      let httpOptions = void 0;
      if (config && "httpOptions" in config) {
        httpOptions = config.httpOptions;
      }
      const rawOperation = await this.fetchPredictVideosOperationInternal({
        operationName: operation.name,
        resourceName: resourceName2,
        config: { httpOptions }
      });
      return operation._fromAPIResponse({
        apiResponse: rawOperation,
        _isVertexAI: true
      });
    } else {
      const rawOperation = await this.getVideosOperationInternal({
        operationName: operation.name,
        config
      });
      return operation._fromAPIResponse({
        apiResponse: rawOperation,
        _isVertexAI: false
      });
    }
  }
  /**
   * Gets the status of a long-running operation.
   *
   * @param parameters The parameters for the get operation request.
   * @return The updated Operation object, with the latest status or result.
   */
  async get(parameters) {
    const operation = parameters.operation;
    const config = parameters.config;
    if (operation.name === void 0 || operation.name === "") {
      throw new Error("Operation name is required.");
    }
    if (this.apiClient.isVertexAI()) {
      const resourceName2 = operation.name.split("/operations/")[0];
      let httpOptions = void 0;
      if (config && "httpOptions" in config) {
        httpOptions = config.httpOptions;
      }
      const rawOperation = await this.fetchPredictVideosOperationInternal({
        operationName: operation.name,
        resourceName: resourceName2,
        config: { httpOptions }
      });
      return operation._fromAPIResponse({
        apiResponse: rawOperation,
        _isVertexAI: true
      });
    } else {
      const rawOperation = await this.getVideosOperationInternal({
        operationName: operation.name,
        config
      });
      return operation._fromAPIResponse({
        apiResponse: rawOperation,
        _isVertexAI: false
      });
    }
  }
  async getVideosOperationInternal(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = getOperationParametersToVertex(params);
      path2 = formatMap("{operationName}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response;
    } else {
      const body = getOperationParametersToMldev(params);
      path2 = formatMap("{operationName}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response;
    }
  }
  async fetchPredictVideosOperationInternal(params) {
    var _a2, _b;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = fetchPredictOperationParametersToVertex(params);
      path2 = formatMap("{resourceName}:fetchPredictOperation", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response;
    } else {
      throw new Error("This method is only supported by the Vertex AI.");
    }
  }
};
function blobToMldev(fromObject) {
  const toObject = {};
  const fromData = getValueByPath(fromObject, ["data"]);
  if (fromData != null) {
    setValueByPath(toObject, ["data"], fromData);
  }
  if (getValueByPath(fromObject, ["displayName"]) !== void 0) {
    throw new Error("displayName parameter is not supported in Gemini API.");
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function contentToMldev(fromObject) {
  const toObject = {};
  const fromParts = getValueByPath(fromObject, ["parts"]);
  if (fromParts != null) {
    let transformedList = fromParts;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return partToMldev(item);
      });
    }
    setValueByPath(toObject, ["parts"], transformedList);
  }
  const fromRole = getValueByPath(fromObject, ["role"]);
  if (fromRole != null) {
    setValueByPath(toObject, ["role"], fromRole);
  }
  return toObject;
}
function createAuthTokenConfigToMldev(apiClient, fromObject, parentObject) {
  const toObject = {};
  const fromExpireTime = getValueByPath(fromObject, ["expireTime"]);
  if (parentObject !== void 0 && fromExpireTime != null) {
    setValueByPath(parentObject, ["expireTime"], fromExpireTime);
  }
  const fromNewSessionExpireTime = getValueByPath(fromObject, [
    "newSessionExpireTime"
  ]);
  if (parentObject !== void 0 && fromNewSessionExpireTime != null) {
    setValueByPath(parentObject, ["newSessionExpireTime"], fromNewSessionExpireTime);
  }
  const fromUses = getValueByPath(fromObject, ["uses"]);
  if (parentObject !== void 0 && fromUses != null) {
    setValueByPath(parentObject, ["uses"], fromUses);
  }
  const fromLiveConnectConstraints = getValueByPath(fromObject, [
    "liveConnectConstraints"
  ]);
  if (parentObject !== void 0 && fromLiveConnectConstraints != null) {
    setValueByPath(parentObject, ["bidiGenerateContentSetup"], liveConnectConstraintsToMldev(apiClient, fromLiveConnectConstraints));
  }
  const fromLockAdditionalFields = getValueByPath(fromObject, [
    "lockAdditionalFields"
  ]);
  if (parentObject !== void 0 && fromLockAdditionalFields != null) {
    setValueByPath(parentObject, ["fieldMask"], fromLockAdditionalFields);
  }
  return toObject;
}
function createAuthTokenParametersToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], createAuthTokenConfigToMldev(apiClient, fromConfig, toObject));
  }
  return toObject;
}
function fileDataToMldev(fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["displayName"]) !== void 0) {
    throw new Error("displayName parameter is not supported in Gemini API.");
  }
  const fromFileUri = getValueByPath(fromObject, ["fileUri"]);
  if (fromFileUri != null) {
    setValueByPath(toObject, ["fileUri"], fromFileUri);
  }
  const fromMimeType = getValueByPath(fromObject, ["mimeType"]);
  if (fromMimeType != null) {
    setValueByPath(toObject, ["mimeType"], fromMimeType);
  }
  return toObject;
}
function functionCallToMldev(fromObject) {
  const toObject = {};
  const fromId = getValueByPath(fromObject, ["id"]);
  if (fromId != null) {
    setValueByPath(toObject, ["id"], fromId);
  }
  const fromArgs = getValueByPath(fromObject, ["args"]);
  if (fromArgs != null) {
    setValueByPath(toObject, ["args"], fromArgs);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  if (getValueByPath(fromObject, ["partialArgs"]) !== void 0) {
    throw new Error("partialArgs parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["willContinue"]) !== void 0) {
    throw new Error("willContinue parameter is not supported in Gemini API.");
  }
  return toObject;
}
function googleMapsToMldev(fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["authConfig"]) !== void 0) {
    throw new Error("authConfig parameter is not supported in Gemini API.");
  }
  const fromEnableWidget = getValueByPath(fromObject, ["enableWidget"]);
  if (fromEnableWidget != null) {
    setValueByPath(toObject, ["enableWidget"], fromEnableWidget);
  }
  return toObject;
}
function googleSearchToMldev(fromObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["excludeDomains"]) !== void 0) {
    throw new Error("excludeDomains parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["blockingConfidence"]) !== void 0) {
    throw new Error("blockingConfidence parameter is not supported in Gemini API.");
  }
  const fromTimeRangeFilter = getValueByPath(fromObject, [
    "timeRangeFilter"
  ]);
  if (fromTimeRangeFilter != null) {
    setValueByPath(toObject, ["timeRangeFilter"], fromTimeRangeFilter);
  }
  return toObject;
}
function liveConnectConfigToMldev(fromObject, parentObject) {
  const toObject = {};
  const fromGenerationConfig = getValueByPath(fromObject, [
    "generationConfig"
  ]);
  if (parentObject !== void 0 && fromGenerationConfig != null) {
    setValueByPath(parentObject, ["setup", "generationConfig"], fromGenerationConfig);
  }
  const fromResponseModalities = getValueByPath(fromObject, [
    "responseModalities"
  ]);
  if (parentObject !== void 0 && fromResponseModalities != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "responseModalities"], fromResponseModalities);
  }
  const fromTemperature = getValueByPath(fromObject, ["temperature"]);
  if (parentObject !== void 0 && fromTemperature != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "temperature"], fromTemperature);
  }
  const fromTopP = getValueByPath(fromObject, ["topP"]);
  if (parentObject !== void 0 && fromTopP != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "topP"], fromTopP);
  }
  const fromTopK = getValueByPath(fromObject, ["topK"]);
  if (parentObject !== void 0 && fromTopK != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "topK"], fromTopK);
  }
  const fromMaxOutputTokens = getValueByPath(fromObject, [
    "maxOutputTokens"
  ]);
  if (parentObject !== void 0 && fromMaxOutputTokens != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "maxOutputTokens"], fromMaxOutputTokens);
  }
  const fromMediaResolution = getValueByPath(fromObject, [
    "mediaResolution"
  ]);
  if (parentObject !== void 0 && fromMediaResolution != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "mediaResolution"], fromMediaResolution);
  }
  const fromSeed = getValueByPath(fromObject, ["seed"]);
  if (parentObject !== void 0 && fromSeed != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "seed"], fromSeed);
  }
  const fromSpeechConfig = getValueByPath(fromObject, ["speechConfig"]);
  if (parentObject !== void 0 && fromSpeechConfig != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "speechConfig"], tLiveSpeechConfig(fromSpeechConfig));
  }
  const fromThinkingConfig = getValueByPath(fromObject, [
    "thinkingConfig"
  ]);
  if (parentObject !== void 0 && fromThinkingConfig != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "thinkingConfig"], fromThinkingConfig);
  }
  const fromEnableAffectiveDialog = getValueByPath(fromObject, [
    "enableAffectiveDialog"
  ]);
  if (parentObject !== void 0 && fromEnableAffectiveDialog != null) {
    setValueByPath(parentObject, ["setup", "generationConfig", "enableAffectiveDialog"], fromEnableAffectiveDialog);
  }
  const fromSystemInstruction = getValueByPath(fromObject, [
    "systemInstruction"
  ]);
  if (parentObject !== void 0 && fromSystemInstruction != null) {
    setValueByPath(parentObject, ["setup", "systemInstruction"], contentToMldev(tContent(fromSystemInstruction)));
  }
  const fromTools = getValueByPath(fromObject, ["tools"]);
  if (parentObject !== void 0 && fromTools != null) {
    let transformedList = tTools(fromTools);
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return toolToMldev(tTool(item));
      });
    }
    setValueByPath(parentObject, ["setup", "tools"], transformedList);
  }
  const fromSessionResumption = getValueByPath(fromObject, [
    "sessionResumption"
  ]);
  if (parentObject !== void 0 && fromSessionResumption != null) {
    setValueByPath(parentObject, ["setup", "sessionResumption"], sessionResumptionConfigToMldev(fromSessionResumption));
  }
  const fromInputAudioTranscription = getValueByPath(fromObject, [
    "inputAudioTranscription"
  ]);
  if (parentObject !== void 0 && fromInputAudioTranscription != null) {
    setValueByPath(parentObject, ["setup", "inputAudioTranscription"], fromInputAudioTranscription);
  }
  const fromOutputAudioTranscription = getValueByPath(fromObject, [
    "outputAudioTranscription"
  ]);
  if (parentObject !== void 0 && fromOutputAudioTranscription != null) {
    setValueByPath(parentObject, ["setup", "outputAudioTranscription"], fromOutputAudioTranscription);
  }
  const fromRealtimeInputConfig = getValueByPath(fromObject, [
    "realtimeInputConfig"
  ]);
  if (parentObject !== void 0 && fromRealtimeInputConfig != null) {
    setValueByPath(parentObject, ["setup", "realtimeInputConfig"], fromRealtimeInputConfig);
  }
  const fromContextWindowCompression = getValueByPath(fromObject, [
    "contextWindowCompression"
  ]);
  if (parentObject !== void 0 && fromContextWindowCompression != null) {
    setValueByPath(parentObject, ["setup", "contextWindowCompression"], fromContextWindowCompression);
  }
  const fromProactivity = getValueByPath(fromObject, ["proactivity"]);
  if (parentObject !== void 0 && fromProactivity != null) {
    setValueByPath(parentObject, ["setup", "proactivity"], fromProactivity);
  }
  if (getValueByPath(fromObject, ["explicitVadSignal"]) !== void 0) {
    throw new Error("explicitVadSignal parameter is not supported in Gemini API.");
  }
  return toObject;
}
function liveConnectConstraintsToMldev(apiClient, fromObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["model"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["setup", "model"], tModel(apiClient, fromModel));
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    setValueByPath(toObject, ["config"], liveConnectConfigToMldev(fromConfig, toObject));
  }
  return toObject;
}
function partToMldev(fromObject) {
  const toObject = {};
  const fromMediaResolution = getValueByPath(fromObject, [
    "mediaResolution"
  ]);
  if (fromMediaResolution != null) {
    setValueByPath(toObject, ["mediaResolution"], fromMediaResolution);
  }
  const fromCodeExecutionResult = getValueByPath(fromObject, [
    "codeExecutionResult"
  ]);
  if (fromCodeExecutionResult != null) {
    setValueByPath(toObject, ["codeExecutionResult"], fromCodeExecutionResult);
  }
  const fromExecutableCode = getValueByPath(fromObject, [
    "executableCode"
  ]);
  if (fromExecutableCode != null) {
    setValueByPath(toObject, ["executableCode"], fromExecutableCode);
  }
  const fromFileData = getValueByPath(fromObject, ["fileData"]);
  if (fromFileData != null) {
    setValueByPath(toObject, ["fileData"], fileDataToMldev(fromFileData));
  }
  const fromFunctionCall = getValueByPath(fromObject, ["functionCall"]);
  if (fromFunctionCall != null) {
    setValueByPath(toObject, ["functionCall"], functionCallToMldev(fromFunctionCall));
  }
  const fromFunctionResponse = getValueByPath(fromObject, [
    "functionResponse"
  ]);
  if (fromFunctionResponse != null) {
    setValueByPath(toObject, ["functionResponse"], fromFunctionResponse);
  }
  const fromInlineData = getValueByPath(fromObject, ["inlineData"]);
  if (fromInlineData != null) {
    setValueByPath(toObject, ["inlineData"], blobToMldev(fromInlineData));
  }
  const fromText = getValueByPath(fromObject, ["text"]);
  if (fromText != null) {
    setValueByPath(toObject, ["text"], fromText);
  }
  const fromThought = getValueByPath(fromObject, ["thought"]);
  if (fromThought != null) {
    setValueByPath(toObject, ["thought"], fromThought);
  }
  const fromThoughtSignature = getValueByPath(fromObject, [
    "thoughtSignature"
  ]);
  if (fromThoughtSignature != null) {
    setValueByPath(toObject, ["thoughtSignature"], fromThoughtSignature);
  }
  const fromVideoMetadata = getValueByPath(fromObject, [
    "videoMetadata"
  ]);
  if (fromVideoMetadata != null) {
    setValueByPath(toObject, ["videoMetadata"], fromVideoMetadata);
  }
  return toObject;
}
function sessionResumptionConfigToMldev(fromObject) {
  const toObject = {};
  const fromHandle = getValueByPath(fromObject, ["handle"]);
  if (fromHandle != null) {
    setValueByPath(toObject, ["handle"], fromHandle);
  }
  if (getValueByPath(fromObject, ["transparent"]) !== void 0) {
    throw new Error("transparent parameter is not supported in Gemini API.");
  }
  return toObject;
}
function toolToMldev(fromObject) {
  const toObject = {};
  const fromFunctionDeclarations = getValueByPath(fromObject, [
    "functionDeclarations"
  ]);
  if (fromFunctionDeclarations != null) {
    let transformedList = fromFunctionDeclarations;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["functionDeclarations"], transformedList);
  }
  if (getValueByPath(fromObject, ["retrieval"]) !== void 0) {
    throw new Error("retrieval parameter is not supported in Gemini API.");
  }
  const fromGoogleSearchRetrieval = getValueByPath(fromObject, [
    "googleSearchRetrieval"
  ]);
  if (fromGoogleSearchRetrieval != null) {
    setValueByPath(toObject, ["googleSearchRetrieval"], fromGoogleSearchRetrieval);
  }
  const fromComputerUse = getValueByPath(fromObject, ["computerUse"]);
  if (fromComputerUse != null) {
    setValueByPath(toObject, ["computerUse"], fromComputerUse);
  }
  const fromFileSearch = getValueByPath(fromObject, ["fileSearch"]);
  if (fromFileSearch != null) {
    setValueByPath(toObject, ["fileSearch"], fromFileSearch);
  }
  const fromCodeExecution = getValueByPath(fromObject, [
    "codeExecution"
  ]);
  if (fromCodeExecution != null) {
    setValueByPath(toObject, ["codeExecution"], fromCodeExecution);
  }
  if (getValueByPath(fromObject, ["enterpriseWebSearch"]) !== void 0) {
    throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");
  }
  const fromGoogleMaps = getValueByPath(fromObject, ["googleMaps"]);
  if (fromGoogleMaps != null) {
    setValueByPath(toObject, ["googleMaps"], googleMapsToMldev(fromGoogleMaps));
  }
  const fromGoogleSearch = getValueByPath(fromObject, ["googleSearch"]);
  if (fromGoogleSearch != null) {
    setValueByPath(toObject, ["googleSearch"], googleSearchToMldev(fromGoogleSearch));
  }
  const fromUrlContext = getValueByPath(fromObject, ["urlContext"]);
  if (fromUrlContext != null) {
    setValueByPath(toObject, ["urlContext"], fromUrlContext);
  }
  return toObject;
}
function getFieldMasks(setup) {
  const fields = [];
  for (const key in setup) {
    if (Object.prototype.hasOwnProperty.call(setup, key)) {
      const value = setup[key];
      if (typeof value === "object" && value != null && Object.keys(value).length > 0) {
        const field = Object.keys(value).map((kk) => `${key}.${kk}`);
        fields.push(...field);
      } else {
        fields.push(key);
      }
    }
  }
  return fields.join(",");
}
function convertBidiSetupToTokenSetup(requestDict, config) {
  let setupForMaskGeneration = null;
  const bidiGenerateContentSetupValue = requestDict["bidiGenerateContentSetup"];
  if (typeof bidiGenerateContentSetupValue === "object" && bidiGenerateContentSetupValue !== null && "setup" in bidiGenerateContentSetupValue) {
    const innerSetup = bidiGenerateContentSetupValue.setup;
    if (typeof innerSetup === "object" && innerSetup !== null) {
      requestDict["bidiGenerateContentSetup"] = innerSetup;
      setupForMaskGeneration = innerSetup;
    } else {
      delete requestDict["bidiGenerateContentSetup"];
    }
  } else if (bidiGenerateContentSetupValue !== void 0) {
    delete requestDict["bidiGenerateContentSetup"];
  }
  const preExistingFieldMask = requestDict["fieldMask"];
  if (setupForMaskGeneration) {
    const generatedMaskFromBidi = getFieldMasks(setupForMaskGeneration);
    if (Array.isArray(config === null || config === void 0 ? void 0 : config.lockAdditionalFields) && (config === null || config === void 0 ? void 0 : config.lockAdditionalFields.length) === 0) {
      if (generatedMaskFromBidi) {
        requestDict["fieldMask"] = generatedMaskFromBidi;
      } else {
        delete requestDict["fieldMask"];
      }
    } else if ((config === null || config === void 0 ? void 0 : config.lockAdditionalFields) && config.lockAdditionalFields.length > 0 && preExistingFieldMask !== null && Array.isArray(preExistingFieldMask) && preExistingFieldMask.length > 0) {
      const generationConfigFields = [
        "temperature",
        "topK",
        "topP",
        "maxOutputTokens",
        "responseModalities",
        "seed",
        "speechConfig"
      ];
      let mappedFieldsFromPreExisting = [];
      if (preExistingFieldMask.length > 0) {
        mappedFieldsFromPreExisting = preExistingFieldMask.map((field) => {
          if (generationConfigFields.includes(field)) {
            return `generationConfig.${field}`;
          }
          return field;
        });
      }
      const finalMaskParts = [];
      if (generatedMaskFromBidi) {
        finalMaskParts.push(generatedMaskFromBidi);
      }
      if (mappedFieldsFromPreExisting.length > 0) {
        finalMaskParts.push(...mappedFieldsFromPreExisting);
      }
      if (finalMaskParts.length > 0) {
        requestDict["fieldMask"] = finalMaskParts.join(",");
      } else {
        delete requestDict["fieldMask"];
      }
    } else {
      delete requestDict["fieldMask"];
    }
  } else {
    if (preExistingFieldMask !== null && Array.isArray(preExistingFieldMask) && preExistingFieldMask.length > 0) {
      requestDict["fieldMask"] = preExistingFieldMask.join(",");
    } else {
      delete requestDict["fieldMask"];
    }
  }
  return requestDict;
}
var Tokens = class extends BaseModule {
  constructor(apiClient) {
    super();
    this.apiClient = apiClient;
  }
  /**
   * Creates an ephemeral auth token resource.
   *
   * @experimental
   *
   * @remarks
   * Ephemeral auth tokens is only supported in the Gemini Developer API.
   * It can be used for the session connection to the Live constrained API.
   * Support in v1alpha only.
   *
   * @param params - The parameters for the create request.
   * @return The created auth token.
   *
   * @example
   * ```ts
   * const ai = new GoogleGenAI({
   *     apiKey: token.name,
   *     httpOptions: { apiVersion: 'v1alpha' }  // Support in v1alpha only.
   * });
   *
   * // Case 1: If LiveEphemeralParameters is unset, unlock LiveConnectConfig
   * // when using the token in Live API sessions. Each session connection can
   * // use a different configuration.
   * const config: CreateAuthTokenConfig = {
   *     uses: 3,
   *     expireTime: '2025-05-01T00:00:00Z',
   * }
   * const token = await ai.tokens.create(config);
   *
   * // Case 2: If LiveEphemeralParameters is set, lock all fields in
   * // LiveConnectConfig when using the token in Live API sessions. For
   * // example, changing `outputAudioTranscription` in the Live API
   * // connection will be ignored by the API.
   * const config: CreateAuthTokenConfig =
   *     uses: 3,
   *     expireTime: '2025-05-01T00:00:00Z',
   *     LiveEphemeralParameters: {
   *        model: 'gemini-2.0-flash-001',
   *        config: {
   *           'responseModalities': ['AUDIO'],
   *           'systemInstruction': 'Always answer in English.',
   *        }
   *     }
   * }
   * const token = await ai.tokens.create(config);
   *
   * // Case 3: If LiveEphemeralParameters is set and lockAdditionalFields is
   * // set, lock LiveConnectConfig with set and additional fields (e.g.
   * // responseModalities, systemInstruction, temperature in this example) when
   * // using the token in Live API sessions.
   * const config: CreateAuthTokenConfig =
   *     uses: 3,
   *     expireTime: '2025-05-01T00:00:00Z',
   *     LiveEphemeralParameters: {
   *        model: 'gemini-2.0-flash-001',
   *        config: {
   *           'responseModalities': ['AUDIO'],
   *           'systemInstruction': 'Always answer in English.',
   *        }
   *     },
   *     lockAdditionalFields: ['temperature'],
   * }
   * const token = await ai.tokens.create(config);
   *
   * // Case 4: If LiveEphemeralParameters is set and lockAdditionalFields is
   * // empty array, lock LiveConnectConfig with set fields (e.g.
   * // responseModalities, systemInstruction in this example) when using the
   * // token in Live API sessions.
   * const config: CreateAuthTokenConfig =
   *     uses: 3,
   *     expireTime: '2025-05-01T00:00:00Z',
   *     LiveEphemeralParameters: {
   *        model: 'gemini-2.0-flash-001',
   *        config: {
   *           'responseModalities': ['AUDIO'],
   *           'systemInstruction': 'Always answer in English.',
   *        }
   *     },
   *     lockAdditionalFields: [],
   * }
   * const token = await ai.tokens.create(config);
   * ```
   */
  async create(params) {
    var _a2, _b;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");
    } else {
      const body = createAuthTokenParametersToMldev(this.apiClient, params);
      path2 = formatMap("auth_tokens", body["_url"]);
      queryParams = body["_query"];
      delete body["config"];
      delete body["_url"];
      delete body["_query"];
      const transformedBody = convertBidiSetupToTokenSetup(body, params.config);
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(transformedBody),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((resp) => {
        return resp;
      });
    }
  }
};
function deleteDocumentConfigToMldev(fromObject, parentObject) {
  const toObject = {};
  const fromForce = getValueByPath(fromObject, ["force"]);
  if (parentObject !== void 0 && fromForce != null) {
    setValueByPath(parentObject, ["_query", "force"], fromForce);
  }
  return toObject;
}
function deleteDocumentParametersToMldev(fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], fromName);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    deleteDocumentConfigToMldev(fromConfig, toObject);
  }
  return toObject;
}
function getDocumentParametersToMldev(fromObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], fromName);
  }
  return toObject;
}
function listDocumentsConfigToMldev(fromObject, parentObject) {
  const toObject = {};
  const fromPageSize = getValueByPath(fromObject, ["pageSize"]);
  if (parentObject !== void 0 && fromPageSize != null) {
    setValueByPath(parentObject, ["_query", "pageSize"], fromPageSize);
  }
  const fromPageToken = getValueByPath(fromObject, ["pageToken"]);
  if (parentObject !== void 0 && fromPageToken != null) {
    setValueByPath(parentObject, ["_query", "pageToken"], fromPageToken);
  }
  return toObject;
}
function listDocumentsParametersToMldev(fromObject) {
  const toObject = {};
  const fromParent = getValueByPath(fromObject, ["parent"]);
  if (fromParent != null) {
    setValueByPath(toObject, ["_url", "parent"], fromParent);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    listDocumentsConfigToMldev(fromConfig, toObject);
  }
  return toObject;
}
function listDocumentsResponseFromMldev(fromObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromNextPageToken = getValueByPath(fromObject, [
    "nextPageToken"
  ]);
  if (fromNextPageToken != null) {
    setValueByPath(toObject, ["nextPageToken"], fromNextPageToken);
  }
  const fromDocuments = getValueByPath(fromObject, ["documents"]);
  if (fromDocuments != null) {
    let transformedList = fromDocuments;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["documents"], transformedList);
  }
  return toObject;
}
var Documents = class extends BaseModule {
  constructor(apiClient) {
    super();
    this.apiClient = apiClient;
    this.list = async (params) => {
      return new Pager(PagedItem.PAGED_ITEM_DOCUMENTS, (x) => this.listInternal({ parent: params.parent, config: x.config }), await this.listInternal(params), params);
    };
  }
  /**
   * Gets a Document.
   *
   * @param params - The parameters for getting a document.
   * @return Document.
   */
  async get(params) {
    var _a2, _b;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = getDocumentParametersToMldev(params);
      path2 = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((resp) => {
        return resp;
      });
    }
  }
  /**
   * Deletes a Document.
   *
   * @param params - The parameters for deleting a document.
   */
  async delete(params) {
    var _a2, _b;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = deleteDocumentParametersToMldev(params);
      path2 = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      await this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "DELETE",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      });
    }
  }
  async listInternal(params) {
    var _a2, _b;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = listDocumentsParametersToMldev(params);
      path2 = formatMap("{parent}/documents", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = listDocumentsResponseFromMldev(apiResponse);
        const typedResp = new ListDocumentsResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
};
var FileSearchStores = class extends BaseModule {
  constructor(apiClient, documents = new Documents(apiClient)) {
    super();
    this.apiClient = apiClient;
    this.documents = documents;
    this.list = async (params = {}) => {
      return new Pager(PagedItem.PAGED_ITEM_FILE_SEARCH_STORES, (x) => this.listInternal(x), await this.listInternal(params), params);
    };
  }
  /**
   * Uploads a file asynchronously to a given File Search Store.
   * This method is not available in Vertex AI.
   * Supported upload sources:
   * - Node.js: File path (string) or Blob object.
   * - Browser: Blob object (e.g., File).
   *
   * @remarks
   * The `mimeType` can be specified in the `config` parameter. If omitted:
   *  - For file path (string) inputs, the `mimeType` will be inferred from the
   *     file extension.
   *  - For Blob object inputs, the `mimeType` will be set to the Blob's `type`
   *     property.
   *
   * This section can contain multiple paragraphs and code examples.
   *
   * @param params - Optional parameters specified in the
   *        `types.UploadToFileSearchStoreParameters` interface.
   *         @see {@link types.UploadToFileSearchStoreParameters#config} for the optional
   *         config in the parameters.
   * @return A promise that resolves to a long running operation.
   * @throws An error if called on a Vertex AI client.
   * @throws An error if the `mimeType` is not provided and can not be inferred,
   * the `mimeType` can be provided in the `params.config` parameter.
   * @throws An error occurs if a suitable upload location cannot be established.
   *
   * @example
   * The following code uploads a file to a given file search store.
   *
   * ```ts
   * const operation = await ai.fileSearchStores.upload({fileSearchStoreName: 'fileSearchStores/foo-bar', file: 'file.txt', config: {
   *   mimeType: 'text/plain',
   * }});
   * console.log(operation.name);
   * ```
   */
  async uploadToFileSearchStore(params) {
    if (this.apiClient.isVertexAI()) {
      throw new Error("Vertex AI does not support uploading files to a file search store.");
    }
    return this.apiClient.uploadFileToFileSearchStore(params.fileSearchStoreName, params.file, params.config);
  }
  /**
   * Creates a File Search Store.
   *
   * @param params - The parameters for creating a File Search Store.
   * @return FileSearchStore.
   */
  async create(params) {
    var _a2, _b;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = createFileSearchStoreParametersToMldev(params);
      path2 = formatMap("fileSearchStores", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((resp) => {
        return resp;
      });
    }
  }
  /**
   * Gets a File Search Store.
   *
   * @param params - The parameters for getting a File Search Store.
   * @return FileSearchStore.
   */
  async get(params) {
    var _a2, _b;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = getFileSearchStoreParametersToMldev(params);
      path2 = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((resp) => {
        return resp;
      });
    }
  }
  /**
   * Deletes a File Search Store.
   *
   * @param params - The parameters for deleting a File Search Store.
   */
  async delete(params) {
    var _a2, _b;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = deleteFileSearchStoreParametersToMldev(params);
      path2 = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      await this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "DELETE",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      });
    }
  }
  async listInternal(params) {
    var _a2, _b;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = listFileSearchStoresParametersToMldev(params);
      path2 = formatMap("fileSearchStores", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = listFileSearchStoresResponseFromMldev(apiResponse);
        const typedResp = new ListFileSearchStoresResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  async uploadToFileSearchStoreInternal(params) {
    var _a2, _b;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = uploadToFileSearchStoreParametersToMldev(params);
      path2 = formatMap("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = uploadToFileSearchStoreResumableResponseFromMldev(apiResponse);
        const typedResp = new UploadToFileSearchStoreResumableResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  /**
   * Imports a File from File Service to a FileSearchStore.
   *
   * This is a long-running operation, see aip.dev/151
   *
   * @param params - The parameters for importing a file to a file search store.
   * @return ImportFileOperation.
   */
  async importFile(params) {
    var _a2, _b;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = importFileParametersToMldev(params);
      path2 = formatMap("{file_search_store_name}:importFile", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json();
      });
      return response.then((apiResponse) => {
        const resp = importFileOperationFromMldev(apiResponse);
        const typedResp = new ImportFileOperation();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
};
var uuid4Internal = function() {
  const { crypto } = globalThis;
  if (crypto === null || crypto === void 0 ? void 0 : crypto.randomUUID) {
    uuid4Internal = crypto.randomUUID.bind(crypto);
    return crypto.randomUUID();
  }
  const u8 = new Uint8Array(1);
  const randomByte = crypto ? () => crypto.getRandomValues(u8)[0] : () => Math.random() * 255 & 255;
  return "10000000-1000-4000-8000-100000000000".replace(/[018]/g, (c) => (+c ^ randomByte() & 15 >> +c / 4).toString(16));
};
var uuid4 = () => uuid4Internal();
function isAbortError(err) {
  return typeof err === "object" && err !== null && // Spec-compliant fetch implementations
  ("name" in err && err.name === "AbortError" || // Expo fetch
  "message" in err && String(err.message).includes("FetchRequestCanceledException"));
}
var castToError = (err) => {
  if (err instanceof Error)
    return err;
  if (typeof err === "object" && err !== null) {
    try {
      if (Object.prototype.toString.call(err) === "[object Error]") {
        const error = new Error(err.message, err.cause ? { cause: err.cause } : {});
        if (err.stack)
          error.stack = err.stack;
        if (err.cause && !error.cause)
          error.cause = err.cause;
        if (err.name)
          error.name = err.name;
        return error;
      }
    } catch (_a2) {
    }
    try {
      return new Error(JSON.stringify(err));
    } catch (_b) {
    }
  }
  return new Error(err);
};
var GeminiNextGenAPIClientError = class extends Error {
};
var APIError = class extends GeminiNextGenAPIClientError {
  constructor(status, error, message, headers) {
    super(`${APIError.makeMessage(status, error, message)}`);
    this.status = status;
    this.headers = headers;
    this.error = error;
  }
  static makeMessage(status, error, message) {
    const msg = (error === null || error === void 0 ? void 0 : error.message) ? typeof error.message === "string" ? error.message : JSON.stringify(error.message) : error ? JSON.stringify(error) : message;
    if (status && msg) {
      return `${status} ${msg}`;
    }
    if (status) {
      return `${status} status code (no body)`;
    }
    if (msg) {
      return msg;
    }
    return "(no status code or body)";
  }
  static generate(status, errorResponse, message, headers) {
    if (!status || !headers) {
      return new APIConnectionError({ message, cause: castToError(errorResponse) });
    }
    const error = errorResponse;
    if (status === 400) {
      return new BadRequestError(status, error, message, headers);
    }
    if (status === 401) {
      return new AuthenticationError(status, error, message, headers);
    }
    if (status === 403) {
      return new PermissionDeniedError(status, error, message, headers);
    }
    if (status === 404) {
      return new NotFoundError(status, error, message, headers);
    }
    if (status === 409) {
      return new ConflictError(status, error, message, headers);
    }
    if (status === 422) {
      return new UnprocessableEntityError(status, error, message, headers);
    }
    if (status === 429) {
      return new RateLimitError(status, error, message, headers);
    }
    if (status >= 500) {
      return new InternalServerError(status, error, message, headers);
    }
    return new APIError(status, error, message, headers);
  }
};
var APIUserAbortError = class extends APIError {
  constructor({ message } = {}) {
    super(void 0, void 0, message || "Request was aborted.", void 0);
  }
};
var APIConnectionError = class extends APIError {
  constructor({ message, cause }) {
    super(void 0, void 0, message || "Connection error.", void 0);
    if (cause)
      this.cause = cause;
  }
};
var APIConnectionTimeoutError = class extends APIConnectionError {
  constructor({ message } = {}) {
    super({ message: message !== null && message !== void 0 ? message : "Request timed out." });
  }
};
var BadRequestError = class extends APIError {
};
var AuthenticationError = class extends APIError {
};
var PermissionDeniedError = class extends APIError {
};
var NotFoundError = class extends APIError {
};
var ConflictError = class extends APIError {
};
var UnprocessableEntityError = class extends APIError {
};
var RateLimitError = class extends APIError {
};
var InternalServerError = class extends APIError {
};
var startsWithSchemeRegexp = /^[a-z][a-z0-9+.-]*:/i;
var isAbsoluteURL = (url) => {
  return startsWithSchemeRegexp.test(url);
};
var isArrayInternal = (val) => (isArrayInternal = Array.isArray, isArrayInternal(val));
var isArray = isArrayInternal;
var isReadonlyArrayInternal = isArray;
var isReadonlyArray = isReadonlyArrayInternal;
function isEmptyObj(obj) {
  if (!obj)
    return true;
  for (const _k in obj)
    return false;
  return true;
}
function hasOwn(obj, key) {
  return Object.prototype.hasOwnProperty.call(obj, key);
}
var validatePositiveInteger = (name, n) => {
  if (typeof n !== "number" || !Number.isInteger(n)) {
    throw new GeminiNextGenAPIClientError(`${name} must be an integer`);
  }
  if (n < 0) {
    throw new GeminiNextGenAPIClientError(`${name} must be a positive integer`);
  }
  return n;
};
var safeJSON = (text) => {
  try {
    return JSON.parse(text);
  } catch (err) {
    return void 0;
  }
};
var sleep$1 = (ms) => new Promise((resolve) => setTimeout(resolve, ms));
var VERSION = "0.0.1";
function getDetectedPlatform() {
  if (typeof Deno !== "undefined" && Deno.build != null) {
    return "deno";
  }
  if (typeof EdgeRuntime !== "undefined") {
    return "edge";
  }
  if (Object.prototype.toString.call(typeof globalThis.process !== "undefined" ? globalThis.process : 0) === "[object process]") {
    return "node";
  }
  return "unknown";
}
var getPlatformProperties = () => {
  var _a2, _b, _c, _d, _e;
  const detectedPlatform = getDetectedPlatform();
  if (detectedPlatform === "deno") {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": normalizePlatform(Deno.build.os),
      "X-Stainless-Arch": normalizeArch(Deno.build.arch),
      "X-Stainless-Runtime": "deno",
      "X-Stainless-Runtime-Version": typeof Deno.version === "string" ? Deno.version : (_b = (_a2 = Deno.version) === null || _a2 === void 0 ? void 0 : _a2.deno) !== null && _b !== void 0 ? _b : "unknown"
    };
  }
  if (typeof EdgeRuntime !== "undefined") {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": "Unknown",
      "X-Stainless-Arch": `other:${EdgeRuntime}`,
      "X-Stainless-Runtime": "edge",
      "X-Stainless-Runtime-Version": globalThis.process.version
    };
  }
  if (detectedPlatform === "node") {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": normalizePlatform((_c = globalThis.process.platform) !== null && _c !== void 0 ? _c : "unknown"),
      "X-Stainless-Arch": normalizeArch((_d = globalThis.process.arch) !== null && _d !== void 0 ? _d : "unknown"),
      "X-Stainless-Runtime": "node",
      "X-Stainless-Runtime-Version": (_e = globalThis.process.version) !== null && _e !== void 0 ? _e : "unknown"
    };
  }
  const browserInfo = getBrowserInfo();
  if (browserInfo) {
    return {
      "X-Stainless-Lang": "js",
      "X-Stainless-Package-Version": VERSION,
      "X-Stainless-OS": "Unknown",
      "X-Stainless-Arch": "unknown",
      "X-Stainless-Runtime": `browser:${browserInfo.browser}`,
      "X-Stainless-Runtime-Version": browserInfo.version
    };
  }
  return {
    "X-Stainless-Lang": "js",
    "X-Stainless-Package-Version": VERSION,
    "X-Stainless-OS": "Unknown",
    "X-Stainless-Arch": "unknown",
    "X-Stainless-Runtime": "unknown",
    "X-Stainless-Runtime-Version": "unknown"
  };
};
function getBrowserInfo() {
  if (typeof navigator === "undefined" || !navigator) {
    return null;
  }
  const browserPatterns = [
    { key: "edge", pattern: /Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "ie", pattern: /MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "ie", pattern: /Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "chrome", pattern: /Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "firefox", pattern: /Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/ },
    { key: "safari", pattern: /(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/ }
  ];
  for (const { key, pattern } of browserPatterns) {
    const match = pattern.exec(navigator.userAgent);
    if (match) {
      const major = match[1] || 0;
      const minor = match[2] || 0;
      const patch = match[3] || 0;
      return { browser: key, version: `${major}.${minor}.${patch}` };
    }
  }
  return null;
}
var normalizeArch = (arch) => {
  if (arch === "x32")
    return "x32";
  if (arch === "x86_64" || arch === "x64")
    return "x64";
  if (arch === "arm")
    return "arm";
  if (arch === "aarch64" || arch === "arm64")
    return "arm64";
  if (arch)
    return `other:${arch}`;
  return "unknown";
};
var normalizePlatform = (platform) => {
  platform = platform.toLowerCase();
  if (platform.includes("ios"))
    return "iOS";
  if (platform === "android")
    return "Android";
  if (platform === "darwin")
    return "MacOS";
  if (platform === "win32")
    return "Windows";
  if (platform === "freebsd")
    return "FreeBSD";
  if (platform === "openbsd")
    return "OpenBSD";
  if (platform === "linux")
    return "Linux";
  if (platform)
    return `Other:${platform}`;
  return "Unknown";
};
var _platformHeaders;
var getPlatformHeaders = () => {
  return _platformHeaders !== null && _platformHeaders !== void 0 ? _platformHeaders : _platformHeaders = getPlatformProperties();
};
function getDefaultFetch() {
  if (typeof fetch !== "undefined") {
    return fetch;
  }
  throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`");
}
function makeReadableStream(...args) {
  const ReadableStream = globalThis.ReadableStream;
  if (typeof ReadableStream === "undefined") {
    throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");
  }
  return new ReadableStream(...args);
}
function ReadableStreamFrom(iterable) {
  let iter = Symbol.asyncIterator in iterable ? iterable[Symbol.asyncIterator]() : iterable[Symbol.iterator]();
  return makeReadableStream({
    start() {
    },
    async pull(controller) {
      const { done, value } = await iter.next();
      if (done) {
        controller.close();
      } else {
        controller.enqueue(value);
      }
    },
    async cancel() {
      var _a2;
      await ((_a2 = iter.return) === null || _a2 === void 0 ? void 0 : _a2.call(iter));
    }
  });
}
function ReadableStreamToAsyncIterable(stream) {
  if (stream[Symbol.asyncIterator])
    return stream;
  const reader = stream.getReader();
  return {
    async next() {
      try {
        const result = await reader.read();
        if (result === null || result === void 0 ? void 0 : result.done)
          reader.releaseLock();
        return result;
      } catch (e) {
        reader.releaseLock();
        throw e;
      }
    },
    async return() {
      const cancelPromise = reader.cancel();
      reader.releaseLock();
      await cancelPromise;
      return { done: true, value: void 0 };
    },
    [Symbol.asyncIterator]() {
      return this;
    }
  };
}
async function CancelReadableStream(stream) {
  var _a2, _b;
  if (stream === null || typeof stream !== "object")
    return;
  if (stream[Symbol.asyncIterator]) {
    await ((_b = (_a2 = stream[Symbol.asyncIterator]()).return) === null || _b === void 0 ? void 0 : _b.call(_a2));
    return;
  }
  const reader = stream.getReader();
  const cancelPromise = reader.cancel();
  reader.releaseLock();
  await cancelPromise;
}
var FallbackEncoder = ({ headers, body }) => {
  return {
    bodyHeaders: {
      "content-type": "application/json"
    },
    body: JSON.stringify(body)
  };
};
var checkFileSupport = () => {
  var _a2;
  if (typeof File === "undefined") {
    const { process } = globalThis;
    const isOldNode = typeof ((_a2 = process === null || process === void 0 ? void 0 : process.versions) === null || _a2 === void 0 ? void 0 : _a2.node) === "string" && parseInt(process.versions.node.split(".")) < 20;
    throw new Error("`File` is not defined as a global, which is required for file uploads." + (isOldNode ? " Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`." : ""));
  }
};
function makeFile(fileBits, fileName, options) {
  checkFileSupport();
  return new File(fileBits, fileName !== null && fileName !== void 0 ? fileName : "unknown_file", options);
}
function getName(value) {
  return (typeof value === "object" && value !== null && ("name" in value && value.name && String(value.name) || "url" in value && value.url && String(value.url) || "filename" in value && value.filename && String(value.filename) || "path" in value && value.path && String(value.path)) || "").split(/[\\/]/).pop() || void 0;
}
var isAsyncIterable = (value) => value != null && typeof value === "object" && typeof value[Symbol.asyncIterator] === "function";
var isBlobLike = (value) => value != null && typeof value === "object" && typeof value.size === "number" && typeof value.type === "string" && typeof value.text === "function" && typeof value.slice === "function" && typeof value.arrayBuffer === "function";
var isFileLike = (value) => value != null && typeof value === "object" && typeof value.name === "string" && typeof value.lastModified === "number" && isBlobLike(value);
var isResponseLike = (value) => value != null && typeof value === "object" && typeof value.url === "string" && typeof value.blob === "function";
async function toFile(value, name, options) {
  checkFileSupport();
  value = await value;
  if (isFileLike(value)) {
    if (value instanceof File) {
      return value;
    }
    return makeFile([await value.arrayBuffer()], value.name);
  }
  if (isResponseLike(value)) {
    const blob = await value.blob();
    name || (name = new URL(value.url).pathname.split(/[\\/]/).pop());
    return makeFile(await getBytes(blob), name, options);
  }
  const parts = await getBytes(value);
  name || (name = getName(value));
  if (!(options === null || options === void 0 ? void 0 : options.type)) {
    const type = parts.find((part) => typeof part === "object" && "type" in part && part.type);
    if (typeof type === "string") {
      options = Object.assign(Object.assign({}, options), { type });
    }
  }
  return makeFile(parts, name, options);
}
async function getBytes(value) {
  var _a2, e_1, _b, _c;
  var _d;
  let parts = [];
  if (typeof value === "string" || ArrayBuffer.isView(value) || // includes Uint8Array, Buffer, etc.
  value instanceof ArrayBuffer) {
    parts.push(value);
  } else if (isBlobLike(value)) {
    parts.push(value instanceof Blob ? value : await value.arrayBuffer());
  } else if (isAsyncIterable(value)) {
    try {
      for (var _e = true, value_1 = __asyncValues(value), value_1_1; value_1_1 = await value_1.next(), _a2 = value_1_1.done, !_a2; _e = true) {
        _c = value_1_1.value;
        _e = false;
        const chunk = _c;
        parts.push(...await getBytes(chunk));
      }
    } catch (e_1_1) {
      e_1 = { error: e_1_1 };
    } finally {
      try {
        if (!_e && !_a2 && (_b = value_1.return))
          await _b.call(value_1);
      } finally {
        if (e_1)
          throw e_1.error;
      }
    }
  } else {
    const constructor = (_d = value === null || value === void 0 ? void 0 : value.constructor) === null || _d === void 0 ? void 0 : _d.name;
    throw new Error(`Unexpected data type: ${typeof value}${constructor ? `; constructor: ${constructor}` : ""}${propsForError(value)}`);
  }
  return parts;
}
function propsForError(value) {
  if (typeof value !== "object" || value === null)
    return "";
  const props = Object.getOwnPropertyNames(value);
  return `; props: [${props.map((p) => `"${p}"`).join(", ")}]`;
}
var APIResource = class {
  constructor(client) {
    this._client = client;
  }
};
APIResource._key = [];
function encodeURIPath(str) {
  return str.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g, encodeURIComponent);
}
var EMPTY = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.create(null));
var createPathTagFunction = (pathEncoder = encodeURIPath) => function path2(statics, ...params) {
  if (statics.length === 1)
    return statics[0];
  let postPath = false;
  const invalidSegments = [];
  const path3 = statics.reduce((previousValue, currentValue, index) => {
    var _a2, _b, _c;
    if (/[?#]/.test(currentValue)) {
      postPath = true;
    }
    const value = params[index];
    let encoded = (postPath ? encodeURIComponent : pathEncoder)("" + value);
    if (index !== params.length && (value == null || typeof value === "object" && // handle values from other realms
    value.toString === ((_c = Object.getPrototypeOf((_b = Object.getPrototypeOf((_a2 = value.hasOwnProperty) !== null && _a2 !== void 0 ? _a2 : EMPTY)) !== null && _b !== void 0 ? _b : EMPTY)) === null || _c === void 0 ? void 0 : _c.toString))) {
      encoded = value + "";
      invalidSegments.push({
        start: previousValue.length + currentValue.length,
        length: encoded.length,
        error: `Value of type ${Object.prototype.toString.call(value).slice(8, -1)} is not a valid path parameter`
      });
    }
    return previousValue + currentValue + (index === params.length ? "" : encoded);
  }, "");
  const pathOnly = path3.split(/[?#]/, 1)[0];
  const invalidSegmentPattern = /(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;
  let match;
  while ((match = invalidSegmentPattern.exec(pathOnly)) !== null) {
    invalidSegments.push({
      start: match.index,
      length: match[0].length,
      error: `Value "${match[0]}" can't be safely passed as a path parameter`
    });
  }
  invalidSegments.sort((a, b) => a.start - b.start);
  if (invalidSegments.length > 0) {
    let lastEnd = 0;
    const underline = invalidSegments.reduce((acc, segment) => {
      const spaces = " ".repeat(segment.start - lastEnd);
      const arrows = "^".repeat(segment.length);
      lastEnd = segment.start + segment.length;
      return acc + spaces + arrows;
    }, "");
    throw new GeminiNextGenAPIClientError(`Path parameters result in path with invalid segments:
${invalidSegments.map((e) => e.error).join("\n")}
${path3}
${underline}`);
  }
  return path3;
};
var path = /* @__PURE__ */ createPathTagFunction(encodeURIPath);
var BaseInteractions = class extends APIResource {
  create(params, options) {
    var _a2;
    const { api_version = this._client.apiVersion } = params, body = __rest(params, ["api_version"]);
    if ("model" in body && "agent_config" in body) {
      throw new GeminiNextGenAPIClientError(`Invalid request: specified \`model\` and \`agent_config\`. If specifying \`model\`, use \`generation_config\`.`);
    }
    if ("agent" in body && "generation_config" in body) {
      throw new GeminiNextGenAPIClientError(`Invalid request: specified \`agent\` and \`generation_config\`. If specifying \`agent\`, use \`agent_config\`.`);
    }
    return this._client.post(path`/${api_version}/interactions`, Object.assign(Object.assign({ body }, options), { stream: (_a2 = params.stream) !== null && _a2 !== void 0 ? _a2 : false }));
  }
  /**
   * Deletes the interaction by id.
   *
   * @example
   * ```ts
   * const interaction = await client.interactions.delete('id');
   * ```
   */
  delete(id, params = {}, options) {
    const { api_version = this._client.apiVersion } = params !== null && params !== void 0 ? params : {};
    return this._client.delete(path`/${api_version}/interactions/${id}`, options);
  }
  /**
   * Cancels an interaction by id. This only applies to background interactions that are still running.
   *
   * @example
   * ```ts
   * const interaction = await client.interactions.cancel('id');
   * ```
   */
  cancel(id, params = {}, options) {
    const { api_version = this._client.apiVersion } = params !== null && params !== void 0 ? params : {};
    return this._client.post(path`/${api_version}/interactions/${id}/cancel`, options);
  }
  get(id, params = {}, options) {
    var _a2;
    const _b = params !== null && params !== void 0 ? params : {}, { api_version = this._client.apiVersion } = _b, query = __rest(_b, ["api_version"]);
    return this._client.get(path`/${api_version}/interactions/${id}`, Object.assign(Object.assign({ query }, options), { stream: (_a2 = params === null || params === void 0 ? void 0 : params.stream) !== null && _a2 !== void 0 ? _a2 : false }));
  }
};
BaseInteractions._key = Object.freeze(["interactions"]);
var Interactions = class extends BaseInteractions {
};
function concatBytes(buffers) {
  let length = 0;
  for (const buffer of buffers) {
    length += buffer.length;
  }
  const output = new Uint8Array(length);
  let index = 0;
  for (const buffer of buffers) {
    output.set(buffer, index);
    index += buffer.length;
  }
  return output;
}
var encodeUTF8_;
function encodeUTF8(str) {
  let encoder;
  return (encodeUTF8_ !== null && encodeUTF8_ !== void 0 ? encodeUTF8_ : (encoder = new globalThis.TextEncoder(), encodeUTF8_ = encoder.encode.bind(encoder)))(str);
}
var decodeUTF8_;
function decodeUTF8(bytes) {
  let decoder;
  return (decodeUTF8_ !== null && decodeUTF8_ !== void 0 ? decodeUTF8_ : (decoder = new globalThis.TextDecoder(), decodeUTF8_ = decoder.decode.bind(decoder)))(bytes);
}
var LineDecoder = class {
  constructor() {
    this.buffer = new Uint8Array();
    this.carriageReturnIndex = null;
  }
  decode(chunk) {
    if (chunk == null) {
      return [];
    }
    const binaryChunk = chunk instanceof ArrayBuffer ? new Uint8Array(chunk) : typeof chunk === "string" ? encodeUTF8(chunk) : chunk;
    this.buffer = concatBytes([this.buffer, binaryChunk]);
    const lines = [];
    let patternIndex;
    while ((patternIndex = findNewlineIndex(this.buffer, this.carriageReturnIndex)) != null) {
      if (patternIndex.carriage && this.carriageReturnIndex == null) {
        this.carriageReturnIndex = patternIndex.index;
        continue;
      }
      if (this.carriageReturnIndex != null && (patternIndex.index !== this.carriageReturnIndex + 1 || patternIndex.carriage)) {
        lines.push(decodeUTF8(this.buffer.subarray(0, this.carriageReturnIndex - 1)));
        this.buffer = this.buffer.subarray(this.carriageReturnIndex);
        this.carriageReturnIndex = null;
        continue;
      }
      const endIndex = this.carriageReturnIndex !== null ? patternIndex.preceding - 1 : patternIndex.preceding;
      const line = decodeUTF8(this.buffer.subarray(0, endIndex));
      lines.push(line);
      this.buffer = this.buffer.subarray(patternIndex.index);
      this.carriageReturnIndex = null;
    }
    return lines;
  }
  flush() {
    if (!this.buffer.length) {
      return [];
    }
    return this.decode("\n");
  }
};
LineDecoder.NEWLINE_CHARS = /* @__PURE__ */ new Set(["\n", "\r"]);
LineDecoder.NEWLINE_REGEXP = /\r\n|[\n\r]/g;
function findNewlineIndex(buffer, startIndex) {
  const newline = 10;
  const carriage = 13;
  for (let i = startIndex !== null && startIndex !== void 0 ? startIndex : 0; i < buffer.length; i++) {
    if (buffer[i] === newline) {
      return { preceding: i, index: i + 1, carriage: false };
    }
    if (buffer[i] === carriage) {
      return { preceding: i, index: i + 1, carriage: true };
    }
  }
  return null;
}
function findDoubleNewlineIndex(buffer) {
  const newline = 10;
  const carriage = 13;
  for (let i = 0; i < buffer.length - 1; i++) {
    if (buffer[i] === newline && buffer[i + 1] === newline) {
      return i + 2;
    }
    if (buffer[i] === carriage && buffer[i + 1] === carriage) {
      return i + 2;
    }
    if (buffer[i] === carriage && buffer[i + 1] === newline && i + 3 < buffer.length && buffer[i + 2] === carriage && buffer[i + 3] === newline) {
      return i + 4;
    }
  }
  return -1;
}
var levelNumbers = {
  off: 0,
  error: 200,
  warn: 300,
  info: 400,
  debug: 500
};
var parseLogLevel = (maybeLevel, sourceName, client) => {
  if (!maybeLevel) {
    return void 0;
  }
  if (hasOwn(levelNumbers, maybeLevel)) {
    return maybeLevel;
  }
  loggerFor(client).warn(`${sourceName} was set to ${JSON.stringify(maybeLevel)}, expected one of ${JSON.stringify(Object.keys(levelNumbers))}`);
  return void 0;
};
function noop() {
}
function makeLogFn(fnLevel, logger, logLevel) {
  if (!logger || levelNumbers[fnLevel] > levelNumbers[logLevel]) {
    return noop;
  } else {
    return logger[fnLevel].bind(logger);
  }
}
var noopLogger = {
  error: noop,
  warn: noop,
  info: noop,
  debug: noop
};
var cachedLoggers = /* @__PURE__ */ new WeakMap();
function loggerFor(client) {
  var _a2;
  const logger = client.logger;
  const logLevel = (_a2 = client.logLevel) !== null && _a2 !== void 0 ? _a2 : "off";
  if (!logger) {
    return noopLogger;
  }
  const cachedLogger = cachedLoggers.get(logger);
  if (cachedLogger && cachedLogger[0] === logLevel) {
    return cachedLogger[1];
  }
  const levelLogger = {
    error: makeLogFn("error", logger, logLevel),
    warn: makeLogFn("warn", logger, logLevel),
    info: makeLogFn("info", logger, logLevel),
    debug: makeLogFn("debug", logger, logLevel)
  };
  cachedLoggers.set(logger, [logLevel, levelLogger]);
  return levelLogger;
}
var formatRequestDetails = (details) => {
  if (details.options) {
    details.options = Object.assign({}, details.options);
    delete details.options["headers"];
  }
  if (details.headers) {
    details.headers = Object.fromEntries((details.headers instanceof Headers ? [...details.headers] : Object.entries(details.headers)).map(([name, value]) => [
      name,
      name.toLowerCase() === "x-goog-api-key" || name.toLowerCase() === "authorization" || name.toLowerCase() === "cookie" || name.toLowerCase() === "set-cookie" ? "***" : value
    ]));
  }
  if ("retryOfRequestLogID" in details) {
    if (details.retryOfRequestLogID) {
      details.retryOf = details.retryOfRequestLogID;
    }
    delete details.retryOfRequestLogID;
  }
  return details;
};
var Stream = class {
  constructor(iterator, controller, client) {
    this.iterator = iterator;
    this.controller = controller;
    this.client = client;
  }
  static fromSSEResponse(response, controller, client) {
    let consumed = false;
    const logger = client ? loggerFor(client) : console;
    function iterator() {
      return __asyncGenerator(this, arguments, function* iterator_1() {
        var _a2, e_1, _b, _c;
        if (consumed) {
          throw new GeminiNextGenAPIClientError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");
        }
        consumed = true;
        let done = false;
        try {
          try {
            for (var _d = true, _e = __asyncValues(_iterSSEMessages(response, controller)), _f; _f = yield __await(_e.next()), _a2 = _f.done, !_a2; _d = true) {
              _c = _f.value;
              _d = false;
              const sse = _c;
              if (done)
                continue;
              if (sse.data.startsWith("[DONE]")) {
                done = true;
                continue;
              } else {
                try {
                  yield yield __await(JSON.parse(sse.data));
                } catch (e) {
                  logger.error(`Could not parse message into JSON:`, sse.data);
                  logger.error(`From chunk:`, sse.raw);
                  throw e;
                }
              }
            }
          } catch (e_1_1) {
            e_1 = { error: e_1_1 };
          } finally {
            try {
              if (!_d && !_a2 && (_b = _e.return))
                yield __await(_b.call(_e));
            } finally {
              if (e_1)
                throw e_1.error;
            }
          }
          done = true;
        } catch (e) {
          if (isAbortError(e))
            return yield __await(void 0);
          throw e;
        } finally {
          if (!done)
            controller.abort();
        }
      });
    }
    return new Stream(iterator, controller, client);
  }
  /**
   * Generates a Stream from a newline-separated ReadableStream
   * where each item is a JSON value.
   */
  static fromReadableStream(readableStream, controller, client) {
    let consumed = false;
    function iterLines() {
      return __asyncGenerator(this, arguments, function* iterLines_1() {
        var _a2, e_2, _b, _c;
        const lineDecoder = new LineDecoder();
        const iter = ReadableStreamToAsyncIterable(readableStream);
        try {
          for (var _d = true, iter_1 = __asyncValues(iter), iter_1_1; iter_1_1 = yield __await(iter_1.next()), _a2 = iter_1_1.done, !_a2; _d = true) {
            _c = iter_1_1.value;
            _d = false;
            const chunk = _c;
            for (const line of lineDecoder.decode(chunk)) {
              yield yield __await(line);
            }
          }
        } catch (e_2_1) {
          e_2 = { error: e_2_1 };
        } finally {
          try {
            if (!_d && !_a2 && (_b = iter_1.return))
              yield __await(_b.call(iter_1));
          } finally {
            if (e_2)
              throw e_2.error;
          }
        }
        for (const line of lineDecoder.flush()) {
          yield yield __await(line);
        }
      });
    }
    function iterator() {
      return __asyncGenerator(this, arguments, function* iterator_2() {
        var _a2, e_3, _b, _c;
        if (consumed) {
          throw new GeminiNextGenAPIClientError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");
        }
        consumed = true;
        let done = false;
        try {
          try {
            for (var _d = true, _e = __asyncValues(iterLines()), _f; _f = yield __await(_e.next()), _a2 = _f.done, !_a2; _d = true) {
              _c = _f.value;
              _d = false;
              const line = _c;
              if (done)
                continue;
              if (line)
                yield yield __await(JSON.parse(line));
            }
          } catch (e_3_1) {
            e_3 = { error: e_3_1 };
          } finally {
            try {
              if (!_d && !_a2 && (_b = _e.return))
                yield __await(_b.call(_e));
            } finally {
              if (e_3)
                throw e_3.error;
            }
          }
          done = true;
        } catch (e) {
          if (isAbortError(e))
            return yield __await(void 0);
          throw e;
        } finally {
          if (!done)
            controller.abort();
        }
      });
    }
    return new Stream(iterator, controller, client);
  }
  [Symbol.asyncIterator]() {
    return this.iterator();
  }
  /**
   * Splits the stream into two streams which can be
   * independently read from at different speeds.
   */
  tee() {
    const left = [];
    const right = [];
    const iterator = this.iterator();
    const teeIterator = (queue) => {
      return {
        next: () => {
          if (queue.length === 0) {
            const result = iterator.next();
            left.push(result);
            right.push(result);
          }
          return queue.shift();
        }
      };
    };
    return [
      new Stream(() => teeIterator(left), this.controller, this.client),
      new Stream(() => teeIterator(right), this.controller, this.client)
    ];
  }
  /**
   * Converts this stream to a newline-separated ReadableStream of
   * JSON stringified values in the stream
   * which can be turned back into a Stream with `Stream.fromReadableStream()`.
   */
  toReadableStream() {
    const self = this;
    let iter;
    return makeReadableStream({
      async start() {
        iter = self[Symbol.asyncIterator]();
      },
      async pull(ctrl) {
        try {
          const { value, done } = await iter.next();
          if (done)
            return ctrl.close();
          const bytes = encodeUTF8(JSON.stringify(value) + "\n");
          ctrl.enqueue(bytes);
        } catch (err) {
          ctrl.error(err);
        }
      },
      async cancel() {
        var _a2;
        await ((_a2 = iter.return) === null || _a2 === void 0 ? void 0 : _a2.call(iter));
      }
    });
  }
};
function _iterSSEMessages(response, controller) {
  return __asyncGenerator(this, arguments, function* _iterSSEMessages_1() {
    var _a2, e_4, _b, _c;
    if (!response.body) {
      controller.abort();
      if (typeof globalThis.navigator !== "undefined" && globalThis.navigator.product === "ReactNative") {
        throw new GeminiNextGenAPIClientError(`The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api`);
      }
      throw new GeminiNextGenAPIClientError(`Attempted to iterate over a response with no body`);
    }
    const sseDecoder = new SSEDecoder();
    const lineDecoder = new LineDecoder();
    const iter = ReadableStreamToAsyncIterable(response.body);
    try {
      for (var _d = true, _e = __asyncValues(iterSSEChunks(iter)), _f; _f = yield __await(_e.next()), _a2 = _f.done, !_a2; _d = true) {
        _c = _f.value;
        _d = false;
        const sseChunk = _c;
        for (const line of lineDecoder.decode(sseChunk)) {
          const sse = sseDecoder.decode(line);
          if (sse)
            yield yield __await(sse);
        }
      }
    } catch (e_4_1) {
      e_4 = { error: e_4_1 };
    } finally {
      try {
        if (!_d && !_a2 && (_b = _e.return))
          yield __await(_b.call(_e));
      } finally {
        if (e_4)
          throw e_4.error;
      }
    }
    for (const line of lineDecoder.flush()) {
      const sse = sseDecoder.decode(line);
      if (sse)
        yield yield __await(sse);
    }
  });
}
function iterSSEChunks(iterator) {
  return __asyncGenerator(this, arguments, function* iterSSEChunks_1() {
    var _a2, e_5, _b, _c;
    let data = new Uint8Array();
    try {
      for (var _d = true, iterator_3 = __asyncValues(iterator), iterator_3_1; iterator_3_1 = yield __await(iterator_3.next()), _a2 = iterator_3_1.done, !_a2; _d = true) {
        _c = iterator_3_1.value;
        _d = false;
        const chunk = _c;
        if (chunk == null) {
          continue;
        }
        const binaryChunk = chunk instanceof ArrayBuffer ? new Uint8Array(chunk) : typeof chunk === "string" ? encodeUTF8(chunk) : chunk;
        let newData = new Uint8Array(data.length + binaryChunk.length);
        newData.set(data);
        newData.set(binaryChunk, data.length);
        data = newData;
        let patternIndex;
        while ((patternIndex = findDoubleNewlineIndex(data)) !== -1) {
          yield yield __await(data.slice(0, patternIndex));
          data = data.slice(patternIndex);
        }
      }
    } catch (e_5_1) {
      e_5 = { error: e_5_1 };
    } finally {
      try {
        if (!_d && !_a2 && (_b = iterator_3.return))
          yield __await(_b.call(iterator_3));
      } finally {
        if (e_5)
          throw e_5.error;
      }
    }
    if (data.length > 0) {
      yield yield __await(data);
    }
  });
}
var SSEDecoder = class {
  constructor() {
    this.event = null;
    this.data = [];
    this.chunks = [];
  }
  decode(line) {
    if (line.endsWith("\r")) {
      line = line.substring(0, line.length - 1);
    }
    if (!line) {
      if (!this.event && !this.data.length)
        return null;
      const sse = {
        event: this.event,
        data: this.data.join("\n"),
        raw: this.chunks
      };
      this.event = null;
      this.data = [];
      this.chunks = [];
      return sse;
    }
    this.chunks.push(line);
    if (line.startsWith(":")) {
      return null;
    }
    let [fieldname, _, value] = partition(line, ":");
    if (value.startsWith(" ")) {
      value = value.substring(1);
    }
    if (fieldname === "event") {
      this.event = value;
    } else if (fieldname === "data") {
      this.data.push(value);
    }
    return null;
  }
};
function partition(str, delimiter) {
  const index = str.indexOf(delimiter);
  if (index !== -1) {
    return [str.substring(0, index), delimiter, str.substring(index + delimiter.length)];
  }
  return [str, "", ""];
}
async function defaultParseResponse(client, props) {
  const { response, requestLogID, retryOfRequestLogID, startTime } = props;
  const body = await (async () => {
    var _a2;
    if (props.options.stream) {
      loggerFor(client).debug("response", response.status, response.url, response.headers, response.body);
      if (props.options.__streamClass) {
        return props.options.__streamClass.fromSSEResponse(response, props.controller, client);
      }
      return Stream.fromSSEResponse(response, props.controller, client);
    }
    if (response.status === 204) {
      return null;
    }
    if (props.options.__binaryResponse) {
      return response;
    }
    const contentType = response.headers.get("content-type");
    const mediaType = (_a2 = contentType === null || contentType === void 0 ? void 0 : contentType.split(";")[0]) === null || _a2 === void 0 ? void 0 : _a2.trim();
    const isJSON = (mediaType === null || mediaType === void 0 ? void 0 : mediaType.includes("application/json")) || (mediaType === null || mediaType === void 0 ? void 0 : mediaType.endsWith("+json"));
    if (isJSON) {
      const json = await response.json();
      return json;
    }
    const text = await response.text();
    return text;
  })();
  loggerFor(client).debug(`[${requestLogID}] response parsed`, formatRequestDetails({
    retryOfRequestLogID,
    url: response.url,
    status: response.status,
    body,
    durationMs: Date.now() - startTime
  }));
  return body;
}
var APIPromise = class extends Promise {
  constructor(client, responsePromise, parseResponse = defaultParseResponse) {
    super((resolve) => {
      resolve(null);
    });
    this.responsePromise = responsePromise;
    this.parseResponse = parseResponse;
    this.client = client;
  }
  _thenUnwrap(transform) {
    return new APIPromise(this.client, this.responsePromise, async (client, props) => transform(await this.parseResponse(client, props), props));
  }
  /**
   * Gets the raw `Response` instance instead of parsing the response
   * data.
   *
   * If you want to parse the response body but still get the `Response`
   * instance, you can use {@link withResponse()}.
   *
   *  Getting the wrong TypeScript type for `Response`?
   * Try setting `"moduleResolution": "NodeNext"` or add `"lib": ["DOM"]`
   * to your `tsconfig.json`.
   */
  asResponse() {
    return this.responsePromise.then((p) => p.response);
  }
  /**
   * Gets the parsed response data and the raw `Response` instance.
   *
   * If you just want to get the raw `Response` instance without parsing it,
   * you can use {@link asResponse()}.
   *
   *  Getting the wrong TypeScript type for `Response`?
   * Try setting `"moduleResolution": "NodeNext"` or add `"lib": ["DOM"]`
   * to your `tsconfig.json`.
   */
  async withResponse() {
    const [data, response] = await Promise.all([this.parse(), this.asResponse()]);
    return { data, response };
  }
  parse() {
    if (!this.parsedPromise) {
      this.parsedPromise = this.responsePromise.then((data) => this.parseResponse(this.client, data));
    }
    return this.parsedPromise;
  }
  then(onfulfilled, onrejected) {
    return this.parse().then(onfulfilled, onrejected);
  }
  catch(onrejected) {
    return this.parse().catch(onrejected);
  }
  finally(onfinally) {
    return this.parse().finally(onfinally);
  }
};
var brand_privateNullableHeaders = /* @__PURE__ */ Symbol("brand.privateNullableHeaders");
function* iterateHeaders(headers) {
  if (!headers)
    return;
  if (brand_privateNullableHeaders in headers) {
    const { values, nulls } = headers;
    yield* values.entries();
    for (const name of nulls) {
      yield [name, null];
    }
    return;
  }
  let shouldClear = false;
  let iter;
  if (headers instanceof Headers) {
    iter = headers.entries();
  } else if (isReadonlyArray(headers)) {
    iter = headers;
  } else {
    shouldClear = true;
    iter = Object.entries(headers !== null && headers !== void 0 ? headers : {});
  }
  for (let row of iter) {
    const name = row[0];
    if (typeof name !== "string")
      throw new TypeError("expected header name to be a string");
    const values = isReadonlyArray(row[1]) ? row[1] : [row[1]];
    let didClear = false;
    for (const value of values) {
      if (value === void 0)
        continue;
      if (shouldClear && !didClear) {
        didClear = true;
        yield [name, null];
      }
      yield [name, value];
    }
  }
}
var buildHeaders = (newHeaders) => {
  const targetHeaders = new Headers();
  const nullHeaders = /* @__PURE__ */ new Set();
  for (const headers of newHeaders) {
    const seenHeaders = /* @__PURE__ */ new Set();
    for (const [name, value] of iterateHeaders(headers)) {
      const lowerName = name.toLowerCase();
      if (!seenHeaders.has(lowerName)) {
        targetHeaders.delete(name);
        seenHeaders.add(lowerName);
      }
      if (value === null) {
        targetHeaders.delete(name);
        nullHeaders.add(lowerName);
      } else {
        targetHeaders.append(name, value);
        nullHeaders.delete(lowerName);
      }
    }
  }
  return { [brand_privateNullableHeaders]: true, values: targetHeaders, nulls: nullHeaders };
};
var readEnv = (env) => {
  var _a2, _b, _c, _d, _e, _f;
  if (typeof globalThis.process !== "undefined") {
    return (_c = (_b = (_a2 = globalThis.process.env) === null || _a2 === void 0 ? void 0 : _a2[env]) === null || _b === void 0 ? void 0 : _b.trim()) !== null && _c !== void 0 ? _c : void 0;
  }
  if (typeof globalThis.Deno !== "undefined") {
    return (_f = (_e = (_d = globalThis.Deno.env) === null || _d === void 0 ? void 0 : _d.get) === null || _e === void 0 ? void 0 : _e.call(_d, env)) === null || _f === void 0 ? void 0 : _f.trim();
  }
  return void 0;
};
var _a;
var BaseGeminiNextGenAPIClient = class {
  /**
   * API Client for interfacing with the Gemini Next Gen API API.
   *
   * @param {string | null | undefined} [opts.apiKey=process.env['GEMINI_API_KEY'] ?? null]
   * @param {string | undefined} [opts.apiVersion=v1beta]
   * @param {string} [opts.baseURL=process.env['GEMINI_NEXT_GEN_API_BASE_URL'] ?? https://generativelanguage.googleapis.com] - Override the default base URL for the API.
   * @param {number} [opts.timeout=1 minute] - The maximum amount of time (in milliseconds) the client will wait for a response before timing out.
   * @param {MergedRequestInit} [opts.fetchOptions] - Additional `RequestInit` options to be passed to `fetch` calls.
   * @param {Fetch} [opts.fetch] - Specify a custom `fetch` function implementation.
   * @param {number} [opts.maxRetries=2] - The maximum number of times the client will retry a request.
   * @param {HeadersLike} opts.defaultHeaders - Default headers to include with every request to the API.
   * @param {Record<string, string | undefined>} opts.defaultQuery - Default query parameters to include with every request to the API.
   */
  constructor(_b) {
    var _c, _d, _e, _f, _g, _h, _j;
    var { baseURL = readEnv("GEMINI_NEXT_GEN_API_BASE_URL"), apiKey = (_c = readEnv("GEMINI_API_KEY")) !== null && _c !== void 0 ? _c : null, apiVersion = "v1beta" } = _b, opts = __rest(_b, ["baseURL", "apiKey", "apiVersion"]);
    const options = Object.assign(Object.assign({
      apiKey,
      apiVersion
    }, opts), { baseURL: baseURL || `https://generativelanguage.googleapis.com` });
    this.baseURL = options.baseURL;
    this.timeout = (_d = options.timeout) !== null && _d !== void 0 ? _d : BaseGeminiNextGenAPIClient.DEFAULT_TIMEOUT;
    this.logger = (_e = options.logger) !== null && _e !== void 0 ? _e : console;
    const defaultLogLevel = "warn";
    this.logLevel = defaultLogLevel;
    this.logLevel = (_g = (_f = parseLogLevel(options.logLevel, "ClientOptions.logLevel", this)) !== null && _f !== void 0 ? _f : parseLogLevel(readEnv("GEMINI_NEXT_GEN_API_LOG"), "process.env['GEMINI_NEXT_GEN_API_LOG']", this)) !== null && _g !== void 0 ? _g : defaultLogLevel;
    this.fetchOptions = options.fetchOptions;
    this.maxRetries = (_h = options.maxRetries) !== null && _h !== void 0 ? _h : 2;
    this.fetch = (_j = options.fetch) !== null && _j !== void 0 ? _j : getDefaultFetch();
    this.encoder = FallbackEncoder;
    this._options = options;
    this.apiKey = apiKey;
    this.apiVersion = apiVersion;
    this.clientAdapter = options.clientAdapter;
  }
  /**
   * Create a new client instance re-using the same options given to the current client with optional overriding.
   */
  withOptions(options) {
    const client = new this.constructor(Object.assign(Object.assign(Object.assign({}, this._options), { baseURL: this.baseURL, maxRetries: this.maxRetries, timeout: this.timeout, logger: this.logger, logLevel: this.logLevel, fetch: this.fetch, fetchOptions: this.fetchOptions, apiKey: this.apiKey, apiVersion: this.apiVersion }), options));
    return client;
  }
  /**
   * Check whether the base URL is set to its default.
   */
  baseURLOverridden() {
    return this.baseURL !== "https://generativelanguage.googleapis.com";
  }
  defaultQuery() {
    return this._options.defaultQuery;
  }
  validateHeaders({ values, nulls }) {
    if (values.has("authorization") || values.has("x-goog-api-key")) {
      return;
    }
    if (this.apiKey && values.get("x-goog-api-key")) {
      return;
    }
    if (nulls.has("x-goog-api-key")) {
      return;
    }
    throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted');
  }
  async authHeaders(opts) {
    const existingHeaders = buildHeaders([opts.headers]);
    if (existingHeaders.values.has("authorization") || existingHeaders.values.has("x-goog-api-key")) {
      return void 0;
    }
    if (this.apiKey) {
      return buildHeaders([{ "x-goog-api-key": this.apiKey }]);
    }
    if (this.clientAdapter.isVertexAI()) {
      return buildHeaders([await this.clientAdapter.getAuthHeaders()]);
    }
    return void 0;
  }
  /**
   * Basic re-implementation of `qs.stringify` for primitive types.
   */
  stringifyQuery(query) {
    return Object.entries(query).filter(([_, value]) => typeof value !== "undefined").map(([key, value]) => {
      if (typeof value === "string" || typeof value === "number" || typeof value === "boolean") {
        return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;
      }
      if (value === null) {
        return `${encodeURIComponent(key)}=`;
      }
      throw new GeminiNextGenAPIClientError(`Cannot stringify type ${typeof value}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`);
    }).join("&");
  }
  getUserAgent() {
    return `${this.constructor.name}/JS ${VERSION}`;
  }
  defaultIdempotencyKey() {
    return `stainless-node-retry-${uuid4()}`;
  }
  makeStatusError(status, error, message, headers) {
    return APIError.generate(status, error, message, headers);
  }
  buildURL(path2, query, defaultBaseURL) {
    const baseURL = !this.baseURLOverridden() && defaultBaseURL || this.baseURL;
    const url = isAbsoluteURL(path2) ? new URL(path2) : new URL(baseURL + (baseURL.endsWith("/") && path2.startsWith("/") ? path2.slice(1) : path2));
    const defaultQuery = this.defaultQuery();
    if (!isEmptyObj(defaultQuery)) {
      query = Object.assign(Object.assign({}, defaultQuery), query);
    }
    if (typeof query === "object" && query && !Array.isArray(query)) {
      url.search = this.stringifyQuery(query);
    }
    return url.toString();
  }
  /**
     * Used as a callback for mutating the given `FinalRequestOptions` object.
  
     */
  async prepareOptions(options) {
    if (this.clientAdapter && this.clientAdapter.isVertexAI() && !options.path.startsWith(`/${this.apiVersion}/projects/`)) {
      const oldPath = options.path.slice(this.apiVersion.length + 1);
      options.path = `/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${oldPath}`;
    }
  }
  /**
   * Used as a callback for mutating the given `RequestInit` object.
   *
   * This is useful for cases where you want to add certain headers based off of
   * the request properties, e.g. `method` or `url`.
   */
  async prepareRequest(request, { url, options }) {
  }
  get(path2, opts) {
    return this.methodRequest("get", path2, opts);
  }
  post(path2, opts) {
    return this.methodRequest("post", path2, opts);
  }
  patch(path2, opts) {
    return this.methodRequest("patch", path2, opts);
  }
  put(path2, opts) {
    return this.methodRequest("put", path2, opts);
  }
  delete(path2, opts) {
    return this.methodRequest("delete", path2, opts);
  }
  methodRequest(method, path2, opts) {
    return this.request(Promise.resolve(opts).then((opts2) => {
      return Object.assign({ method, path: path2 }, opts2);
    }));
  }
  request(options, remainingRetries = null) {
    return new APIPromise(this, this.makeRequest(options, remainingRetries, void 0));
  }
  async makeRequest(optionsInput, retriesRemaining, retryOfRequestLogID) {
    var _b, _c, _d;
    const options = await optionsInput;
    const maxRetries = (_b = options.maxRetries) !== null && _b !== void 0 ? _b : this.maxRetries;
    if (retriesRemaining == null) {
      retriesRemaining = maxRetries;
    }
    await this.prepareOptions(options);
    const { req, url, timeout } = await this.buildRequest(options, {
      retryCount: maxRetries - retriesRemaining
    });
    await this.prepareRequest(req, { url, options });
    const requestLogID = "log_" + (Math.random() * (1 << 24) | 0).toString(16).padStart(6, "0");
    const retryLogStr = retryOfRequestLogID === void 0 ? "" : `, retryOf: ${retryOfRequestLogID}`;
    const startTime = Date.now();
    loggerFor(this).debug(`[${requestLogID}] sending request`, formatRequestDetails({
      retryOfRequestLogID,
      method: options.method,
      url,
      options,
      headers: req.headers
    }));
    if ((_c = options.signal) === null || _c === void 0 ? void 0 : _c.aborted) {
      throw new APIUserAbortError();
    }
    const controller = new AbortController();
    const response = await this.fetchWithTimeout(url, req, timeout, controller).catch(castToError);
    const headersTime = Date.now();
    if (response instanceof globalThis.Error) {
      const retryMessage = `retrying, ${retriesRemaining} attempts remaining`;
      if ((_d = options.signal) === null || _d === void 0 ? void 0 : _d.aborted) {
        throw new APIUserAbortError();
      }
      const isTimeout = isAbortError(response) || /timed? ?out/i.test(String(response) + ("cause" in response ? String(response.cause) : ""));
      if (retriesRemaining) {
        loggerFor(this).info(`[${requestLogID}] connection ${isTimeout ? "timed out" : "failed"} - ${retryMessage}`);
        loggerFor(this).debug(`[${requestLogID}] connection ${isTimeout ? "timed out" : "failed"} (${retryMessage})`, formatRequestDetails({
          retryOfRequestLogID,
          url,
          durationMs: headersTime - startTime,
          message: response.message
        }));
        return this.retryRequest(options, retriesRemaining, retryOfRequestLogID !== null && retryOfRequestLogID !== void 0 ? retryOfRequestLogID : requestLogID);
      }
      loggerFor(this).info(`[${requestLogID}] connection ${isTimeout ? "timed out" : "failed"} - error; no more retries left`);
      loggerFor(this).debug(`[${requestLogID}] connection ${isTimeout ? "timed out" : "failed"} (error; no more retries left)`, formatRequestDetails({
        retryOfRequestLogID,
        url,
        durationMs: headersTime - startTime,
        message: response.message
      }));
      if (isTimeout) {
        throw new APIConnectionTimeoutError();
      }
      throw new APIConnectionError({ cause: response });
    }
    const responseInfo = `[${requestLogID}${retryLogStr}] ${req.method} ${url} ${response.ok ? "succeeded" : "failed"} with status ${response.status} in ${headersTime - startTime}ms`;
    if (!response.ok) {
      const shouldRetry = await this.shouldRetry(response);
      if (retriesRemaining && shouldRetry) {
        const retryMessage2 = `retrying, ${retriesRemaining} attempts remaining`;
        await CancelReadableStream(response.body);
        loggerFor(this).info(`${responseInfo} - ${retryMessage2}`);
        loggerFor(this).debug(`[${requestLogID}] response error (${retryMessage2})`, formatRequestDetails({
          retryOfRequestLogID,
          url: response.url,
          status: response.status,
          headers: response.headers,
          durationMs: headersTime - startTime
        }));
        return this.retryRequest(options, retriesRemaining, retryOfRequestLogID !== null && retryOfRequestLogID !== void 0 ? retryOfRequestLogID : requestLogID, response.headers);
      }
      const retryMessage = shouldRetry ? `error; no more retries left` : `error; not retryable`;
      loggerFor(this).info(`${responseInfo} - ${retryMessage}`);
      const errText = await response.text().catch((err2) => castToError(err2).message);
      const errJSON = safeJSON(errText);
      const errMessage = errJSON ? void 0 : errText;
      loggerFor(this).debug(`[${requestLogID}] response error (${retryMessage})`, formatRequestDetails({
        retryOfRequestLogID,
        url: response.url,
        status: response.status,
        headers: response.headers,
        message: errMessage,
        durationMs: Date.now() - startTime
      }));
      const err = this.makeStatusError(response.status, errJSON, errMessage, response.headers);
      throw err;
    }
    loggerFor(this).info(responseInfo);
    loggerFor(this).debug(`[${requestLogID}] response start`, formatRequestDetails({
      retryOfRequestLogID,
      url: response.url,
      status: response.status,
      headers: response.headers,
      durationMs: headersTime - startTime
    }));
    return { response, options, controller, requestLogID, retryOfRequestLogID, startTime };
  }
  async fetchWithTimeout(url, init, ms, controller) {
    const _b = init || {}, { signal, method } = _b, options = __rest(_b, ["signal", "method"]);
    if (signal)
      signal.addEventListener("abort", () => controller.abort());
    const timeout = setTimeout(() => controller.abort(), ms);
    const isReadableBody = globalThis.ReadableStream && options.body instanceof globalThis.ReadableStream || typeof options.body === "object" && options.body !== null && Symbol.asyncIterator in options.body;
    const fetchOptions = Object.assign(Object.assign(Object.assign({ signal: controller.signal }, isReadableBody ? { duplex: "half" } : {}), { method: "GET" }), options);
    if (method) {
      fetchOptions.method = method.toUpperCase();
    }
    try {
      return await this.fetch.call(void 0, url, fetchOptions);
    } finally {
      clearTimeout(timeout);
    }
  }
  async shouldRetry(response) {
    const shouldRetryHeader = response.headers.get("x-should-retry");
    if (shouldRetryHeader === "true")
      return true;
    if (shouldRetryHeader === "false")
      return false;
    if (response.status === 408)
      return true;
    if (response.status === 409)
      return true;
    if (response.status === 429)
      return true;
    if (response.status >= 500)
      return true;
    return false;
  }
  async retryRequest(options, retriesRemaining, requestLogID, responseHeaders) {
    var _b;
    let timeoutMillis;
    const retryAfterMillisHeader = responseHeaders === null || responseHeaders === void 0 ? void 0 : responseHeaders.get("retry-after-ms");
    if (retryAfterMillisHeader) {
      const timeoutMs = parseFloat(retryAfterMillisHeader);
      if (!Number.isNaN(timeoutMs)) {
        timeoutMillis = timeoutMs;
      }
    }
    const retryAfterHeader = responseHeaders === null || responseHeaders === void 0 ? void 0 : responseHeaders.get("retry-after");
    if (retryAfterHeader && !timeoutMillis) {
      const timeoutSeconds = parseFloat(retryAfterHeader);
      if (!Number.isNaN(timeoutSeconds)) {
        timeoutMillis = timeoutSeconds * 1e3;
      } else {
        timeoutMillis = Date.parse(retryAfterHeader) - Date.now();
      }
    }
    if (!(timeoutMillis && 0 <= timeoutMillis && timeoutMillis < 60 * 1e3)) {
      const maxRetries = (_b = options.maxRetries) !== null && _b !== void 0 ? _b : this.maxRetries;
      timeoutMillis = this.calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries);
    }
    await sleep$1(timeoutMillis);
    return this.makeRequest(options, retriesRemaining - 1, requestLogID);
  }
  calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries) {
    const initialRetryDelay = 0.5;
    const maxRetryDelay = 8;
    const numRetries = maxRetries - retriesRemaining;
    const sleepSeconds = Math.min(initialRetryDelay * Math.pow(2, numRetries), maxRetryDelay);
    const jitter = 1 - Math.random() * 0.25;
    return sleepSeconds * jitter * 1e3;
  }
  async buildRequest(inputOptions, { retryCount = 0 } = {}) {
    var _b, _c, _d;
    const options = Object.assign({}, inputOptions);
    const { method, path: path2, query, defaultBaseURL } = options;
    const url = this.buildURL(path2, query, defaultBaseURL);
    if ("timeout" in options)
      validatePositiveInteger("timeout", options.timeout);
    options.timeout = (_b = options.timeout) !== null && _b !== void 0 ? _b : this.timeout;
    const { bodyHeaders, body } = this.buildBody({ options });
    const reqHeaders = await this.buildHeaders({ options: inputOptions, method, bodyHeaders, retryCount });
    const req = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({ method, headers: reqHeaders }, options.signal && { signal: options.signal }), globalThis.ReadableStream && body instanceof globalThis.ReadableStream && { duplex: "half" }), body && { body }), (_c = this.fetchOptions) !== null && _c !== void 0 ? _c : {}), (_d = options.fetchOptions) !== null && _d !== void 0 ? _d : {});
    return { req, url, timeout: options.timeout };
  }
  async buildHeaders({ options, method, bodyHeaders, retryCount }) {
    let idempotencyHeaders = {};
    if (this.idempotencyHeader && method !== "get") {
      if (!options.idempotencyKey)
        options.idempotencyKey = this.defaultIdempotencyKey();
      idempotencyHeaders[this.idempotencyHeader] = options.idempotencyKey;
    }
    const authHeaders = await this.authHeaders(options);
    let headers = buildHeaders([
      idempotencyHeaders,
      Object.assign(Object.assign({ Accept: "application/json", "User-Agent": this.getUserAgent(), "X-Stainless-Retry-Count": String(retryCount) }, options.timeout ? { "X-Stainless-Timeout": String(Math.trunc(options.timeout / 1e3)) } : {}), getPlatformHeaders()),
      this._options.defaultHeaders,
      bodyHeaders,
      options.headers,
      authHeaders
    ]);
    this.validateHeaders(headers);
    return headers.values;
  }
  buildBody({ options: { body, headers: rawHeaders } }) {
    if (!body) {
      return { bodyHeaders: void 0, body: void 0 };
    }
    const headers = buildHeaders([rawHeaders]);
    if (
      // Pass raw type verbatim
      ArrayBuffer.isView(body) || body instanceof ArrayBuffer || body instanceof DataView || typeof body === "string" && // Preserve legacy string encoding behavior for now
      headers.values.has("content-type") || // `Blob` is superset of `File`
      globalThis.Blob && body instanceof globalThis.Blob || // `FormData` -> `multipart/form-data`
      body instanceof FormData || // `URLSearchParams` -> `application/x-www-form-urlencoded`
      body instanceof URLSearchParams || // Send chunked stream (each chunk has own `length`)
      globalThis.ReadableStream && body instanceof globalThis.ReadableStream
    ) {
      return { bodyHeaders: void 0, body };
    } else if (typeof body === "object" && (Symbol.asyncIterator in body || Symbol.iterator in body && "next" in body && typeof body.next === "function")) {
      return { bodyHeaders: void 0, body: ReadableStreamFrom(body) };
    } else {
      return this.encoder({ body, headers });
    }
  }
};
BaseGeminiNextGenAPIClient.DEFAULT_TIMEOUT = 6e4;
var GeminiNextGenAPIClient = class extends BaseGeminiNextGenAPIClient {
  constructor() {
    super(...arguments);
    this.interactions = new Interactions(this);
  }
};
_a = GeminiNextGenAPIClient;
GeminiNextGenAPIClient.GeminiNextGenAPIClient = _a;
GeminiNextGenAPIClient.GeminiNextGenAPIClientError = GeminiNextGenAPIClientError;
GeminiNextGenAPIClient.APIError = APIError;
GeminiNextGenAPIClient.APIConnectionError = APIConnectionError;
GeminiNextGenAPIClient.APIConnectionTimeoutError = APIConnectionTimeoutError;
GeminiNextGenAPIClient.APIUserAbortError = APIUserAbortError;
GeminiNextGenAPIClient.NotFoundError = NotFoundError;
GeminiNextGenAPIClient.ConflictError = ConflictError;
GeminiNextGenAPIClient.RateLimitError = RateLimitError;
GeminiNextGenAPIClient.BadRequestError = BadRequestError;
GeminiNextGenAPIClient.AuthenticationError = AuthenticationError;
GeminiNextGenAPIClient.InternalServerError = InternalServerError;
GeminiNextGenAPIClient.PermissionDeniedError = PermissionDeniedError;
GeminiNextGenAPIClient.UnprocessableEntityError = UnprocessableEntityError;
GeminiNextGenAPIClient.toFile = toFile;
GeminiNextGenAPIClient.Interactions = Interactions;
function cancelTuningJobParametersToMldev(fromObject, _rootObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], fromName);
  }
  return toObject;
}
function cancelTuningJobParametersToVertex(fromObject, _rootObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], fromName);
  }
  return toObject;
}
function cancelTuningJobResponseFromMldev(fromObject, _rootObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  return toObject;
}
function cancelTuningJobResponseFromVertex(fromObject, _rootObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  return toObject;
}
function createTuningJobConfigToMldev(fromObject, parentObject, _rootObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["validationDataset"]) !== void 0) {
    throw new Error("validationDataset parameter is not supported in Gemini API.");
  }
  const fromTunedModelDisplayName = getValueByPath(fromObject, [
    "tunedModelDisplayName"
  ]);
  if (parentObject !== void 0 && fromTunedModelDisplayName != null) {
    setValueByPath(parentObject, ["displayName"], fromTunedModelDisplayName);
  }
  if (getValueByPath(fromObject, ["description"]) !== void 0) {
    throw new Error("description parameter is not supported in Gemini API.");
  }
  const fromEpochCount = getValueByPath(fromObject, ["epochCount"]);
  if (parentObject !== void 0 && fromEpochCount != null) {
    setValueByPath(parentObject, ["tuningTask", "hyperparameters", "epochCount"], fromEpochCount);
  }
  const fromLearningRateMultiplier = getValueByPath(fromObject, [
    "learningRateMultiplier"
  ]);
  if (fromLearningRateMultiplier != null) {
    setValueByPath(toObject, ["tuningTask", "hyperparameters", "learningRateMultiplier"], fromLearningRateMultiplier);
  }
  if (getValueByPath(fromObject, ["exportLastCheckpointOnly"]) !== void 0) {
    throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["preTunedModelCheckpointId"]) !== void 0) {
    throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["adapterSize"]) !== void 0) {
    throw new Error("adapterSize parameter is not supported in Gemini API.");
  }
  const fromBatchSize = getValueByPath(fromObject, ["batchSize"]);
  if (parentObject !== void 0 && fromBatchSize != null) {
    setValueByPath(parentObject, ["tuningTask", "hyperparameters", "batchSize"], fromBatchSize);
  }
  const fromLearningRate = getValueByPath(fromObject, ["learningRate"]);
  if (parentObject !== void 0 && fromLearningRate != null) {
    setValueByPath(parentObject, ["tuningTask", "hyperparameters", "learningRate"], fromLearningRate);
  }
  if (getValueByPath(fromObject, ["labels"]) !== void 0) {
    throw new Error("labels parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["beta"]) !== void 0) {
    throw new Error("beta parameter is not supported in Gemini API.");
  }
  return toObject;
}
function createTuningJobConfigToVertex(fromObject, parentObject, rootObject) {
  const toObject = {};
  let discriminatorValidationDataset = getValueByPath(rootObject, [
    "config",
    "method"
  ]);
  if (discriminatorValidationDataset === void 0) {
    discriminatorValidationDataset = "SUPERVISED_FINE_TUNING";
  }
  if (discriminatorValidationDataset === "SUPERVISED_FINE_TUNING") {
    const fromValidationDataset = getValueByPath(fromObject, [
      "validationDataset"
    ]);
    if (parentObject !== void 0 && fromValidationDataset != null) {
      setValueByPath(parentObject, ["supervisedTuningSpec"], tuningValidationDatasetToVertex(fromValidationDataset));
    }
  } else if (discriminatorValidationDataset === "PREFERENCE_TUNING") {
    const fromValidationDataset = getValueByPath(fromObject, [
      "validationDataset"
    ]);
    if (parentObject !== void 0 && fromValidationDataset != null) {
      setValueByPath(parentObject, ["preferenceOptimizationSpec"], tuningValidationDatasetToVertex(fromValidationDataset));
    }
  }
  const fromTunedModelDisplayName = getValueByPath(fromObject, [
    "tunedModelDisplayName"
  ]);
  if (parentObject !== void 0 && fromTunedModelDisplayName != null) {
    setValueByPath(parentObject, ["tunedModelDisplayName"], fromTunedModelDisplayName);
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (parentObject !== void 0 && fromDescription != null) {
    setValueByPath(parentObject, ["description"], fromDescription);
  }
  let discriminatorEpochCount = getValueByPath(rootObject, [
    "config",
    "method"
  ]);
  if (discriminatorEpochCount === void 0) {
    discriminatorEpochCount = "SUPERVISED_FINE_TUNING";
  }
  if (discriminatorEpochCount === "SUPERVISED_FINE_TUNING") {
    const fromEpochCount = getValueByPath(fromObject, ["epochCount"]);
    if (parentObject !== void 0 && fromEpochCount != null) {
      setValueByPath(parentObject, ["supervisedTuningSpec", "hyperParameters", "epochCount"], fromEpochCount);
    }
  } else if (discriminatorEpochCount === "PREFERENCE_TUNING") {
    const fromEpochCount = getValueByPath(fromObject, ["epochCount"]);
    if (parentObject !== void 0 && fromEpochCount != null) {
      setValueByPath(parentObject, ["preferenceOptimizationSpec", "hyperParameters", "epochCount"], fromEpochCount);
    }
  }
  let discriminatorLearningRateMultiplier = getValueByPath(rootObject, [
    "config",
    "method"
  ]);
  if (discriminatorLearningRateMultiplier === void 0) {
    discriminatorLearningRateMultiplier = "SUPERVISED_FINE_TUNING";
  }
  if (discriminatorLearningRateMultiplier === "SUPERVISED_FINE_TUNING") {
    const fromLearningRateMultiplier = getValueByPath(fromObject, [
      "learningRateMultiplier"
    ]);
    if (parentObject !== void 0 && fromLearningRateMultiplier != null) {
      setValueByPath(parentObject, ["supervisedTuningSpec", "hyperParameters", "learningRateMultiplier"], fromLearningRateMultiplier);
    }
  } else if (discriminatorLearningRateMultiplier === "PREFERENCE_TUNING") {
    const fromLearningRateMultiplier = getValueByPath(fromObject, [
      "learningRateMultiplier"
    ]);
    if (parentObject !== void 0 && fromLearningRateMultiplier != null) {
      setValueByPath(parentObject, [
        "preferenceOptimizationSpec",
        "hyperParameters",
        "learningRateMultiplier"
      ], fromLearningRateMultiplier);
    }
  }
  let discriminatorExportLastCheckpointOnly = getValueByPath(rootObject, ["config", "method"]);
  if (discriminatorExportLastCheckpointOnly === void 0) {
    discriminatorExportLastCheckpointOnly = "SUPERVISED_FINE_TUNING";
  }
  if (discriminatorExportLastCheckpointOnly === "SUPERVISED_FINE_TUNING") {
    const fromExportLastCheckpointOnly = getValueByPath(fromObject, [
      "exportLastCheckpointOnly"
    ]);
    if (parentObject !== void 0 && fromExportLastCheckpointOnly != null) {
      setValueByPath(parentObject, ["supervisedTuningSpec", "exportLastCheckpointOnly"], fromExportLastCheckpointOnly);
    }
  } else if (discriminatorExportLastCheckpointOnly === "PREFERENCE_TUNING") {
    const fromExportLastCheckpointOnly = getValueByPath(fromObject, [
      "exportLastCheckpointOnly"
    ]);
    if (parentObject !== void 0 && fromExportLastCheckpointOnly != null) {
      setValueByPath(parentObject, ["preferenceOptimizationSpec", "exportLastCheckpointOnly"], fromExportLastCheckpointOnly);
    }
  }
  let discriminatorAdapterSize = getValueByPath(rootObject, [
    "config",
    "method"
  ]);
  if (discriminatorAdapterSize === void 0) {
    discriminatorAdapterSize = "SUPERVISED_FINE_TUNING";
  }
  if (discriminatorAdapterSize === "SUPERVISED_FINE_TUNING") {
    const fromAdapterSize = getValueByPath(fromObject, ["adapterSize"]);
    if (parentObject !== void 0 && fromAdapterSize != null) {
      setValueByPath(parentObject, ["supervisedTuningSpec", "hyperParameters", "adapterSize"], fromAdapterSize);
    }
  } else if (discriminatorAdapterSize === "PREFERENCE_TUNING") {
    const fromAdapterSize = getValueByPath(fromObject, ["adapterSize"]);
    if (parentObject !== void 0 && fromAdapterSize != null) {
      setValueByPath(parentObject, ["preferenceOptimizationSpec", "hyperParameters", "adapterSize"], fromAdapterSize);
    }
  }
  if (getValueByPath(fromObject, ["batchSize"]) !== void 0) {
    throw new Error("batchSize parameter is not supported in Vertex AI.");
  }
  if (getValueByPath(fromObject, ["learningRate"]) !== void 0) {
    throw new Error("learningRate parameter is not supported in Vertex AI.");
  }
  const fromLabels = getValueByPath(fromObject, ["labels"]);
  if (parentObject !== void 0 && fromLabels != null) {
    setValueByPath(parentObject, ["labels"], fromLabels);
  }
  const fromBeta = getValueByPath(fromObject, ["beta"]);
  if (parentObject !== void 0 && fromBeta != null) {
    setValueByPath(parentObject, ["preferenceOptimizationSpec", "hyperParameters", "beta"], fromBeta);
  }
  return toObject;
}
function createTuningJobParametersPrivateToMldev(fromObject, rootObject) {
  const toObject = {};
  const fromBaseModel = getValueByPath(fromObject, ["baseModel"]);
  if (fromBaseModel != null) {
    setValueByPath(toObject, ["baseModel"], fromBaseModel);
  }
  const fromPreTunedModel = getValueByPath(fromObject, [
    "preTunedModel"
  ]);
  if (fromPreTunedModel != null) {
    setValueByPath(toObject, ["preTunedModel"], fromPreTunedModel);
  }
  const fromTrainingDataset = getValueByPath(fromObject, [
    "trainingDataset"
  ]);
  if (fromTrainingDataset != null) {
    tuningDatasetToMldev(fromTrainingDataset);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    createTuningJobConfigToMldev(fromConfig, toObject);
  }
  return toObject;
}
function createTuningJobParametersPrivateToVertex(fromObject, rootObject) {
  const toObject = {};
  const fromBaseModel = getValueByPath(fromObject, ["baseModel"]);
  if (fromBaseModel != null) {
    setValueByPath(toObject, ["baseModel"], fromBaseModel);
  }
  const fromPreTunedModel = getValueByPath(fromObject, [
    "preTunedModel"
  ]);
  if (fromPreTunedModel != null) {
    setValueByPath(toObject, ["preTunedModel"], fromPreTunedModel);
  }
  const fromTrainingDataset = getValueByPath(fromObject, [
    "trainingDataset"
  ]);
  if (fromTrainingDataset != null) {
    tuningDatasetToVertex(fromTrainingDataset, toObject, rootObject);
  }
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    createTuningJobConfigToVertex(fromConfig, toObject, rootObject);
  }
  return toObject;
}
function getTuningJobParametersToMldev(fromObject, _rootObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], fromName);
  }
  return toObject;
}
function getTuningJobParametersToVertex(fromObject, _rootObject) {
  const toObject = {};
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["_url", "name"], fromName);
  }
  return toObject;
}
function listTuningJobsConfigToMldev(fromObject, parentObject, _rootObject) {
  const toObject = {};
  const fromPageSize = getValueByPath(fromObject, ["pageSize"]);
  if (parentObject !== void 0 && fromPageSize != null) {
    setValueByPath(parentObject, ["_query", "pageSize"], fromPageSize);
  }
  const fromPageToken = getValueByPath(fromObject, ["pageToken"]);
  if (parentObject !== void 0 && fromPageToken != null) {
    setValueByPath(parentObject, ["_query", "pageToken"], fromPageToken);
  }
  const fromFilter = getValueByPath(fromObject, ["filter"]);
  if (parentObject !== void 0 && fromFilter != null) {
    setValueByPath(parentObject, ["_query", "filter"], fromFilter);
  }
  return toObject;
}
function listTuningJobsConfigToVertex(fromObject, parentObject, _rootObject) {
  const toObject = {};
  const fromPageSize = getValueByPath(fromObject, ["pageSize"]);
  if (parentObject !== void 0 && fromPageSize != null) {
    setValueByPath(parentObject, ["_query", "pageSize"], fromPageSize);
  }
  const fromPageToken = getValueByPath(fromObject, ["pageToken"]);
  if (parentObject !== void 0 && fromPageToken != null) {
    setValueByPath(parentObject, ["_query", "pageToken"], fromPageToken);
  }
  const fromFilter = getValueByPath(fromObject, ["filter"]);
  if (parentObject !== void 0 && fromFilter != null) {
    setValueByPath(parentObject, ["_query", "filter"], fromFilter);
  }
  return toObject;
}
function listTuningJobsParametersToMldev(fromObject, rootObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    listTuningJobsConfigToMldev(fromConfig, toObject);
  }
  return toObject;
}
function listTuningJobsParametersToVertex(fromObject, rootObject) {
  const toObject = {};
  const fromConfig = getValueByPath(fromObject, ["config"]);
  if (fromConfig != null) {
    listTuningJobsConfigToVertex(fromConfig, toObject);
  }
  return toObject;
}
function listTuningJobsResponseFromMldev(fromObject, rootObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromNextPageToken = getValueByPath(fromObject, [
    "nextPageToken"
  ]);
  if (fromNextPageToken != null) {
    setValueByPath(toObject, ["nextPageToken"], fromNextPageToken);
  }
  const fromTuningJobs = getValueByPath(fromObject, ["tunedModels"]);
  if (fromTuningJobs != null) {
    let transformedList = fromTuningJobs;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return tuningJobFromMldev(item);
      });
    }
    setValueByPath(toObject, ["tuningJobs"], transformedList);
  }
  return toObject;
}
function listTuningJobsResponseFromVertex(fromObject, rootObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromNextPageToken = getValueByPath(fromObject, [
    "nextPageToken"
  ]);
  if (fromNextPageToken != null) {
    setValueByPath(toObject, ["nextPageToken"], fromNextPageToken);
  }
  const fromTuningJobs = getValueByPath(fromObject, ["tuningJobs"]);
  if (fromTuningJobs != null) {
    let transformedList = fromTuningJobs;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return tuningJobFromVertex(item);
      });
    }
    setValueByPath(toObject, ["tuningJobs"], transformedList);
  }
  return toObject;
}
function tunedModelFromMldev(fromObject, _rootObject) {
  const toObject = {};
  const fromModel = getValueByPath(fromObject, ["name"]);
  if (fromModel != null) {
    setValueByPath(toObject, ["model"], fromModel);
  }
  const fromEndpoint = getValueByPath(fromObject, ["name"]);
  if (fromEndpoint != null) {
    setValueByPath(toObject, ["endpoint"], fromEndpoint);
  }
  return toObject;
}
function tuningDatasetToMldev(fromObject, _rootObject) {
  const toObject = {};
  if (getValueByPath(fromObject, ["gcsUri"]) !== void 0) {
    throw new Error("gcsUri parameter is not supported in Gemini API.");
  }
  if (getValueByPath(fromObject, ["vertexDatasetResource"]) !== void 0) {
    throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");
  }
  const fromExamples = getValueByPath(fromObject, ["examples"]);
  if (fromExamples != null) {
    let transformedList = fromExamples;
    if (Array.isArray(transformedList)) {
      transformedList = transformedList.map((item) => {
        return item;
      });
    }
    setValueByPath(toObject, ["examples", "examples"], transformedList);
  }
  return toObject;
}
function tuningDatasetToVertex(fromObject, parentObject, rootObject) {
  const toObject = {};
  let discriminatorGcsUri = getValueByPath(rootObject, [
    "config",
    "method"
  ]);
  if (discriminatorGcsUri === void 0) {
    discriminatorGcsUri = "SUPERVISED_FINE_TUNING";
  }
  if (discriminatorGcsUri === "SUPERVISED_FINE_TUNING") {
    const fromGcsUri = getValueByPath(fromObject, ["gcsUri"]);
    if (parentObject !== void 0 && fromGcsUri != null) {
      setValueByPath(parentObject, ["supervisedTuningSpec", "trainingDatasetUri"], fromGcsUri);
    }
  } else if (discriminatorGcsUri === "PREFERENCE_TUNING") {
    const fromGcsUri = getValueByPath(fromObject, ["gcsUri"]);
    if (parentObject !== void 0 && fromGcsUri != null) {
      setValueByPath(parentObject, ["preferenceOptimizationSpec", "trainingDatasetUri"], fromGcsUri);
    }
  }
  let discriminatorVertexDatasetResource = getValueByPath(rootObject, [
    "config",
    "method"
  ]);
  if (discriminatorVertexDatasetResource === void 0) {
    discriminatorVertexDatasetResource = "SUPERVISED_FINE_TUNING";
  }
  if (discriminatorVertexDatasetResource === "SUPERVISED_FINE_TUNING") {
    const fromVertexDatasetResource = getValueByPath(fromObject, [
      "vertexDatasetResource"
    ]);
    if (parentObject !== void 0 && fromVertexDatasetResource != null) {
      setValueByPath(parentObject, ["supervisedTuningSpec", "trainingDatasetUri"], fromVertexDatasetResource);
    }
  } else if (discriminatorVertexDatasetResource === "PREFERENCE_TUNING") {
    const fromVertexDatasetResource = getValueByPath(fromObject, [
      "vertexDatasetResource"
    ]);
    if (parentObject !== void 0 && fromVertexDatasetResource != null) {
      setValueByPath(parentObject, ["preferenceOptimizationSpec", "trainingDatasetUri"], fromVertexDatasetResource);
    }
  }
  if (getValueByPath(fromObject, ["examples"]) !== void 0) {
    throw new Error("examples parameter is not supported in Vertex AI.");
  }
  return toObject;
}
function tuningJobFromMldev(fromObject, rootObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromState = getValueByPath(fromObject, ["state"]);
  if (fromState != null) {
    setValueByPath(toObject, ["state"], tTuningJobStatus(fromState));
  }
  const fromCreateTime = getValueByPath(fromObject, ["createTime"]);
  if (fromCreateTime != null) {
    setValueByPath(toObject, ["createTime"], fromCreateTime);
  }
  const fromStartTime = getValueByPath(fromObject, [
    "tuningTask",
    "startTime"
  ]);
  if (fromStartTime != null) {
    setValueByPath(toObject, ["startTime"], fromStartTime);
  }
  const fromEndTime = getValueByPath(fromObject, [
    "tuningTask",
    "completeTime"
  ]);
  if (fromEndTime != null) {
    setValueByPath(toObject, ["endTime"], fromEndTime);
  }
  const fromUpdateTime = getValueByPath(fromObject, ["updateTime"]);
  if (fromUpdateTime != null) {
    setValueByPath(toObject, ["updateTime"], fromUpdateTime);
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromBaseModel = getValueByPath(fromObject, ["baseModel"]);
  if (fromBaseModel != null) {
    setValueByPath(toObject, ["baseModel"], fromBaseModel);
  }
  const fromTunedModel = getValueByPath(fromObject, ["_self"]);
  if (fromTunedModel != null) {
    setValueByPath(toObject, ["tunedModel"], tunedModelFromMldev(fromTunedModel));
  }
  return toObject;
}
function tuningJobFromVertex(fromObject, _rootObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromState = getValueByPath(fromObject, ["state"]);
  if (fromState != null) {
    setValueByPath(toObject, ["state"], tTuningJobStatus(fromState));
  }
  const fromCreateTime = getValueByPath(fromObject, ["createTime"]);
  if (fromCreateTime != null) {
    setValueByPath(toObject, ["createTime"], fromCreateTime);
  }
  const fromStartTime = getValueByPath(fromObject, ["startTime"]);
  if (fromStartTime != null) {
    setValueByPath(toObject, ["startTime"], fromStartTime);
  }
  const fromEndTime = getValueByPath(fromObject, ["endTime"]);
  if (fromEndTime != null) {
    setValueByPath(toObject, ["endTime"], fromEndTime);
  }
  const fromUpdateTime = getValueByPath(fromObject, ["updateTime"]);
  if (fromUpdateTime != null) {
    setValueByPath(toObject, ["updateTime"], fromUpdateTime);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fromError);
  }
  const fromDescription = getValueByPath(fromObject, ["description"]);
  if (fromDescription != null) {
    setValueByPath(toObject, ["description"], fromDescription);
  }
  const fromBaseModel = getValueByPath(fromObject, ["baseModel"]);
  if (fromBaseModel != null) {
    setValueByPath(toObject, ["baseModel"], fromBaseModel);
  }
  const fromTunedModel = getValueByPath(fromObject, ["tunedModel"]);
  if (fromTunedModel != null) {
    setValueByPath(toObject, ["tunedModel"], fromTunedModel);
  }
  const fromPreTunedModel = getValueByPath(fromObject, [
    "preTunedModel"
  ]);
  if (fromPreTunedModel != null) {
    setValueByPath(toObject, ["preTunedModel"], fromPreTunedModel);
  }
  const fromSupervisedTuningSpec = getValueByPath(fromObject, [
    "supervisedTuningSpec"
  ]);
  if (fromSupervisedTuningSpec != null) {
    setValueByPath(toObject, ["supervisedTuningSpec"], fromSupervisedTuningSpec);
  }
  const fromPreferenceOptimizationSpec = getValueByPath(fromObject, [
    "preferenceOptimizationSpec"
  ]);
  if (fromPreferenceOptimizationSpec != null) {
    setValueByPath(toObject, ["preferenceOptimizationSpec"], fromPreferenceOptimizationSpec);
  }
  const fromTuningDataStats = getValueByPath(fromObject, [
    "tuningDataStats"
  ]);
  if (fromTuningDataStats != null) {
    setValueByPath(toObject, ["tuningDataStats"], fromTuningDataStats);
  }
  const fromEncryptionSpec = getValueByPath(fromObject, [
    "encryptionSpec"
  ]);
  if (fromEncryptionSpec != null) {
    setValueByPath(toObject, ["encryptionSpec"], fromEncryptionSpec);
  }
  const fromPartnerModelTuningSpec = getValueByPath(fromObject, [
    "partnerModelTuningSpec"
  ]);
  if (fromPartnerModelTuningSpec != null) {
    setValueByPath(toObject, ["partnerModelTuningSpec"], fromPartnerModelTuningSpec);
  }
  const fromCustomBaseModel = getValueByPath(fromObject, [
    "customBaseModel"
  ]);
  if (fromCustomBaseModel != null) {
    setValueByPath(toObject, ["customBaseModel"], fromCustomBaseModel);
  }
  const fromExperiment = getValueByPath(fromObject, ["experiment"]);
  if (fromExperiment != null) {
    setValueByPath(toObject, ["experiment"], fromExperiment);
  }
  const fromLabels = getValueByPath(fromObject, ["labels"]);
  if (fromLabels != null) {
    setValueByPath(toObject, ["labels"], fromLabels);
  }
  const fromOutputUri = getValueByPath(fromObject, ["outputUri"]);
  if (fromOutputUri != null) {
    setValueByPath(toObject, ["outputUri"], fromOutputUri);
  }
  const fromPipelineJob = getValueByPath(fromObject, ["pipelineJob"]);
  if (fromPipelineJob != null) {
    setValueByPath(toObject, ["pipelineJob"], fromPipelineJob);
  }
  const fromServiceAccount = getValueByPath(fromObject, [
    "serviceAccount"
  ]);
  if (fromServiceAccount != null) {
    setValueByPath(toObject, ["serviceAccount"], fromServiceAccount);
  }
  const fromTunedModelDisplayName = getValueByPath(fromObject, [
    "tunedModelDisplayName"
  ]);
  if (fromTunedModelDisplayName != null) {
    setValueByPath(toObject, ["tunedModelDisplayName"], fromTunedModelDisplayName);
  }
  const fromVeoTuningSpec = getValueByPath(fromObject, [
    "veoTuningSpec"
  ]);
  if (fromVeoTuningSpec != null) {
    setValueByPath(toObject, ["veoTuningSpec"], fromVeoTuningSpec);
  }
  return toObject;
}
function tuningOperationFromMldev(fromObject, _rootObject) {
  const toObject = {};
  const fromSdkHttpResponse = getValueByPath(fromObject, [
    "sdkHttpResponse"
  ]);
  if (fromSdkHttpResponse != null) {
    setValueByPath(toObject, ["sdkHttpResponse"], fromSdkHttpResponse);
  }
  const fromName = getValueByPath(fromObject, ["name"]);
  if (fromName != null) {
    setValueByPath(toObject, ["name"], fromName);
  }
  const fromMetadata = getValueByPath(fromObject, ["metadata"]);
  if (fromMetadata != null) {
    setValueByPath(toObject, ["metadata"], fromMetadata);
  }
  const fromDone = getValueByPath(fromObject, ["done"]);
  if (fromDone != null) {
    setValueByPath(toObject, ["done"], fromDone);
  }
  const fromError = getValueByPath(fromObject, ["error"]);
  if (fromError != null) {
    setValueByPath(toObject, ["error"], fromError);
  }
  return toObject;
}
function tuningValidationDatasetToVertex(fromObject, _rootObject) {
  const toObject = {};
  const fromGcsUri = getValueByPath(fromObject, ["gcsUri"]);
  if (fromGcsUri != null) {
    setValueByPath(toObject, ["validationDatasetUri"], fromGcsUri);
  }
  const fromVertexDatasetResource = getValueByPath(fromObject, [
    "vertexDatasetResource"
  ]);
  if (fromVertexDatasetResource != null) {
    setValueByPath(toObject, ["validationDatasetUri"], fromVertexDatasetResource);
  }
  return toObject;
}
var Tunings = class extends BaseModule {
  constructor(apiClient) {
    super();
    this.apiClient = apiClient;
    this.list = async (params = {}) => {
      return new Pager(PagedItem.PAGED_ITEM_TUNING_JOBS, (x) => this.listInternal(x), await this.listInternal(params), params);
    };
    this.get = async (params) => {
      return await this.getInternal(params);
    };
    this.tune = async (params) => {
      var _a2;
      if (this.apiClient.isVertexAI()) {
        if (params.baseModel.startsWith("projects/")) {
          const preTunedModel = {
            tunedModelName: params.baseModel
          };
          if ((_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.preTunedModelCheckpointId) {
            preTunedModel.checkpointId = params.config.preTunedModelCheckpointId;
          }
          const paramsPrivate = Object.assign(Object.assign({}, params), { preTunedModel });
          paramsPrivate.baseModel = void 0;
          return await this.tuneInternal(paramsPrivate);
        } else {
          const paramsPrivate = Object.assign({}, params);
          return await this.tuneInternal(paramsPrivate);
        }
      } else {
        const paramsPrivate = Object.assign({}, params);
        const operation = await this.tuneMldevInternal(paramsPrivate);
        let tunedModelName = "";
        if (operation["metadata"] !== void 0 && operation["metadata"]["tunedModel"] !== void 0) {
          tunedModelName = operation["metadata"]["tunedModel"];
        } else if (operation["name"] !== void 0 && operation["name"].includes("/operations/")) {
          tunedModelName = operation["name"].split("/operations/")[0];
        }
        const tuningJob = {
          name: tunedModelName,
          state: JobState.JOB_STATE_QUEUED
        };
        return tuningJob;
      }
    };
  }
  async getInternal(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = getTuningJobParametersToVertex(params);
      path2 = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = tuningJobFromVertex(apiResponse);
        return resp;
      });
    } else {
      const body = getTuningJobParametersToMldev(params);
      path2 = formatMap("{name}", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = tuningJobFromMldev(apiResponse);
        return resp;
      });
    }
  }
  async listInternal(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = listTuningJobsParametersToVertex(params);
      path2 = formatMap("tuningJobs", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = listTuningJobsResponseFromVertex(apiResponse);
        const typedResp = new ListTuningJobsResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = listTuningJobsParametersToMldev(params);
      path2 = formatMap("tunedModels", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "GET",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = listTuningJobsResponseFromMldev(apiResponse);
        const typedResp = new ListTuningJobsResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  /**
   * Cancels a tuning job.
   *
   * @param params - The parameters for the cancel request.
   * @return The empty response returned by the API.
   *
   * @example
   * ```ts
   * await ai.tunings.cancel({name: '...'}); // The server-generated resource name.
   * ```
   */
  async cancel(params) {
    var _a2, _b, _c, _d;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = cancelTuningJobParametersToVertex(params);
      path2 = formatMap("{name}:cancel", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = cancelTuningJobResponseFromVertex(apiResponse);
        const typedResp = new CancelTuningJobResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    } else {
      const body = cancelTuningJobParametersToMldev(params);
      path2 = formatMap("{name}:cancel", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_c = params.config) === null || _c === void 0 ? void 0 : _c.httpOptions,
        abortSignal: (_d = params.config) === null || _d === void 0 ? void 0 : _d.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = cancelTuningJobResponseFromMldev(apiResponse);
        const typedResp = new CancelTuningJobResponse();
        Object.assign(typedResp, resp);
        return typedResp;
      });
    }
  }
  async tuneInternal(params) {
    var _a2, _b;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      const body = createTuningJobParametersPrivateToVertex(params, params);
      path2 = formatMap("tuningJobs", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = tuningJobFromVertex(apiResponse);
        return resp;
      });
    } else {
      throw new Error("This method is only supported by the Vertex AI.");
    }
  }
  async tuneMldevInternal(params) {
    var _a2, _b;
    let response;
    let path2 = "";
    let queryParams = {};
    if (this.apiClient.isVertexAI()) {
      throw new Error("This method is only supported by the Gemini Developer API.");
    } else {
      const body = createTuningJobParametersPrivateToMldev(params);
      path2 = formatMap("tunedModels", body["_url"]);
      queryParams = body["_query"];
      delete body["_url"];
      delete body["_query"];
      response = this.apiClient.request({
        path: path2,
        queryParams,
        body: JSON.stringify(body),
        httpMethod: "POST",
        httpOptions: (_a2 = params.config) === null || _a2 === void 0 ? void 0 : _a2.httpOptions,
        abortSignal: (_b = params.config) === null || _b === void 0 ? void 0 : _b.abortSignal
      }).then((httpResponse) => {
        return httpResponse.json().then((jsonResponse) => {
          const response2 = jsonResponse;
          response2.sdkHttpResponse = {
            headers: httpResponse.headers
          };
          return response2;
        });
      });
      return response.then((apiResponse) => {
        const resp = tuningOperationFromMldev(apiResponse);
        return resp;
      });
    }
  }
};
var BrowserDownloader = class {
  async download(_params, _apiClient) {
    throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.");
  }
};
var MAX_CHUNK_SIZE = 1024 * 1024 * 8;
var MAX_RETRY_COUNT = 3;
var INITIAL_RETRY_DELAY_MS = 1e3;
var DELAY_MULTIPLIER = 2;
var X_GOOG_UPLOAD_STATUS_HEADER_FIELD = "x-goog-upload-status";
async function uploadBlob(file, uploadUrl, apiClient) {
  var _a2;
  const response = await uploadBlobInternal(file, uploadUrl, apiClient);
  const responseJson = await (response === null || response === void 0 ? void 0 : response.json());
  if (((_a2 = response === null || response === void 0 ? void 0 : response.headers) === null || _a2 === void 0 ? void 0 : _a2[X_GOOG_UPLOAD_STATUS_HEADER_FIELD]) !== "final") {
    throw new Error("Failed to upload file: Upload status is not finalized.");
  }
  return responseJson["file"];
}
async function uploadBlobToFileSearchStore(file, uploadUrl, apiClient) {
  var _a2;
  const response = await uploadBlobInternal(file, uploadUrl, apiClient);
  const responseJson = await (response === null || response === void 0 ? void 0 : response.json());
  if (((_a2 = response === null || response === void 0 ? void 0 : response.headers) === null || _a2 === void 0 ? void 0 : _a2[X_GOOG_UPLOAD_STATUS_HEADER_FIELD]) !== "final") {
    throw new Error("Failed to upload file: Upload status is not finalized.");
  }
  const resp = uploadToFileSearchStoreOperationFromMldev(responseJson);
  const typedResp = new UploadToFileSearchStoreOperation();
  Object.assign(typedResp, resp);
  return typedResp;
}
async function uploadBlobInternal(file, uploadUrl, apiClient) {
  var _a2, _b;
  let fileSize = 0;
  let offset = 0;
  let response = new HttpResponse(new Response());
  let uploadCommand = "upload";
  fileSize = file.size;
  while (offset < fileSize) {
    const chunkSize = Math.min(MAX_CHUNK_SIZE, fileSize - offset);
    const chunk = file.slice(offset, offset + chunkSize);
    if (offset + chunkSize >= fileSize) {
      uploadCommand += ", finalize";
    }
    let retryCount = 0;
    let currentDelayMs = INITIAL_RETRY_DELAY_MS;
    while (retryCount < MAX_RETRY_COUNT) {
      response = await apiClient.request({
        path: "",
        body: chunk,
        httpMethod: "POST",
        httpOptions: {
          apiVersion: "",
          baseUrl: uploadUrl,
          headers: {
            "X-Goog-Upload-Command": uploadCommand,
            "X-Goog-Upload-Offset": String(offset),
            "Content-Length": String(chunkSize)
          }
        }
      });
      if ((_a2 = response === null || response === void 0 ? void 0 : response.headers) === null || _a2 === void 0 ? void 0 : _a2[X_GOOG_UPLOAD_STATUS_HEADER_FIELD]) {
        break;
      }
      retryCount++;
      await sleep(currentDelayMs);
      currentDelayMs = currentDelayMs * DELAY_MULTIPLIER;
    }
    offset += chunkSize;
    if (((_b = response === null || response === void 0 ? void 0 : response.headers) === null || _b === void 0 ? void 0 : _b[X_GOOG_UPLOAD_STATUS_HEADER_FIELD]) !== "active") {
      break;
    }
    if (fileSize <= offset) {
      throw new Error("All content has been uploaded, but the upload status is not finalized.");
    }
  }
  return response;
}
async function getBlobStat(file) {
  const fileStat = { size: file.size, type: file.type };
  return fileStat;
}
function sleep(ms) {
  return new Promise((resolvePromise) => setTimeout(resolvePromise, ms));
}
var BrowserUploader = class {
  async upload(file, uploadUrl, apiClient) {
    if (typeof file === "string") {
      throw new Error("File path is not supported in browser uploader.");
    }
    return await uploadBlob(file, uploadUrl, apiClient);
  }
  async uploadToFileSearchStore(file, uploadUrl, apiClient) {
    if (typeof file === "string") {
      throw new Error("File path is not supported in browser uploader.");
    }
    return await uploadBlobToFileSearchStore(file, uploadUrl, apiClient);
  }
  async stat(file) {
    if (typeof file === "string") {
      throw new Error("File path is not supported in browser uploader.");
    } else {
      return await getBlobStat(file);
    }
  }
};
var BrowserWebSocketFactory = class {
  create(url, headers, callbacks) {
    return new BrowserWebSocket(url, headers, callbacks);
  }
};
var BrowserWebSocket = class {
  constructor(url, headers, callbacks) {
    this.url = url;
    this.headers = headers;
    this.callbacks = callbacks;
  }
  connect() {
    this.ws = new WebSocket(this.url);
    this.ws.onopen = this.callbacks.onopen;
    this.ws.onerror = this.callbacks.onerror;
    this.ws.onclose = this.callbacks.onclose;
    this.ws.onmessage = this.callbacks.onmessage;
  }
  send(message) {
    if (this.ws === void 0) {
      throw new Error("WebSocket is not connected");
    }
    this.ws.send(message);
  }
  close() {
    if (this.ws === void 0) {
      throw new Error("WebSocket is not connected");
    }
    this.ws.close();
  }
};
var GOOGLE_API_KEY_HEADER = "x-goog-api-key";
var WebAuth = class {
  constructor(apiKey) {
    this.apiKey = apiKey;
  }
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  async addAuthHeaders(headers, url) {
    if (headers.get(GOOGLE_API_KEY_HEADER) !== null) {
      return;
    }
    if (this.apiKey.startsWith("auth_tokens/")) {
      throw new Error("Ephemeral tokens are only supported by the live API.");
    }
    if (!this.apiKey) {
      throw new Error("API key is missing. Please provide a valid API key.");
    }
    headers.append(GOOGLE_API_KEY_HEADER, this.apiKey);
  }
};
var LANGUAGE_LABEL_PREFIX = "gl-node/";
var GoogleGenAI = class {
  get interactions() {
    if (this._interactions !== void 0) {
      return this._interactions;
    }
    console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");
    const httpOpts = this.httpOptions;
    if (httpOpts === null || httpOpts === void 0 ? void 0 : httpOpts.extraBody) {
      console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");
    }
    const nextGenClient = new GeminiNextGenAPIClient({
      baseURL: this.apiClient.getBaseUrl(),
      apiKey: this.apiKey,
      apiVersion: this.apiClient.getApiVersion(),
      clientAdapter: this.apiClient,
      defaultHeaders: this.apiClient.getDefaultHeaders(),
      timeout: httpOpts === null || httpOpts === void 0 ? void 0 : httpOpts.timeout
    });
    this._interactions = nextGenClient.interactions;
    return this._interactions;
  }
  constructor(options) {
    var _a2;
    if (options.apiKey == null) {
      throw new Error("An API Key must be set when running in a browser");
    }
    if (options.project || options.location) {
      throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");
    }
    this.vertexai = (_a2 = options.vertexai) !== null && _a2 !== void 0 ? _a2 : false;
    this.apiKey = options.apiKey;
    const baseUrl = getBaseUrl(
      options.httpOptions,
      options.vertexai,
      /*vertexBaseUrlFromEnv*/
      void 0,
      /*geminiBaseUrlFromEnv*/
      void 0
    );
    if (baseUrl) {
      if (options.httpOptions) {
        options.httpOptions.baseUrl = baseUrl;
      } else {
        options.httpOptions = { baseUrl };
      }
    }
    this.apiVersion = options.apiVersion;
    this.httpOptions = options.httpOptions;
    const auth = new WebAuth(this.apiKey);
    this.apiClient = new ApiClient({
      auth,
      apiVersion: this.apiVersion,
      apiKey: this.apiKey,
      vertexai: this.vertexai,
      httpOptions: this.httpOptions,
      userAgentExtra: LANGUAGE_LABEL_PREFIX + "web",
      uploader: new BrowserUploader(),
      downloader: new BrowserDownloader()
    });
    this.models = new Models(this.apiClient);
    this.live = new Live(this.apiClient, auth, new BrowserWebSocketFactory());
    this.batches = new Batches(this.apiClient);
    this.chats = new Chats(this.models, this.apiClient);
    this.caches = new Caches(this.apiClient);
    this.files = new Files(this.apiClient);
    this.operations = new Operations(this.apiClient);
    this.authTokens = new Tokens(this.apiClient);
    this.tunings = new Tunings(this.apiClient);
    this.fileSearchStores = new FileSearchStores(this.apiClient);
  }
};

// _base/services/transcription/TranscriptionService.ts
var TranscriptionService = class {
  constructor() {
  }
  async transcribe(apiKey, prompt, audioBase64, mimeType, model, timeoutMs = 6 * 60 * 1e3) {
    if (!apiKey) {
      throw new Error("API Key is not provided.");
    }
    try {
      const ai = new GoogleGenAI({ apiKey });
      const audioBuffer = Buffer.from(audioBase64, "base64");
      const audioBlob = new Blob([audioBuffer], {
        type: mimeType || "application/octet-stream"
      });
      const uploadedFile = await Promise.race([
        (async () => {
          return await ai.files.upload({
            file: audioBlob,
            config: { mimeType: mimeType || "application/octet-stream" }
          });
        })(),
        new Promise((_, reject) => {
          const id = setTimeout(() => {
            clearTimeout(id);
            reject(new Error(`File upload timed out after ${timeoutMs} ms`));
          }, timeoutMs);
        })
      ]);
      if (!uploadedFile.uri) {
        throw new Error("File upload failed: URI not returned");
      }
      if (!uploadedFile.mimeType) {
        throw new Error("File upload failed: MIME type not returned");
      }
      const text = await Promise.race([
        (async () => {
          const response = await ai.models.generateContent({
            model,
            contents: createUserContent([
              createPartFromUri(uploadedFile.uri, uploadedFile.mimeType),
              prompt
            ])
          });
          if (!response.text) {
            throw new Error("No text response from model");
          }
          return response.text;
        })(),
        new Promise((_, reject) => {
          const id = setTimeout(() => {
            clearTimeout(id);
            reject(new Error(`Transcription timed out after ${timeoutMs} ms`));
          }, timeoutMs);
        })
      ]);
      return text;
    } catch (error) {
      console.error("Transcription failed:", error);
      throw error;
    }
  }
};

// _base/services/transcription/chunking.ts
function computeWavChunkRanges(params) {
  var _a2, _b;
  const targetChunkMB = (_a2 = params.targetChunkMB) != null ? _a2 : 10;
  const overlapMs = (_b = params.overlapMs) != null ? _b : 2e3;
  const bytesPerSample = params.bitsPerSample / 8;
  const bytesPerFrame = params.numChannels * bytesPerSample;
  const totalFrames = Math.floor(params.dataSize / bytesPerFrame);
  const totalMs = Math.floor(totalFrames / params.sampleRate * 1e3);
  const targetBytes = targetChunkMB * 1024 * 1024;
  let approxChunkMs = Math.max(
    3e4,
    Math.floor(targetBytes / Math.max(1, params.dataSize) * totalMs)
  );
  approxChunkMs = Math.max(12e4, Math.min(48e4, approxChunkMs));
  const chunks = [];
  let cursor = 0;
  while (cursor < totalMs) {
    const startMs = cursor;
    const endMs = Math.min(totalMs, startMs + approxChunkMs);
    chunks.push({ startMs, endMs });
    if (endMs >= totalMs)
      break;
    cursor = endMs - overlapMs;
  }
  return chunks;
}

// _base/utils/progressBus.ts
var ProgressBus = class {
  constructor() {
    this.handlers = /* @__PURE__ */ new Set();
  }
  subscribe(handler) {
    this.handlers.add(handler);
    return () => this.handlers.delete(handler);
  }
  publish(event) {
    for (const h of Array.from(this.handlers)) {
      try {
        h(event);
      } catch (e) {
        console.error("[progressBus] handler error", e);
      }
    }
  }
  clear() {
    this.handlers.clear();
  }
};
var progressBus = new ProgressBus();

// _base/services/obsidian/obisdianFileService.ts
var import_obsidian2 = require("obsidian");
var ObsidianFileService = class {
  constructor(app) {
    this.app = app;
  }
  findFilePath(text, regex) {
    var _a2;
    let filename = "";
    let result;
    for (const reg of regex) {
      while ((result = reg.exec(text)) !== null) {
        const captured = (_a2 = result[1]) != null ? _a2 : result[0];
        filename = decodeURI(captured).trim();
      }
    }
    if (filename === "")
      throw new Error("No file found in the text.");
    const fullPath = filename;
    const fileExists = this.app.vault.getAbstractFileByPath(fullPath) instanceof import_obsidian2.TAbstractFile;
    if (fileExists)
      return fullPath;
    const allFiles = this.app.vault.getFiles();
    const foundFile = allFiles.find(
      (file) => file.name === filename.split("/").pop()
    );
    if (foundFile)
      return foundFile.path;
    throw new Error("File not found");
  }
};

// _base/constants/progress.ts
var VIEW_TYPE_PROGRESS = "progress-view-type";
var VIEW_TITLE = "Transcription progress";
var VIEW_ICON = "audio-file";

// _base/services/audio/AudioService.ts
var AudioService = class {
  arrayBufferToBase64(buffer) {
    let binary = "";
    const bytes = new Uint8Array(buffer);
    const len = bytes.byteLength;
    for (let i = 0; i < len; i++) {
      binary += String.fromCharCode(bytes[i]);
    }
    return window.btoa(binary);
  }
  async arrayBufferToBase64Async(buffer) {
    return await new Promise((resolve, reject) => {
      try {
        const blob = new Blob([buffer]);
        const reader = new FileReader();
        reader.onload = () => {
          const dataUrl = reader.result;
          const commaIndex = dataUrl.indexOf(",");
          resolve(
            commaIndex >= 0 ? dataUrl.substring(commaIndex + 1) : dataUrl
          );
        };
        reader.onerror = (e) => reject(e);
        reader.readAsDataURL(blob);
      } catch (e) {
        reject(e);
      }
    });
  }
  parseWavHeader(buffer) {
    const view = new DataView(buffer);
    const readTag = (offset2) => String.fromCharCode(
      view.getUint8(offset2),
      view.getUint8(offset2 + 1),
      view.getUint8(offset2 + 2),
      view.getUint8(offset2 + 3)
    );
    if (readTag(0) !== "RIFF" || readTag(8) !== "WAVE") {
      throw new Error("Unsupported WAV: Missing RIFF/WAVE header");
    }
    let fmtFound = false;
    let dataFound = false;
    let offset = 12;
    let audioFormat = 1;
    let numChannels = 1;
    let sampleRate = 16e3;
    let bitsPerSample = 16;
    let dataOffset = 0;
    let dataSize = 0;
    while (offset + 8 <= view.byteLength) {
      const chunkId = readTag(offset);
      const chunkSize = view.getUint32(offset + 4, true);
      const next = offset + 8 + chunkSize + chunkSize % 2;
      if (chunkId === "fmt ") {
        audioFormat = view.getUint16(offset + 8, true);
        numChannels = view.getUint16(offset + 10, true);
        sampleRate = view.getUint32(offset + 12, true);
        bitsPerSample = view.getUint16(offset + 22, true);
        fmtFound = true;
      } else if (chunkId === "data") {
        dataOffset = offset + 8;
        dataSize = chunkSize;
        dataFound = true;
      }
      offset = next;
      if (fmtFound && dataFound)
        break;
    }
    if (!fmtFound || !dataFound) {
      throw new Error("Unsupported WAV: Missing fmt or data chunk");
    }
    return {
      audioFormat,
      numChannels,
      sampleRate,
      bitsPerSample,
      dataOffset,
      dataSize
    };
  }
  sliceWavPcm16(buffer, startMs, endMs) {
    const {
      audioFormat,
      numChannels,
      sampleRate,
      bitsPerSample,
      dataOffset,
      dataSize
    } = this.parseWavHeader(buffer);
    if (audioFormat !== 1 || bitsPerSample !== 16) {
      throw new Error(
        `Only PCM 16-bit WAV is supported for chunking (format=${audioFormat}, bps=${bitsPerSample})`
      );
    }
    const bytesPerSample = bitsPerSample / 8;
    const bytesPerFrame = numChannels * bytesPerSample;
    const totalFrames = Math.floor(dataSize / bytesPerFrame);
    const totalMs = Math.floor(totalFrames / sampleRate * 1e3);
    const sMs = Math.max(0, Math.min(startMs, totalMs));
    const eMs = endMs == null ? totalMs : Math.max(sMs, Math.min(endMs, totalMs));
    const startFrame = Math.floor(sMs / 1e3 * sampleRate);
    const endFrame = Math.floor(eMs / 1e3 * sampleRate);
    const startByte = dataOffset + startFrame * bytesPerFrame;
    const endByte = dataOffset + endFrame * bytesPerFrame;
    const newDataSize = Math.max(0, endByte - startByte);
    const out = new ArrayBuffer(44 + newDataSize);
    const view = new DataView(out);
    this.writeString(view, 0, "RIFF");
    view.setUint32(4, 36 + newDataSize, true);
    this.writeString(view, 8, "WAVE");
    this.writeString(view, 12, "fmt ");
    view.setUint32(16, 16, true);
    view.setUint16(20, 1, true);
    view.setUint16(22, numChannels, true);
    view.setUint32(24, sampleRate, true);
    view.setUint32(28, sampleRate * bytesPerFrame, true);
    view.setUint16(32, bytesPerFrame, true);
    view.setUint16(34, bitsPerSample, true);
    this.writeString(view, 36, "data");
    view.setUint32(40, newDataSize, true);
    const src = new Uint8Array(buffer, startByte, newDataSize);
    const dst = new Uint8Array(out, 44, newDataSize);
    dst.set(src);
    return out;
  }
  writeString(view, offset, string) {
    for (let i = 0; i < string.length; i++) {
      view.setUint8(offset + i, string.charCodeAt(i));
    }
  }
};

// _base/constants/regex.ts
var AUDIO_FILE_REGEX = [
  /\[\[([^\[\]]+\.(mp3|mp4|mpeg|mpga|m4a|wav|webm))\]\]/gi,
  /\[[^\]]*\]\(((?:[^()\r\n]+)\.(mp3|mp4|mpeg|mpga|m4a|wav|webm))\)/gi
];

// controllers/TranscriptionController.ts
var TranscriptionController = class {
  constructor(app) {
    this.app = app;
    this.writing = false;
    this.obsidianFileService = new ObsidianFileService(
      this.app
    );
    this.obsidianInteractor = new ObsidianInteractorService(this.app);
    this.transcriptionService = new TranscriptionService();
    this.audioService = new AudioService();
  }
  async run(editor, apiKey, prompt, model) {
    const currentCursorPosition = editor.getCursor();
    const activeFile = this.app.workspace.getActiveFile();
    if (activeFile == null) {
      new import_obsidian3.Notice("No active file found");
      return;
    }
    const textInRange = editor.getRange(
      { line: 0, ch: 0 },
      currentCursorPosition
    );
    const filePath = this.obsidianFileService.findFilePath(
      textInRange,
      AUDIO_FILE_REGEX
    );
    const fileType = filePath.split(".").pop();
    if (fileType == null || fileType == "") {
      new import_obsidian3.Notice("No audio file found");
      return;
    }
    if (this.writing) {
      new import_obsidian3.Notice("Generator is already in progress.");
      return;
    }
    if (!apiKey) {
      new import_obsidian3.Notice(
        "API Key is not configured. Please set it in the plugin settings."
      );
    }
    await this.openProgressView();
    progressBus.publish({
      stage: "model-selected",
      model
    });
    progressBus.publish({
      stage: "target-file-selected",
      path: activeFile.path,
      line: currentCursorPosition.line,
      ch: currentCursorPosition.ch
    });
    try {
      progressBus.publish({ stage: "file-detected", fileName: filePath });
      const file = this.app.vault.getAbstractFileByPath(filePath);
      if (file == null || !(file instanceof import_obsidian3.TFile))
        throw new Error(filePath + " does not exist");
      try {
        const audioBuffer = await this.app.vault.readBinary(file);
        this.writing = true;
        const mimeType = this.fileTypeToMimeType(fileType);
        progressBus.publish({
          stage: "file-size",
          sizeBytes: audioBuffer.byteLength
        });
        try {
          let transcript;
          if (this.isPcm16Wav(audioBuffer)) {
            progressBus.publish({ stage: "preparing-audio" });
            const header = this.audioService.parseWavHeader(audioBuffer);
            const chunks = computeWavChunkRanges({
              dataSize: header.dataSize,
              sampleRate: header.sampleRate,
              bitsPerSample: header.bitsPerSample,
              numChannels: header.numChannels,
              targetChunkMB: 8,
              overlapMs: 1500
            });
            const chunkPrompt = "Transcribe the following audio. Output only the transcript text for this part, without any extra commentary.";
            let combined = "";
            let index = 0;
            for (const c of chunks) {
              index++;
              progressBus.publish({
                stage: "chunk-start",
                chunkIndex: index,
                chunkTotal: chunks.length
              });
              const chunkBuffer = this.audioService.sliceWavPcm16(
                audioBuffer,
                c.startMs,
                c.endMs
              );
              const preface = `

[Part ${index}/${chunks.length}]
`;
              try {
                const chunkBase64 = await this.audioService.arrayBufferToBase64Async(chunkBuffer);
                const startAt = performance.now();
                progressBus.publish({
                  stage: "api-request-start"
                });
                const text = await this.transcriptionService.transcribe(
                  apiKey,
                  chunkPrompt,
                  chunkBase64,
                  "audio/wav",
                  model,
                  6 * 60 * 1e3
                );
                progressBus.publish({
                  stage: "api-request-complete",
                  elapsedMs: Math.round(performance.now() - startAt)
                });
                combined += preface + text.trim();
                progressBus.publish({
                  stage: "chunk-complete",
                  chunkIndex: index,
                  chunkTotal: chunks.length
                });
              } catch (e) {
                progressBus.publish({
                  stage: "chunk-failed",
                  chunkIndex: index,
                  chunkTotal: chunks.length,
                  message: (e == null ? void 0 : e.message) || String(e)
                });
                combined += preface + `[[Chunk ${index} failed: ${(e == null ? void 0 : e.message) || String(e)}]]`;
              }
            }
            transcript = combined.trim();
          } else {
            const audioBase64 = await this.audioService.arrayBufferToBase64Async(audioBuffer);
            const startAt = performance.now();
            progressBus.publish({
              stage: "api-request-start"
            });
            transcript = await this.transcriptionService.transcribe(
              apiKey,
              prompt,
              audioBase64,
              mimeType,
              model,
              6 * 60 * 1e3
            );
            progressBus.publish({
              stage: "api-request-complete",
              elapsedMs: Math.round(performance.now() - startAt)
            });
          }
          await this.obsidianInteractor.appendTextToFile(
            activeFile.path,
            currentCursorPosition.line,
            currentCursorPosition.ch,
            transcript
          );
          progressBus.publish({ stage: "success" });
        } catch (e) {
          console.error("[TranscriptionController] error", e);
          new import_obsidian3.Notice(
            `Transcription failed: ${e instanceof Error ? e.message : String(e)}`
          );
          progressBus.publish({
            stage: "error",
            message: e instanceof Error ? e.message : String(e)
          });
        } finally {
          this.writing = false;
          console.debug("[TranscriptionController] writing flag cleared");
        }
      } catch (error) {
        console.error("[readBinary] error", error);
        new import_obsidian3.Notice(error.message);
        progressBus.publish({ stage: "error", message: error.message });
      }
    } catch (error) {
      console.warn(error.message);
      new import_obsidian3.Notice(error.message);
      progressBus.publish({ stage: "error", message: error.message });
    }
  }
  async openProgressView() {
    const leaves = this.app.workspace.getLeavesOfType(VIEW_TYPE_PROGRESS);
    if (leaves.length > 0) {
      this.app.workspace.revealLeaf(leaves[0]);
      return;
    }
    const rightSplit = this.app.workspace.getRightLeaf(false);
    if (rightSplit) {
      await rightSplit.setViewState({
        type: VIEW_TYPE_PROGRESS,
        active: true
      });
      this.app.workspace.revealLeaf(rightSplit);
    } else {
      const leaf = this.app.workspace.getLeaf(true);
      await leaf.setViewState({
        type: VIEW_TYPE_PROGRESS,
        active: true
      });
      this.app.workspace.revealLeaf(leaf);
    }
  }
  fileTypeToMimeType(ext) {
    const map = {
      webm: "audio/webm",
      ogg: "audio/ogg",
      mp3: "audio/mpeg",
      mp4: "audio/mp4",
      m4a: "audio/mp4",
      wav: "audio/wav",
      mpeg: "audio/mpeg",
      mpga: "audio/mpeg"
    };
    if (!ext)
      return "application/octet-stream";
    return map[ext.toLowerCase()] || "application/octet-stream";
  }
  isPcm16Wav(buffer) {
    try {
      const view = new DataView(buffer);
      const tag = (o) => String.fromCharCode(
        view.getUint8(o),
        view.getUint8(o + 1),
        view.getUint8(o + 2),
        view.getUint8(o + 3)
      );
      if (tag(0) !== "RIFF" || tag(8) !== "WAVE")
        return false;
      let offset = 12;
      while (offset + 8 <= view.byteLength) {
        const id = tag(offset);
        const size = view.getUint32(offset + 4, true);
        if (id === "fmt ") {
          const format = view.getUint16(offset + 8, true);
          const bits = view.getUint16(offset + 22, true);
          return format === 1 && bits === 16;
        }
        offset += 8 + size + size % 2;
      }
      return false;
    } catch (e) {
      return false;
    }
  }
};

// _base/ui/TranscriptionProgressView.ts
var import_obsidian4 = require("obsidian");

// _base/utils/format.ts
function formatBytes(bytes) {
  if (!Number.isFinite(bytes) || bytes < 0)
    return "0 B";
  const units = ["B", "KB", "MB", "GB"];
  let idx = 0;
  let val = bytes;
  while (val >= 1024 && idx < units.length - 1) {
    val /= 1024;
    idx++;
  }
  return `${Math.round(val * 10) / 10} ${units[idx]}`;
}
function formatDuration(ms) {
  if (!Number.isFinite(ms) || ms < 0)
    return "0:00";
  const totalSeconds = Math.floor(ms / 1e3);
  const minutes = Math.floor(totalSeconds / 60);
  const seconds = totalSeconds % 60;
  return `${minutes}:${seconds.toString().padStart(2, "0")}`;
}

// _base/ui/TranscriptionProgressView.ts
var TranscriptionProgressView = class extends import_obsidian4.ItemView {
  constructor(leaf) {
    super(leaf);
    this.startedAtMs = 0;
    this.chunkTotal = 0;
    this.chunkIndex = 0;
  }
  getViewType() {
    return VIEW_TYPE_PROGRESS;
  }
  getDisplayText() {
    return VIEW_TITLE;
  }
  getIcon() {
    return VIEW_ICON;
  }
  async onOpen() {
    const { containerEl } = this;
    containerEl.empty();
    this.headerEl = containerEl.createEl("div", {
      cls: "transcription-audio-header"
    });
    this.headerEl.createEl("h3", { text: VIEW_TITLE });
    const infoEl = containerEl.createEl("div", {
      cls: "transcription-audio-info"
    });
    const row1 = infoEl.createEl("div", { cls: "transcription-audio-row" });
    row1.createEl("span", { text: "File: ", cls: "transcription-audio-label" });
    this.fileNameEl = row1.createEl("span", { text: "-" });
    const row2 = infoEl.createEl("div", { cls: "transcription-audio-row" });
    row2.createEl("span", { text: "Size: ", cls: "transcription-audio-label" });
    this.fileSizeEl = row2.createEl("span", { text: "-" });
    const row3 = infoEl.createEl("div", { cls: "transcription-audio-row" });
    row3.createEl("span", {
      text: "Status: ",
      cls: "transcription-audio-label"
    });
    this.statusEl = row3.createEl("span", { text: "Idle" });
    const row4 = infoEl.createEl("div", { cls: "transcription-audio-row" });
    row4.createEl("span", {
      text: "Target: ",
      cls: "transcription-audio-label"
    });
    this.targetFileEl = row4.createEl("span", { text: "-" });
    const row5 = infoEl.createEl("div", { cls: "transcription-audio-row" });
    row5.createEl("span", {
      text: "Model: ",
      cls: "transcription-audio-label"
    });
    this.modelEl = row5.createEl("span", { text: "-" });
    this.chunkWrapEl = containerEl.createEl("div", {
      cls: "transcription-audio-chunks"
    });
    this.chunkLabelEl = this.chunkWrapEl.createEl("div", { text: "Chunk: -" });
    this.chunkBarEl = this.chunkWrapEl.createEl("progress");
    this.chunkBarEl.max = 1;
    this.chunkBarEl.value = 0;
    this.logEl = containerEl.createEl("div", {
      cls: "transcription-audio-log"
    });
    this.logEl.createEl("div", { text: "Log start" });
    this.registerEvent(progressBus.subscribe((e) => this.onProgress(e)));
  }
  pushLog(text) {
    const line = this.logEl.createEl("div", { text });
    line.scrollIntoView({ block: "end" });
  }
  onProgress(e) {
    switch (e.stage) {
      case "model-selected": {
        this.modelEl.setText(e.model);
        this.pushLog(`Model: ${e.model}`);
        break;
      }
      case "file-detected": {
        const name = e.fileName.split("/").pop() || e.fileName;
        this.fileNameEl.setText(name);
        this.statusEl.setText("File detected");
        this.pushLog(`File detected: ${name}`);
        this.startedAtMs = Date.now();
        break;
      }
      case "file-size": {
        this.fileSizeEl.setText(formatBytes(e.sizeBytes));
        this.pushLog(`Size: ${formatBytes(e.sizeBytes)}`);
        break;
      }
      case "preparing-audio": {
        this.statusEl.setText("Preparing audio");
        this.pushLog("Preparing audio");
        break;
      }
      case "target-file-selected": {
        const name = e.path.split("/").pop() || e.path;
        this.targetFileEl.setText(`${name} (${e.line}:${e.ch})`);
        this.pushLog(`Target selected: ${e.path} @ ${e.line}:${e.ch}`);
        break;
      }
      case "chunk-start": {
        this.chunkTotal = e.chunkTotal;
        this.chunkIndex = e.chunkIndex;
        this.chunkBarEl.max = this.chunkTotal;
        this.chunkBarEl.value = Math.max(
          this.chunkBarEl.value,
          this.chunkIndex - 1
        );
        this.chunkLabelEl.setText(
          `Chunk ${e.chunkIndex}/${e.chunkTotal} running`
        );
        this.statusEl.setText("Transcribing chunk");
        this.pushLog(`Chunk start: ${e.chunkIndex}/${e.chunkTotal}`);
        break;
      }
      case "chunk-complete": {
        this.chunkBarEl.max = e.chunkTotal;
        this.chunkBarEl.value = e.chunkIndex;
        this.chunkLabelEl.setText(`Chunk ${e.chunkIndex}/${e.chunkTotal} done`);
        this.pushLog(`Chunk complete: ${e.chunkIndex}/${e.chunkTotal}`);
        break;
      }
      case "chunk-failed": {
        this.pushLog(
          `Chunk failed: ${e.chunkIndex}/${e.chunkTotal} - ${e.message}`
        );
        break;
      }
      case "api-request-start": {
        this.statusEl.setText("Requesting API");
        this.pushLog("API request start");
        break;
      }
      case "api-request-retry": {
        this.statusEl.setText("Retrying API");
        this.pushLog(
          `API retry: attempt ${e.attempt}${e.message ? " - " + e.message : ""}`
        );
        break;
      }
      case "api-request-complete": {
        this.statusEl.setText("API done");
        this.pushLog(`API done: ${formatDuration(e.elapsedMs)}`);
        break;
      }
      case "success": {
        const elapsed = this.startedAtMs ? Date.now() - this.startedAtMs : 0;
        this.statusEl.setText("Success");
        this.pushLog(`Success: total ${formatDuration(elapsed)}`);
        break;
      }
      case "error": {
        this.statusEl.setText("Failed");
        this.pushLog(`Failed: ${e.message}`);
        break;
      }
    }
  }
};

// _base/constants/setting.ts
var DEFAULT_SETTINGS = {
  model: "gemini-2.5-flash",
  apiKey: "",
  prompt: "You are an expert meeting and research note-taker for Obsidian. Produce a rigorously structured Markdown note from the following audio transcript. Follow this exact structure and rules:\n\n1) Executive Summary\n   - 5\u20138 concise bullets capturing the most important takeaways.\n2) Timeline Outline\n   - Chronological outline using headings and nested bullets.\n   - If any time hints exist, add approximate timecodes like (\u224812:30).\n3) Key Insights & Rationale\n   - Non-obvious insights with brief \u201Cwhy it matters\u201D.\n4) Decisions\n   - Finalized decisions as a bullet list.\n5) Action Items\n   - Markdown table with columns: Task | Owner | Due | Status.\n6) Open Questions & Risks\n   - Items that require follow-up, unknowns, blockers, and risks.\n7) Terms & Entities\n   - Glossary of people, projects, tools, and domain terms.\n8) Link Suggestions\n   - Suggested Obsidian wikilinks and tags (use [[Wiki Links]] and #tags).\n9) One-paragraph Abstract\n   - A tight 3\u20135 sentence abstract suitable for future review.\n\nConstraints:\n- Write as if I am the author. Do not mention \u201Cthe speaker\u201D.\n- Be faithful to the transcript; mark uncertain items with [?] rather than inventing facts.\n- Prefer clear headings, bullets, and short paragraphs.\n- Use English for the note content.\n\nThe following is the transcribed audio:\n\n"
};
var MODELS = [
  "gemini-2.5-flash",
  "gemini-2.5-pro",
  "gemini-3-pro-preview"
];

// main.ts
var TranscriptionAudioPlugin = class extends import_obsidian5.Plugin {
  constructor() {
    super(...arguments);
    this.writing = false;
  }
  async onload() {
    await this.loadSettings();
    this.transcriptionController = new TranscriptionController(this.app);
    this.registerView(
      VIEW_TYPE_PROGRESS,
      (leaf) => new TranscriptionProgressView(leaf)
    );
    this.addCommand({
      id: "transcription-audio",
      name: "Transcribe audio",
      editorCallback: (editor, view) => {
        this.commandGenerateTranscript(editor);
      }
    });
    this.addSettingTab(new TranscriptionSettingTab(this.app, this));
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async commandGenerateTranscript(editor) {
    const apiKey = this.settings.apiKey;
    await this.transcriptionController.run(
      editor,
      apiKey,
      this.settings.prompt,
      this.settings.model
    );
  }
};
var TranscriptionSettingTab = class extends import_obsidian5.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    let { containerEl } = this;
    containerEl.empty();
    new import_obsidian5.Setting(containerEl).setName("API key").setDesc("Your Google AI API key").addText((text) => {
      text.inputEl.type = "password";
      text.setPlaceholder("Enter your API key").setValue(this.plugin.settings.apiKey).onChange(async (value) => {
        this.plugin.settings.apiKey = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian5.Setting(containerEl).setName("Model").setDesc("Select the model to use for note-generation").addDropdown((dropdown) => {
      dropdown.addOptions(
        MODELS.reduce((models, model) => {
          models[model] = model;
          return models;
        }, {})
      );
      dropdown.setValue(this.plugin.settings.model);
      dropdown.onChange(async (value) => {
        this.plugin.settings.model = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian5.Setting(containerEl).setName("Custom transcription-to-notes prompt").setDesc(
      "Prompt that will be sent to the AI right before adding your transcribed audio"
    ).addTextArea((text) => {
      if (text.inputEl) {
        text.inputEl.classList.add("transcription-audio-setting-text-area");
      }
      text.setPlaceholder(DEFAULT_SETTINGS.prompt).setValue(this.plugin.settings.prompt).onChange(async (value) => {
        this.plugin.settings.prompt = value;
        await this.plugin.saveSettings();
      });
    });
  }
};
/*! Bundled license information:

@google/genai/dist/web/index.mjs:
  (**
   * @license
   * Copyright 2025 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@google/genai/dist/web/index.mjs:
  (**
   * @license
   * Copyright 2025 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@google/genai/dist/web/index.mjs:
  (**
   * @license
   * Copyright 2025 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@google/genai/dist/web/index.mjs:
  (**
   * @license
   * Copyright 2025 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@google/genai/dist/web/index.mjs:
  (**
   * @license
   * Copyright 2025 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJjb250cm9sbGVycy9UcmFuc2NyaXB0aW9uQ29udHJvbGxlci50cyIsICJfYmFzZS9zZXJ2aWNlcy9vYnNpZGlhbi9PYnNpZGlhbkludGVyYWN0b3JTZXJ2aWNlLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9fYmFzZV91cmwudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL19jb21tb24udHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL19iYXNlX3RyYW5zZm9ybWVycy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvY29udmVydGVycy9fb3BlcmF0aW9uc19jb252ZXJ0ZXJzLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy90eXBlcy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvX3RyYW5zZm9ybWVycy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvY29udmVydGVycy9fYmF0Y2hlc19jb252ZXJ0ZXJzLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9wYWdlcnMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2JhdGNoZXMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2NvbnZlcnRlcnMvX2NhY2hlc19jb252ZXJ0ZXJzLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9jYWNoZXMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2NoYXRzLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9lcnJvcnMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2NvbnZlcnRlcnMvX2ZpbGVzX2NvbnZlcnRlcnMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2ZpbGVzLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9jb252ZXJ0ZXJzL19saXZlX2NvbnZlcnRlcnMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2NvbnZlcnRlcnMvX21vZGVsc19jb252ZXJ0ZXJzLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9jb252ZXJ0ZXJzL19maWxlc2VhcmNoc3RvcmVzX2NvbnZlcnRlcnMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL19hcGlfY2xpZW50LnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9tY3AvX21jcC50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvbXVzaWMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2xpdmUudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL19hZmMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL21vZGVscy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvb3BlcmF0aW9ucy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvY29udmVydGVycy9fdG9rZW5zX2NvbnZlcnRlcnMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL3Rva2Vucy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvY29udmVydGVycy9fZG9jdW1lbnRzX2NvbnZlcnRlcnMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2RvY3VtZW50cy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvZmlsZXNlYXJjaHN0b3Jlcy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvaW50ZXJhY3Rpb25zL2ludGVybmFsL3V0aWxzL3V1aWQudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2ludGVyYWN0aW9ucy9pbnRlcm5hbC9lcnJvcnMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2ludGVyYWN0aW9ucy9jb3JlL2Vycm9yLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9pbnRlcmFjdGlvbnMvaW50ZXJuYWwvdXRpbHMvdmFsdWVzLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9pbnRlcmFjdGlvbnMvaW50ZXJuYWwvdXRpbHMvc2xlZXAudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2ludGVyYWN0aW9ucy92ZXJzaW9uLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9pbnRlcmFjdGlvbnMvaW50ZXJuYWwvZGV0ZWN0LXBsYXRmb3JtLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9pbnRlcmFjdGlvbnMvaW50ZXJuYWwvc2hpbXMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2ludGVyYWN0aW9ucy9pbnRlcm5hbC9yZXF1ZXN0LW9wdGlvbnMudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2ludGVyYWN0aW9ucy9pbnRlcm5hbC91cGxvYWRzLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9pbnRlcmFjdGlvbnMvaW50ZXJuYWwvdG8tZmlsZS50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvaW50ZXJhY3Rpb25zL2NvcmUvcmVzb3VyY2UudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2ludGVyYWN0aW9ucy9pbnRlcm5hbC91dGlscy9wYXRoLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9pbnRlcmFjdGlvbnMvcmVzb3VyY2VzL2ludGVyYWN0aW9ucy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvaW50ZXJhY3Rpb25zL2ludGVybmFsL3V0aWxzL2J5dGVzLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9pbnRlcmFjdGlvbnMvaW50ZXJuYWwvZGVjb2RlcnMvbGluZS50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvaW50ZXJhY3Rpb25zL2ludGVybmFsL3V0aWxzL2xvZy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvaW50ZXJhY3Rpb25zL2NvcmUvc3RyZWFtaW5nLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9pbnRlcmFjdGlvbnMvaW50ZXJuYWwvcGFyc2UudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL2ludGVyYWN0aW9ucy9jb3JlL2FwaS1wcm9taXNlLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy9pbnRlcmFjdGlvbnMvaW50ZXJuYWwvaGVhZGVycy50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvaW50ZXJhY3Rpb25zL2ludGVybmFsL3V0aWxzL2Vudi50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvaW50ZXJhY3Rpb25zL2NsaWVudC50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvY29udmVydGVycy9fdHVuaW5nc19jb252ZXJ0ZXJzLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy90dW5pbmdzLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy93ZWIvX2Jyb3dzZXJfZG93bmxvYWRlci50cyIsICJub2RlX21vZHVsZXMvQGdvb2dsZS9nZW5haS9zcmMvY3Jvc3MvX2Nyb3NzX3VwbG9hZGVyLnRzIiwgIm5vZGVfbW9kdWxlcy9AZ29vZ2xlL2dlbmFpL3NyYy93ZWIvX2Jyb3dzZXJfdXBsb2FkZXIudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL3dlYi9fYnJvd3Nlcl93ZWJzb2NrZXQudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL3dlYi9fd2ViX2F1dGgudHMiLCAibm9kZV9tb2R1bGVzL0Bnb29nbGUvZ2VuYWkvc3JjL3dlYi93ZWJfY2xpZW50LnRzIiwgIl9iYXNlL3NlcnZpY2VzL3RyYW5zY3JpcHRpb24vVHJhbnNjcmlwdGlvblNlcnZpY2UudHMiLCAiX2Jhc2Uvc2VydmljZXMvdHJhbnNjcmlwdGlvbi9jaHVua2luZy50cyIsICJfYmFzZS91dGlscy9wcm9ncmVzc0J1cy50cyIsICJfYmFzZS9zZXJ2aWNlcy9vYnNpZGlhbi9vYmlzZGlhbkZpbGVTZXJ2aWNlLnRzIiwgIl9iYXNlL2NvbnN0YW50cy9wcm9ncmVzcy50cyIsICJfYmFzZS9zZXJ2aWNlcy9hdWRpby9BdWRpb1NlcnZpY2UudHMiLCAiX2Jhc2UvY29uc3RhbnRzL3JlZ2V4LnRzIiwgIl9iYXNlL3VpL1RyYW5zY3JpcHRpb25Qcm9ncmVzc1ZpZXcudHMiLCAiX2Jhc2UvdXRpbHMvZm9ybWF0LnRzIiwgIl9iYXNlL2NvbnN0YW50cy9zZXR0aW5nLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQge1xuICBBcHAsXG4gIEVkaXRvcixcbiAgTWFya2Rvd25WaWV3LFxuICBQbHVnaW4sXG4gIFBsdWdpblNldHRpbmdUYWIsXG4gIFNldHRpbmcsXG59IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgVHJhbnNjcmlwdGlvbkNvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVycy9UcmFuc2NyaXB0aW9uQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgVklFV19UWVBFX1BST0dSRVNTIH0gZnJvbSBcIi4vX2Jhc2UvY29uc3RhbnRzL3Byb2dyZXNzXCI7XG5pbXBvcnQgeyBUcmFuc2NyaXB0aW9uUHJvZ3Jlc3NWaWV3IH0gZnJvbSBcIi4vX2Jhc2UvdWkvVHJhbnNjcmlwdGlvblByb2dyZXNzVmlld1wiO1xuaW1wb3J0IHsgQXVkaW9QbHVnaW5TZXR0aW5ncyB9IGZyb20gXCJfYmFzZS90eXBlcy9zZXR0aW5nXCI7XG5pbXBvcnQgeyBERUZBVUxUX1NFVFRJTkdTLCBNT0RFTFMgfSBmcm9tIFwiX2Jhc2UvY29uc3RhbnRzL3NldHRpbmdcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhbnNjcmlwdGlvbkF1ZGlvUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcbiAgc2V0dGluZ3M6IEF1ZGlvUGx1Z2luU2V0dGluZ3M7XG4gIHdyaXRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBwcml2YXRlIHRyYW5zY3JpcHRpb25Db250cm9sbGVyOiBUcmFuc2NyaXB0aW9uQ29udHJvbGxlcjtcblxuICBhc3luYyBvbmxvYWQoKSB7XG4gICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuICAgIHRoaXMudHJhbnNjcmlwdGlvbkNvbnRyb2xsZXIgPSBuZXcgVHJhbnNjcmlwdGlvbkNvbnRyb2xsZXIodGhpcy5hcHApO1xuXG4gICAgdGhpcy5yZWdpc3RlclZpZXcoXG4gICAgICBWSUVXX1RZUEVfUFJPR1JFU1MsXG4gICAgICAobGVhZikgPT4gbmV3IFRyYW5zY3JpcHRpb25Qcm9ncmVzc1ZpZXcobGVhZilcbiAgICApO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBcInRyYW5zY3JpcHRpb24tYXVkaW9cIixcbiAgICAgIG5hbWU6IFwiVHJhbnNjcmliZSBhdWRpb1wiLFxuICAgICAgZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3I6IEVkaXRvciwgdmlldzogTWFya2Rvd25WaWV3KSA9PiB7XG4gICAgICAgIHRoaXMuY29tbWFuZEdlbmVyYXRlVHJhbnNjcmlwdChlZGl0b3IpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgVHJhbnNjcmlwdGlvblNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcbiAgfVxuXG4gIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcbiAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcbiAgfVxuXG4gIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuICB9XG5cbiAgYXN5bmMgY29tbWFuZEdlbmVyYXRlVHJhbnNjcmlwdChlZGl0b3I6IEVkaXRvcikge1xuICAgIGNvbnN0IGFwaUtleSA9IHRoaXMuc2V0dGluZ3MuYXBpS2V5O1xuICAgIGF3YWl0IHRoaXMudHJhbnNjcmlwdGlvbkNvbnRyb2xsZXIucnVuKFxuICAgICAgZWRpdG9yLFxuICAgICAgYXBpS2V5LFxuICAgICAgdGhpcy5zZXR0aW5ncy5wcm9tcHQsXG4gICAgICB0aGlzLnNldHRpbmdzLm1vZGVsXG4gICAgKTtcbiAgfVxufVxuXG5jbGFzcyBUcmFuc2NyaXB0aW9uU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuICBwbHVnaW46IFRyYW5zY3JpcHRpb25BdWRpb1BsdWdpbjtcblxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBUcmFuc2NyaXB0aW9uQXVkaW9QbHVnaW4pIHtcbiAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gIH1cblxuICBkaXNwbGF5KCk6IHZvaWQge1xuICAgIGxldCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiQVBJIGtleVwiKVxuICAgICAgLnNldERlc2MoXCJZb3VyIEdvb2dsZSBBSSBBUEkga2V5XCIpXG4gICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xuICAgICAgICAvLyBtYXNrIGlucHV0XG4gICAgICAgIHRleHQuaW5wdXRFbC50eXBlID0gXCJwYXNzd29yZFwiO1xuICAgICAgICB0ZXh0XG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiRW50ZXIgeW91ciBBUEkga2V5XCIpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaUtleSlcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcGlLZXkgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiTW9kZWxcIilcbiAgICAgIC5zZXREZXNjKFwiU2VsZWN0IHRoZSBtb2RlbCB0byB1c2UgZm9yIG5vdGUtZ2VuZXJhdGlvblwiKVxuICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xuICAgICAgICBkcm9wZG93bi5hZGRPcHRpb25zKFxuICAgICAgICAgIE1PREVMUy5yZWR1Y2UoKG1vZGVsczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSwgbW9kZWwpID0+IHtcbiAgICAgICAgICAgIG1vZGVsc1ttb2RlbF0gPSBtb2RlbDtcbiAgICAgICAgICAgIHJldHVybiBtb2RlbHM7XG4gICAgICAgICAgfSwge30pXG4gICAgICAgICk7XG4gICAgICAgIGRyb3Bkb3duLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGVsKTtcbiAgICAgICAgZHJvcGRvd24ub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MubW9kZWwgPSB2YWx1ZTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJDdXN0b20gdHJhbnNjcmlwdGlvbi10by1ub3RlcyBwcm9tcHRcIilcbiAgICAgIC5zZXREZXNjKFxuICAgICAgICBcIlByb21wdCB0aGF0IHdpbGwgYmUgc2VudCB0byB0aGUgQUkgcmlnaHQgYmVmb3JlIGFkZGluZyB5b3VyIHRyYW5zY3JpYmVkIGF1ZGlvXCJcbiAgICAgIClcbiAgICAgIC5hZGRUZXh0QXJlYSgodGV4dCkgPT4ge1xuICAgICAgICBpZiAodGV4dC5pbnB1dEVsKSB7XG4gICAgICAgICAgdGV4dC5pbnB1dEVsLmNsYXNzTGlzdC5hZGQoXCJ0cmFuc2NyaXB0aW9uLWF1ZGlvLXNldHRpbmctdGV4dC1hcmVhXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy5wcm9tcHQpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByb21wdClcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm9tcHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBcHAsIEVkaXRvciwgTm90aWNlLCBURmlsZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgT2JzaWRpYW5JbnRlcmFjdG9yU2VydmljZSB9IGZyb20gXCIuLi9fYmFzZS9zZXJ2aWNlcy9vYnNpZGlhbi9PYnNpZGlhbkludGVyYWN0b3JTZXJ2aWNlXCI7XG5pbXBvcnQgeyBUcmFuc2NyaXB0aW9uU2VydmljZSB9IGZyb20gXCIuLi9fYmFzZS9zZXJ2aWNlcy90cmFuc2NyaXB0aW9uL1RyYW5zY3JpcHRpb25TZXJ2aWNlXCI7XG5pbXBvcnQgeyBjb21wdXRlV2F2Q2h1bmtSYW5nZXMgfSBmcm9tIFwiLi4vX2Jhc2Uvc2VydmljZXMvdHJhbnNjcmlwdGlvbi9jaHVua2luZ1wiO1xuaW1wb3J0IHsgcHJvZ3Jlc3NCdXMgfSBmcm9tIFwiLi4vX2Jhc2UvdXRpbHMvcHJvZ3Jlc3NCdXNcIjtcbmltcG9ydCB7IE9ic2lkaWFuRmlsZVNlcnZpY2UgfSBmcm9tIFwiX2Jhc2Uvc2VydmljZXMvb2JzaWRpYW4vb2Jpc2RpYW5GaWxlU2VydmljZVwiO1xuaW1wb3J0IHsgVklFV19UWVBFX1BST0dSRVNTIH0gZnJvbSBcIl9iYXNlL2NvbnN0YW50cy9wcm9ncmVzc1wiO1xuaW1wb3J0IHsgQXVkaW9TZXJ2aWNlIH0gZnJvbSBcIi4uL19iYXNlL3NlcnZpY2VzL2F1ZGlvL0F1ZGlvU2VydmljZVwiO1xuaW1wb3J0IHsgQVVESU9fRklMRV9SRUdFWCB9IGZyb20gXCJfYmFzZS9jb25zdGFudHMvcmVnZXhcIjtcblxuZXhwb3J0IGNsYXNzIFRyYW5zY3JpcHRpb25Db250cm9sbGVyIHtcbiAgcHJpdmF0ZSB3cml0aW5nOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgb2JzaWRpYW5GaWxlU2VydmljZTogT2JzaWRpYW5GaWxlU2VydmljZSA9IG5ldyBPYnNpZGlhbkZpbGVTZXJ2aWNlKFxuICAgIHRoaXMuYXBwXG4gICk7XG4gIHByaXZhdGUgb2JzaWRpYW5JbnRlcmFjdG9yOiBPYnNpZGlhbkludGVyYWN0b3JTZXJ2aWNlID1cbiAgICBuZXcgT2JzaWRpYW5JbnRlcmFjdG9yU2VydmljZSh0aGlzLmFwcCk7XG4gIHByaXZhdGUgdHJhbnNjcmlwdGlvblNlcnZpY2U6IFRyYW5zY3JpcHRpb25TZXJ2aWNlID1cbiAgICBuZXcgVHJhbnNjcmlwdGlvblNlcnZpY2UoKTtcbiAgcHJpdmF0ZSBhdWRpb1NlcnZpY2U6IEF1ZGlvU2VydmljZSA9IG5ldyBBdWRpb1NlcnZpY2UoKTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFwcDogQXBwKSB7fVxuXG4gIGFzeW5jIHJ1bihcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBhcGlLZXk6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgICBwcm9tcHQ6IHN0cmluZyxcbiAgICBtb2RlbDogc3RyaW5nXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGN1cnJlbnRDdXJzb3JQb3NpdGlvbiA9IGVkaXRvci5nZXRDdXJzb3IoKTtcbiAgICBjb25zdCBhY3RpdmVGaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblxuICAgIGlmIChhY3RpdmVGaWxlID09IG51bGwpIHtcbiAgICAgIG5ldyBOb3RpY2UoXCJObyBhY3RpdmUgZmlsZSBmb3VuZFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0ZXh0SW5SYW5nZSA9IGVkaXRvci5nZXRSYW5nZShcbiAgICAgIHsgbGluZTogMCwgY2g6IDAgfSxcbiAgICAgIGN1cnJlbnRDdXJzb3JQb3NpdGlvblxuICAgICk7XG5cbiAgICBjb25zdCBmaWxlUGF0aCA9IHRoaXMub2JzaWRpYW5GaWxlU2VydmljZS5maW5kRmlsZVBhdGgoXG4gICAgICB0ZXh0SW5SYW5nZSxcbiAgICAgIEFVRElPX0ZJTEVfUkVHRVhcbiAgICApO1xuXG4gICAgY29uc3QgZmlsZVR5cGUgPSBmaWxlUGF0aC5zcGxpdChcIi5cIikucG9wKCk7XG5cbiAgICBpZiAoZmlsZVR5cGUgPT0gbnVsbCB8fCBmaWxlVHlwZSA9PSBcIlwiKSB7XG4gICAgICBuZXcgTm90aWNlKFwiTm8gYXVkaW8gZmlsZSBmb3VuZFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy53cml0aW5nKSB7XG4gICAgICBuZXcgTm90aWNlKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgaW4gcHJvZ3Jlc3MuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghYXBpS2V5KSB7XG4gICAgICBuZXcgTm90aWNlKFxuICAgICAgICBcIkFQSSBLZXkgaXMgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBzZXQgaXQgaW4gdGhlIHBsdWdpbiBzZXR0aW5ncy5cIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLm9wZW5Qcm9ncmVzc1ZpZXcoKTtcblxuICAgIHByb2dyZXNzQnVzLnB1Ymxpc2goe1xuICAgICAgc3RhZ2U6IFwibW9kZWwtc2VsZWN0ZWRcIixcbiAgICAgIG1vZGVsOiBtb2RlbCxcbiAgICB9KTtcblxuICAgIHByb2dyZXNzQnVzLnB1Ymxpc2goe1xuICAgICAgc3RhZ2U6IFwidGFyZ2V0LWZpbGUtc2VsZWN0ZWRcIixcbiAgICAgIHBhdGg6IGFjdGl2ZUZpbGUucGF0aCxcbiAgICAgIGxpbmU6IGN1cnJlbnRDdXJzb3JQb3NpdGlvbi5saW5lLFxuICAgICAgY2g6IGN1cnJlbnRDdXJzb3JQb3NpdGlvbi5jaCxcbiAgICB9KTtcblxuICAgIHRyeSB7XG4gICAgICBwcm9ncmVzc0J1cy5wdWJsaXNoKHsgc3RhZ2U6IFwiZmlsZS1kZXRlY3RlZFwiLCBmaWxlTmFtZTogZmlsZVBhdGggfSk7XG4gICAgICBjb25zdCBmaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVQYXRoKTtcbiAgICAgIGlmIChmaWxlID09IG51bGwgfHwgIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZmlsZVBhdGggKyBcIiBkb2VzIG5vdCBleGlzdFwiKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYXVkaW9CdWZmZXIgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkQmluYXJ5KGZpbGUpO1xuXG4gICAgICAgIHRoaXMud3JpdGluZyA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgbWltZVR5cGUgPSB0aGlzLmZpbGVUeXBlVG9NaW1lVHlwZShmaWxlVHlwZSk7XG5cbiAgICAgICAgcHJvZ3Jlc3NCdXMucHVibGlzaCh7XG4gICAgICAgICAgc3RhZ2U6IFwiZmlsZS1zaXplXCIsXG4gICAgICAgICAgc2l6ZUJ5dGVzOiBhdWRpb0J1ZmZlci5ieXRlTGVuZ3RoLFxuICAgICAgICB9KTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGxldCB0cmFuc2NyaXB0OiBzdHJpbmc7XG4gICAgICAgICAgaWYgKHRoaXMuaXNQY20xNldhdihhdWRpb0J1ZmZlcikpIHtcbiAgICAgICAgICAgIHByb2dyZXNzQnVzLnB1Ymxpc2goeyBzdGFnZTogXCJwcmVwYXJpbmctYXVkaW9cIiB9KTtcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlciA9IHRoaXMuYXVkaW9TZXJ2aWNlLnBhcnNlV2F2SGVhZGVyKGF1ZGlvQnVmZmVyKTtcbiAgICAgICAgICAgIGNvbnN0IGNodW5rcyA9IGNvbXB1dGVXYXZDaHVua1Jhbmdlcyh7XG4gICAgICAgICAgICAgIGRhdGFTaXplOiBoZWFkZXIuZGF0YVNpemUsXG4gICAgICAgICAgICAgIHNhbXBsZVJhdGU6IGhlYWRlci5zYW1wbGVSYXRlLFxuICAgICAgICAgICAgICBiaXRzUGVyU2FtcGxlOiBoZWFkZXIuYml0c1BlclNhbXBsZSxcbiAgICAgICAgICAgICAgbnVtQ2hhbm5lbHM6IGhlYWRlci5udW1DaGFubmVscyxcbiAgICAgICAgICAgICAgdGFyZ2V0Q2h1bmtNQjogOCxcbiAgICAgICAgICAgICAgb3ZlcmxhcE1zOiAxNTAwLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBjaHVua1Byb21wdCA9XG4gICAgICAgICAgICAgIFwiVHJhbnNjcmliZSB0aGUgZm9sbG93aW5nIGF1ZGlvLiBPdXRwdXQgb25seSB0aGUgdHJhbnNjcmlwdCB0ZXh0IGZvciB0aGlzIHBhcnQsIHdpdGhvdXQgYW55IGV4dHJhIGNvbW1lbnRhcnkuXCI7XG4gICAgICAgICAgICBsZXQgY29tYmluZWQgPSBcIlwiO1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYyBvZiBjaHVua3MpIHtcbiAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgcHJvZ3Jlc3NCdXMucHVibGlzaCh7XG4gICAgICAgICAgICAgICAgc3RhZ2U6IFwiY2h1bmstc3RhcnRcIixcbiAgICAgICAgICAgICAgICBjaHVua0luZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgICBjaHVua1RvdGFsOiBjaHVua3MubGVuZ3RoLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY29uc3QgY2h1bmtCdWZmZXIgPSB0aGlzLmF1ZGlvU2VydmljZS5zbGljZVdhdlBjbTE2KFxuICAgICAgICAgICAgICAgIGF1ZGlvQnVmZmVyLFxuICAgICAgICAgICAgICAgIGMuc3RhcnRNcyxcbiAgICAgICAgICAgICAgICBjLmVuZE1zXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGNvbnN0IHByZWZhY2UgPSBgXFxuXFxuW1BhcnQgJHtpbmRleH0vJHtjaHVua3MubGVuZ3RofV1cXG5gO1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rQmFzZTY0ID1cbiAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYXVkaW9TZXJ2aWNlLmFycmF5QnVmZmVyVG9CYXNlNjRBc3luYyhjaHVua0J1ZmZlcik7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRBdCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgICAgIHByb2dyZXNzQnVzLnB1Ymxpc2goe1xuICAgICAgICAgICAgICAgICAgc3RhZ2U6IFwiYXBpLXJlcXVlc3Qtc3RhcnRcIixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgdGhpcy50cmFuc2NyaXB0aW9uU2VydmljZS50cmFuc2NyaWJlKFxuICAgICAgICAgICAgICAgICAgYXBpS2V5ISxcbiAgICAgICAgICAgICAgICAgIGNodW5rUHJvbXB0LFxuICAgICAgICAgICAgICAgICAgY2h1bmtCYXNlNjQsXG4gICAgICAgICAgICAgICAgICBcImF1ZGlvL3dhdlwiLFxuICAgICAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgICAgICA2ICogNjAgKiAxMDAwXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0J1cy5wdWJsaXNoKHtcbiAgICAgICAgICAgICAgICAgIHN0YWdlOiBcImFwaS1yZXF1ZXN0LWNvbXBsZXRlXCIsXG4gICAgICAgICAgICAgICAgICBlbGFwc2VkTXM6IE1hdGgucm91bmQocGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydEF0KSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb21iaW5lZCArPSBwcmVmYWNlICsgdGV4dC50cmltKCk7XG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NCdXMucHVibGlzaCh7XG4gICAgICAgICAgICAgICAgICBzdGFnZTogXCJjaHVuay1jb21wbGV0ZVwiLFxuICAgICAgICAgICAgICAgICAgY2h1bmtJbmRleDogaW5kZXgsXG4gICAgICAgICAgICAgICAgICBjaHVua1RvdGFsOiBjaHVua3MubGVuZ3RoLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NCdXMucHVibGlzaCh7XG4gICAgICAgICAgICAgICAgICBzdGFnZTogXCJjaHVuay1mYWlsZWRcIixcbiAgICAgICAgICAgICAgICAgIGNodW5rSW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgY2h1bmtUb3RhbDogY2h1bmtzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGU/Lm1lc3NhZ2UgfHwgU3RyaW5nKGUpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbWJpbmVkICs9XG4gICAgICAgICAgICAgICAgICBwcmVmYWNlICtcbiAgICAgICAgICAgICAgICAgIGBbW0NodW5rICR7aW5kZXh9IGZhaWxlZDogJHtlPy5tZXNzYWdlIHx8IFN0cmluZyhlKX1dXWA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyYW5zY3JpcHQgPSBjb21iaW5lZC50cmltKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvQmFzZTY0ID1cbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hdWRpb1NlcnZpY2UuYXJyYXlCdWZmZXJUb0Jhc2U2NEFzeW5jKGF1ZGlvQnVmZmVyKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0QXQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIHByb2dyZXNzQnVzLnB1Ymxpc2goe1xuICAgICAgICAgICAgICBzdGFnZTogXCJhcGktcmVxdWVzdC1zdGFydFwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0cmFuc2NyaXB0ID0gYXdhaXQgdGhpcy50cmFuc2NyaXB0aW9uU2VydmljZS50cmFuc2NyaWJlKFxuICAgICAgICAgICAgICBhcGlLZXkhLFxuICAgICAgICAgICAgICBwcm9tcHQsXG4gICAgICAgICAgICAgIGF1ZGlvQmFzZTY0LFxuICAgICAgICAgICAgICBtaW1lVHlwZSxcbiAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgIDYgKiA2MCAqIDEwMDBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBwcm9ncmVzc0J1cy5wdWJsaXNoKHtcbiAgICAgICAgICAgICAgc3RhZ2U6IFwiYXBpLXJlcXVlc3QtY29tcGxldGVcIixcbiAgICAgICAgICAgICAgZWxhcHNlZE1zOiBNYXRoLnJvdW5kKHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRBdCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhd2FpdCB0aGlzLm9ic2lkaWFuSW50ZXJhY3Rvci5hcHBlbmRUZXh0VG9GaWxlKFxuICAgICAgICAgICAgYWN0aXZlRmlsZS5wYXRoLFxuICAgICAgICAgICAgY3VycmVudEN1cnNvclBvc2l0aW9uLmxpbmUsXG4gICAgICAgICAgICBjdXJyZW50Q3Vyc29yUG9zaXRpb24uY2gsXG4gICAgICAgICAgICB0cmFuc2NyaXB0XG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHByb2dyZXNzQnVzLnB1Ymxpc2goeyBzdGFnZTogXCJzdWNjZXNzXCIgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiW1RyYW5zY3JpcHRpb25Db250cm9sbGVyXSBlcnJvclwiLCBlKTtcbiAgICAgICAgICBuZXcgTm90aWNlKFxuICAgICAgICAgICAgYFRyYW5zY3JpcHRpb24gZmFpbGVkOiAke1xuICAgICAgICAgICAgICBlIGluc3RhbmNlb2YgRXJyb3IgPyBlLm1lc3NhZ2UgOiBTdHJpbmcoZSlcbiAgICAgICAgICAgIH1gXG4gICAgICAgICAgKTtcbiAgICAgICAgICBwcm9ncmVzc0J1cy5wdWJsaXNoKHtcbiAgICAgICAgICAgIHN0YWdlOiBcImVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlIGluc3RhbmNlb2YgRXJyb3IgPyBlLm1lc3NhZ2UgOiBTdHJpbmcoZSksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgdGhpcy53cml0aW5nID0gZmFsc2U7XG4gICAgICAgICAgY29uc29sZS5kZWJ1ZyhcIltUcmFuc2NyaXB0aW9uQ29udHJvbGxlcl0gd3JpdGluZyBmbGFnIGNsZWFyZWRcIik7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbcmVhZEJpbmFyeV0gZXJyb3JcIiwgZXJyb3IpO1xuICAgICAgICBuZXcgTm90aWNlKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICBwcm9ncmVzc0J1cy5wdWJsaXNoKHsgc3RhZ2U6IFwiZXJyb3JcIiwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgbmV3IE5vdGljZShlcnJvci5tZXNzYWdlKTtcbiAgICAgIHByb2dyZXNzQnVzLnB1Ymxpc2goeyBzdGFnZTogXCJlcnJvclwiLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgb3BlblByb2dyZXNzVmlldygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBsZWF2ZXMgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9QUk9HUkVTUyk7XG4gICAgaWYgKGxlYXZlcy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmFwcC53b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWF2ZXNbMF0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByaWdodFNwbGl0ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldFJpZ2h0TGVhZihmYWxzZSk7XG4gICAgaWYgKHJpZ2h0U3BsaXQpIHtcbiAgICAgIGF3YWl0IHJpZ2h0U3BsaXQuc2V0Vmlld1N0YXRlKHtcbiAgICAgICAgdHlwZTogVklFV19UWVBFX1BST0dSRVNTLFxuICAgICAgICBhY3RpdmU6IHRydWUsXG4gICAgICB9KTtcbiAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5yZXZlYWxMZWFmKHJpZ2h0U3BsaXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYodHJ1ZSk7XG4gICAgICBhd2FpdCBsZWFmLnNldFZpZXdTdGF0ZSh7XG4gICAgICAgIHR5cGU6IFZJRVdfVFlQRV9QUk9HUkVTUyxcbiAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgfSk7XG4gICAgICB0aGlzLmFwcC53b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZpbGVUeXBlVG9NaW1lVHlwZShleHQ6IHN0cmluZyB8IHVuZGVmaW5lZCk6IHN0cmluZyB7XG4gICAgY29uc3QgbWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgd2VibTogXCJhdWRpby93ZWJtXCIsXG4gICAgICBvZ2c6IFwiYXVkaW8vb2dnXCIsXG4gICAgICBtcDM6IFwiYXVkaW8vbXBlZ1wiLFxuICAgICAgbXA0OiBcImF1ZGlvL21wNFwiLFxuICAgICAgbTRhOiBcImF1ZGlvL21wNFwiLFxuICAgICAgd2F2OiBcImF1ZGlvL3dhdlwiLFxuICAgICAgbXBlZzogXCJhdWRpby9tcGVnXCIsXG4gICAgICBtcGdhOiBcImF1ZGlvL21wZWdcIixcbiAgICB9O1xuICAgIGlmICghZXh0KSByZXR1cm4gXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIjtcbiAgICByZXR1cm4gbWFwW2V4dC50b0xvd2VyQ2FzZSgpXSB8fCBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiO1xuICB9XG5cbiAgcHJpdmF0ZSBpc1BjbTE2V2F2KGJ1ZmZlcjogQXJyYXlCdWZmZXIpOiBib29sZWFuIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIpO1xuICAgICAgY29uc3QgdGFnID0gKG86IG51bWJlcikgPT5cbiAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZShcbiAgICAgICAgICB2aWV3LmdldFVpbnQ4KG8pLFxuICAgICAgICAgIHZpZXcuZ2V0VWludDgobyArIDEpLFxuICAgICAgICAgIHZpZXcuZ2V0VWludDgobyArIDIpLFxuICAgICAgICAgIHZpZXcuZ2V0VWludDgobyArIDMpXG4gICAgICAgICk7XG4gICAgICBpZiAodGFnKDApICE9PSBcIlJJRkZcIiB8fCB0YWcoOCkgIT09IFwiV0FWRVwiKSByZXR1cm4gZmFsc2U7XG4gICAgICBsZXQgb2Zmc2V0ID0gMTI7XG4gICAgICB3aGlsZSAob2Zmc2V0ICsgOCA8PSB2aWV3LmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgY29uc3QgaWQgPSB0YWcob2Zmc2V0KTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHZpZXcuZ2V0VWludDMyKG9mZnNldCArIDQsIHRydWUpO1xuICAgICAgICBpZiAoaWQgPT09IFwiZm10IFwiKSB7XG4gICAgICAgICAgY29uc3QgZm9ybWF0ID0gdmlldy5nZXRVaW50MTYob2Zmc2V0ICsgOCwgdHJ1ZSk7XG4gICAgICAgICAgY29uc3QgYml0cyA9IHZpZXcuZ2V0VWludDE2KG9mZnNldCArIDIyLCB0cnVlKTtcbiAgICAgICAgICByZXR1cm4gZm9ybWF0ID09PSAxICYmIGJpdHMgPT09IDE2O1xuICAgICAgICB9XG4gICAgICAgIG9mZnNldCArPSA4ICsgc2l6ZSArIChzaXplICUgMik7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHsgQXBwLCBNYXJrZG93blZpZXcsIE5vdGljZSwgVEZpbGUgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuZXhwb3J0IGNsYXNzIE9ic2lkaWFuSW50ZXJhY3RvclNlcnZpY2Uge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFwcDogQXBwKSB7fVxuXG4gIHByaXZhdGUgX2dldEFjdGl2ZU1hcmtkb3duVmlldygpOiBNYXJrZG93blZpZXcgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcbiAgfVxuXG4gIC8vIEluc2VydCB0ZXh0IGludG8gdGhlIHNwZWNpZmllZCBmaWxlIChwYXRoKSBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24gKGxpbmUsIGNoKVxuICBhc3luYyBhcHBlbmRUZXh0VG9GaWxlKFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBsaW5lOiBudW1iZXIsXG4gICAgY2g6IG51bWJlcixcbiAgICBjb250ZW50OiBzdHJpbmdcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocGF0aCk7XG4gICAgICBpZiAoIShmaWxlIGluc3RhbmNlb2YgVEZpbGUpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRhcmdldCBmaWxlIG5vdCBmb3VuZDogJHtwYXRofWApO1xuICAgICAgY29uc3QgdmlldyA9IHRoaXMuX2dldEFjdGl2ZU1hcmtkb3duVmlldygpO1xuICAgICAgaWYgKHZpZXcgJiYgdmlldy5maWxlICYmIHZpZXcuZmlsZS5wYXRoID09PSBwYXRoKSB7XG4gICAgICAgIGNvbnN0IGVkaXRvciA9IHZpZXcuZWRpdG9yO1xuICAgICAgICBlZGl0b3IucmVwbGFjZVJhbmdlKGNvbnRlbnQsIHsgbGluZSwgY2ggfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZWFkIHRoZSBmaWxlLCBpbnNlcnQgYXQgdGhlIHBvc2l0aW9uLCB0aGVuIHNhdmUgdGhlIHdob2xlIGNvbnRlbnRcbiAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQucHJvY2VzcyhmaWxlLCAoZGF0YSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGxpbmVzID0gZGF0YS5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgICBjb25zdCB0YXJnZXRMaW5lID0gbGluZXNbbGluZV0gPz8gXCJcIjtcbiAgICAgICAgICBjb25zdCBuZXdMaW5lID1cbiAgICAgICAgICAgIHRhcmdldExpbmUuc2xpY2UoMCwgY2gpICsgY29udGVudCArIHRhcmdldExpbmUuc2xpY2UoY2gpO1xuICAgICAgICAgIGxpbmVzW2xpbmVdID0gbmV3TGluZTtcbiAgICAgICAgICByZXR1cm4gbGluZXMuam9pbihcIlxcblwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gd3JpdGUgdHJhbnNjcmlwdCB0byB0YXJnZXQgZmlsZTpcIiwgZXJyb3IpO1xuICAgICAgbmV3IE5vdGljZShcIkVycm9yIHdyaXRpbmcgdHJhbnNjcmlwdCB0byB0YXJnZXQgZmlsZS5cIik7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge0h0dHBPcHRpb25zfSBmcm9tICcuL3R5cGVzLmpzJztcblxubGV0IF9kZWZhdWx0QmFzZUdlbWluaVVybDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xubGV0IF9kZWZhdWx0QmFzZVZlcnRleFVybDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4vKipcbiAqIFBhcmFtZXRlcnMgZm9yIHNldHRpbmcgdGhlIGJhc2UgVVJMcyBmb3IgdGhlIEdlbWluaSBBUEkgYW5kIFZlcnRleCBBSSBBUEkuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmFzZVVybFBhcmFtZXRlcnMge1xuICBnZW1pbmlVcmw/OiBzdHJpbmc7XG4gIHZlcnRleFVybD86IHN0cmluZztcbn1cblxuLyoqXG4gKiBPdmVycmlkZXMgdGhlIGJhc2UgVVJMcyBmb3IgdGhlIEdlbWluaSBBUEkgYW5kIFZlcnRleCBBSSBBUEkuXG4gKlxuICogQHJlbWFya3MgVGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSBpbml0aWFsaXppbmcgdGhlIFNESy4gSWYgdGhlXG4gKiBiYXNlIFVSTHMgYXJlIHNldCBhZnRlciBpbml0aWFsaXppbmcgdGhlIFNESywgdGhlIGJhc2UgVVJMcyB3aWxsIG5vdCBiZVxuICogdXBkYXRlZC4gQmFzZSBVUkxzIHByb3ZpZGVkIGluIHRoZSBIdHRwT3B0aW9ucyB3aWxsIGFsc28gdGFrZSBwcmVjZWRlbmNlIG92ZXJcbiAqIFVSTHMgc2V0IGhlcmUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBpbXBvcnQge0dvb2dsZUdlbkFJLCBzZXREZWZhdWx0QmFzZVVybHN9IGZyb20gJ0Bnb29nbGUvZ2VuYWknO1xuICogLy8gT3ZlcnJpZGUgdGhlIGJhc2UgVVJMIGZvciB0aGUgR2VtaW5pIEFQSS5cbiAqIHNldERlZmF1bHRCYXNlVXJscyh7Z2VtaW5pVXJsOidodHRwczovL2dlbWluaS5nb29nbGUuY29tJ30pO1xuICpcbiAqIC8vIE92ZXJyaWRlIHRoZSBiYXNlIFVSTCBmb3IgdGhlIFZlcnRleCBBSSBBUEkuXG4gKiBzZXREZWZhdWx0QmFzZVVybHMoe3ZlcnRleFVybDogJ2h0dHBzOi8vdmVydGV4YWkuZ29vZ2xlYXBpcy5jb20nfSk7XG4gKlxuICogY29uc3QgYWkgPSBuZXcgR29vZ2xlR2VuQUkoe2FwaUtleTogJ0dFTUlOSV9BUElfS0VZJ30pO1xuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXREZWZhdWx0QmFzZVVybHMoYmFzZVVybFBhcmFtczogQmFzZVVybFBhcmFtZXRlcnMpIHtcbiAgX2RlZmF1bHRCYXNlR2VtaW5pVXJsID0gYmFzZVVybFBhcmFtcy5nZW1pbmlVcmw7XG4gIF9kZWZhdWx0QmFzZVZlcnRleFVybCA9IGJhc2VVcmxQYXJhbXMudmVydGV4VXJsO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGRlZmF1bHQgYmFzZSBVUkxzIGZvciB0aGUgR2VtaW5pIEFQSSBhbmQgVmVydGV4IEFJIEFQSS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRCYXNlVXJscygpOiBCYXNlVXJsUGFyYW1ldGVycyB7XG4gIHJldHVybiB7XG4gICAgZ2VtaW5pVXJsOiBfZGVmYXVsdEJhc2VHZW1pbmlVcmwsXG4gICAgdmVydGV4VXJsOiBfZGVmYXVsdEJhc2VWZXJ0ZXhVcmwsXG4gIH07XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZGVmYXVsdCBiYXNlIFVSTCBiYXNlZCBvbiB0aGUgZm9sbG93aW5nIHByaW9yaXR5OlxuICogICAxLiBCYXNlIFVSTHMgc2V0IHZpYSBIdHRwT3B0aW9ucy5cbiAqICAgMi4gQmFzZSBVUkxzIHNldCB2aWEgdGhlIGxhdGVzdCBjYWxsIHRvIHNldERlZmF1bHRCYXNlVXJscy5cbiAqICAgMy4gQmFzZSBVUkxzIHNldCB2aWEgZW52aXJvbm1lbnQgdmFyaWFibGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QmFzZVVybChcbiAgaHR0cE9wdGlvbnM6IEh0dHBPcHRpb25zIHwgdW5kZWZpbmVkLFxuICB2ZXJ0ZXhhaTogYm9vbGVhbiB8IHVuZGVmaW5lZCxcbiAgdmVydGV4QmFzZVVybEZyb21FbnY6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgZ2VtaW5pQmFzZVVybEZyb21FbnY6IHN0cmluZyB8IHVuZGVmaW5lZCxcbik6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIGlmICghaHR0cE9wdGlvbnM/LmJhc2VVcmwpIHtcbiAgICBjb25zdCBkZWZhdWx0QmFzZVVybHMgPSBnZXREZWZhdWx0QmFzZVVybHMoKTtcbiAgICBpZiAodmVydGV4YWkpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0QmFzZVVybHMudmVydGV4VXJsID8/IHZlcnRleEJhc2VVcmxGcm9tRW52O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZGVmYXVsdEJhc2VVcmxzLmdlbWluaVVybCA/PyBnZW1pbmlCYXNlVXJsRnJvbUVudjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaHR0cE9wdGlvbnMuYmFzZVVybDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmV4cG9ydCBjbGFzcyBCYXNlTW9kdWxlIHt9XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRNYXAoXG4gIHRlbXBsYXRlU3RyaW5nOiBzdHJpbmcsXG4gIHZhbHVlTWFwOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IHN0cmluZyB7XG4gIC8vIFVzZSBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBmaW5kIGFsbCBwbGFjZWhvbGRlcnMgaW4gdGhlIHRlbXBsYXRlIHN0cmluZ1xuICBjb25zdCByZWdleCA9IC9cXHsoW159XSspXFx9L2c7XG5cbiAgLy8gUmVwbGFjZSBlYWNoIHBsYWNlaG9sZGVyIHdpdGggaXRzIGNvcnJlc3BvbmRpbmcgdmFsdWUgZnJvbSB0aGUgdmFsdWVNYXBcbiAgcmV0dXJuIHRlbXBsYXRlU3RyaW5nLnJlcGxhY2UocmVnZXgsIChtYXRjaCwga2V5KSA9PiB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZU1hcCwga2V5KSkge1xuICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZU1hcFtrZXldO1xuICAgICAgLy8gQ29udmVydCB0aGUgdmFsdWUgdG8gYSBzdHJpbmcgaWYgaXQncyBub3QgYSBzdHJpbmcgYWxyZWFkeVxuICAgICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwgPyBTdHJpbmcodmFsdWUpIDogJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEhhbmRsZSBtaXNzaW5nIGtleXNcbiAgICAgIHRocm93IG5ldyBFcnJvcihgS2V5ICcke2tleX0nIG5vdCBmb3VuZCBpbiB2YWx1ZU1hcC5gKTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0VmFsdWVCeVBhdGgoXG4gIGRhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICBrZXlzOiBzdHJpbmdbXSxcbiAgdmFsdWU6IHVua25vd24sXG4pOiB2b2lkIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG5cbiAgICBpZiAoa2V5LmVuZHNXaXRoKCdbXScpKSB7XG4gICAgICBjb25zdCBrZXlOYW1lID0ga2V5LnNsaWNlKDAsIC0yKTtcbiAgICAgIGlmICghKGtleU5hbWUgaW4gZGF0YSkpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgZGF0YVtrZXlOYW1lXSA9IEFycmF5LmZyb20oe2xlbmd0aDogdmFsdWUubGVuZ3RofSwgKCkgPT4gKHt9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBWYWx1ZSBtdXN0IGJlIGEgbGlzdCBnaXZlbiBhbiBhcnJheSBwYXRoICR7a2V5fWApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGFba2V5TmFtZV0pKSB7XG4gICAgICAgIGNvbnN0IGFycmF5RGF0YSA9IGRhdGFba2V5TmFtZV0gYXMgQXJyYXk8dW5rbm93bj47XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBhcnJheURhdGEubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gYXJyYXlEYXRhW2pdIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgICAgICAgICAgc2V0VmFsdWVCeVBhdGgoZW50cnksIGtleXMuc2xpY2UoaSArIDEpLCB2YWx1ZVtqXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvciAoY29uc3QgZCBvZiBhcnJheURhdGEpIHtcbiAgICAgICAgICAgIHNldFZhbHVlQnlQYXRoKFxuICAgICAgICAgICAgICBkIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgICAgICAgICBrZXlzLnNsaWNlKGkgKyAxKSxcbiAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoa2V5LmVuZHNXaXRoKCdbMF0nKSkge1xuICAgICAgY29uc3Qga2V5TmFtZSA9IGtleS5zbGljZSgwLCAtMyk7XG4gICAgICBpZiAoIShrZXlOYW1lIGluIGRhdGEpKSB7XG4gICAgICAgIGRhdGFba2V5TmFtZV0gPSBbe31dO1xuICAgICAgfVxuICAgICAgY29uc3QgYXJyYXlEYXRhID0gKGRhdGEgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW2tleU5hbWVdO1xuICAgICAgc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIChhcnJheURhdGEgYXMgQXJyYXk8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+KVswXSxcbiAgICAgICAga2V5cy5zbGljZShpICsgMSksXG4gICAgICAgIHZhbHVlLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWRhdGFba2V5XSB8fCB0eXBlb2YgZGF0YVtrZXldICE9PSAnb2JqZWN0Jykge1xuICAgICAgZGF0YVtrZXldID0ge307XG4gICAgfVxuXG4gICAgZGF0YSA9IGRhdGFba2V5XSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgfVxuXG4gIGNvbnN0IGtleVRvU2V0ID0ga2V5c1trZXlzLmxlbmd0aCAtIDFdO1xuICBjb25zdCBleGlzdGluZ0RhdGEgPSBkYXRhW2tleVRvU2V0XTtcblxuICBpZiAoZXhpc3RpbmdEYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoXG4gICAgICAhdmFsdWUgfHxcbiAgICAgICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggPT09IDApXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlID09PSBleGlzdGluZ0RhdGEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICB0eXBlb2YgZXhpc3RpbmdEYXRhID09PSAnb2JqZWN0JyAmJlxuICAgICAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgZXhpc3RpbmdEYXRhICE9PSBudWxsICYmXG4gICAgICB2YWx1ZSAhPT0gbnVsbFxuICAgICkge1xuICAgICAgT2JqZWN0LmFzc2lnbihleGlzdGluZ0RhdGEsIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3Qgc2V0IHZhbHVlIGZvciBhbiBleGlzdGluZyBrZXkuIEtleTogJHtrZXlUb1NldH1gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKFxuICAgICAga2V5VG9TZXQgPT09ICdfc2VsZicgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgIHZhbHVlICE9PSBudWxsICYmXG4gICAgICAhQXJyYXkuaXNBcnJheSh2YWx1ZSlcbiAgICApIHtcbiAgICAgIGNvbnN0IHZhbHVlQXNSZWNvcmQgPSB2YWx1ZSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblxuICAgICAgT2JqZWN0LmFzc2lnbihkYXRhLCB2YWx1ZUFzUmVjb3JkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YVtrZXlUb1NldF0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFZhbHVlQnlQYXRoKFxuICBkYXRhOiB1bmtub3duLFxuICBrZXlzOiBzdHJpbmdbXSxcbiAgZGVmYXVsdFZhbHVlOiB1bmtub3duID0gdW5kZWZpbmVkLFxuKTogdW5rbm93biB7XG4gIHRyeSB7XG4gICAgaWYgKGtleXMubGVuZ3RoID09PSAxICYmIGtleXNbMF0gPT09ICdfc2VsZicpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHR5cGVvZiBkYXRhICE9PSAnb2JqZWN0JyB8fCBkYXRhID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICBpZiAoa2V5LmVuZHNXaXRoKCdbXScpKSB7XG4gICAgICAgIGNvbnN0IGtleU5hbWUgPSBrZXkuc2xpY2UoMCwgLTIpO1xuICAgICAgICBpZiAoa2V5TmFtZSBpbiBkYXRhKSB7XG4gICAgICAgICAgY29uc3QgYXJyYXlEYXRhID0gKGRhdGEgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW2tleU5hbWVdO1xuICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheURhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYXJyYXlEYXRhLm1hcCgoZCkgPT5cbiAgICAgICAgICAgIGdldFZhbHVlQnlQYXRoKGQsIGtleXMuc2xpY2UoaSArIDEpLCBkZWZhdWx0VmFsdWUpLFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YSA9IChkYXRhIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVtrZXldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFR5cGVFcnJvcikge1xuICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuLyoqXG4gKiBNb3ZlcyB2YWx1ZXMgZnJvbSBzb3VyY2UgcGF0aHMgdG8gZGVzdGluYXRpb24gcGF0aHMuXG4gKlxuICogRXhhbXBsZXM6XG4gKiAgIG1vdmVWYWx1ZUJ5UGF0aChcbiAqICAgICB7J3JlcXVlc3RzJzogW3snY29udGVudCc6IHYxfSwgeydjb250ZW50JzogdjJ9XX0sXG4gKiAgICAgeydyZXF1ZXN0c1tdLionOiAncmVxdWVzdHNbXS5yZXF1ZXN0LionfVxuICogICApXG4gKiAgICAgLT4geydyZXF1ZXN0cyc6IFt7J3JlcXVlc3QnOiB7J2NvbnRlbnQnOiB2MX19LCB7J3JlcXVlc3QnOiB7J2NvbnRlbnQnOiB2Mn19XX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdmVWYWx1ZUJ5UGF0aChcbiAgZGF0YTogdW5rbm93bixcbiAgcGF0aHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG4pOiB2b2lkIHtcbiAgZm9yIChjb25zdCBbc291cmNlUGF0aCwgZGVzdFBhdGhdIG9mIE9iamVjdC5lbnRyaWVzKHBhdGhzKSkge1xuICAgIGNvbnN0IHNvdXJjZUtleXMgPSBzb3VyY2VQYXRoLnNwbGl0KCcuJyk7XG4gICAgY29uc3QgZGVzdEtleXMgPSBkZXN0UGF0aC5zcGxpdCgnLicpO1xuXG4gICAgLy8gRGV0ZXJtaW5lIGtleXMgdG8gZXhjbHVkZSBmcm9tIHdpbGRjYXJkIHRvIGF2b2lkIGN5Y2xpYyByZWZlcmVuY2VzXG4gICAgY29uc3QgZXhjbHVkZUtleXMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICBsZXQgd2lsZGNhcmRJZHggPSAtMTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChzb3VyY2VLZXlzW2ldID09PSAnKicpIHtcbiAgICAgICAgd2lsZGNhcmRJZHggPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAod2lsZGNhcmRJZHggIT09IC0xICYmIGRlc3RLZXlzLmxlbmd0aCA+IHdpbGRjYXJkSWR4KSB7XG4gICAgICAvLyBFeHRyYWN0IHRoZSBpbnRlcm1lZGlhdGUga2V5IGJldHdlZW4gc291cmNlIGFuZCBkZXN0IHBhdGhzXG4gICAgICAvLyBFeGFtcGxlOiBzb3VyY2U9WydyZXF1ZXN0c1tdJywgJyonXSwgZGVzdD1bJ3JlcXVlc3RzW10nLCAncmVxdWVzdCcsICcqJ11cbiAgICAgIC8vIFdlIHdhbnQgdG8gZXhjbHVkZSAncmVxdWVzdCdcbiAgICAgIGZvciAobGV0IGkgPSB3aWxkY2FyZElkeDsgaSA8IGRlc3RLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGRlc3RLZXlzW2ldO1xuICAgICAgICBpZiAoa2V5ICE9PSAnKicgJiYgIWtleS5lbmRzV2l0aCgnW10nKSAmJiAha2V5LmVuZHNXaXRoKCdbMF0nKSkge1xuICAgICAgICAgIGV4Y2x1ZGVLZXlzLmFkZChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgX21vdmVWYWx1ZVJlY3Vyc2l2ZShkYXRhLCBzb3VyY2VLZXlzLCBkZXN0S2V5cywgMCwgZXhjbHVkZUtleXMpO1xuICB9XG59XG5cbi8qKlxuICogUmVjdXJzaXZlbHkgbW92ZXMgdmFsdWVzIGZyb20gc291cmNlIHBhdGggdG8gZGVzdGluYXRpb24gcGF0aC5cbiAqL1xuZnVuY3Rpb24gX21vdmVWYWx1ZVJlY3Vyc2l2ZShcbiAgZGF0YTogdW5rbm93bixcbiAgc291cmNlS2V5czogc3RyaW5nW10sXG4gIGRlc3RLZXlzOiBzdHJpbmdbXSxcbiAga2V5SWR4OiBudW1iZXIsXG4gIGV4Y2x1ZGVLZXlzOiBTZXQ8c3RyaW5nPixcbik6IHZvaWQge1xuICBpZiAoa2V5SWR4ID49IHNvdXJjZUtleXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBkYXRhICE9PSAnb2JqZWN0JyB8fCBkYXRhID09PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qga2V5ID0gc291cmNlS2V5c1trZXlJZHhdO1xuXG4gIGlmIChrZXkuZW5kc1dpdGgoJ1tdJykpIHtcbiAgICBjb25zdCBrZXlOYW1lID0ga2V5LnNsaWNlKDAsIC0yKTtcbiAgICBjb25zdCBkYXRhUmVjb3JkID0gZGF0YSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICBpZiAoa2V5TmFtZSBpbiBkYXRhUmVjb3JkICYmIEFycmF5LmlzQXJyYXkoZGF0YVJlY29yZFtrZXlOYW1lXSkpIHtcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBkYXRhUmVjb3JkW2tleU5hbWVdIGFzIEFycmF5PHVua25vd24+KSB7XG4gICAgICAgIF9tb3ZlVmFsdWVSZWN1cnNpdmUoXG4gICAgICAgICAgaXRlbSxcbiAgICAgICAgICBzb3VyY2VLZXlzLFxuICAgICAgICAgIGRlc3RLZXlzLFxuICAgICAgICAgIGtleUlkeCArIDEsXG4gICAgICAgICAgZXhjbHVkZUtleXMsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGtleSA9PT0gJyonKSB7XG4gICAgLy8gd2lsZGNhcmQgLSBtb3ZlIGFsbCBmaWVsZHNcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdvYmplY3QnICYmIGRhdGEgIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgIGNvbnN0IGRhdGFSZWNvcmQgPSBkYXRhIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgICAgY29uc3Qga2V5c1RvTW92ZSA9IE9iamVjdC5rZXlzKGRhdGFSZWNvcmQpLmZpbHRlcihcbiAgICAgICAgKGspID0+ICFrLnN0YXJ0c1dpdGgoJ18nKSAmJiAhZXhjbHVkZUtleXMuaGFzKGspLFxuICAgICAgKTtcblxuICAgICAgY29uc3QgdmFsdWVzVG9Nb3ZlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuICAgICAgZm9yIChjb25zdCBrIG9mIGtleXNUb01vdmUpIHtcbiAgICAgICAgdmFsdWVzVG9Nb3ZlW2tdID0gZGF0YVJlY29yZFtrXTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IHZhbHVlcyBhdCBkZXN0aW5hdGlvblxuICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXModmFsdWVzVG9Nb3ZlKSkge1xuICAgICAgICBjb25zdCBuZXdEZXN0S2V5czogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBkayBvZiBkZXN0S2V5cy5zbGljZShrZXlJZHgpKSB7XG4gICAgICAgICAgaWYgKGRrID09PSAnKicpIHtcbiAgICAgICAgICAgIG5ld0Rlc3RLZXlzLnB1c2goayk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld0Rlc3RLZXlzLnB1c2goZGspO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXRWYWx1ZUJ5UGF0aChkYXRhUmVjb3JkLCBuZXdEZXN0S2V5cywgdik7XG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3QgayBvZiBrZXlzVG9Nb3ZlKSB7XG4gICAgICAgIGRlbGV0ZSBkYXRhUmVjb3JkW2tdO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBOYXZpZ2F0ZSB0byBuZXh0IGxldmVsXG4gICAgY29uc3QgZGF0YVJlY29yZCA9IGRhdGEgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gICAgaWYgKGtleSBpbiBkYXRhUmVjb3JkKSB7XG4gICAgICBfbW92ZVZhbHVlUmVjdXJzaXZlKFxuICAgICAgICBkYXRhUmVjb3JkW2tleV0sXG4gICAgICAgIHNvdXJjZUtleXMsXG4gICAgICAgIGRlc3RLZXlzLFxuICAgICAgICBrZXlJZHggKyAxLFxuICAgICAgICBleGNsdWRlS2V5cyxcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdEJ5dGVzKGZyb21CeXRlczogc3RyaW5nIHwgdW5rbm93bik6IHN0cmluZyB7XG4gIGlmICh0eXBlb2YgZnJvbUJ5dGVzICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcignZnJvbUltYWdlQnl0ZXMgbXVzdCBiZSBhIHN0cmluZycpO1xuICB9XG4gIC8vIFRPRE8oYi8zODkxMzM5MTQpOiBSZW1vdmUgZHVtbXkgYnl0ZXMgY29udmVydGVyLlxuICByZXR1cm4gZnJvbUJ5dGVzO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gQ29kZSBnZW5lcmF0ZWQgYnkgdGhlIEdvb2dsZSBHZW4gQUkgU0RLIGdlbmVyYXRvciBETyBOT1QgRURJVC5cblxuaW1wb3J0ICogYXMgdCBmcm9tICcuLi9fYmFzZV90cmFuc2Zvcm1lcnMuanMnO1xuaW1wb3J0ICogYXMgY29tbW9uIGZyb20gJy4uL19jb21tb24uanMnO1xuaW1wb3J0IHR5cGUgKiBhcyB0eXBlcyBmcm9tICcuLi90eXBlcy5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBmZXRjaFByZWRpY3RPcGVyYXRpb25QYXJhbWV0ZXJzVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuRmV0Y2hQcmVkaWN0T3BlcmF0aW9uUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ29wZXJhdGlvbk5hbWUnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignb3BlcmF0aW9uTmFtZSBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Jlc291cmNlTmFtZSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdyZXNvdXJjZU5hbWUgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY29uZmlnIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmZXRjaFByZWRpY3RPcGVyYXRpb25QYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkZldGNoUHJlZGljdE9wZXJhdGlvblBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21PcGVyYXRpb25OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnb3BlcmF0aW9uTmFtZScsXG4gIF0pO1xuICBpZiAoZnJvbU9wZXJhdGlvbk5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydvcGVyYXRpb25OYW1lJ10sIGZyb21PcGVyYXRpb25OYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNvdXJjZU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXNvdXJjZU5hbWUnXSk7XG4gIGlmIChmcm9tUmVzb3VyY2VOYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnX3VybCcsICdyZXNvdXJjZU5hbWUnXSwgZnJvbVJlc291cmNlTmFtZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVZpZGVvc09wZXJhdGlvbkZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVWaWRlb3NPcGVyYXRpb24sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtZXRhZGF0YSddKTtcbiAgaWYgKGZyb21NZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21ldGFkYXRhJ10sIGZyb21NZXRhZGF0YSk7XG4gIH1cblxuICBjb25zdCBmcm9tRG9uZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2RvbmUnXSk7XG4gIGlmIChmcm9tRG9uZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2RvbmUnXSwgZnJvbURvbmUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUVycm9yID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXJyb3InXSk7XG4gIGlmIChmcm9tRXJyb3IgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydlcnJvciddLCBmcm9tRXJyb3IpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVzcG9uc2UnLFxuICAgICdnZW5lcmF0ZVZpZGVvUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Jlc3BvbnNlJ10sXG4gICAgICBnZW5lcmF0ZVZpZGVvc1Jlc3BvbnNlRnJvbU1sZGV2KGZyb21SZXNwb25zZSksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uRnJvbVZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVWaWRlb3NPcGVyYXRpb24sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtZXRhZGF0YSddKTtcbiAgaWYgKGZyb21NZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21ldGFkYXRhJ10sIGZyb21NZXRhZGF0YSk7XG4gIH1cblxuICBjb25zdCBmcm9tRG9uZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2RvbmUnXSk7XG4gIGlmIChmcm9tRG9uZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2RvbmUnXSwgZnJvbURvbmUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUVycm9yID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXJyb3InXSk7XG4gIGlmIChmcm9tRXJyb3IgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydlcnJvciddLCBmcm9tRXJyb3IpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncmVzcG9uc2UnXSk7XG4gIGlmIChmcm9tUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXNwb25zZSddLFxuICAgICAgZ2VuZXJhdGVWaWRlb3NSZXNwb25zZUZyb21WZXJ0ZXgoZnJvbVJlc3BvbnNlKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVWaWRlb3NSZXNwb25zZUZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVWaWRlb3NSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUdlbmVyYXRlZFZpZGVvcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2dlbmVyYXRlZFNhbXBsZXMnLFxuICBdKTtcbiAgaWYgKGZyb21HZW5lcmF0ZWRWaWRlb3MgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tR2VuZXJhdGVkVmlkZW9zO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlZFZpZGVvRnJvbU1sZGV2KGl0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydnZW5lcmF0ZWRWaWRlb3MnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SYWlNZWRpYUZpbHRlcmVkQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyYWlNZWRpYUZpbHRlcmVkQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21SYWlNZWRpYUZpbHRlcmVkQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyYWlNZWRpYUZpbHRlcmVkQ291bnQnXSxcbiAgICAgIGZyb21SYWlNZWRpYUZpbHRlcmVkQ291bnQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SYWlNZWRpYUZpbHRlcmVkUmVhc29ucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3JhaU1lZGlhRmlsdGVyZWRSZWFzb25zJyxcbiAgXSk7XG4gIGlmIChmcm9tUmFpTWVkaWFGaWx0ZXJlZFJlYXNvbnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyYWlNZWRpYUZpbHRlcmVkUmVhc29ucyddLFxuICAgICAgZnJvbVJhaU1lZGlhRmlsdGVyZWRSZWFzb25zLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVZpZGVvc1Jlc3BvbnNlRnJvbVZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVWaWRlb3NSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUdlbmVyYXRlZFZpZGVvcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3ZpZGVvcyddKTtcbiAgaWYgKGZyb21HZW5lcmF0ZWRWaWRlb3MgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tR2VuZXJhdGVkVmlkZW9zO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlZFZpZGVvRnJvbVZlcnRleChpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZ2VuZXJhdGVkVmlkZW9zJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICBjb25zdCBmcm9tUmFpTWVkaWFGaWx0ZXJlZENvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmFpTWVkaWFGaWx0ZXJlZENvdW50JyxcbiAgXSk7XG4gIGlmIChmcm9tUmFpTWVkaWFGaWx0ZXJlZENvdW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmFpTWVkaWFGaWx0ZXJlZENvdW50J10sXG4gICAgICBmcm9tUmFpTWVkaWFGaWx0ZXJlZENvdW50LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmFpTWVkaWFGaWx0ZXJlZFJlYXNvbnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyYWlNZWRpYUZpbHRlcmVkUmVhc29ucycsXG4gIF0pO1xuICBpZiAoZnJvbVJhaU1lZGlhRmlsdGVyZWRSZWFzb25zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmFpTWVkaWFGaWx0ZXJlZFJlYXNvbnMnXSxcbiAgICAgIGZyb21SYWlNZWRpYUZpbHRlcmVkUmVhc29ucyxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVkVmlkZW9Gcm9tTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlZFZpZGVvLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVmlkZW8gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd2aWRlbyddKTtcbiAgaWYgKGZyb21WaWRlbyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3ZpZGVvJ10sIHZpZGVvRnJvbU1sZGV2KGZyb21WaWRlbykpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVkVmlkZW9Gcm9tVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZWRWaWRlbyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVZpZGVvID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnX3NlbGYnXSk7XG4gIGlmIChmcm9tVmlkZW8gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd2aWRlbyddLCB2aWRlb0Zyb21WZXJ0ZXgoZnJvbVZpZGVvKSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcGVyYXRpb25QYXJhbWV0ZXJzVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuR2V0T3BlcmF0aW9uUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU9wZXJhdGlvbk5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdvcGVyYXRpb25OYW1lJyxcbiAgXSk7XG4gIGlmIChmcm9tT3BlcmF0aW9uTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnb3BlcmF0aW9uTmFtZSddLFxuICAgICAgZnJvbU9wZXJhdGlvbk5hbWUsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE9wZXJhdGlvblBhcmFtZXRlcnNUb1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuR2V0T3BlcmF0aW9uUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU9wZXJhdGlvbk5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdvcGVyYXRpb25OYW1lJyxcbiAgXSk7XG4gIGlmIChmcm9tT3BlcmF0aW9uTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnb3BlcmF0aW9uTmFtZSddLFxuICAgICAgZnJvbU9wZXJhdGlvbk5hbWUsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGltcG9ydEZpbGVPcGVyYXRpb25Gcm9tTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkltcG9ydEZpbGVPcGVyYXRpb24sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtZXRhZGF0YSddKTtcbiAgaWYgKGZyb21NZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21ldGFkYXRhJ10sIGZyb21NZXRhZGF0YSk7XG4gIH1cblxuICBjb25zdCBmcm9tRG9uZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2RvbmUnXSk7XG4gIGlmIChmcm9tRG9uZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2RvbmUnXSwgZnJvbURvbmUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUVycm9yID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXJyb3InXSk7XG4gIGlmIChmcm9tRXJyb3IgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydlcnJvciddLCBmcm9tRXJyb3IpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncmVzcG9uc2UnXSk7XG4gIGlmIChmcm9tUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXNwb25zZSddLFxuICAgICAgaW1wb3J0RmlsZVJlc3BvbnNlRnJvbU1sZGV2KGZyb21SZXNwb25zZSksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGltcG9ydEZpbGVSZXNwb25zZUZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuSW1wb3J0RmlsZVJlc3BvbnNlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tU2RrSHR0cFJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2RrSHR0cFJlc3BvbnNlJyxcbiAgXSk7XG4gIGlmIChmcm9tU2RrSHR0cFJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2RrSHR0cFJlc3BvbnNlJ10sIGZyb21TZGtIdHRwUmVzcG9uc2UpO1xuICB9XG5cbiAgY29uc3QgZnJvbVBhcmVudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhcmVudCddKTtcbiAgaWYgKGZyb21QYXJlbnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwYXJlbnQnXSwgZnJvbVBhcmVudCk7XG4gIH1cblxuICBjb25zdCBmcm9tRG9jdW1lbnROYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZG9jdW1lbnROYW1lJ10pO1xuICBpZiAoZnJvbURvY3VtZW50TmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2RvY3VtZW50TmFtZSddLCBmcm9tRG9jdW1lbnROYW1lKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlT3BlcmF0aW9uRnJvbU1sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5VcGxvYWRUb0ZpbGVTZWFyY2hTdG9yZU9wZXJhdGlvbixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NZXRhZGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21ldGFkYXRhJ10pO1xuICBpZiAoZnJvbU1ldGFkYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWV0YWRhdGEnXSwgZnJvbU1ldGFkYXRhKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Eb25lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZG9uZSddKTtcbiAgaWYgKGZyb21Eb25lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZG9uZSddLCBmcm9tRG9uZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRXJyb3IgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlcnJvciddKTtcbiAgaWYgKGZyb21FcnJvciAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Vycm9yJ10sIGZyb21FcnJvcik7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXNwb25zZSddKTtcbiAgaWYgKGZyb21SZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Jlc3BvbnNlJ10sXG4gICAgICB1cGxvYWRUb0ZpbGVTZWFyY2hTdG9yZVJlc3BvbnNlRnJvbU1sZGV2KGZyb21SZXNwb25zZSksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlUmVzcG9uc2VGcm9tTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLlVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21TZGtIdHRwUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZGtIdHRwUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21TZGtIdHRwUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzZGtIdHRwUmVzcG9uc2UnXSwgZnJvbVNka0h0dHBSZXNwb25zZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUGFyZW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFyZW50J10pO1xuICBpZiAoZnJvbVBhcmVudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3BhcmVudCddLCBmcm9tUGFyZW50KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Eb2N1bWVudE5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkb2N1bWVudE5hbWUnXSk7XG4gIGlmIChmcm9tRG9jdW1lbnROYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZG9jdW1lbnROYW1lJ10sIGZyb21Eb2N1bWVudE5hbWUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmlkZW9Gcm9tTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLlZpZGVvLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndXJpJ10pO1xuICBpZiAoZnJvbVVyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3VyaSddLCBmcm9tVXJpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21WaWRlb0J5dGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZW5jb2RlZFZpZGVvJ10pO1xuICBpZiAoZnJvbVZpZGVvQnl0ZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd2aWRlb0J5dGVzJ10sIHQudEJ5dGVzKGZyb21WaWRlb0J5dGVzKSk7XG4gIH1cblxuICBjb25zdCBmcm9tTWltZVR5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlbmNvZGluZyddKTtcbiAgaWYgKGZyb21NaW1lVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21pbWVUeXBlJ10sIGZyb21NaW1lVHlwZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2aWRlb0Zyb21WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLlZpZGVvLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ2NzVXJpJ10pO1xuICBpZiAoZnJvbVVyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3VyaSddLCBmcm9tVXJpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21WaWRlb0J5dGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnYnl0ZXNCYXNlNjRFbmNvZGVkJyxcbiAgXSk7XG4gIGlmIChmcm9tVmlkZW9CeXRlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3ZpZGVvQnl0ZXMnXSwgdC50Qnl0ZXMoZnJvbVZpZGVvQnl0ZXMpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbWVUeXBlJ10pO1xuICBpZiAoZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWltZVR5cGUnXSwgZnJvbU1pbWVUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8vIENvZGUgZ2VuZXJhdGVkIGJ5IHRoZSBHb29nbGUgR2VuIEFJIFNESyBnZW5lcmF0b3IgRE8gTk9UIEVESVQuXG5cbmltcG9ydCB0eXBlIHtSZWZlcmVuY2VJbWFnZUFQSUludGVybmFsfSBmcm9tICcuL19pbnRlcm5hbF90eXBlcy5qcyc7XG5pbXBvcnQge1xuICBnZW5lcmF0ZVZpZGVvc09wZXJhdGlvbkZyb21NbGRldixcbiAgZ2VuZXJhdGVWaWRlb3NPcGVyYXRpb25Gcm9tVmVydGV4LFxuICBpbXBvcnRGaWxlT3BlcmF0aW9uRnJvbU1sZGV2LFxuICB1cGxvYWRUb0ZpbGVTZWFyY2hTdG9yZU9wZXJhdGlvbkZyb21NbGRldixcbn0gZnJvbSAnLi9jb252ZXJ0ZXJzL19vcGVyYXRpb25zX2NvbnZlcnRlcnMuanMnO1xuXG4vKiogT3V0Y29tZSBvZiB0aGUgY29kZSBleGVjdXRpb24uICovXG5leHBvcnQgZW51bSBPdXRjb21lIHtcbiAgLyoqXG4gICAqIFVuc3BlY2lmaWVkIHN0YXR1cy4gVGhpcyB2YWx1ZSBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAqL1xuICBPVVRDT01FX1VOU1BFQ0lGSUVEID0gJ09VVENPTUVfVU5TUEVDSUZJRUQnLFxuICAvKipcbiAgICogQ29kZSBleGVjdXRpb24gY29tcGxldGVkIHN1Y2Nlc3NmdWxseS5cbiAgICovXG4gIE9VVENPTUVfT0sgPSAnT1VUQ09NRV9PSycsXG4gIC8qKlxuICAgKiBDb2RlIGV4ZWN1dGlvbiBmaW5pc2hlZCBidXQgd2l0aCBhIGZhaWx1cmUuIGBzdGRlcnJgIHNob3VsZCBjb250YWluIHRoZSByZWFzb24uXG4gICAqL1xuICBPVVRDT01FX0ZBSUxFRCA9ICdPVVRDT01FX0ZBSUxFRCcsXG4gIC8qKlxuICAgKiBDb2RlIGV4ZWN1dGlvbiByYW4gZm9yIHRvbyBsb25nLCBhbmQgd2FzIGNhbmNlbGxlZC4gVGhlcmUgbWF5IG9yIG1heSBub3QgYmUgYSBwYXJ0aWFsIG91dHB1dCBwcmVzZW50LlxuICAgKi9cbiAgT1VUQ09NRV9ERUFETElORV9FWENFRURFRCA9ICdPVVRDT01FX0RFQURMSU5FX0VYQ0VFREVEJyxcbn1cblxuLyoqIFByb2dyYW1taW5nIGxhbmd1YWdlIG9mIHRoZSBgY29kZWAuICovXG5leHBvcnQgZW51bSBMYW5ndWFnZSB7XG4gIC8qKlxuICAgKiBVbnNwZWNpZmllZCBsYW5ndWFnZS4gVGhpcyB2YWx1ZSBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAqL1xuICBMQU5HVUFHRV9VTlNQRUNJRklFRCA9ICdMQU5HVUFHRV9VTlNQRUNJRklFRCcsXG4gIC8qKlxuICAgKiBQeXRob24gPj0gMy4xMCwgd2l0aCBudW1weSBhbmQgc2ltcHkgYXZhaWxhYmxlLlxuICAgKi9cbiAgUFlUSE9OID0gJ1BZVEhPTicsXG59XG5cbi8qKiBTcGVjaWZpZXMgaG93IHRoZSByZXNwb25zZSBzaG91bGQgYmUgc2NoZWR1bGVkIGluIHRoZSBjb252ZXJzYXRpb24uICovXG5leHBvcnQgZW51bSBGdW5jdGlvblJlc3BvbnNlU2NoZWR1bGluZyB7XG4gIC8qKlxuICAgKiBUaGlzIHZhbHVlIGlzIHVudXNlZC5cbiAgICovXG4gIFNDSEVEVUxJTkdfVU5TUEVDSUZJRUQgPSAnU0NIRURVTElOR19VTlNQRUNJRklFRCcsXG4gIC8qKlxuICAgKiBPbmx5IGFkZCB0aGUgcmVzdWx0IHRvIHRoZSBjb252ZXJzYXRpb24gY29udGV4dCwgZG8gbm90IGludGVycnVwdCBvciB0cmlnZ2VyIGdlbmVyYXRpb24uXG4gICAqL1xuICBTSUxFTlQgPSAnU0lMRU5UJyxcbiAgLyoqXG4gICAqIEFkZCB0aGUgcmVzdWx0IHRvIHRoZSBjb252ZXJzYXRpb24gY29udGV4dCwgYW5kIHByb21wdCB0byBnZW5lcmF0ZSBvdXRwdXQgd2l0aG91dCBpbnRlcnJ1cHRpbmcgb25nb2luZyBnZW5lcmF0aW9uLlxuICAgKi9cbiAgV0hFTl9JRExFID0gJ1dIRU5fSURMRScsXG4gIC8qKlxuICAgKiBBZGQgdGhlIHJlc3VsdCB0byB0aGUgY29udmVyc2F0aW9uIGNvbnRleHQsIGludGVycnVwdCBvbmdvaW5nIGdlbmVyYXRpb24gYW5kIHByb21wdCB0byBnZW5lcmF0ZSBvdXRwdXQuXG4gICAqL1xuICBJTlRFUlJVUFQgPSAnSU5URVJSVVBUJyxcbn1cblxuLyoqIFRoZSB0eXBlIG9mIHRoZSBkYXRhLiAqL1xuZXhwb3J0IGVudW0gVHlwZSB7XG4gIC8qKlxuICAgKiBOb3Qgc3BlY2lmaWVkLCBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAqL1xuICBUWVBFX1VOU1BFQ0lGSUVEID0gJ1RZUEVfVU5TUEVDSUZJRUQnLFxuICAvKipcbiAgICogT3BlbkFQSSBzdHJpbmcgdHlwZVxuICAgKi9cbiAgU1RSSU5HID0gJ1NUUklORycsXG4gIC8qKlxuICAgKiBPcGVuQVBJIG51bWJlciB0eXBlXG4gICAqL1xuICBOVU1CRVIgPSAnTlVNQkVSJyxcbiAgLyoqXG4gICAqIE9wZW5BUEkgaW50ZWdlciB0eXBlXG4gICAqL1xuICBJTlRFR0VSID0gJ0lOVEVHRVInLFxuICAvKipcbiAgICogT3BlbkFQSSBib29sZWFuIHR5cGVcbiAgICovXG4gIEJPT0xFQU4gPSAnQk9PTEVBTicsXG4gIC8qKlxuICAgKiBPcGVuQVBJIGFycmF5IHR5cGVcbiAgICovXG4gIEFSUkFZID0gJ0FSUkFZJyxcbiAgLyoqXG4gICAqIE9wZW5BUEkgb2JqZWN0IHR5cGVcbiAgICovXG4gIE9CSkVDVCA9ICdPQkpFQ1QnLFxuICAvKipcbiAgICogTnVsbCB0eXBlXG4gICAqL1xuICBOVUxMID0gJ05VTEwnLFxufVxuXG4vKiogVGhlIG1vZGUgb2YgdGhlIHByZWRpY3RvciB0byBiZSB1c2VkIGluIGR5bmFtaWMgcmV0cmlldmFsLiAqL1xuZXhwb3J0IGVudW0gTW9kZSB7XG4gIC8qKlxuICAgKiBBbHdheXMgdHJpZ2dlciByZXRyaWV2YWwuXG4gICAqL1xuICBNT0RFX1VOU1BFQ0lGSUVEID0gJ01PREVfVU5TUEVDSUZJRUQnLFxuICAvKipcbiAgICogUnVuIHJldHJpZXZhbCBvbmx5IHdoZW4gc3lzdGVtIGRlY2lkZXMgaXQgaXMgbmVjZXNzYXJ5LlxuICAgKi9cbiAgTU9ERV9EWU5BTUlDID0gJ01PREVfRFlOQU1JQycsXG59XG5cbi8qKiBUaGUgQVBJIHNwZWMgdGhhdCB0aGUgZXh0ZXJuYWwgQVBJIGltcGxlbWVudHMuIFRoaXMgZW51bSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZW51bSBBcGlTcGVjIHtcbiAgLyoqXG4gICAqIFVuc3BlY2lmaWVkIEFQSSBzcGVjLiBUaGlzIHZhbHVlIHNob3VsZCBub3QgYmUgdXNlZC5cbiAgICovXG4gIEFQSV9TUEVDX1VOU1BFQ0lGSUVEID0gJ0FQSV9TUEVDX1VOU1BFQ0lGSUVEJyxcbiAgLyoqXG4gICAqIFNpbXBsZSBzZWFyY2ggQVBJIHNwZWMuXG4gICAqL1xuICBTSU1QTEVfU0VBUkNIID0gJ1NJTVBMRV9TRUFSQ0gnLFxuICAvKipcbiAgICogRWxhc3RpYyBzZWFyY2ggQVBJIHNwZWMuXG4gICAqL1xuICBFTEFTVElDX1NFQVJDSCA9ICdFTEFTVElDX1NFQVJDSCcsXG59XG5cbi8qKiBUeXBlIG9mIGF1dGggc2NoZW1lLiBUaGlzIGVudW0gaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGVudW0gQXV0aFR5cGUge1xuICBBVVRIX1RZUEVfVU5TUEVDSUZJRUQgPSAnQVVUSF9UWVBFX1VOU1BFQ0lGSUVEJyxcbiAgLyoqXG4gICAqIE5vIEF1dGguXG4gICAqL1xuICBOT19BVVRIID0gJ05PX0FVVEgnLFxuICAvKipcbiAgICogQVBJIEtleSBBdXRoLlxuICAgKi9cbiAgQVBJX0tFWV9BVVRIID0gJ0FQSV9LRVlfQVVUSCcsXG4gIC8qKlxuICAgKiBIVFRQIEJhc2ljIEF1dGguXG4gICAqL1xuICBIVFRQX0JBU0lDX0FVVEggPSAnSFRUUF9CQVNJQ19BVVRIJyxcbiAgLyoqXG4gICAqIEdvb2dsZSBTZXJ2aWNlIEFjY291bnQgQXV0aC5cbiAgICovXG4gIEdPT0dMRV9TRVJWSUNFX0FDQ09VTlRfQVVUSCA9ICdHT09HTEVfU0VSVklDRV9BQ0NPVU5UX0FVVEgnLFxuICAvKipcbiAgICogT0F1dGggYXV0aC5cbiAgICovXG4gIE9BVVRIID0gJ09BVVRIJyxcbiAgLyoqXG4gICAqIE9wZW5JRCBDb25uZWN0IChPSURDKSBBdXRoLlxuICAgKi9cbiAgT0lEQ19BVVRIID0gJ09JRENfQVVUSCcsXG59XG5cbi8qKiBUaGUgbG9jYXRpb24gb2YgdGhlIEFQSSBrZXkuIFRoaXMgZW51bSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZW51bSBIdHRwRWxlbWVudExvY2F0aW9uIHtcbiAgSFRUUF9JTl9VTlNQRUNJRklFRCA9ICdIVFRQX0lOX1VOU1BFQ0lGSUVEJyxcbiAgLyoqXG4gICAqIEVsZW1lbnQgaXMgaW4gdGhlIEhUVFAgcmVxdWVzdCBxdWVyeS5cbiAgICovXG4gIEhUVFBfSU5fUVVFUlkgPSAnSFRUUF9JTl9RVUVSWScsXG4gIC8qKlxuICAgKiBFbGVtZW50IGlzIGluIHRoZSBIVFRQIHJlcXVlc3QgaGVhZGVyLlxuICAgKi9cbiAgSFRUUF9JTl9IRUFERVIgPSAnSFRUUF9JTl9IRUFERVInLFxuICAvKipcbiAgICogRWxlbWVudCBpcyBpbiB0aGUgSFRUUCByZXF1ZXN0IHBhdGguXG4gICAqL1xuICBIVFRQX0lOX1BBVEggPSAnSFRUUF9JTl9QQVRIJyxcbiAgLyoqXG4gICAqIEVsZW1lbnQgaXMgaW4gdGhlIEhUVFAgcmVxdWVzdCBib2R5LlxuICAgKi9cbiAgSFRUUF9JTl9CT0RZID0gJ0hUVFBfSU5fQk9EWScsXG4gIC8qKlxuICAgKiBFbGVtZW50IGlzIGluIHRoZSBIVFRQIHJlcXVlc3QgY29va2llLlxuICAgKi9cbiAgSFRUUF9JTl9DT09LSUUgPSAnSFRUUF9JTl9DT09LSUUnLFxufVxuXG4vKiogU2l0ZXMgd2l0aCBjb25maWRlbmNlIGxldmVsIGNob3NlbiAmIGFib3ZlIHRoaXMgdmFsdWUgd2lsbCBiZSBibG9ja2VkIGZyb20gdGhlIHNlYXJjaCByZXN1bHRzLiBUaGlzIGVudW0gaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGVudW0gUGhpc2hCbG9ja1RocmVzaG9sZCB7XG4gIC8qKlxuICAgKiBEZWZhdWx0cyB0byB1bnNwZWNpZmllZC5cbiAgICovXG4gIFBISVNIX0JMT0NLX1RIUkVTSE9MRF9VTlNQRUNJRklFRCA9ICdQSElTSF9CTE9DS19USFJFU0hPTERfVU5TUEVDSUZJRUQnLFxuICAvKipcbiAgICogQmxvY2tzIExvdyBhbmQgYWJvdmUgY29uZmlkZW5jZSBVUkwgdGhhdCBpcyByaXNreS5cbiAgICovXG4gIEJMT0NLX0xPV19BTkRfQUJPVkUgPSAnQkxPQ0tfTE9XX0FORF9BQk9WRScsXG4gIC8qKlxuICAgKiBCbG9ja3MgTWVkaXVtIGFuZCBhYm92ZSBjb25maWRlbmNlIFVSTCB0aGF0IGlzIHJpc2t5LlxuICAgKi9cbiAgQkxPQ0tfTUVESVVNX0FORF9BQk9WRSA9ICdCTE9DS19NRURJVU1fQU5EX0FCT1ZFJyxcbiAgLyoqXG4gICAqIEJsb2NrcyBIaWdoIGFuZCBhYm92ZSBjb25maWRlbmNlIFVSTCB0aGF0IGlzIHJpc2t5LlxuICAgKi9cbiAgQkxPQ0tfSElHSF9BTkRfQUJPVkUgPSAnQkxPQ0tfSElHSF9BTkRfQUJPVkUnLFxuICAvKipcbiAgICogQmxvY2tzIEhpZ2hlciBhbmQgYWJvdmUgY29uZmlkZW5jZSBVUkwgdGhhdCBpcyByaXNreS5cbiAgICovXG4gIEJMT0NLX0hJR0hFUl9BTkRfQUJPVkUgPSAnQkxPQ0tfSElHSEVSX0FORF9BQk9WRScsXG4gIC8qKlxuICAgKiBCbG9ja3MgVmVyeSBoaWdoIGFuZCBhYm92ZSBjb25maWRlbmNlIFVSTCB0aGF0IGlzIHJpc2t5LlxuICAgKi9cbiAgQkxPQ0tfVkVSWV9ISUdIX0FORF9BQk9WRSA9ICdCTE9DS19WRVJZX0hJR0hfQU5EX0FCT1ZFJyxcbiAgLyoqXG4gICAqIEJsb2NrcyBFeHRyZW1lbHkgaGlnaCBjb25maWRlbmNlIFVSTCB0aGF0IGlzIHJpc2t5LlxuICAgKi9cbiAgQkxPQ0tfT05MWV9FWFRSRU1FTFlfSElHSCA9ICdCTE9DS19PTkxZX0VYVFJFTUVMWV9ISUdIJyxcbn1cblxuLyoqIFRoZSBudW1iZXIgb2YgdGhvdWdodHMgdG9rZW5zIHRoYXQgdGhlIG1vZGVsIHNob3VsZCBnZW5lcmF0ZS4gKi9cbmV4cG9ydCBlbnVtIFRoaW5raW5nTGV2ZWwge1xuICAvKipcbiAgICogVW5zcGVjaWZpZWQgdGhpbmtpbmcgbGV2ZWwuXG4gICAqL1xuICBUSElOS0lOR19MRVZFTF9VTlNQRUNJRklFRCA9ICdUSElOS0lOR19MRVZFTF9VTlNQRUNJRklFRCcsXG4gIC8qKlxuICAgKiBMb3cgdGhpbmtpbmcgbGV2ZWwuXG4gICAqL1xuICBMT1cgPSAnTE9XJyxcbiAgLyoqXG4gICAqIE1lZGl1bSB0aGlua2luZyBsZXZlbC5cbiAgICovXG4gIE1FRElVTSA9ICdNRURJVU0nLFxuICAvKipcbiAgICogSGlnaCB0aGlua2luZyBsZXZlbC5cbiAgICovXG4gIEhJR0ggPSAnSElHSCcsXG4gIC8qKlxuICAgKiBNSU5JTUFMIHRoaW5raW5nIGxldmVsLlxuICAgKi9cbiAgTUlOSU1BTCA9ICdNSU5JTUFMJyxcbn1cblxuLyoqIEhhcm0gY2F0ZWdvcnkuICovXG5leHBvcnQgZW51bSBIYXJtQ2F0ZWdvcnkge1xuICAvKipcbiAgICogVGhlIGhhcm0gY2F0ZWdvcnkgaXMgdW5zcGVjaWZpZWQuXG4gICAqL1xuICBIQVJNX0NBVEVHT1JZX1VOU1BFQ0lGSUVEID0gJ0hBUk1fQ0FURUdPUllfVU5TUEVDSUZJRUQnLFxuICAvKipcbiAgICogVGhlIGhhcm0gY2F0ZWdvcnkgaXMgaGFyYXNzbWVudC5cbiAgICovXG4gIEhBUk1fQ0FURUdPUllfSEFSQVNTTUVOVCA9ICdIQVJNX0NBVEVHT1JZX0hBUkFTU01FTlQnLFxuICAvKipcbiAgICogVGhlIGhhcm0gY2F0ZWdvcnkgaXMgaGF0ZSBzcGVlY2guXG4gICAqL1xuICBIQVJNX0NBVEVHT1JZX0hBVEVfU1BFRUNIID0gJ0hBUk1fQ0FURUdPUllfSEFURV9TUEVFQ0gnLFxuICAvKipcbiAgICogVGhlIGhhcm0gY2F0ZWdvcnkgaXMgc2V4dWFsbHkgZXhwbGljaXQgY29udGVudC5cbiAgICovXG4gIEhBUk1fQ0FURUdPUllfU0VYVUFMTFlfRVhQTElDSVQgPSAnSEFSTV9DQVRFR09SWV9TRVhVQUxMWV9FWFBMSUNJVCcsXG4gIC8qKlxuICAgKiBUaGUgaGFybSBjYXRlZ29yeSBpcyBkYW5nZXJvdXMgY29udGVudC5cbiAgICovXG4gIEhBUk1fQ0FURUdPUllfREFOR0VST1VTX0NPTlRFTlQgPSAnSEFSTV9DQVRFR09SWV9EQU5HRVJPVVNfQ09OVEVOVCcsXG4gIC8qKlxuICAgKiBEZXByZWNhdGVkOiBFbGVjdGlvbiBmaWx0ZXIgaXMgbm90IGxvbmdlciBzdXBwb3J0ZWQuIFRoZSBoYXJtIGNhdGVnb3J5IGlzIGNpdmljIGludGVncml0eS5cbiAgICovXG4gIEhBUk1fQ0FURUdPUllfQ0lWSUNfSU5URUdSSVRZID0gJ0hBUk1fQ0FURUdPUllfQ0lWSUNfSU5URUdSSVRZJyxcbiAgLyoqXG4gICAqIFRoZSBoYXJtIGNhdGVnb3J5IGlzIGltYWdlIGhhdGUuIFRoaXMgZW51bSB2YWx1ZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuXG4gICAqL1xuICBIQVJNX0NBVEVHT1JZX0lNQUdFX0hBVEUgPSAnSEFSTV9DQVRFR09SWV9JTUFHRV9IQVRFJyxcbiAgLyoqXG4gICAqIFRoZSBoYXJtIGNhdGVnb3J5IGlzIGltYWdlIGRhbmdlcm91cyBjb250ZW50LiBUaGlzIGVudW0gdmFsdWUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLlxuICAgKi9cbiAgSEFSTV9DQVRFR09SWV9JTUFHRV9EQU5HRVJPVVNfQ09OVEVOVCA9ICdIQVJNX0NBVEVHT1JZX0lNQUdFX0RBTkdFUk9VU19DT05URU5UJyxcbiAgLyoqXG4gICAqIFRoZSBoYXJtIGNhdGVnb3J5IGlzIGltYWdlIGhhcmFzc21lbnQuIFRoaXMgZW51bSB2YWx1ZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuXG4gICAqL1xuICBIQVJNX0NBVEVHT1JZX0lNQUdFX0hBUkFTU01FTlQgPSAnSEFSTV9DQVRFR09SWV9JTUFHRV9IQVJBU1NNRU5UJyxcbiAgLyoqXG4gICAqIFRoZSBoYXJtIGNhdGVnb3J5IGlzIGltYWdlIHNleHVhbGx5IGV4cGxpY2l0IGNvbnRlbnQuIFRoaXMgZW51bSB2YWx1ZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuXG4gICAqL1xuICBIQVJNX0NBVEVHT1JZX0lNQUdFX1NFWFVBTExZX0VYUExJQ0lUID0gJ0hBUk1fQ0FURUdPUllfSU1BR0VfU0VYVUFMTFlfRVhQTElDSVQnLFxuICAvKipcbiAgICogVGhlIGhhcm0gY2F0ZWdvcnkgaXMgZm9yIGphaWxicmVhayBwcm9tcHRzLiBUaGlzIGVudW0gdmFsdWUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLlxuICAgKi9cbiAgSEFSTV9DQVRFR09SWV9KQUlMQlJFQUsgPSAnSEFSTV9DQVRFR09SWV9KQUlMQlJFQUsnLFxufVxuXG4vKiogU3BlY2lmeSBpZiB0aGUgdGhyZXNob2xkIGlzIHVzZWQgZm9yIHByb2JhYmlsaXR5IG9yIHNldmVyaXR5IHNjb3JlLiBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgdGhyZXNob2xkIGlzIHVzZWQgZm9yIHByb2JhYmlsaXR5IHNjb3JlLiBUaGlzIGVudW0gaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGVudW0gSGFybUJsb2NrTWV0aG9kIHtcbiAgLyoqXG4gICAqIFRoZSBoYXJtIGJsb2NrIG1ldGhvZCBpcyB1bnNwZWNpZmllZC5cbiAgICovXG4gIEhBUk1fQkxPQ0tfTUVUSE9EX1VOU1BFQ0lGSUVEID0gJ0hBUk1fQkxPQ0tfTUVUSE9EX1VOU1BFQ0lGSUVEJyxcbiAgLyoqXG4gICAqIFRoZSBoYXJtIGJsb2NrIG1ldGhvZCB1c2VzIGJvdGggcHJvYmFiaWxpdHkgYW5kIHNldmVyaXR5IHNjb3Jlcy5cbiAgICovXG4gIFNFVkVSSVRZID0gJ1NFVkVSSVRZJyxcbiAgLyoqXG4gICAqIFRoZSBoYXJtIGJsb2NrIG1ldGhvZCB1c2VzIHRoZSBwcm9iYWJpbGl0eSBzY29yZS5cbiAgICovXG4gIFBST0JBQklMSVRZID0gJ1BST0JBQklMSVRZJyxcbn1cblxuLyoqIFRoZSBoYXJtIGJsb2NrIHRocmVzaG9sZC4gKi9cbmV4cG9ydCBlbnVtIEhhcm1CbG9ja1RocmVzaG9sZCB7XG4gIC8qKlxuICAgKiBVbnNwZWNpZmllZCBoYXJtIGJsb2NrIHRocmVzaG9sZC5cbiAgICovXG4gIEhBUk1fQkxPQ0tfVEhSRVNIT0xEX1VOU1BFQ0lGSUVEID0gJ0hBUk1fQkxPQ0tfVEhSRVNIT0xEX1VOU1BFQ0lGSUVEJyxcbiAgLyoqXG4gICAqIEJsb2NrIGxvdyB0aHJlc2hvbGQgYW5kIGFib3ZlIChpLmUuIGJsb2NrIG1vcmUpLlxuICAgKi9cbiAgQkxPQ0tfTE9XX0FORF9BQk9WRSA9ICdCTE9DS19MT1dfQU5EX0FCT1ZFJyxcbiAgLyoqXG4gICAqIEJsb2NrIG1lZGl1bSB0aHJlc2hvbGQgYW5kIGFib3ZlLlxuICAgKi9cbiAgQkxPQ0tfTUVESVVNX0FORF9BQk9WRSA9ICdCTE9DS19NRURJVU1fQU5EX0FCT1ZFJyxcbiAgLyoqXG4gICAqIEJsb2NrIG9ubHkgaGlnaCB0aHJlc2hvbGQgKGkuZS4gYmxvY2sgbGVzcykuXG4gICAqL1xuICBCTE9DS19PTkxZX0hJR0ggPSAnQkxPQ0tfT05MWV9ISUdIJyxcbiAgLyoqXG4gICAqIEJsb2NrIG5vbmUuXG4gICAqL1xuICBCTE9DS19OT05FID0gJ0JMT0NLX05PTkUnLFxuICAvKipcbiAgICogVHVybiBvZmYgdGhlIHNhZmV0eSBmaWx0ZXIuXG4gICAqL1xuICBPRkYgPSAnT0ZGJyxcbn1cblxuLyoqIE91dHB1dCBvbmx5LiBUaGUgcmVhc29uIHdoeSB0aGUgbW9kZWwgc3RvcHBlZCBnZW5lcmF0aW5nIHRva2Vucy5cblxuSWYgZW1wdHksIHRoZSBtb2RlbCBoYXMgbm90IHN0b3BwZWQgZ2VuZXJhdGluZyB0aGUgdG9rZW5zLiAqL1xuZXhwb3J0IGVudW0gRmluaXNoUmVhc29uIHtcbiAgLyoqXG4gICAqIFRoZSBmaW5pc2ggcmVhc29uIGlzIHVuc3BlY2lmaWVkLlxuICAgKi9cbiAgRklOSVNIX1JFQVNPTl9VTlNQRUNJRklFRCA9ICdGSU5JU0hfUkVBU09OX1VOU1BFQ0lGSUVEJyxcbiAgLyoqXG4gICAqIFRva2VuIGdlbmVyYXRpb24gcmVhY2hlZCBhIG5hdHVyYWwgc3RvcHBpbmcgcG9pbnQgb3IgYSBjb25maWd1cmVkIHN0b3Agc2VxdWVuY2UuXG4gICAqL1xuICBTVE9QID0gJ1NUT1AnLFxuICAvKipcbiAgICogVG9rZW4gZ2VuZXJhdGlvbiByZWFjaGVkIHRoZSBjb25maWd1cmVkIG1heGltdW0gb3V0cHV0IHRva2Vucy5cbiAgICovXG4gIE1BWF9UT0tFTlMgPSAnTUFYX1RPS0VOUycsXG4gIC8qKlxuICAgKiBUb2tlbiBnZW5lcmF0aW9uIHN0b3BwZWQgYmVjYXVzZSB0aGUgY29udGVudCBwb3RlbnRpYWxseSBjb250YWlucyBzYWZldHkgdmlvbGF0aW9ucy4gTk9URTogV2hlbiBzdHJlYW1pbmcsIFtjb250ZW50XVtdIGlzIGVtcHR5IGlmIGNvbnRlbnQgZmlsdGVycyBibG9ja3MgdGhlIG91dHB1dC5cbiAgICovXG4gIFNBRkVUWSA9ICdTQUZFVFknLFxuICAvKipcbiAgICogVGhlIHRva2VuIGdlbmVyYXRpb24gc3RvcHBlZCBiZWNhdXNlIG9mIHBvdGVudGlhbCByZWNpdGF0aW9uLlxuICAgKi9cbiAgUkVDSVRBVElPTiA9ICdSRUNJVEFUSU9OJyxcbiAgLyoqXG4gICAqIFRoZSB0b2tlbiBnZW5lcmF0aW9uIHN0b3BwZWQgYmVjYXVzZSBvZiB1c2luZyBhbiB1bnN1cHBvcnRlZCBsYW5ndWFnZS5cbiAgICovXG4gIExBTkdVQUdFID0gJ0xBTkdVQUdFJyxcbiAgLyoqXG4gICAqIEFsbCBvdGhlciByZWFzb25zIHRoYXQgc3RvcHBlZCB0aGUgdG9rZW4gZ2VuZXJhdGlvbi5cbiAgICovXG4gIE9USEVSID0gJ09USEVSJyxcbiAgLyoqXG4gICAqIFRva2VuIGdlbmVyYXRpb24gc3RvcHBlZCBiZWNhdXNlIHRoZSBjb250ZW50IGNvbnRhaW5zIGZvcmJpZGRlbiB0ZXJtcy5cbiAgICovXG4gIEJMT0NLTElTVCA9ICdCTE9DS0xJU1QnLFxuICAvKipcbiAgICogVG9rZW4gZ2VuZXJhdGlvbiBzdG9wcGVkIGZvciBwb3RlbnRpYWxseSBjb250YWluaW5nIHByb2hpYml0ZWQgY29udGVudC5cbiAgICovXG4gIFBST0hJQklURURfQ09OVEVOVCA9ICdQUk9ISUJJVEVEX0NPTlRFTlQnLFxuICAvKipcbiAgICogVG9rZW4gZ2VuZXJhdGlvbiBzdG9wcGVkIGJlY2F1c2UgdGhlIGNvbnRlbnQgcG90ZW50aWFsbHkgY29udGFpbnMgU2Vuc2l0aXZlIFBlcnNvbmFsbHkgSWRlbnRpZmlhYmxlIEluZm9ybWF0aW9uIChTUElJKS5cbiAgICovXG4gIFNQSUkgPSAnU1BJSScsXG4gIC8qKlxuICAgKiBUaGUgZnVuY3Rpb24gY2FsbCBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsIGlzIGludmFsaWQuXG4gICAqL1xuICBNQUxGT1JNRURfRlVOQ1RJT05fQ0FMTCA9ICdNQUxGT1JNRURfRlVOQ1RJT05fQ0FMTCcsXG4gIC8qKlxuICAgKiBUb2tlbiBnZW5lcmF0aW9uIHN0b3BwZWQgYmVjYXVzZSBnZW5lcmF0ZWQgaW1hZ2VzIGhhdmUgc2FmZXR5IHZpb2xhdGlvbnMuXG4gICAqL1xuICBJTUFHRV9TQUZFVFkgPSAnSU1BR0VfU0FGRVRZJyxcbiAgLyoqXG4gICAqIFRoZSB0b29sIGNhbGwgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCBpcyBpbnZhbGlkLlxuICAgKi9cbiAgVU5FWFBFQ1RFRF9UT09MX0NBTEwgPSAnVU5FWFBFQ1RFRF9UT09MX0NBTEwnLFxuICAvKipcbiAgICogSW1hZ2UgZ2VuZXJhdGlvbiBzdG9wcGVkIGJlY2F1c2UgdGhlIGdlbmVyYXRlZCBpbWFnZXMgaGF2ZSBwcm9oaWJpdGVkIGNvbnRlbnQuXG4gICAqL1xuICBJTUFHRV9QUk9ISUJJVEVEX0NPTlRFTlQgPSAnSU1BR0VfUFJPSElCSVRFRF9DT05URU5UJyxcbiAgLyoqXG4gICAqIFRoZSBtb2RlbCB3YXMgZXhwZWN0ZWQgdG8gZ2VuZXJhdGUgYW4gaW1hZ2UsIGJ1dCBub25lIHdhcyBnZW5lcmF0ZWQuXG4gICAqL1xuICBOT19JTUFHRSA9ICdOT19JTUFHRScsXG4gIC8qKlxuICAgKiBJbWFnZSBnZW5lcmF0aW9uIHN0b3BwZWQgYmVjYXVzZSB0aGUgZ2VuZXJhdGVkIGltYWdlIG1heSBiZSBhIHJlY2l0YXRpb24gZnJvbSBhIHNvdXJjZS5cbiAgICovXG4gIElNQUdFX1JFQ0lUQVRJT04gPSAnSU1BR0VfUkVDSVRBVElPTicsXG4gIC8qKlxuICAgKiBJbWFnZSBnZW5lcmF0aW9uIHN0b3BwZWQgZm9yIGEgcmVhc29uIG5vdCBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICAgKi9cbiAgSU1BR0VfT1RIRVIgPSAnSU1BR0VfT1RIRVInLFxufVxuXG4vKiogT3V0cHV0IG9ubHkuIEhhcm0gcHJvYmFiaWxpdHkgbGV2ZWxzIGluIHRoZSBjb250ZW50LiAqL1xuZXhwb3J0IGVudW0gSGFybVByb2JhYmlsaXR5IHtcbiAgLyoqXG4gICAqIEhhcm0gcHJvYmFiaWxpdHkgdW5zcGVjaWZpZWQuXG4gICAqL1xuICBIQVJNX1BST0JBQklMSVRZX1VOU1BFQ0lGSUVEID0gJ0hBUk1fUFJPQkFCSUxJVFlfVU5TUEVDSUZJRUQnLFxuICAvKipcbiAgICogTmVnbGlnaWJsZSBsZXZlbCBvZiBoYXJtLlxuICAgKi9cbiAgTkVHTElHSUJMRSA9ICdORUdMSUdJQkxFJyxcbiAgLyoqXG4gICAqIExvdyBsZXZlbCBvZiBoYXJtLlxuICAgKi9cbiAgTE9XID0gJ0xPVycsXG4gIC8qKlxuICAgKiBNZWRpdW0gbGV2ZWwgb2YgaGFybS5cbiAgICovXG4gIE1FRElVTSA9ICdNRURJVU0nLFxuICAvKipcbiAgICogSGlnaCBsZXZlbCBvZiBoYXJtLlxuICAgKi9cbiAgSElHSCA9ICdISUdIJyxcbn1cblxuLyoqIE91dHB1dCBvbmx5LiBIYXJtIHNldmVyaXR5IGxldmVscyBpbiB0aGUgY29udGVudC4gVGhpcyBlbnVtIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbmV4cG9ydCBlbnVtIEhhcm1TZXZlcml0eSB7XG4gIC8qKlxuICAgKiBIYXJtIHNldmVyaXR5IHVuc3BlY2lmaWVkLlxuICAgKi9cbiAgSEFSTV9TRVZFUklUWV9VTlNQRUNJRklFRCA9ICdIQVJNX1NFVkVSSVRZX1VOU1BFQ0lGSUVEJyxcbiAgLyoqXG4gICAqIE5lZ2xpZ2libGUgbGV2ZWwgb2YgaGFybSBzZXZlcml0eS5cbiAgICovXG4gIEhBUk1fU0VWRVJJVFlfTkVHTElHSUJMRSA9ICdIQVJNX1NFVkVSSVRZX05FR0xJR0lCTEUnLFxuICAvKipcbiAgICogTG93IGxldmVsIG9mIGhhcm0gc2V2ZXJpdHkuXG4gICAqL1xuICBIQVJNX1NFVkVSSVRZX0xPVyA9ICdIQVJNX1NFVkVSSVRZX0xPVycsXG4gIC8qKlxuICAgKiBNZWRpdW0gbGV2ZWwgb2YgaGFybSBzZXZlcml0eS5cbiAgICovXG4gIEhBUk1fU0VWRVJJVFlfTUVESVVNID0gJ0hBUk1fU0VWRVJJVFlfTUVESVVNJyxcbiAgLyoqXG4gICAqIEhpZ2ggbGV2ZWwgb2YgaGFybSBzZXZlcml0eS5cbiAgICovXG4gIEhBUk1fU0VWRVJJVFlfSElHSCA9ICdIQVJNX1NFVkVSSVRZX0hJR0gnLFxufVxuXG4vKiogU3RhdHVzIG9mIHRoZSB1cmwgcmV0cmlldmFsLiAqL1xuZXhwb3J0IGVudW0gVXJsUmV0cmlldmFsU3RhdHVzIHtcbiAgLyoqXG4gICAqIERlZmF1bHQgdmFsdWUuIFRoaXMgdmFsdWUgaXMgdW51c2VkLlxuICAgKi9cbiAgVVJMX1JFVFJJRVZBTF9TVEFUVVNfVU5TUEVDSUZJRUQgPSAnVVJMX1JFVFJJRVZBTF9TVEFUVVNfVU5TUEVDSUZJRUQnLFxuICAvKipcbiAgICogVXJsIHJldHJpZXZhbCBpcyBzdWNjZXNzZnVsLlxuICAgKi9cbiAgVVJMX1JFVFJJRVZBTF9TVEFUVVNfU1VDQ0VTUyA9ICdVUkxfUkVUUklFVkFMX1NUQVRVU19TVUNDRVNTJyxcbiAgLyoqXG4gICAqIFVybCByZXRyaWV2YWwgaXMgZmFpbGVkIGR1ZSB0byBlcnJvci5cbiAgICovXG4gIFVSTF9SRVRSSUVWQUxfU1RBVFVTX0VSUk9SID0gJ1VSTF9SRVRSSUVWQUxfU1RBVFVTX0VSUk9SJyxcbiAgLyoqXG4gICAqIFVybCByZXRyaWV2YWwgaXMgZmFpbGVkIGJlY2F1c2UgdGhlIGNvbnRlbnQgaXMgYmVoaW5kIHBheXdhbGwuIFRoaXMgZW51bSB2YWx1ZSBpcyBub3Qgc3VwcG9ydGVkIGluIFZlcnRleCBBSS5cbiAgICovXG4gIFVSTF9SRVRSSUVWQUxfU1RBVFVTX1BBWVdBTEwgPSAnVVJMX1JFVFJJRVZBTF9TVEFUVVNfUEFZV0FMTCcsXG4gIC8qKlxuICAgKiBVcmwgcmV0cmlldmFsIGlzIGZhaWxlZCBiZWNhdXNlIHRoZSBjb250ZW50IGlzIHVuc2FmZS4gVGhpcyBlbnVtIHZhbHVlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gVmVydGV4IEFJLlxuICAgKi9cbiAgVVJMX1JFVFJJRVZBTF9TVEFUVVNfVU5TQUZFID0gJ1VSTF9SRVRSSUVWQUxfU1RBVFVTX1VOU0FGRScsXG59XG5cbi8qKiBPdXRwdXQgb25seS4gVGhlIHJlYXNvbiB3aHkgdGhlIHByb21wdCB3YXMgYmxvY2tlZC4gKi9cbmV4cG9ydCBlbnVtIEJsb2NrZWRSZWFzb24ge1xuICAvKipcbiAgICogVGhlIGJsb2NrZWQgcmVhc29uIGlzIHVuc3BlY2lmaWVkLlxuICAgKi9cbiAgQkxPQ0tFRF9SRUFTT05fVU5TUEVDSUZJRUQgPSAnQkxPQ0tFRF9SRUFTT05fVU5TUEVDSUZJRUQnLFxuICAvKipcbiAgICogVGhlIHByb21wdCB3YXMgYmxvY2tlZCBmb3Igc2FmZXR5IHJlYXNvbnMuXG4gICAqL1xuICBTQUZFVFkgPSAnU0FGRVRZJyxcbiAgLyoqXG4gICAqIFRoZSBwcm9tcHQgd2FzIGJsb2NrZWQgZm9yIG90aGVyIHJlYXNvbnMuIEZvciBleGFtcGxlLCBpdCBtYXkgYmUgZHVlIHRvIHRoZSBwcm9tcHQncyBsYW5ndWFnZSwgb3IgYmVjYXVzZSBpdCBjb250YWlucyBvdGhlciBoYXJtZnVsIGNvbnRlbnQuXG4gICAqL1xuICBPVEhFUiA9ICdPVEhFUicsXG4gIC8qKlxuICAgKiBUaGUgcHJvbXB0IHdhcyBibG9ja2VkIGJlY2F1c2UgaXQgY29udGFpbnMgYSB0ZXJtIGZyb20gdGhlIHRlcm1pbm9sb2d5IGJsb2NrbGlzdC5cbiAgICovXG4gIEJMT0NLTElTVCA9ICdCTE9DS0xJU1QnLFxuICAvKipcbiAgICogVGhlIHByb21wdCB3YXMgYmxvY2tlZCBiZWNhdXNlIGl0IGNvbnRhaW5zIHByb2hpYml0ZWQgY29udGVudC5cbiAgICovXG4gIFBST0hJQklURURfQ09OVEVOVCA9ICdQUk9ISUJJVEVEX0NPTlRFTlQnLFxuICAvKipcbiAgICogVGhlIHByb21wdCB3YXMgYmxvY2tlZCBiZWNhdXNlIGl0IGNvbnRhaW5zIGNvbnRlbnQgdGhhdCBpcyB1bnNhZmUgZm9yIGltYWdlIGdlbmVyYXRpb24uXG4gICAqL1xuICBJTUFHRV9TQUZFVFkgPSAnSU1BR0VfU0FGRVRZJyxcbiAgLyoqXG4gICAqIFRoZSBwcm9tcHQgd2FzIGJsb2NrZWQgYnkgTW9kZWwgQXJtb3IuIFRoaXMgZW51bSB2YWx1ZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuXG4gICAqL1xuICBNT0RFTF9BUk1PUiA9ICdNT0RFTF9BUk1PUicsXG4gIC8qKlxuICAgKiBUaGUgcHJvbXB0IHdhcyBibG9ja2VkIGFzIGEgamFpbGJyZWFrIGF0dGVtcHQuIFRoaXMgZW51bSB2YWx1ZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuXG4gICAqL1xuICBKQUlMQlJFQUsgPSAnSkFJTEJSRUFLJyxcbn1cblxuLyoqIE91dHB1dCBvbmx5LiBUaGUgdHJhZmZpYyB0eXBlIGZvciB0aGlzIHJlcXVlc3QuIFRoaXMgZW51bSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZW51bSBUcmFmZmljVHlwZSB7XG4gIC8qKlxuICAgKiBVbnNwZWNpZmllZCByZXF1ZXN0IHRyYWZmaWMgdHlwZS5cbiAgICovXG4gIFRSQUZGSUNfVFlQRV9VTlNQRUNJRklFRCA9ICdUUkFGRklDX1RZUEVfVU5TUEVDSUZJRUQnLFxuICAvKipcbiAgICogVGhlIHJlcXVlc3Qgd2FzIHByb2Nlc3NlZCB1c2luZyBQYXktQXMtWW91LUdvIHF1b3RhLlxuICAgKi9cbiAgT05fREVNQU5EID0gJ09OX0RFTUFORCcsXG4gIC8qKlxuICAgKiBUeXBlIGZvciBQcm92aXNpb25lZCBUaHJvdWdocHV0IHRyYWZmaWMuXG4gICAqL1xuICBQUk9WSVNJT05FRF9USFJPVUdIUFVUID0gJ1BST1ZJU0lPTkVEX1RIUk9VR0hQVVQnLFxufVxuXG4vKiogU2VydmVyIGNvbnRlbnQgbW9kYWxpdGllcy4gKi9cbmV4cG9ydCBlbnVtIE1vZGFsaXR5IHtcbiAgLyoqXG4gICAqIFRoZSBtb2RhbGl0eSBpcyB1bnNwZWNpZmllZC5cbiAgICovXG4gIE1PREFMSVRZX1VOU1BFQ0lGSUVEID0gJ01PREFMSVRZX1VOU1BFQ0lGSUVEJyxcbiAgLyoqXG4gICAqIEluZGljYXRlcyB0aGUgbW9kZWwgc2hvdWxkIHJldHVybiB0ZXh0XG4gICAqL1xuICBURVhUID0gJ1RFWFQnLFxuICAvKipcbiAgICogSW5kaWNhdGVzIHRoZSBtb2RlbCBzaG91bGQgcmV0dXJuIGltYWdlcy5cbiAgICovXG4gIElNQUdFID0gJ0lNQUdFJyxcbiAgLyoqXG4gICAqIEluZGljYXRlcyB0aGUgbW9kZWwgc2hvdWxkIHJldHVybiBhdWRpby5cbiAgICovXG4gIEFVRElPID0gJ0FVRElPJyxcbn1cblxuLyoqIFRoZSBtZWRpYSByZXNvbHV0aW9uIHRvIHVzZS4gKi9cbmV4cG9ydCBlbnVtIE1lZGlhUmVzb2x1dGlvbiB7XG4gIC8qKlxuICAgKiBNZWRpYSByZXNvbHV0aW9uIGhhcyBub3QgYmVlbiBzZXRcbiAgICovXG4gIE1FRElBX1JFU09MVVRJT05fVU5TUEVDSUZJRUQgPSAnTUVESUFfUkVTT0xVVElPTl9VTlNQRUNJRklFRCcsXG4gIC8qKlxuICAgKiBNZWRpYSByZXNvbHV0aW9uIHNldCB0byBsb3cgKDY0IHRva2VucykuXG4gICAqL1xuICBNRURJQV9SRVNPTFVUSU9OX0xPVyA9ICdNRURJQV9SRVNPTFVUSU9OX0xPVycsXG4gIC8qKlxuICAgKiBNZWRpYSByZXNvbHV0aW9uIHNldCB0byBtZWRpdW0gKDI1NiB0b2tlbnMpLlxuICAgKi9cbiAgTUVESUFfUkVTT0xVVElPTl9NRURJVU0gPSAnTUVESUFfUkVTT0xVVElPTl9NRURJVU0nLFxuICAvKipcbiAgICogTWVkaWEgcmVzb2x1dGlvbiBzZXQgdG8gaGlnaCAoem9vbWVkIHJlZnJhbWluZyB3aXRoIDI1NiB0b2tlbnMpLlxuICAgKi9cbiAgTUVESUFfUkVTT0xVVElPTl9ISUdIID0gJ01FRElBX1JFU09MVVRJT05fSElHSCcsXG59XG5cbi8qKiBUdW5pbmcgbW9kZS4gVGhpcyBlbnVtIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbmV4cG9ydCBlbnVtIFR1bmluZ01vZGUge1xuICAvKipcbiAgICogVHVuaW5nIG1vZGUgaXMgdW5zcGVjaWZpZWQuXG4gICAqL1xuICBUVU5JTkdfTU9ERV9VTlNQRUNJRklFRCA9ICdUVU5JTkdfTU9ERV9VTlNQRUNJRklFRCcsXG4gIC8qKlxuICAgKiBGdWxsIGZpbmUtdHVuaW5nIG1vZGUuXG4gICAqL1xuICBUVU5JTkdfTU9ERV9GVUxMID0gJ1RVTklOR19NT0RFX0ZVTEwnLFxuICAvKipcbiAgICogUEVGVCBhZGFwdGVyIHR1bmluZyBtb2RlLlxuICAgKi9cbiAgVFVOSU5HX01PREVfUEVGVF9BREFQVEVSID0gJ1RVTklOR19NT0RFX1BFRlRfQURBUFRFUicsXG59XG5cbi8qKiBBZGFwdGVyIHNpemUgZm9yIHR1bmluZy4gVGhpcyBlbnVtIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbmV4cG9ydCBlbnVtIEFkYXB0ZXJTaXplIHtcbiAgLyoqXG4gICAqIEFkYXB0ZXIgc2l6ZSBpcyB1bnNwZWNpZmllZC5cbiAgICovXG4gIEFEQVBURVJfU0laRV9VTlNQRUNJRklFRCA9ICdBREFQVEVSX1NJWkVfVU5TUEVDSUZJRUQnLFxuICAvKipcbiAgICogQWRhcHRlciBzaXplIDEuXG4gICAqL1xuICBBREFQVEVSX1NJWkVfT05FID0gJ0FEQVBURVJfU0laRV9PTkUnLFxuICAvKipcbiAgICogQWRhcHRlciBzaXplIDIuXG4gICAqL1xuICBBREFQVEVSX1NJWkVfVFdPID0gJ0FEQVBURVJfU0laRV9UV08nLFxuICAvKipcbiAgICogQWRhcHRlciBzaXplIDQuXG4gICAqL1xuICBBREFQVEVSX1NJWkVfRk9VUiA9ICdBREFQVEVSX1NJWkVfRk9VUicsXG4gIC8qKlxuICAgKiBBZGFwdGVyIHNpemUgOC5cbiAgICovXG4gIEFEQVBURVJfU0laRV9FSUdIVCA9ICdBREFQVEVSX1NJWkVfRUlHSFQnLFxuICAvKipcbiAgICogQWRhcHRlciBzaXplIDE2LlxuICAgKi9cbiAgQURBUFRFUl9TSVpFX1NJWFRFRU4gPSAnQURBUFRFUl9TSVpFX1NJWFRFRU4nLFxuICAvKipcbiAgICogQWRhcHRlciBzaXplIDMyLlxuICAgKi9cbiAgQURBUFRFUl9TSVpFX1RISVJUWV9UV08gPSAnQURBUFRFUl9TSVpFX1RISVJUWV9UV08nLFxufVxuXG4vKiogSm9iIHN0YXRlLiAqL1xuZXhwb3J0IGVudW0gSm9iU3RhdGUge1xuICAvKipcbiAgICogVGhlIGpvYiBzdGF0ZSBpcyB1bnNwZWNpZmllZC5cbiAgICovXG4gIEpPQl9TVEFURV9VTlNQRUNJRklFRCA9ICdKT0JfU1RBVEVfVU5TUEVDSUZJRUQnLFxuICAvKipcbiAgICogVGhlIGpvYiBoYXMgYmVlbiBqdXN0IGNyZWF0ZWQgb3IgcmVzdW1lZCBhbmQgcHJvY2Vzc2luZyBoYXMgbm90IHlldCBiZWd1bi5cbiAgICovXG4gIEpPQl9TVEFURV9RVUVVRUQgPSAnSk9CX1NUQVRFX1FVRVVFRCcsXG4gIC8qKlxuICAgKiBUaGUgc2VydmljZSBpcyBwcmVwYXJpbmcgdG8gcnVuIHRoZSBqb2IuXG4gICAqL1xuICBKT0JfU1RBVEVfUEVORElORyA9ICdKT0JfU1RBVEVfUEVORElORycsXG4gIC8qKlxuICAgKiBUaGUgam9iIGlzIGluIHByb2dyZXNzLlxuICAgKi9cbiAgSk9CX1NUQVRFX1JVTk5JTkcgPSAnSk9CX1NUQVRFX1JVTk5JTkcnLFxuICAvKipcbiAgICogVGhlIGpvYiBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LlxuICAgKi9cbiAgSk9CX1NUQVRFX1NVQ0NFRURFRCA9ICdKT0JfU1RBVEVfU1VDQ0VFREVEJyxcbiAgLyoqXG4gICAqIFRoZSBqb2IgZmFpbGVkLlxuICAgKi9cbiAgSk9CX1NUQVRFX0ZBSUxFRCA9ICdKT0JfU1RBVEVfRkFJTEVEJyxcbiAgLyoqXG4gICAqIFRoZSBqb2IgaXMgYmVpbmcgY2FuY2VsbGVkLiBGcm9tIHRoaXMgc3RhdGUgdGhlIGpvYiBtYXkgb25seSBnbyB0byBlaXRoZXIgYEpPQl9TVEFURV9TVUNDRUVERURgLCBgSk9CX1NUQVRFX0ZBSUxFRGAgb3IgYEpPQl9TVEFURV9DQU5DRUxMRURgLlxuICAgKi9cbiAgSk9CX1NUQVRFX0NBTkNFTExJTkcgPSAnSk9CX1NUQVRFX0NBTkNFTExJTkcnLFxuICAvKipcbiAgICogVGhlIGpvYiBoYXMgYmVlbiBjYW5jZWxsZWQuXG4gICAqL1xuICBKT0JfU1RBVEVfQ0FOQ0VMTEVEID0gJ0pPQl9TVEFURV9DQU5DRUxMRUQnLFxuICAvKipcbiAgICogVGhlIGpvYiBoYXMgYmVlbiBzdG9wcGVkLCBhbmQgY2FuIGJlIHJlc3VtZWQuXG4gICAqL1xuICBKT0JfU1RBVEVfUEFVU0VEID0gJ0pPQl9TVEFURV9QQVVTRUQnLFxuICAvKipcbiAgICogVGhlIGpvYiBoYXMgZXhwaXJlZC5cbiAgICovXG4gIEpPQl9TVEFURV9FWFBJUkVEID0gJ0pPQl9TVEFURV9FWFBJUkVEJyxcbiAgLyoqXG4gICAqIFRoZSBqb2IgaXMgYmVpbmcgdXBkYXRlZC4gT25seSBqb2JzIGluIHRoZSBgSk9CX1NUQVRFX1JVTk5JTkdgIHN0YXRlIGNhbiBiZSB1cGRhdGVkLiBBZnRlciB1cGRhdGluZywgdGhlIGpvYiBnb2VzIGJhY2sgdG8gdGhlIGBKT0JfU1RBVEVfUlVOTklOR2Agc3RhdGUuXG4gICAqL1xuICBKT0JfU1RBVEVfVVBEQVRJTkcgPSAnSk9CX1NUQVRFX1VQREFUSU5HJyxcbiAgLyoqXG4gICAqIFRoZSBqb2IgaXMgcGFydGlhbGx5IHN1Y2NlZWRlZCwgc29tZSByZXN1bHRzIG1heSBiZSBtaXNzaW5nIGR1ZSB0byBlcnJvcnMuXG4gICAqL1xuICBKT0JfU1RBVEVfUEFSVElBTExZX1NVQ0NFRURFRCA9ICdKT0JfU1RBVEVfUEFSVElBTExZX1NVQ0NFRURFRCcsXG59XG5cbi8qKiBUaGUgdHVuaW5nIHRhc2suIEVpdGhlciBJMlYgb3IgVDJWLiBUaGlzIGVudW0gaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGVudW0gVHVuaW5nVGFzayB7XG4gIC8qKlxuICAgKiBEZWZhdWx0IHZhbHVlLiBUaGlzIHZhbHVlIGlzIHVudXNlZC5cbiAgICovXG4gIFRVTklOR19UQVNLX1VOU1BFQ0lGSUVEID0gJ1RVTklOR19UQVNLX1VOU1BFQ0lGSUVEJyxcbiAgLyoqXG4gICAqIFR1bmluZyB0YXNrIGZvciBpbWFnZSB0byB2aWRlby5cbiAgICovXG4gIFRVTklOR19UQVNLX0kyViA9ICdUVU5JTkdfVEFTS19JMlYnLFxuICAvKipcbiAgICogVHVuaW5nIHRhc2sgZm9yIHRleHQgdG8gdmlkZW8uXG4gICAqL1xuICBUVU5JTkdfVEFTS19UMlYgPSAnVFVOSU5HX1RBU0tfVDJWJyxcbiAgLyoqXG4gICAqIFR1bmluZyB0YXNrIGZvciByZWZlcmVuY2UgdG8gdmlkZW8uXG4gICAqL1xuICBUVU5JTkdfVEFTS19SMlYgPSAnVFVOSU5HX1RBU0tfUjJWJyxcbn1cblxuLyoqIFRoZSB0b2tlbml6YXRpb24gcXVhbGl0eSB1c2VkIGZvciBnaXZlbiBtZWRpYS4gKi9cbmV4cG9ydCBlbnVtIFBhcnRNZWRpYVJlc29sdXRpb25MZXZlbCB7XG4gIC8qKlxuICAgKiBNZWRpYSByZXNvbHV0aW9uIGhhcyBub3QgYmVlbiBzZXQuXG4gICAqL1xuICBNRURJQV9SRVNPTFVUSU9OX1VOU1BFQ0lGSUVEID0gJ01FRElBX1JFU09MVVRJT05fVU5TUEVDSUZJRUQnLFxuICAvKipcbiAgICogTWVkaWEgcmVzb2x1dGlvbiBzZXQgdG8gbG93LlxuICAgKi9cbiAgTUVESUFfUkVTT0xVVElPTl9MT1cgPSAnTUVESUFfUkVTT0xVVElPTl9MT1cnLFxuICAvKipcbiAgICogTWVkaWEgcmVzb2x1dGlvbiBzZXQgdG8gbWVkaXVtLlxuICAgKi9cbiAgTUVESUFfUkVTT0xVVElPTl9NRURJVU0gPSAnTUVESUFfUkVTT0xVVElPTl9NRURJVU0nLFxuICAvKipcbiAgICogTWVkaWEgcmVzb2x1dGlvbiBzZXQgdG8gaGlnaC5cbiAgICovXG4gIE1FRElBX1JFU09MVVRJT05fSElHSCA9ICdNRURJQV9SRVNPTFVUSU9OX0hJR0gnLFxuICAvKipcbiAgICogTWVkaWEgcmVzb2x1dGlvbiBzZXQgdG8gdWx0cmEgaGlnaC5cbiAgICovXG4gIE1FRElBX1JFU09MVVRJT05fVUxUUkFfSElHSCA9ICdNRURJQV9SRVNPTFVUSU9OX1VMVFJBX0hJR0gnLFxufVxuXG4vKiogT3B0aW9ucyBmb3IgZmVhdHVyZSBzZWxlY3Rpb24gcHJlZmVyZW5jZS4gKi9cbmV4cG9ydCBlbnVtIEZlYXR1cmVTZWxlY3Rpb25QcmVmZXJlbmNlIHtcbiAgRkVBVFVSRV9TRUxFQ1RJT05fUFJFRkVSRU5DRV9VTlNQRUNJRklFRCA9ICdGRUFUVVJFX1NFTEVDVElPTl9QUkVGRVJFTkNFX1VOU1BFQ0lGSUVEJyxcbiAgUFJJT1JJVElaRV9RVUFMSVRZID0gJ1BSSU9SSVRJWkVfUVVBTElUWScsXG4gIEJBTEFOQ0VEID0gJ0JBTEFOQ0VEJyxcbiAgUFJJT1JJVElaRV9DT1NUID0gJ1BSSU9SSVRJWkVfQ09TVCcsXG59XG5cbi8qKiBEZWZpbmVzIHRoZSBmdW5jdGlvbiBiZWhhdmlvci4gRGVmYXVsdHMgdG8gYEJMT0NLSU5HYC4gKi9cbmV4cG9ydCBlbnVtIEJlaGF2aW9yIHtcbiAgLyoqXG4gICAqIFRoaXMgdmFsdWUgaXMgdW51c2VkLlxuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAnVU5TUEVDSUZJRUQnLFxuICAvKipcbiAgICogSWYgc2V0LCB0aGUgc3lzdGVtIHdpbGwgd2FpdCB0byByZWNlaXZlIHRoZSBmdW5jdGlvbiByZXNwb25zZSBiZWZvcmUgY29udGludWluZyB0aGUgY29udmVyc2F0aW9uLlxuICAgKi9cbiAgQkxPQ0tJTkcgPSAnQkxPQ0tJTkcnLFxuICAvKipcbiAgICogSWYgc2V0LCB0aGUgc3lzdGVtIHdpbGwgbm90IHdhaXQgdG8gcmVjZWl2ZSB0aGUgZnVuY3Rpb24gcmVzcG9uc2UuIEluc3RlYWQsIGl0IHdpbGwgYXR0ZW1wdCB0byBoYW5kbGUgZnVuY3Rpb24gcmVzcG9uc2VzIGFzIHRoZXkgYmVjb21lIGF2YWlsYWJsZSB3aGlsZSBtYWludGFpbmluZyB0aGUgY29udmVyc2F0aW9uIGJldHdlZW4gdGhlIHVzZXIgYW5kIHRoZSBtb2RlbC5cbiAgICovXG4gIE5PTl9CTE9DS0lORyA9ICdOT05fQkxPQ0tJTkcnLFxufVxuXG4vKiogQ29uZmlnIGZvciB0aGUgZHluYW1pYyByZXRyaWV2YWwgY29uZmlnIG1vZGUuICovXG5leHBvcnQgZW51bSBEeW5hbWljUmV0cmlldmFsQ29uZmlnTW9kZSB7XG4gIC8qKlxuICAgKiBBbHdheXMgdHJpZ2dlciByZXRyaWV2YWwuXG4gICAqL1xuICBNT0RFX1VOU1BFQ0lGSUVEID0gJ01PREVfVU5TUEVDSUZJRUQnLFxuICAvKipcbiAgICogUnVuIHJldHJpZXZhbCBvbmx5IHdoZW4gc3lzdGVtIGRlY2lkZXMgaXQgaXMgbmVjZXNzYXJ5LlxuICAgKi9cbiAgTU9ERV9EWU5BTUlDID0gJ01PREVfRFlOQU1JQycsXG59XG5cbi8qKiBUaGUgZW52aXJvbm1lbnQgYmVpbmcgb3BlcmF0ZWQuICovXG5leHBvcnQgZW51bSBFbnZpcm9ubWVudCB7XG4gIC8qKlxuICAgKiBEZWZhdWx0cyB0byBicm93c2VyLlxuICAgKi9cbiAgRU5WSVJPTk1FTlRfVU5TUEVDSUZJRUQgPSAnRU5WSVJPTk1FTlRfVU5TUEVDSUZJRUQnLFxuICAvKipcbiAgICogT3BlcmF0ZXMgaW4gYSB3ZWIgYnJvd3Nlci5cbiAgICovXG4gIEVOVklST05NRU5UX0JST1dTRVIgPSAnRU5WSVJPTk1FTlRfQlJPV1NFUicsXG59XG5cbi8qKiBDb25maWcgZm9yIHRoZSBmdW5jdGlvbiBjYWxsaW5nIGNvbmZpZyBtb2RlLiAqL1xuZXhwb3J0IGVudW0gRnVuY3Rpb25DYWxsaW5nQ29uZmlnTW9kZSB7XG4gIC8qKlxuICAgKiBUaGUgZnVuY3Rpb24gY2FsbGluZyBjb25maWcgbW9kZSBpcyB1bnNwZWNpZmllZC4gU2hvdWxkIG5vdCBiZSB1c2VkLlxuICAgKi9cbiAgTU9ERV9VTlNQRUNJRklFRCA9ICdNT0RFX1VOU1BFQ0lGSUVEJyxcbiAgLyoqXG4gICAqIERlZmF1bHQgbW9kZWwgYmVoYXZpb3IsIG1vZGVsIGRlY2lkZXMgdG8gcHJlZGljdCBlaXRoZXIgZnVuY3Rpb24gY2FsbHMgb3IgbmF0dXJhbCBsYW5ndWFnZSByZXNwb25zZS5cbiAgICovXG4gIEFVVE8gPSAnQVVUTycsXG4gIC8qKlxuICAgKiBNb2RlbCBpcyBjb25zdHJhaW5lZCB0byBhbHdheXMgcHJlZGljdGluZyBmdW5jdGlvbiBjYWxscyBvbmx5LiBJZiBcImFsbG93ZWRfZnVuY3Rpb25fbmFtZXNcIiBhcmUgc2V0LCB0aGUgcHJlZGljdGVkIGZ1bmN0aW9uIGNhbGxzIHdpbGwgYmUgbGltaXRlZCB0byBhbnkgb25lIG9mIFwiYWxsb3dlZF9mdW5jdGlvbl9uYW1lc1wiLCBlbHNlIHRoZSBwcmVkaWN0ZWQgZnVuY3Rpb24gY2FsbHMgd2lsbCBiZSBhbnkgb25lIG9mIHRoZSBwcm92aWRlZCBcImZ1bmN0aW9uX2RlY2xhcmF0aW9uc1wiLlxuICAgKi9cbiAgQU5ZID0gJ0FOWScsXG4gIC8qKlxuICAgKiBNb2RlbCB3aWxsIG5vdCBwcmVkaWN0IGFueSBmdW5jdGlvbiBjYWxscy4gTW9kZWwgYmVoYXZpb3IgaXMgc2FtZSBhcyB3aGVuIG5vdCBwYXNzaW5nIGFueSBmdW5jdGlvbiBkZWNsYXJhdGlvbnMuXG4gICAqL1xuICBOT05FID0gJ05PTkUnLFxuICAvKipcbiAgICogTW9kZWwgZGVjaWRlcyB0byBwcmVkaWN0IGVpdGhlciBhIGZ1bmN0aW9uIGNhbGwgb3IgYSBuYXR1cmFsIGxhbmd1YWdlIHJlc3BvbnNlLCBidXQgd2lsbCB2YWxpZGF0ZSBmdW5jdGlvbiBjYWxscyB3aXRoIGNvbnN0cmFpbmVkIGRlY29kaW5nLiBJZiBcImFsbG93ZWRfZnVuY3Rpb25fbmFtZXNcIiBhcmUgc2V0LCB0aGUgcHJlZGljdGVkIGZ1bmN0aW9uIGNhbGwgd2lsbCBiZSBsaW1pdGVkIHRvIGFueSBvbmUgb2YgXCJhbGxvd2VkX2Z1bmN0aW9uX25hbWVzXCIsIGVsc2UgdGhlIHByZWRpY3RlZCBmdW5jdGlvbiBjYWxsIHdpbGwgYmUgYW55IG9uZSBvZiB0aGUgcHJvdmlkZWQgXCJmdW5jdGlvbl9kZWNsYXJhdGlvbnNcIi5cbiAgICovXG4gIFZBTElEQVRFRCA9ICdWQUxJREFURUQnLFxufVxuXG4vKiogRW51bSB0aGF0IGNvbnRyb2xzIHRoZSBzYWZldHkgZmlsdGVyIGxldmVsIGZvciBvYmplY3Rpb25hYmxlIGNvbnRlbnQuICovXG5leHBvcnQgZW51bSBTYWZldHlGaWx0ZXJMZXZlbCB7XG4gIEJMT0NLX0xPV19BTkRfQUJPVkUgPSAnQkxPQ0tfTE9XX0FORF9BQk9WRScsXG4gIEJMT0NLX01FRElVTV9BTkRfQUJPVkUgPSAnQkxPQ0tfTUVESVVNX0FORF9BQk9WRScsXG4gIEJMT0NLX09OTFlfSElHSCA9ICdCTE9DS19PTkxZX0hJR0gnLFxuICBCTE9DS19OT05FID0gJ0JMT0NLX05PTkUnLFxufVxuXG4vKiogRW51bSB0aGF0IGNvbnRyb2xzIHRoZSBnZW5lcmF0aW9uIG9mIHBlb3BsZS4gKi9cbmV4cG9ydCBlbnVtIFBlcnNvbkdlbmVyYXRpb24ge1xuICAvKipcbiAgICogQmxvY2sgZ2VuZXJhdGlvbiBvZiBpbWFnZXMgb2YgcGVvcGxlLlxuICAgKi9cbiAgRE9OVF9BTExPVyA9ICdET05UX0FMTE9XJyxcbiAgLyoqXG4gICAqIEdlbmVyYXRlIGltYWdlcyBvZiBhZHVsdHMsIGJ1dCBub3QgY2hpbGRyZW4uXG4gICAqL1xuICBBTExPV19BRFVMVCA9ICdBTExPV19BRFVMVCcsXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBpbWFnZXMgdGhhdCBpbmNsdWRlIGFkdWx0cyBhbmQgY2hpbGRyZW4uXG4gICAqL1xuICBBTExPV19BTEwgPSAnQUxMT1dfQUxMJyxcbn1cblxuLyoqIEVudW0gdGhhdCBzcGVjaWZpZXMgdGhlIGxhbmd1YWdlIG9mIHRoZSB0ZXh0IGluIHRoZSBwcm9tcHQuICovXG5leHBvcnQgZW51bSBJbWFnZVByb21wdExhbmd1YWdlIHtcbiAgLyoqXG4gICAqIEF1dG8tZGV0ZWN0IHRoZSBsYW5ndWFnZS5cbiAgICovXG4gIGF1dG8gPSAnYXV0bycsXG4gIC8qKlxuICAgKiBFbmdsaXNoXG4gICAqL1xuICBlbiA9ICdlbicsXG4gIC8qKlxuICAgKiBKYXBhbmVzZVxuICAgKi9cbiAgamEgPSAnamEnLFxuICAvKipcbiAgICogS29yZWFuXG4gICAqL1xuICBrbyA9ICdrbycsXG4gIC8qKlxuICAgKiBIaW5kaVxuICAgKi9cbiAgaGkgPSAnaGknLFxuICAvKipcbiAgICogQ2hpbmVzZVxuICAgKi9cbiAgemggPSAnemgnLFxuICAvKipcbiAgICogUG9ydHVndWVzZVxuICAgKi9cbiAgcHQgPSAncHQnLFxuICAvKipcbiAgICogU3BhbmlzaFxuICAgKi9cbiAgZXMgPSAnZXMnLFxufVxuXG4vKiogRW51bSByZXByZXNlbnRpbmcgdGhlIG1hc2sgbW9kZSBvZiBhIG1hc2sgcmVmZXJlbmNlIGltYWdlLiAqL1xuZXhwb3J0IGVudW0gTWFza1JlZmVyZW5jZU1vZGUge1xuICBNQVNLX01PREVfREVGQVVMVCA9ICdNQVNLX01PREVfREVGQVVMVCcsXG4gIE1BU0tfTU9ERV9VU0VSX1BST1ZJREVEID0gJ01BU0tfTU9ERV9VU0VSX1BST1ZJREVEJyxcbiAgTUFTS19NT0RFX0JBQ0tHUk9VTkQgPSAnTUFTS19NT0RFX0JBQ0tHUk9VTkQnLFxuICBNQVNLX01PREVfRk9SRUdST1VORCA9ICdNQVNLX01PREVfRk9SRUdST1VORCcsXG4gIE1BU0tfTU9ERV9TRU1BTlRJQyA9ICdNQVNLX01PREVfU0VNQU5USUMnLFxufVxuXG4vKiogRW51bSByZXByZXNlbnRpbmcgdGhlIGNvbnRyb2wgdHlwZSBvZiBhIGNvbnRyb2wgcmVmZXJlbmNlIGltYWdlLiAqL1xuZXhwb3J0IGVudW0gQ29udHJvbFJlZmVyZW5jZVR5cGUge1xuICBDT05UUk9MX1RZUEVfREVGQVVMVCA9ICdDT05UUk9MX1RZUEVfREVGQVVMVCcsXG4gIENPTlRST0xfVFlQRV9DQU5OWSA9ICdDT05UUk9MX1RZUEVfQ0FOTlknLFxuICBDT05UUk9MX1RZUEVfU0NSSUJCTEUgPSAnQ09OVFJPTF9UWVBFX1NDUklCQkxFJyxcbiAgQ09OVFJPTF9UWVBFX0ZBQ0VfTUVTSCA9ICdDT05UUk9MX1RZUEVfRkFDRV9NRVNIJyxcbn1cblxuLyoqIEVudW0gcmVwcmVzZW50aW5nIHRoZSBzdWJqZWN0IHR5cGUgb2YgYSBzdWJqZWN0IHJlZmVyZW5jZSBpbWFnZS4gKi9cbmV4cG9ydCBlbnVtIFN1YmplY3RSZWZlcmVuY2VUeXBlIHtcbiAgU1VCSkVDVF9UWVBFX0RFRkFVTFQgPSAnU1VCSkVDVF9UWVBFX0RFRkFVTFQnLFxuICBTVUJKRUNUX1RZUEVfUEVSU09OID0gJ1NVQkpFQ1RfVFlQRV9QRVJTT04nLFxuICBTVUJKRUNUX1RZUEVfQU5JTUFMID0gJ1NVQkpFQ1RfVFlQRV9BTklNQUwnLFxuICBTVUJKRUNUX1RZUEVfUFJPRFVDVCA9ICdTVUJKRUNUX1RZUEVfUFJPRFVDVCcsXG59XG5cbi8qKiBFbnVtIHJlcHJlc2VudGluZyB0aGUgZWRpdGluZyBtb2RlLiAqL1xuZXhwb3J0IGVudW0gRWRpdE1vZGUge1xuICBFRElUX01PREVfREVGQVVMVCA9ICdFRElUX01PREVfREVGQVVMVCcsXG4gIEVESVRfTU9ERV9JTlBBSU5UX1JFTU9WQUwgPSAnRURJVF9NT0RFX0lOUEFJTlRfUkVNT1ZBTCcsXG4gIEVESVRfTU9ERV9JTlBBSU5UX0lOU0VSVElPTiA9ICdFRElUX01PREVfSU5QQUlOVF9JTlNFUlRJT04nLFxuICBFRElUX01PREVfT1VUUEFJTlQgPSAnRURJVF9NT0RFX09VVFBBSU5UJyxcbiAgRURJVF9NT0RFX0NPTlRST0xMRURfRURJVElORyA9ICdFRElUX01PREVfQ09OVFJPTExFRF9FRElUSU5HJyxcbiAgRURJVF9NT0RFX1NUWUxFID0gJ0VESVRfTU9ERV9TVFlMRScsXG4gIEVESVRfTU9ERV9CR1NXQVAgPSAnRURJVF9NT0RFX0JHU1dBUCcsXG4gIEVESVRfTU9ERV9QUk9EVUNUX0lNQUdFID0gJ0VESVRfTU9ERV9QUk9EVUNUX0lNQUdFJyxcbn1cblxuLyoqIEVudW0gdGhhdCByZXByZXNlbnRzIHRoZSBzZWdtZW50YXRpb24gbW9kZS4gKi9cbmV4cG9ydCBlbnVtIFNlZ21lbnRNb2RlIHtcbiAgRk9SRUdST1VORCA9ICdGT1JFR1JPVU5EJyxcbiAgQkFDS0dST1VORCA9ICdCQUNLR1JPVU5EJyxcbiAgUFJPTVBUID0gJ1BST01QVCcsXG4gIFNFTUFOVElDID0gJ1NFTUFOVElDJyxcbiAgSU5URVJBQ1RJVkUgPSAnSU5URVJBQ1RJVkUnLFxufVxuXG4vKiogRW51bSBmb3IgdGhlIHJlZmVyZW5jZSB0eXBlIG9mIGEgdmlkZW8gZ2VuZXJhdGlvbiByZWZlcmVuY2UgaW1hZ2UuICovXG5leHBvcnQgZW51bSBWaWRlb0dlbmVyYXRpb25SZWZlcmVuY2VUeXBlIHtcbiAgLyoqXG4gICAqIEEgcmVmZXJlbmNlIGltYWdlIHRoYXQgcHJvdmlkZXMgYXNzZXRzIHRvIHRoZSBnZW5lcmF0ZWQgdmlkZW8sXG4gICAgICBzdWNoIGFzIHRoZSBzY2VuZSwgYW4gb2JqZWN0LCBhIGNoYXJhY3RlciwgZXRjLlxuICAgKi9cbiAgQVNTRVQgPSAnQVNTRVQnLFxuICAvKipcbiAgICogQSByZWZlcmVuY2UgaW1hZ2UgdGhhdCBwcm92aWRlcyBhZXN0aGV0aWNzIGluY2x1ZGluZyBjb2xvcnMsXG4gICAgICBsaWdodGluZywgdGV4dHVyZSwgZXRjLiwgdG8gYmUgdXNlZCBhcyB0aGUgc3R5bGUgb2YgdGhlIGdlbmVyYXRlZCB2aWRlbyxcbiAgICAgIHN1Y2ggYXMgJ2FuaW1lJywgJ3Bob3RvZ3JhcGh5JywgJ29yaWdhbWknLCBldGMuXG4gICAqL1xuICBTVFlMRSA9ICdTVFlMRScsXG59XG5cbi8qKiBFbnVtIGZvciB0aGUgbWFzayBtb2RlIG9mIGEgdmlkZW8gZ2VuZXJhdGlvbiBtYXNrLiAqL1xuZXhwb3J0IGVudW0gVmlkZW9HZW5lcmF0aW9uTWFza01vZGUge1xuICAvKipcbiAgICogVGhlIGltYWdlIG1hc2sgY29udGFpbnMgYSBtYXNrZWQgcmVjdGFuZ3VsYXIgcmVnaW9uIHdoaWNoIGlzXG4gICAgICBhcHBsaWVkIG9uIHRoZSBmaXJzdCBmcmFtZSBvZiB0aGUgaW5wdXQgdmlkZW8uIFRoZSBvYmplY3QgZGVzY3JpYmVkIGluXG4gICAgICB0aGUgcHJvbXB0IGlzIGluc2VydGVkIGludG8gdGhpcyByZWdpb24gYW5kIHdpbGwgYXBwZWFyIGluIHN1YnNlcXVlbnRcbiAgICAgIGZyYW1lcy5cbiAgICovXG4gIElOU0VSVCA9ICdJTlNFUlQnLFxuICAvKipcbiAgICogVGhlIGltYWdlIG1hc2sgaXMgdXNlZCB0byBkZXRlcm1pbmUgYW4gb2JqZWN0IGluIHRoZVxuICAgICAgZmlyc3QgdmlkZW8gZnJhbWUgdG8gdHJhY2suIFRoaXMgb2JqZWN0IGlzIHJlbW92ZWQgZnJvbSB0aGUgdmlkZW8uXG4gICAqL1xuICBSRU1PVkUgPSAnUkVNT1ZFJyxcbiAgLyoqXG4gICAqIFRoZSBpbWFnZSBtYXNrIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIGEgcmVnaW9uIGluIHRoZVxuICAgICAgdmlkZW8uIE9iamVjdHMgaW4gdGhpcyByZWdpb24gd2lsbCBiZSByZW1vdmVkLlxuICAgKi9cbiAgUkVNT1ZFX1NUQVRJQyA9ICdSRU1PVkVfU1RBVElDJyxcbiAgLyoqXG4gICAqIFRoZSBpbWFnZSBtYXNrIGNvbnRhaW5zIGEgbWFza2VkIHJlY3Rhbmd1bGFyIHJlZ2lvbiB3aGVyZVxuICAgICAgdGhlIGlucHV0IHZpZGVvIHdpbGwgZ28uIFRoZSByZW1haW5pbmcgYXJlYSB3aWxsIGJlIGdlbmVyYXRlZC4gVmlkZW9cbiAgICAgIG1hc2tzIGFyZSBub3Qgc3VwcG9ydGVkLlxuICAgKi9cbiAgT1VUUEFJTlQgPSAnT1VUUEFJTlQnLFxufVxuXG4vKiogRW51bSB0aGF0IGNvbnRyb2xzIHRoZSBjb21wcmVzc2lvbiBxdWFsaXR5IG9mIHRoZSBnZW5lcmF0ZWQgdmlkZW9zLiAqL1xuZXhwb3J0IGVudW0gVmlkZW9Db21wcmVzc2lvblF1YWxpdHkge1xuICAvKipcbiAgICogT3B0aW1pemVkIHZpZGVvIGNvbXByZXNzaW9uIHF1YWxpdHkuIFRoaXMgd2lsbCBwcm9kdWNlIHZpZGVvc1xuICAgICAgd2l0aCBhIGNvbXByZXNzZWQsIHNtYWxsZXIgZmlsZSBzaXplLlxuICAgKi9cbiAgT1BUSU1JWkVEID0gJ09QVElNSVpFRCcsXG4gIC8qKlxuICAgKiBMb3NzbGVzcyB2aWRlbyBjb21wcmVzc2lvbiBxdWFsaXR5LiBUaGlzIHdpbGwgcHJvZHVjZSB2aWRlb3NcbiAgICAgIHdpdGggYSBsYXJnZXIgZmlsZSBzaXplLlxuICAgKi9cbiAgTE9TU0xFU1MgPSAnTE9TU0xFU1MnLFxufVxuXG4vKiogRW51bSByZXByZXNlbnRpbmcgdGhlIHR1bmluZyBtZXRob2QuICovXG5leHBvcnQgZW51bSBUdW5pbmdNZXRob2Qge1xuICAvKipcbiAgICogU3VwZXJ2aXNlZCBmaW5lIHR1bmluZy5cbiAgICovXG4gIFNVUEVSVklTRURfRklORV9UVU5JTkcgPSAnU1VQRVJWSVNFRF9GSU5FX1RVTklORycsXG4gIC8qKlxuICAgKiBQcmVmZXJlbmNlIG9wdGltaXphdGlvbiB0dW5pbmcuXG4gICAqL1xuICBQUkVGRVJFTkNFX1RVTklORyA9ICdQUkVGRVJFTkNFX1RVTklORycsXG59XG5cbi8qKiBTdGF0ZSBmb3IgdGhlIGxpZmVjeWNsZSBvZiBhIERvY3VtZW50LiAqL1xuZXhwb3J0IGVudW0gRG9jdW1lbnRTdGF0ZSB7XG4gIFNUQVRFX1VOU1BFQ0lGSUVEID0gJ1NUQVRFX1VOU1BFQ0lGSUVEJyxcbiAgU1RBVEVfUEVORElORyA9ICdTVEFURV9QRU5ESU5HJyxcbiAgU1RBVEVfQUNUSVZFID0gJ1NUQVRFX0FDVElWRScsXG4gIFNUQVRFX0ZBSUxFRCA9ICdTVEFURV9GQUlMRUQnLFxufVxuXG4vKiogU3RhdGUgZm9yIHRoZSBsaWZlY3ljbGUgb2YgYSBGaWxlLiAqL1xuZXhwb3J0IGVudW0gRmlsZVN0YXRlIHtcbiAgU1RBVEVfVU5TUEVDSUZJRUQgPSAnU1RBVEVfVU5TUEVDSUZJRUQnLFxuICBQUk9DRVNTSU5HID0gJ1BST0NFU1NJTkcnLFxuICBBQ1RJVkUgPSAnQUNUSVZFJyxcbiAgRkFJTEVEID0gJ0ZBSUxFRCcsXG59XG5cbi8qKiBTb3VyY2Ugb2YgdGhlIEZpbGUuICovXG5leHBvcnQgZW51bSBGaWxlU291cmNlIHtcbiAgU09VUkNFX1VOU1BFQ0lGSUVEID0gJ1NPVVJDRV9VTlNQRUNJRklFRCcsXG4gIFVQTE9BREVEID0gJ1VQTE9BREVEJyxcbiAgR0VORVJBVEVEID0gJ0dFTkVSQVRFRCcsXG59XG5cbi8qKiBUaGUgcmVhc29uIHdoeSB0aGUgdHVybiBpcyBjb21wbGV0ZS4gKi9cbmV4cG9ydCBlbnVtIFR1cm5Db21wbGV0ZVJlYXNvbiB7XG4gIC8qKlxuICAgKiBEZWZhdWx0IHZhbHVlLiBSZWFzb24gaXMgdW5zcGVjaWZpZWQuXG4gICAqL1xuICBUVVJOX0NPTVBMRVRFX1JFQVNPTl9VTlNQRUNJRklFRCA9ICdUVVJOX0NPTVBMRVRFX1JFQVNPTl9VTlNQRUNJRklFRCcsXG4gIC8qKlxuICAgKiBUaGUgZnVuY3Rpb24gY2FsbCBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsIGlzIGludmFsaWQuXG4gICAqL1xuICBNQUxGT1JNRURfRlVOQ1RJT05fQ0FMTCA9ICdNQUxGT1JNRURfRlVOQ1RJT05fQ0FMTCcsXG4gIC8qKlxuICAgKiBUaGUgcmVzcG9uc2UgaXMgcmVqZWN0ZWQgYnkgdGhlIG1vZGVsLlxuICAgKi9cbiAgUkVTUE9OU0VfUkVKRUNURUQgPSAnUkVTUE9OU0VfUkVKRUNURUQnLFxuICAvKipcbiAgICogTmVlZHMgbW9yZSBpbnB1dCBmcm9tIHRoZSB1c2VyLlxuICAgKi9cbiAgTkVFRF9NT1JFX0lOUFVUID0gJ05FRURfTU9SRV9JTlBVVCcsXG59XG5cbi8qKiBTZXJ2ZXIgY29udGVudCBtb2RhbGl0aWVzLiAqL1xuZXhwb3J0IGVudW0gTWVkaWFNb2RhbGl0eSB7XG4gIC8qKlxuICAgKiBUaGUgbW9kYWxpdHkgaXMgdW5zcGVjaWZpZWQuXG4gICAqL1xuICBNT0RBTElUWV9VTlNQRUNJRklFRCA9ICdNT0RBTElUWV9VTlNQRUNJRklFRCcsXG4gIC8qKlxuICAgKiBQbGFpbiB0ZXh0LlxuICAgKi9cbiAgVEVYVCA9ICdURVhUJyxcbiAgLyoqXG4gICAqIEltYWdlcy5cbiAgICovXG4gIElNQUdFID0gJ0lNQUdFJyxcbiAgLyoqXG4gICAqIFZpZGVvLlxuICAgKi9cbiAgVklERU8gPSAnVklERU8nLFxuICAvKipcbiAgICogQXVkaW8uXG4gICAqL1xuICBBVURJTyA9ICdBVURJTycsXG4gIC8qKlxuICAgKiBEb2N1bWVudCwgZS5nLiBQREYuXG4gICAqL1xuICBET0NVTUVOVCA9ICdET0NVTUVOVCcsXG59XG5cbi8qKiBUaGUgdHlwZSBvZiB0aGUgVkFEIHNpZ25hbC4gKi9cbmV4cG9ydCBlbnVtIFZhZFNpZ25hbFR5cGUge1xuICAvKipcbiAgICogVGhlIGRlZmF1bHQgaXMgVkFEX1NJR05BTF9UWVBFX1VOU1BFQ0lGSUVELlxuICAgKi9cbiAgVkFEX1NJR05BTF9UWVBFX1VOU1BFQ0lGSUVEID0gJ1ZBRF9TSUdOQUxfVFlQRV9VTlNQRUNJRklFRCcsXG4gIC8qKlxuICAgKiBTdGFydCBvZiBzZW50ZW5jZSBzaWduYWwuXG4gICAqL1xuICBWQURfU0lHTkFMX1RZUEVfU09TID0gJ1ZBRF9TSUdOQUxfVFlQRV9TT1MnLFxuICAvKipcbiAgICogRW5kIG9mIHNlbnRlbmNlIHNpZ25hbC5cbiAgICovXG4gIFZBRF9TSUdOQUxfVFlQRV9FT1MgPSAnVkFEX1NJR05BTF9UWVBFX0VPUycsXG59XG5cbi8qKiBTdGFydCBvZiBzcGVlY2ggc2Vuc2l0aXZpdHkuICovXG5leHBvcnQgZW51bSBTdGFydFNlbnNpdGl2aXR5IHtcbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IGlzIFNUQVJUX1NFTlNJVElWSVRZX0xPVy5cbiAgICovXG4gIFNUQVJUX1NFTlNJVElWSVRZX1VOU1BFQ0lGSUVEID0gJ1NUQVJUX1NFTlNJVElWSVRZX1VOU1BFQ0lGSUVEJyxcbiAgLyoqXG4gICAqIEF1dG9tYXRpYyBkZXRlY3Rpb24gd2lsbCBkZXRlY3QgdGhlIHN0YXJ0IG9mIHNwZWVjaCBtb3JlIG9mdGVuLlxuICAgKi9cbiAgU1RBUlRfU0VOU0lUSVZJVFlfSElHSCA9ICdTVEFSVF9TRU5TSVRJVklUWV9ISUdIJyxcbiAgLyoqXG4gICAqIEF1dG9tYXRpYyBkZXRlY3Rpb24gd2lsbCBkZXRlY3QgdGhlIHN0YXJ0IG9mIHNwZWVjaCBsZXNzIG9mdGVuLlxuICAgKi9cbiAgU1RBUlRfU0VOU0lUSVZJVFlfTE9XID0gJ1NUQVJUX1NFTlNJVElWSVRZX0xPVycsXG59XG5cbi8qKiBFbmQgb2Ygc3BlZWNoIHNlbnNpdGl2aXR5LiAqL1xuZXhwb3J0IGVudW0gRW5kU2Vuc2l0aXZpdHkge1xuICAvKipcbiAgICogVGhlIGRlZmF1bHQgaXMgRU5EX1NFTlNJVElWSVRZX0xPVy5cbiAgICovXG4gIEVORF9TRU5TSVRJVklUWV9VTlNQRUNJRklFRCA9ICdFTkRfU0VOU0lUSVZJVFlfVU5TUEVDSUZJRUQnLFxuICAvKipcbiAgICogQXV0b21hdGljIGRldGVjdGlvbiBlbmRzIHNwZWVjaCBtb3JlIG9mdGVuLlxuICAgKi9cbiAgRU5EX1NFTlNJVElWSVRZX0hJR0ggPSAnRU5EX1NFTlNJVElWSVRZX0hJR0gnLFxuICAvKipcbiAgICogQXV0b21hdGljIGRldGVjdGlvbiBlbmRzIHNwZWVjaCBsZXNzIG9mdGVuLlxuICAgKi9cbiAgRU5EX1NFTlNJVElWSVRZX0xPVyA9ICdFTkRfU0VOU0lUSVZJVFlfTE9XJyxcbn1cblxuLyoqIFRoZSBkaWZmZXJlbnQgd2F5cyBvZiBoYW5kbGluZyB1c2VyIGFjdGl2aXR5LiAqL1xuZXhwb3J0IGVudW0gQWN0aXZpdHlIYW5kbGluZyB7XG4gIC8qKlxuICAgKiBJZiB1bnNwZWNpZmllZCwgdGhlIGRlZmF1bHQgYmVoYXZpb3IgaXMgYFNUQVJUX09GX0FDVElWSVRZX0lOVEVSUlVQVFNgLlxuICAgKi9cbiAgQUNUSVZJVFlfSEFORExJTkdfVU5TUEVDSUZJRUQgPSAnQUNUSVZJVFlfSEFORExJTkdfVU5TUEVDSUZJRUQnLFxuICAvKipcbiAgICogSWYgdHJ1ZSwgc3RhcnQgb2YgYWN0aXZpdHkgd2lsbCBpbnRlcnJ1cHQgdGhlIG1vZGVsJ3MgcmVzcG9uc2UgKGFsc28gY2FsbGVkIFwiYmFyZ2UgaW5cIikuIFRoZSBtb2RlbCdzIGN1cnJlbnQgcmVzcG9uc2Ugd2lsbCBiZSBjdXQtb2ZmIGluIHRoZSBtb21lbnQgb2YgdGhlIGludGVycnVwdGlvbi4gVGhpcyBpcyB0aGUgZGVmYXVsdCBiZWhhdmlvci5cbiAgICovXG4gIFNUQVJUX09GX0FDVElWSVRZX0lOVEVSUlVQVFMgPSAnU1RBUlRfT0ZfQUNUSVZJVFlfSU5URVJSVVBUUycsXG4gIC8qKlxuICAgKiBUaGUgbW9kZWwncyByZXNwb25zZSB3aWxsIG5vdCBiZSBpbnRlcnJ1cHRlZC5cbiAgICovXG4gIE5PX0lOVEVSUlVQVElPTiA9ICdOT19JTlRFUlJVUFRJT04nLFxufVxuXG4vKiogT3B0aW9ucyBhYm91dCB3aGljaCBpbnB1dCBpcyBpbmNsdWRlZCBpbiB0aGUgdXNlcidzIHR1cm4uICovXG5leHBvcnQgZW51bSBUdXJuQ292ZXJhZ2Uge1xuICAvKipcbiAgICogSWYgdW5zcGVjaWZpZWQsIHRoZSBkZWZhdWx0IGJlaGF2aW9yIGlzIGBUVVJOX0lOQ0xVREVTX09OTFlfQUNUSVZJVFlgLlxuICAgKi9cbiAgVFVSTl9DT1ZFUkFHRV9VTlNQRUNJRklFRCA9ICdUVVJOX0NPVkVSQUdFX1VOU1BFQ0lGSUVEJyxcbiAgLyoqXG4gICAqIFRoZSB1c2VycyB0dXJuIG9ubHkgaW5jbHVkZXMgYWN0aXZpdHkgc2luY2UgdGhlIGxhc3QgdHVybiwgZXhjbHVkaW5nIGluYWN0aXZpdHkgKGUuZy4gc2lsZW5jZSBvbiB0aGUgYXVkaW8gc3RyZWFtKS4gVGhpcyBpcyB0aGUgZGVmYXVsdCBiZWhhdmlvci5cbiAgICovXG4gIFRVUk5fSU5DTFVERVNfT05MWV9BQ1RJVklUWSA9ICdUVVJOX0lOQ0xVREVTX09OTFlfQUNUSVZJVFknLFxuICAvKipcbiAgICogVGhlIHVzZXJzIHR1cm4gaW5jbHVkZXMgYWxsIHJlYWx0aW1lIGlucHV0IHNpbmNlIHRoZSBsYXN0IHR1cm4sIGluY2x1ZGluZyBpbmFjdGl2aXR5IChlLmcuIHNpbGVuY2Ugb24gdGhlIGF1ZGlvIHN0cmVhbSkuXG4gICAqL1xuICBUVVJOX0lOQ0xVREVTX0FMTF9JTlBVVCA9ICdUVVJOX0lOQ0xVREVTX0FMTF9JTlBVVCcsXG59XG5cbi8qKiBTY2FsZSBvZiB0aGUgZ2VuZXJhdGVkIG11c2ljLiAqL1xuZXhwb3J0IGVudW0gU2NhbGUge1xuICAvKipcbiAgICogRGVmYXVsdCB2YWx1ZS4gVGhpcyB2YWx1ZSBpcyB1bnVzZWQuXG4gICAqL1xuICBTQ0FMRV9VTlNQRUNJRklFRCA9ICdTQ0FMRV9VTlNQRUNJRklFRCcsXG4gIC8qKlxuICAgKiBDIG1ham9yIG9yIEEgbWlub3IuXG4gICAqL1xuICBDX01BSk9SX0FfTUlOT1IgPSAnQ19NQUpPUl9BX01JTk9SJyxcbiAgLyoqXG4gICAqIERiIG1ham9yIG9yIEJiIG1pbm9yLlxuICAgKi9cbiAgRF9GTEFUX01BSk9SX0JfRkxBVF9NSU5PUiA9ICdEX0ZMQVRfTUFKT1JfQl9GTEFUX01JTk9SJyxcbiAgLyoqXG4gICAqIEQgbWFqb3Igb3IgQiBtaW5vci5cbiAgICovXG4gIERfTUFKT1JfQl9NSU5PUiA9ICdEX01BSk9SX0JfTUlOT1InLFxuICAvKipcbiAgICogRWIgbWFqb3Igb3IgQyBtaW5vclxuICAgKi9cbiAgRV9GTEFUX01BSk9SX0NfTUlOT1IgPSAnRV9GTEFUX01BSk9SX0NfTUlOT1InLFxuICAvKipcbiAgICogRSBtYWpvciBvciBEYiBtaW5vci5cbiAgICovXG4gIEVfTUFKT1JfRF9GTEFUX01JTk9SID0gJ0VfTUFKT1JfRF9GTEFUX01JTk9SJyxcbiAgLyoqXG4gICAqIEYgbWFqb3Igb3IgRCBtaW5vci5cbiAgICovXG4gIEZfTUFKT1JfRF9NSU5PUiA9ICdGX01BSk9SX0RfTUlOT1InLFxuICAvKipcbiAgICogR2IgbWFqb3Igb3IgRWIgbWlub3IuXG4gICAqL1xuICBHX0ZMQVRfTUFKT1JfRV9GTEFUX01JTk9SID0gJ0dfRkxBVF9NQUpPUl9FX0ZMQVRfTUlOT1InLFxuICAvKipcbiAgICogRyBtYWpvciBvciBFIG1pbm9yLlxuICAgKi9cbiAgR19NQUpPUl9FX01JTk9SID0gJ0dfTUFKT1JfRV9NSU5PUicsXG4gIC8qKlxuICAgKiBBYiBtYWpvciBvciBGIG1pbm9yLlxuICAgKi9cbiAgQV9GTEFUX01BSk9SX0ZfTUlOT1IgPSAnQV9GTEFUX01BSk9SX0ZfTUlOT1InLFxuICAvKipcbiAgICogQSBtYWpvciBvciBHYiBtaW5vci5cbiAgICovXG4gIEFfTUFKT1JfR19GTEFUX01JTk9SID0gJ0FfTUFKT1JfR19GTEFUX01JTk9SJyxcbiAgLyoqXG4gICAqIEJiIG1ham9yIG9yIEcgbWlub3IuXG4gICAqL1xuICBCX0ZMQVRfTUFKT1JfR19NSU5PUiA9ICdCX0ZMQVRfTUFKT1JfR19NSU5PUicsXG4gIC8qKlxuICAgKiBCIG1ham9yIG9yIEFiIG1pbm9yLlxuICAgKi9cbiAgQl9NQUpPUl9BX0ZMQVRfTUlOT1IgPSAnQl9NQUpPUl9BX0ZMQVRfTUlOT1InLFxufVxuXG4vKiogVGhlIG1vZGUgb2YgbXVzaWMgZ2VuZXJhdGlvbi4gKi9cbmV4cG9ydCBlbnVtIE11c2ljR2VuZXJhdGlvbk1vZGUge1xuICAvKipcbiAgICogUmVseSBvbiB0aGUgc2VydmVyIGRlZmF1bHQgZ2VuZXJhdGlvbiBtb2RlLlxuICAgKi9cbiAgTVVTSUNfR0VORVJBVElPTl9NT0RFX1VOU1BFQ0lGSUVEID0gJ01VU0lDX0dFTkVSQVRJT05fTU9ERV9VTlNQRUNJRklFRCcsXG4gIC8qKlxuICAgKiBTdGVlciB0ZXh0IHByb21wdHMgdG8gcmVnaW9ucyBvZiBsYXRlbnQgc3BhY2Ugd2l0aCBoaWdoZXIgcXVhbGl0eVxuICAgICAgbXVzaWMuXG4gICAqL1xuICBRVUFMSVRZID0gJ1FVQUxJVFknLFxuICAvKipcbiAgICogU3RlZXIgdGV4dCBwcm9tcHRzIHRvIHJlZ2lvbnMgb2YgbGF0ZW50IHNwYWNlIHdpdGggYSBsYXJnZXJcbiAgICAgIGRpdmVyc2l0eSBvZiBtdXNpYy5cbiAgICovXG4gIERJVkVSU0lUWSA9ICdESVZFUlNJVFknLFxuICAvKipcbiAgICogU3RlZXIgdGV4dCBwcm9tcHRzIHRvIHJlZ2lvbnMgb2YgbGF0ZW50IHNwYWNlIG1vcmUgbGlrZWx5IHRvXG4gICAgICBnZW5lcmF0ZSBtdXNpYyB3aXRoIHZvY2Fscy5cbiAgICovXG4gIFZPQ0FMSVpBVElPTiA9ICdWT0NBTElaQVRJT04nLFxufVxuXG4vKiogVGhlIHBsYXliYWNrIGNvbnRyb2wgc2lnbmFsIHRvIGFwcGx5IHRvIHRoZSBtdXNpYyBnZW5lcmF0aW9uLiAqL1xuZXhwb3J0IGVudW0gTGl2ZU11c2ljUGxheWJhY2tDb250cm9sIHtcbiAgLyoqXG4gICAqIFRoaXMgdmFsdWUgaXMgdW51c2VkLlxuICAgKi9cbiAgUExBWUJBQ0tfQ09OVFJPTF9VTlNQRUNJRklFRCA9ICdQTEFZQkFDS19DT05UUk9MX1VOU1BFQ0lGSUVEJyxcbiAgLyoqXG4gICAqIFN0YXJ0IGdlbmVyYXRpbmcgdGhlIG11c2ljLlxuICAgKi9cbiAgUExBWSA9ICdQTEFZJyxcbiAgLyoqXG4gICAqIEhvbGQgdGhlIG11c2ljIGdlbmVyYXRpb24uIFVzZSBQTEFZIHRvIHJlc3VtZSBmcm9tIHRoZSBjdXJyZW50IHBvc2l0aW9uLlxuICAgKi9cbiAgUEFVU0UgPSAnUEFVU0UnLFxuICAvKipcbiAgICogU3RvcCB0aGUgbXVzaWMgZ2VuZXJhdGlvbiBhbmQgcmVzZXQgdGhlIGNvbnRleHQgKHByb21wdHMgcmV0YWluZWQpLlxuICAgICAgVXNlIFBMQVkgdG8gcmVzdGFydCB0aGUgbXVzaWMgZ2VuZXJhdGlvbi5cbiAgICovXG4gIFNUT1AgPSAnU1RPUCcsXG4gIC8qKlxuICAgKiBSZXNldCB0aGUgY29udGV4dCBvZiB0aGUgbXVzaWMgZ2VuZXJhdGlvbiB3aXRob3V0IHN0b3BwaW5nIGl0LlxuICAgICAgUmV0YWlucyB0aGUgY3VycmVudCBwcm9tcHRzIGFuZCBjb25maWcuXG4gICAqL1xuICBSRVNFVF9DT05URVhUID0gJ1JFU0VUX0NPTlRFWFQnLFxufVxuXG4vKiogTWVkaWEgcmVzb2x1dGlvbiBmb3IgdGhlIGlucHV0IG1lZGlhLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFBhcnRNZWRpYVJlc29sdXRpb24ge1xuICAvKiogVGhlIHRva2VuaXphdGlvbiBxdWFsaXR5IHVzZWQgZm9yIGdpdmVuIG1lZGlhLlxuICAgKi9cbiAgbGV2ZWw/OiBQYXJ0TWVkaWFSZXNvbHV0aW9uTGV2ZWw7XG4gIC8qKiBTcGVjaWZpZXMgdGhlIHJlcXVpcmVkIHNlcXVlbmNlIGxlbmd0aCBmb3IgbWVkaWEgdG9rZW5pemF0aW9uLlxuICAgKi9cbiAgbnVtVG9rZW5zPzogbnVtYmVyO1xufVxuXG4vKiogUmVzdWx0IG9mIGV4ZWN1dGluZyB0aGUgW0V4ZWN1dGFibGVDb2RlXS4gT25seSBnZW5lcmF0ZWQgd2hlbiB1c2luZyB0aGUgW0NvZGVFeGVjdXRpb25dIHRvb2wsIGFuZCBhbHdheXMgZm9sbG93cyBhIGBwYXJ0YCBjb250YWluaW5nIHRoZSBbRXhlY3V0YWJsZUNvZGVdLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENvZGVFeGVjdXRpb25SZXN1bHQge1xuICAvKiogUmVxdWlyZWQuIE91dGNvbWUgb2YgdGhlIGNvZGUgZXhlY3V0aW9uLiAqL1xuICBvdXRjb21lPzogT3V0Y29tZTtcbiAgLyoqIE9wdGlvbmFsLiBDb250YWlucyBzdGRvdXQgd2hlbiBjb2RlIGV4ZWN1dGlvbiBpcyBzdWNjZXNzZnVsLCBzdGRlcnIgb3Igb3RoZXIgZGVzY3JpcHRpb24gb3RoZXJ3aXNlLiAqL1xuICBvdXRwdXQ/OiBzdHJpbmc7XG59XG5cbi8qKiBDb2RlIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgdGhhdCBpcyBtZWFudCB0byBiZSBleGVjdXRlZCwgYW5kIHRoZSByZXN1bHQgcmV0dXJuZWQgdG8gdGhlIG1vZGVsLiBHZW5lcmF0ZWQgd2hlbiB1c2luZyB0aGUgW0NvZGVFeGVjdXRpb25dIHRvb2wsIGluIHdoaWNoIHRoZSBjb2RlIHdpbGwgYmUgYXV0b21hdGljYWxseSBleGVjdXRlZCwgYW5kIGEgY29ycmVzcG9uZGluZyBbQ29kZUV4ZWN1dGlvblJlc3VsdF0gd2lsbCBhbHNvIGJlIGdlbmVyYXRlZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBFeGVjdXRhYmxlQ29kZSB7XG4gIC8qKiBSZXF1aXJlZC4gVGhlIGNvZGUgdG8gYmUgZXhlY3V0ZWQuICovXG4gIGNvZGU/OiBzdHJpbmc7XG4gIC8qKiBSZXF1aXJlZC4gUHJvZ3JhbW1pbmcgbGFuZ3VhZ2Ugb2YgdGhlIGBjb2RlYC4gKi9cbiAgbGFuZ3VhZ2U/OiBMYW5ndWFnZTtcbn1cblxuLyoqIFVSSSBiYXNlZCBkYXRhLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEZpbGVEYXRhIHtcbiAgLyoqIE9wdGlvbmFsLiBEaXNwbGF5IG5hbWUgb2YgdGhlIGZpbGUgZGF0YS4gVXNlZCB0byBwcm92aWRlIGEgbGFiZWwgb3IgZmlsZW5hbWUgdG8gZGlzdGluZ3Vpc2ggZmlsZSBkYXRhcy4gVGhpcyBmaWVsZCBpcyBvbmx5IHJldHVybmVkIGluIFByb21wdE1lc3NhZ2UgZm9yIHByb21wdCBtYW5hZ2VtZW50LiBJdCBpcyBjdXJyZW50bHkgdXNlZCBpbiB0aGUgR2VtaW5pIEdlbmVyYXRlQ29udGVudCBjYWxscyBvbmx5IHdoZW4gc2VydmVyIHNpZGUgdG9vbHMgKGNvZGVfZXhlY3V0aW9uLCBnb29nbGVfc2VhcmNoLCBhbmQgdXJsX2NvbnRleHQpIGFyZSBlbmFibGVkLiBUaGlzIGZpZWxkIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbiAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gIC8qKiBSZXF1aXJlZC4gVVJJLiAqL1xuICBmaWxlVXJpPzogc3RyaW5nO1xuICAvKiogUmVxdWlyZWQuIFRoZSBJQU5BIHN0YW5kYXJkIE1JTUUgdHlwZSBvZiB0aGUgc291cmNlIGRhdGEuICovXG4gIG1pbWVUeXBlPzogc3RyaW5nO1xufVxuXG4vKiogUGFydGlhbCBhcmd1bWVudCB2YWx1ZSBvZiB0aGUgZnVuY3Rpb24gY2FsbC4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFBhcnRpYWxBcmcge1xuICAvKiogT3B0aW9uYWwuIFJlcHJlc2VudHMgYSBudWxsIHZhbHVlLiAqL1xuICBudWxsVmFsdWU/OiAnTlVMTF9WQUxVRSc7XG4gIC8qKiBPcHRpb25hbC4gUmVwcmVzZW50cyBhIGRvdWJsZSB2YWx1ZS4gKi9cbiAgbnVtYmVyVmFsdWU/OiBudW1iZXI7XG4gIC8qKiBPcHRpb25hbC4gUmVwcmVzZW50cyBhIHN0cmluZyB2YWx1ZS4gKi9cbiAgc3RyaW5nVmFsdWU/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gUmVwcmVzZW50cyBhIGJvb2xlYW4gdmFsdWUuICovXG4gIGJvb2xWYWx1ZT86IGJvb2xlYW47XG4gIC8qKiBSZXF1aXJlZC4gQSBKU09OIFBhdGggKFJGQyA5NTM1KSB0byB0aGUgYXJndW1lbnQgYmVpbmcgc3RyZWFtZWQuIGh0dHBzOi8vZGF0YXRyYWNrZXIuaWV0Zi5vcmcvZG9jL2h0bWwvcmZjOTUzNS4gZS5nLiBcIiQuZm9vLmJhclswXS5kYXRhXCIuICovXG4gIGpzb25QYXRoPzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIFdoZXRoZXIgdGhpcyBpcyBub3QgdGhlIGxhc3QgcGFydCBvZiB0aGUgc2FtZSBqc29uX3BhdGguIElmIHRydWUsIGFub3RoZXIgUGFydGlhbEFyZyBtZXNzYWdlIGZvciB0aGUgY3VycmVudCBqc29uX3BhdGggaXMgZXhwZWN0ZWQgdG8gZm9sbG93LiAqL1xuICB3aWxsQ29udGludWU/OiBib29sZWFuO1xufVxuXG4vKiogQSBmdW5jdGlvbiBjYWxsLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEZ1bmN0aW9uQ2FsbCB7XG4gIC8qKiBUaGUgdW5pcXVlIGlkIG9mIHRoZSBmdW5jdGlvbiBjYWxsLiBJZiBwb3B1bGF0ZWQsIHRoZSBjbGllbnQgdG8gZXhlY3V0ZSB0aGVcbiAgIGBmdW5jdGlvbl9jYWxsYCBhbmQgcmV0dXJuIHRoZSByZXNwb25zZSB3aXRoIHRoZSBtYXRjaGluZyBgaWRgLiAqL1xuICBpZD86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBUaGUgZnVuY3Rpb24gcGFyYW1ldGVycyBhbmQgdmFsdWVzIGluIEpTT04gb2JqZWN0IGZvcm1hdC4gU2VlIFtGdW5jdGlvbkRlY2xhcmF0aW9uLnBhcmFtZXRlcnNdIGZvciBwYXJhbWV0ZXIgZGV0YWlscy4gKi9cbiAgYXJncz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAvKiogT3B0aW9uYWwuIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBjYWxsLiBNYXRjaGVzIFtGdW5jdGlvbkRlY2xhcmF0aW9uLm5hbWVdLiAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIFRoZSBwYXJ0aWFsIGFyZ3VtZW50IHZhbHVlIG9mIHRoZSBmdW5jdGlvbiBjYWxsLiBJZiBwcm92aWRlZCwgcmVwcmVzZW50cyB0aGUgYXJndW1lbnRzL2ZpZWxkcyB0aGF0IGFyZSBzdHJlYW1lZCBpbmNyZW1lbnRhbGx5LiBUaGlzIGZpZWxkIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbiAgcGFydGlhbEFyZ3M/OiBQYXJ0aWFsQXJnW107XG4gIC8qKiBPcHRpb25hbC4gV2hldGhlciB0aGlzIGlzIHRoZSBsYXN0IHBhcnQgb2YgdGhlIEZ1bmN0aW9uQ2FsbC4gSWYgdHJ1ZSwgYW5vdGhlciBwYXJ0aWFsIG1lc3NhZ2UgZm9yIHRoZSBjdXJyZW50IEZ1bmN0aW9uQ2FsbCBpcyBleHBlY3RlZCB0byBmb2xsb3cuIFRoaXMgZmllbGQgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuICB3aWxsQ29udGludWU/OiBib29sZWFuO1xufVxuXG4vKiogUmF3IG1lZGlhIGJ5dGVzIGZvciBmdW5jdGlvbiByZXNwb25zZS5cblxuVGV4dCBzaG91bGQgbm90IGJlIHNlbnQgYXMgcmF3IGJ5dGVzLCB1c2UgdGhlIEZ1bmN0aW9uUmVzcG9uc2UucmVzcG9uc2VcbmZpZWxkLiAqL1xuZXhwb3J0IGNsYXNzIEZ1bmN0aW9uUmVzcG9uc2VCbG9iIHtcbiAgLyoqIFJlcXVpcmVkLiBUaGUgSUFOQSBzdGFuZGFyZCBNSU1FIHR5cGUgb2YgdGhlIHNvdXJjZSBkYXRhLiAqL1xuICBtaW1lVHlwZT86IHN0cmluZztcbiAgLyoqIFJlcXVpcmVkLiBJbmxpbmUgbWVkaWEgYnl0ZXMuXG4gICAqIEByZW1hcmtzIEVuY29kZWQgYXMgYmFzZTY0IHN0cmluZy4gKi9cbiAgZGF0YT86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBEaXNwbGF5IG5hbWUgb2YgdGhlIGJsb2IuXG4gICAgICBVc2VkIHRvIHByb3ZpZGUgYSBsYWJlbCBvciBmaWxlbmFtZSB0byBkaXN0aW5ndWlzaCBibG9icy4gKi9cbiAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG59XG5cbi8qKiBVUkkgYmFzZWQgZGF0YSBmb3IgZnVuY3Rpb24gcmVzcG9uc2UuICovXG5leHBvcnQgY2xhc3MgRnVuY3Rpb25SZXNwb25zZUZpbGVEYXRhIHtcbiAgLyoqIFJlcXVpcmVkLiBVUkkuICovXG4gIGZpbGVVcmk/OiBzdHJpbmc7XG4gIC8qKiBSZXF1aXJlZC4gVGhlIElBTkEgc3RhbmRhcmQgTUlNRSB0eXBlIG9mIHRoZSBzb3VyY2UgZGF0YS4gKi9cbiAgbWltZVR5cGU/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gRGlzcGxheSBuYW1lIG9mIHRoZSBmaWxlLlxuICAgICAgVXNlZCB0byBwcm92aWRlIGEgbGFiZWwgb3IgZmlsZW5hbWUgdG8gZGlzdGluZ3Vpc2ggZmlsZXMuICovXG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xufVxuXG4vKiogQSBkYXRhdHlwZSBjb250YWluaW5nIG1lZGlhIHRoYXQgaXMgcGFydCBvZiBhIGBGdW5jdGlvblJlc3BvbnNlYCBtZXNzYWdlLlxuXG5BIGBGdW5jdGlvblJlc3BvbnNlUGFydGAgY29uc2lzdHMgb2YgZGF0YSB3aGljaCBoYXMgYW4gYXNzb2NpYXRlZCBkYXRhdHlwZS4gQVxuYEZ1bmN0aW9uUmVzcG9uc2VQYXJ0YCBjYW4gb25seSBjb250YWluIG9uZSBvZiB0aGUgYWNjZXB0ZWQgdHlwZXMgaW5cbmBGdW5jdGlvblJlc3BvbnNlUGFydC5kYXRhYC5cblxuQSBgRnVuY3Rpb25SZXNwb25zZVBhcnRgIG11c3QgaGF2ZSBhIGZpeGVkIElBTkEgTUlNRSB0eXBlIGlkZW50aWZ5aW5nIHRoZVxudHlwZSBhbmQgc3VidHlwZSBvZiB0aGUgbWVkaWEgaWYgdGhlIGBpbmxpbmVfZGF0YWAgZmllbGQgaXMgZmlsbGVkIHdpdGggcmF3XG5ieXRlcy4gKi9cbmV4cG9ydCBjbGFzcyBGdW5jdGlvblJlc3BvbnNlUGFydCB7XG4gIC8qKiBPcHRpb25hbC4gSW5saW5lIG1lZGlhIGJ5dGVzLiAqL1xuICBpbmxpbmVEYXRhPzogRnVuY3Rpb25SZXNwb25zZUJsb2I7XG4gIC8qKiBPcHRpb25hbC4gVVJJIGJhc2VkIGRhdGEuICovXG4gIGZpbGVEYXRhPzogRnVuY3Rpb25SZXNwb25zZUZpbGVEYXRhO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgYEZ1bmN0aW9uUmVzcG9uc2VQYXJ0YCBvYmplY3QgZnJvbSBhIGBiYXNlNjRgIGVuY29kZWQgYHN0cmluZ2AuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGdW5jdGlvblJlc3BvbnNlUGFydEZyb21CYXNlNjQoXG4gIGRhdGE6IHN0cmluZyxcbiAgbWltZVR5cGU6IHN0cmluZyxcbik6IEZ1bmN0aW9uUmVzcG9uc2VQYXJ0IHtcbiAgcmV0dXJuIHtcbiAgICBpbmxpbmVEYXRhOiB7XG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgbWltZVR5cGU6IG1pbWVUeXBlLFxuICAgIH0sXG4gIH07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBgRnVuY3Rpb25SZXNwb25zZVBhcnRgIG9iamVjdCBmcm9tIGEgYFVSSWAgc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRnVuY3Rpb25SZXNwb25zZVBhcnRGcm9tVXJpKFxuICB1cmk6IHN0cmluZyxcbiAgbWltZVR5cGU6IHN0cmluZyxcbik6IEZ1bmN0aW9uUmVzcG9uc2VQYXJ0IHtcbiAgcmV0dXJuIHtcbiAgICBmaWxlRGF0YToge1xuICAgICAgZmlsZVVyaTogdXJpLFxuICAgICAgbWltZVR5cGU6IG1pbWVUeXBlLFxuICAgIH0sXG4gIH07XG59XG5cbi8qKiBBIGZ1bmN0aW9uIHJlc3BvbnNlLiAqL1xuZXhwb3J0IGNsYXNzIEZ1bmN0aW9uUmVzcG9uc2Uge1xuICAvKiogU2lnbmFscyB0aGF0IGZ1bmN0aW9uIGNhbGwgY29udGludWVzLCBhbmQgbW9yZSByZXNwb25zZXMgd2lsbCBiZSByZXR1cm5lZCwgdHVybmluZyB0aGUgZnVuY3Rpb24gY2FsbCBpbnRvIGEgZ2VuZXJhdG9yLiBJcyBvbmx5IGFwcGxpY2FibGUgdG8gTk9OX0JMT0NLSU5HIGZ1bmN0aW9uIGNhbGxzIChzZWUgRnVuY3Rpb25EZWNsYXJhdGlvbi5iZWhhdmlvciBmb3IgZGV0YWlscyksIGlnbm9yZWQgb3RoZXJ3aXNlLiBJZiBmYWxzZSwgdGhlIGRlZmF1bHQsIGZ1dHVyZSByZXNwb25zZXMgd2lsbCBub3QgYmUgY29uc2lkZXJlZC4gSXMgb25seSBhcHBsaWNhYmxlIHRvIE5PTl9CTE9DS0lORyBmdW5jdGlvbiBjYWxscywgaXMgaWdub3JlZCBvdGhlcndpc2UuIElmIHNldCB0byBmYWxzZSwgZnV0dXJlIHJlc3BvbnNlcyB3aWxsIG5vdCBiZSBjb25zaWRlcmVkLiBJdCBpcyBhbGxvd2VkIHRvIHJldHVybiBlbXB0eSBgcmVzcG9uc2VgIHdpdGggYHdpbGxfY29udGludWU9RmFsc2VgIHRvIHNpZ25hbCB0aGF0IHRoZSBmdW5jdGlvbiBjYWxsIGlzIGZpbmlzaGVkLiAqL1xuICB3aWxsQ29udGludWU/OiBib29sZWFuO1xuICAvKiogU3BlY2lmaWVzIGhvdyB0aGUgcmVzcG9uc2Ugc2hvdWxkIGJlIHNjaGVkdWxlZCBpbiB0aGUgY29udmVyc2F0aW9uLiBPbmx5IGFwcGxpY2FibGUgdG8gTk9OX0JMT0NLSU5HIGZ1bmN0aW9uIGNhbGxzLCBpcyBpZ25vcmVkIG90aGVyd2lzZS4gRGVmYXVsdHMgdG8gV0hFTl9JRExFLiAqL1xuICBzY2hlZHVsaW5nPzogRnVuY3Rpb25SZXNwb25zZVNjaGVkdWxpbmc7XG4gIC8qKiBMaXN0IG9mIHBhcnRzIHRoYXQgY29uc3RpdHV0ZSBhIGZ1bmN0aW9uIHJlc3BvbnNlLiBFYWNoIHBhcnQgbWF5XG4gICAgICBoYXZlIGEgZGlmZmVyZW50IElBTkEgTUlNRSB0eXBlLiAqL1xuICBwYXJ0cz86IEZ1bmN0aW9uUmVzcG9uc2VQYXJ0W107XG4gIC8qKiBPcHRpb25hbC4gVGhlIGlkIG9mIHRoZSBmdW5jdGlvbiBjYWxsIHRoaXMgcmVzcG9uc2UgaXMgZm9yLiBQb3B1bGF0ZWQgYnkgdGhlIGNsaWVudCB0byBtYXRjaCB0aGUgY29ycmVzcG9uZGluZyBmdW5jdGlvbiBjYWxsIGBpZGAuICovXG4gIGlkPzogc3RyaW5nO1xuICAvKiogUmVxdWlyZWQuIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBjYWxsLiBNYXRjaGVzIFtGdW5jdGlvbkRlY2xhcmF0aW9uLm5hbWVdIGFuZCBbRnVuY3Rpb25DYWxsLm5hbWVdLiAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKiogUmVxdWlyZWQuIFRoZSBmdW5jdGlvbiByZXNwb25zZSBpbiBKU09OIG9iamVjdCBmb3JtYXQuIFVzZSBcIm91dHB1dFwiIGtleSB0byBzcGVjaWZ5IGZ1bmN0aW9uIG91dHB1dCBhbmQgXCJlcnJvclwiIGtleSB0byBzcGVjaWZ5IGVycm9yIGRldGFpbHMgKGlmIGFueSkuIElmIFwib3V0cHV0XCIgYW5kIFwiZXJyb3JcIiBrZXlzIGFyZSBub3Qgc3BlY2lmaWVkLCB0aGVuIHdob2xlIFwicmVzcG9uc2VcIiBpcyB0cmVhdGVkIGFzIGZ1bmN0aW9uIG91dHB1dC4gKi9cbiAgcmVzcG9uc2U/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbn1cblxuLyoqIENvbnRlbnQgYmxvYi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBCbG9iIHtcbiAgLyoqIFJlcXVpcmVkLiBSYXcgYnl0ZXMuXG4gICAqIEByZW1hcmtzIEVuY29kZWQgYXMgYmFzZTY0IHN0cmluZy4gKi9cbiAgZGF0YT86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBEaXNwbGF5IG5hbWUgb2YgdGhlIGJsb2IuIFVzZWQgdG8gcHJvdmlkZSBhIGxhYmVsIG9yIGZpbGVuYW1lIHRvIGRpc3Rpbmd1aXNoIGJsb2JzLiBUaGlzIGZpZWxkIGlzIG9ubHkgcmV0dXJuZWQgaW4gUHJvbXB0TWVzc2FnZSBmb3IgcHJvbXB0IG1hbmFnZW1lbnQuIEl0IGlzIGN1cnJlbnRseSB1c2VkIGluIHRoZSBHZW1pbmkgR2VuZXJhdGVDb250ZW50IGNhbGxzIG9ubHkgd2hlbiBzZXJ2ZXIgc2lkZSB0b29scyAoY29kZV9leGVjdXRpb24sIGdvb2dsZV9zZWFyY2gsIGFuZCB1cmxfY29udGV4dCkgYXJlIGVuYWJsZWQuIFRoaXMgZmllbGQgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuICBkaXNwbGF5TmFtZT86IHN0cmluZztcbiAgLyoqIFJlcXVpcmVkLiBUaGUgSUFOQSBzdGFuZGFyZCBNSU1FIHR5cGUgb2YgdGhlIHNvdXJjZSBkYXRhLiAqL1xuICBtaW1lVHlwZT86IHN0cmluZztcbn1cblxuLyoqIE1ldGFkYXRhIGRlc2NyaWJlcyB0aGUgaW5wdXQgdmlkZW8gY29udGVudC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBWaWRlb01ldGFkYXRhIHtcbiAgLyoqIE9wdGlvbmFsLiBUaGUgZW5kIG9mZnNldCBvZiB0aGUgdmlkZW8uICovXG4gIGVuZE9mZnNldD86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBUaGUgZnJhbWUgcmF0ZSBvZiB0aGUgdmlkZW8gc2VudCB0byB0aGUgbW9kZWwuIElmIG5vdCBzcGVjaWZpZWQsIHRoZSBkZWZhdWx0IHZhbHVlIHdpbGwgYmUgMS4wLiBUaGUgZnBzIHJhbmdlIGlzICgwLjAsIDI0LjBdLiAqL1xuICBmcHM/OiBudW1iZXI7XG4gIC8qKiBPcHRpb25hbC4gVGhlIHN0YXJ0IG9mZnNldCBvZiB0aGUgdmlkZW8uICovXG4gIHN0YXJ0T2Zmc2V0Pzogc3RyaW5nO1xufVxuXG4vKiogQSBkYXRhdHlwZSBjb250YWluaW5nIG1lZGlhIGNvbnRlbnQuXG5cbkV4YWN0bHkgb25lIGZpZWxkIHdpdGhpbiBhIFBhcnQgc2hvdWxkIGJlIHNldCwgcmVwcmVzZW50aW5nIHRoZSBzcGVjaWZpYyB0eXBlXG5vZiBjb250ZW50IGJlaW5nIGNvbnZleWVkLiBVc2luZyBtdWx0aXBsZSBmaWVsZHMgd2l0aGluIHRoZSBzYW1lIGBQYXJ0YFxuaW5zdGFuY2UgaXMgY29uc2lkZXJlZCBpbnZhbGlkLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFBhcnQge1xuICAvKiogTWVkaWEgcmVzb2x1dGlvbiBmb3IgdGhlIGlucHV0IG1lZGlhLlxuICAgKi9cbiAgbWVkaWFSZXNvbHV0aW9uPzogUGFydE1lZGlhUmVzb2x1dGlvbjtcbiAgLyoqIE9wdGlvbmFsLiBSZXN1bHQgb2YgZXhlY3V0aW5nIHRoZSBbRXhlY3V0YWJsZUNvZGVdLiAqL1xuICBjb2RlRXhlY3V0aW9uUmVzdWx0PzogQ29kZUV4ZWN1dGlvblJlc3VsdDtcbiAgLyoqIE9wdGlvbmFsLiBDb2RlIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgdGhhdCBpcyBtZWFudCB0byBiZSBleGVjdXRlZC4gKi9cbiAgZXhlY3V0YWJsZUNvZGU/OiBFeGVjdXRhYmxlQ29kZTtcbiAgLyoqIE9wdGlvbmFsLiBVUkkgYmFzZWQgZGF0YS4gKi9cbiAgZmlsZURhdGE/OiBGaWxlRGF0YTtcbiAgLyoqIE9wdGlvbmFsLiBBIHByZWRpY3RlZCBbRnVuY3Rpb25DYWxsXSByZXR1cm5lZCBmcm9tIHRoZSBtb2RlbCB0aGF0IGNvbnRhaW5zIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgW0Z1bmN0aW9uRGVjbGFyYXRpb24ubmFtZV0gd2l0aCB0aGUgcGFyYW1ldGVycyBhbmQgdGhlaXIgdmFsdWVzLiAqL1xuICBmdW5jdGlvbkNhbGw/OiBGdW5jdGlvbkNhbGw7XG4gIC8qKiBPcHRpb25hbC4gVGhlIHJlc3VsdCBvdXRwdXQgb2YgYSBbRnVuY3Rpb25DYWxsXSB0aGF0IGNvbnRhaW5zIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgW0Z1bmN0aW9uRGVjbGFyYXRpb24ubmFtZV0gYW5kIGEgc3RydWN0dXJlZCBKU09OIG9iamVjdCBjb250YWluaW5nIGFueSBvdXRwdXQgZnJvbSB0aGUgZnVuY3Rpb24gY2FsbC4gSXQgaXMgdXNlZCBhcyBjb250ZXh0IHRvIHRoZSBtb2RlbC4gKi9cbiAgZnVuY3Rpb25SZXNwb25zZT86IEZ1bmN0aW9uUmVzcG9uc2U7XG4gIC8qKiBPcHRpb25hbC4gSW5saW5lZCBieXRlcyBkYXRhLiAqL1xuICBpbmxpbmVEYXRhPzogQmxvYjtcbiAgLyoqIE9wdGlvbmFsLiBUZXh0IHBhcnQgKGNhbiBiZSBjb2RlKS4gKi9cbiAgdGV4dD86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBJbmRpY2F0ZXMgaWYgdGhlIHBhcnQgaXMgdGhvdWdodCBmcm9tIHRoZSBtb2RlbC4gKi9cbiAgdGhvdWdodD86IGJvb2xlYW47XG4gIC8qKiBPcHRpb25hbC4gQW4gb3BhcXVlIHNpZ25hdHVyZSBmb3IgdGhlIHRob3VnaHQgc28gaXQgY2FuIGJlIHJldXNlZCBpbiBzdWJzZXF1ZW50IHJlcXVlc3RzLlxuICAgKiBAcmVtYXJrcyBFbmNvZGVkIGFzIGJhc2U2NCBzdHJpbmcuICovXG4gIHRob3VnaHRTaWduYXR1cmU/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gVmlkZW8gbWV0YWRhdGEuIFRoZSBtZXRhZGF0YSBzaG91bGQgb25seSBiZSBzcGVjaWZpZWQgd2hpbGUgdGhlIHZpZGVvIGRhdGEgaXMgcHJlc2VudGVkIGluIGlubGluZV9kYXRhIG9yIGZpbGVfZGF0YS4gKi9cbiAgdmlkZW9NZXRhZGF0YT86IFZpZGVvTWV0YWRhdGE7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBgUGFydGAgb2JqZWN0IGZyb20gYSBgVVJJYCBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQYXJ0RnJvbVVyaShcbiAgdXJpOiBzdHJpbmcsXG4gIG1pbWVUeXBlOiBzdHJpbmcsXG4gIG1lZGlhUmVzb2x1dGlvbj86IFBhcnRNZWRpYVJlc29sdXRpb25MZXZlbCxcbik6IFBhcnQge1xuICByZXR1cm4ge1xuICAgIGZpbGVEYXRhOiB7XG4gICAgICBmaWxlVXJpOiB1cmksXG4gICAgICBtaW1lVHlwZTogbWltZVR5cGUsXG4gICAgfSxcbiAgICAuLi4obWVkaWFSZXNvbHV0aW9uICYmIHttZWRpYVJlc29sdXRpb246IHtsZXZlbDogbWVkaWFSZXNvbHV0aW9ufX0pLFxuICB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgYFBhcnRgIG9iamVjdCBmcm9tIGEgYHRleHRgIHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhcnRGcm9tVGV4dCh0ZXh0OiBzdHJpbmcpOiBQYXJ0IHtcbiAgcmV0dXJuIHtcbiAgICB0ZXh0OiB0ZXh0LFxuICB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgYFBhcnRgIG9iamVjdCBmcm9tIGEgYEZ1bmN0aW9uQ2FsbGAgb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGFydEZyb21GdW5jdGlvbkNhbGwoXG4gIG5hbWU6IHN0cmluZyxcbiAgYXJnczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBQYXJ0IHtcbiAgcmV0dXJuIHtcbiAgICBmdW5jdGlvbkNhbGw6IHtcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICBhcmdzOiBhcmdzLFxuICAgIH0sXG4gIH07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBgUGFydGAgb2JqZWN0IGZyb20gYSBgRnVuY3Rpb25SZXNwb25zZWAgb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGFydEZyb21GdW5jdGlvblJlc3BvbnNlKFxuICBpZDogc3RyaW5nLFxuICBuYW1lOiBzdHJpbmcsXG4gIHJlc3BvbnNlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgcGFydHM6IEZ1bmN0aW9uUmVzcG9uc2VQYXJ0W10gPSBbXSxcbik6IFBhcnQge1xuICByZXR1cm4ge1xuICAgIGZ1bmN0aW9uUmVzcG9uc2U6IHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICByZXNwb25zZTogcmVzcG9uc2UsXG4gICAgICAuLi4ocGFydHMubGVuZ3RoID4gMCAmJiB7cGFydHN9KSxcbiAgICB9LFxuICB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgYFBhcnRgIG9iamVjdCBmcm9tIGEgYGJhc2U2NGAgZW5jb2RlZCBgc3RyaW5nYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhcnRGcm9tQmFzZTY0KFxuICBkYXRhOiBzdHJpbmcsXG4gIG1pbWVUeXBlOiBzdHJpbmcsXG4gIG1lZGlhUmVzb2x1dGlvbj86IFBhcnRNZWRpYVJlc29sdXRpb25MZXZlbCxcbik6IFBhcnQge1xuICByZXR1cm4ge1xuICAgIGlubGluZURhdGE6IHtcbiAgICAgIGRhdGE6IGRhdGEsXG4gICAgICBtaW1lVHlwZTogbWltZVR5cGUsXG4gICAgfSxcbiAgICAuLi4obWVkaWFSZXNvbHV0aW9uICYmIHttZWRpYVJlc29sdXRpb246IHtsZXZlbDogbWVkaWFSZXNvbHV0aW9ufX0pLFxuICB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgYFBhcnRgIG9iamVjdCBmcm9tIHRoZSBgb3V0Y29tZWAgYW5kIGBvdXRwdXRgIG9mIGEgYENvZGVFeGVjdXRpb25SZXN1bHRgIG9iamVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhcnRGcm9tQ29kZUV4ZWN1dGlvblJlc3VsdChcbiAgb3V0Y29tZTogT3V0Y29tZSxcbiAgb3V0cHV0OiBzdHJpbmcsXG4pOiBQYXJ0IHtcbiAgcmV0dXJuIHtcbiAgICBjb2RlRXhlY3V0aW9uUmVzdWx0OiB7XG4gICAgICBvdXRjb21lOiBvdXRjb21lLFxuICAgICAgb3V0cHV0OiBvdXRwdXQsXG4gICAgfSxcbiAgfTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGBQYXJ0YCBvYmplY3QgZnJvbSB0aGUgYGNvZGVgIGFuZCBgbGFuZ3VhZ2VgIG9mIGFuIGBFeGVjdXRhYmxlQ29kZWAgb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGFydEZyb21FeGVjdXRhYmxlQ29kZShcbiAgY29kZTogc3RyaW5nLFxuICBsYW5ndWFnZTogTGFuZ3VhZ2UsXG4pOiBQYXJ0IHtcbiAgcmV0dXJuIHtcbiAgICBleGVjdXRhYmxlQ29kZToge1xuICAgICAgY29kZTogY29kZSxcbiAgICAgIGxhbmd1YWdlOiBsYW5ndWFnZSxcbiAgICB9LFxuICB9O1xufVxuXG4vKiogQ29udGFpbnMgdGhlIG11bHRpLXBhcnQgY29udGVudCBvZiBhIG1lc3NhZ2UuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ29udGVudCB7XG4gIC8qKiBMaXN0IG9mIHBhcnRzIHRoYXQgY29uc3RpdHV0ZSBhIHNpbmdsZSBtZXNzYWdlLiBFYWNoIHBhcnQgbWF5IGhhdmVcbiAgICAgIGEgZGlmZmVyZW50IElBTkEgTUlNRSB0eXBlLiAqL1xuICBwYXJ0cz86IFBhcnRbXTtcbiAgLyoqIE9wdGlvbmFsLiBUaGUgcHJvZHVjZXIgb2YgdGhlIGNvbnRlbnQuIE11c3QgYmUgZWl0aGVyICd1c2VyJyBvciAnbW9kZWwnLiBVc2VmdWwgdG8gc2V0IGZvciBtdWx0aS10dXJuIGNvbnZlcnNhdGlvbnMsIG90aGVyd2lzZSBjYW4gYmUgbGVmdCBibGFuayBvciB1bnNldC4gKi9cbiAgcm9sZT86IHN0cmluZztcbn1cbmZ1bmN0aW9uIF9pc1BhcnQob2JqOiB1bmtub3duKTogb2JqIGlzIFBhcnQge1xuICBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICdmaWxlRGF0YScgaW4gb2JqIHx8XG4gICAgICAndGV4dCcgaW4gb2JqIHx8XG4gICAgICAnZnVuY3Rpb25DYWxsJyBpbiBvYmogfHxcbiAgICAgICdmdW5jdGlvblJlc3BvbnNlJyBpbiBvYmogfHxcbiAgICAgICdpbmxpbmVEYXRhJyBpbiBvYmogfHxcbiAgICAgICd2aWRlb01ldGFkYXRhJyBpbiBvYmogfHxcbiAgICAgICdjb2RlRXhlY3V0aW9uUmVzdWx0JyBpbiBvYmogfHxcbiAgICAgICdleGVjdXRhYmxlQ29kZScgaW4gb2JqXG4gICAgKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBfdG9QYXJ0cyhwYXJ0T3JTdHJpbmc6IFBhcnRMaXN0VW5pb24gfCBzdHJpbmcpOiBQYXJ0W10ge1xuICBjb25zdCBwYXJ0czogUGFydFtdID0gW107XG4gIGlmICh0eXBlb2YgcGFydE9yU3RyaW5nID09PSAnc3RyaW5nJykge1xuICAgIHBhcnRzLnB1c2goY3JlYXRlUGFydEZyb21UZXh0KHBhcnRPclN0cmluZykpO1xuICB9IGVsc2UgaWYgKF9pc1BhcnQocGFydE9yU3RyaW5nKSkge1xuICAgIHBhcnRzLnB1c2gocGFydE9yU3RyaW5nKTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHBhcnRPclN0cmluZykpIHtcbiAgICBpZiAocGFydE9yU3RyaW5nLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXJ0T3JTdHJpbmcgY2Fubm90IGJlIGFuIGVtcHR5IGFycmF5Jyk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0T3JTdHJpbmcpIHtcbiAgICAgIGlmICh0eXBlb2YgcGFydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcGFydHMucHVzaChjcmVhdGVQYXJ0RnJvbVRleHQocGFydCkpO1xuICAgICAgfSBlbHNlIGlmIChfaXNQYXJ0KHBhcnQpKSB7XG4gICAgICAgIHBhcnRzLnB1c2gocGFydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2VsZW1lbnQgaW4gUGFydFVuaW9uIG11c3QgYmUgYSBQYXJ0IG9iamVjdCBvciBzdHJpbmcnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwYXJ0T3JTdHJpbmcgbXVzdCBiZSBhIFBhcnQgb2JqZWN0LCBzdHJpbmcsIG9yIGFycmF5Jyk7XG4gIH1cbiAgcmV0dXJuIHBhcnRzO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgYENvbnRlbnRgIG9iamVjdCB3aXRoIGEgdXNlciByb2xlIGZyb20gYSBgUGFydExpc3RVbmlvbmAgb2JqZWN0IG9yIGBzdHJpbmdgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVXNlckNvbnRlbnQoXG4gIHBhcnRPclN0cmluZzogUGFydExpc3RVbmlvbiB8IHN0cmluZyxcbik6IENvbnRlbnQge1xuICByZXR1cm4ge1xuICAgIHJvbGU6ICd1c2VyJyxcbiAgICBwYXJ0czogX3RvUGFydHMocGFydE9yU3RyaW5nKSxcbiAgfTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgYENvbnRlbnRgIG9iamVjdCB3aXRoIGEgbW9kZWwgcm9sZSBmcm9tIGEgYFBhcnRMaXN0VW5pb25gIG9iamVjdCBvciBgc3RyaW5nYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1vZGVsQ29udGVudChcbiAgcGFydE9yU3RyaW5nOiBQYXJ0TGlzdFVuaW9uIHwgc3RyaW5nLFxuKTogQ29udGVudCB7XG4gIHJldHVybiB7XG4gICAgcm9sZTogJ21vZGVsJyxcbiAgICBwYXJ0czogX3RvUGFydHMocGFydE9yU3RyaW5nKSxcbiAgfTtcbn1cbi8qKiBIVFRQIG9wdGlvbnMgdG8gYmUgdXNlZCBpbiBlYWNoIG9mIHRoZSByZXF1ZXN0cy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBIdHRwT3B0aW9ucyB7XG4gIC8qKiBUaGUgYmFzZSBVUkwgZm9yIHRoZSBBSSBwbGF0Zm9ybSBzZXJ2aWNlIGVuZHBvaW50LiAqL1xuICBiYXNlVXJsPzogc3RyaW5nO1xuICAvKiogU3BlY2lmaWVzIHRoZSB2ZXJzaW9uIG9mIHRoZSBBUEkgdG8gdXNlLiAqL1xuICBhcGlWZXJzaW9uPzogc3RyaW5nO1xuICAvKiogQWRkaXRpb25hbCBIVFRQIGhlYWRlcnMgdG8gYmUgc2VudCB3aXRoIHRoZSByZXF1ZXN0LiAqL1xuICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgLyoqIFRpbWVvdXQgZm9yIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kcy4gKi9cbiAgdGltZW91dD86IG51bWJlcjtcbiAgLyoqIEV4dHJhIHBhcmFtZXRlcnMgdG8gYWRkIHRvIHRoZSByZXF1ZXN0IGJvZHkuXG4gICAgICBUaGUgc3RydWN0dXJlIG11c3QgbWF0Y2ggdGhlIGJhY2tlbmQgQVBJJ3MgcmVxdWVzdCBzdHJ1Y3R1cmUuXG4gICAgICAtIFZlcnRleEFJIGJhY2tlbmQgQVBJIGRvY3M6IGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZG9jcy9yZWZlcmVuY2UvcmVzdFxuICAgICAgLSBHZW1pbmlBUEkgYmFja2VuZCBBUEkgZG9jczogaHR0cHM6Ly9haS5nb29nbGUuZGV2L2FwaS9yZXN0ICovXG4gIGV4dHJhQm9keT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xufVxuXG4vKiogU2NoZW1hIGlzIHVzZWQgdG8gZGVmaW5lIHRoZSBmb3JtYXQgb2YgaW5wdXQvb3V0cHV0IGRhdGEuXG5cblJlcHJlc2VudHMgYSBzZWxlY3Qgc3Vic2V0IG9mIGFuIFtPcGVuQVBJIDMuMCBzY2hlbWFcbm9iamVjdF0oaHR0cHM6Ly9zcGVjLm9wZW5hcGlzLm9yZy9vYXMvdjMuMC4zI3NjaGVtYS1vYmplY3QpLiBNb3JlIGZpZWxkcyBtYXlcbmJlIGFkZGVkIGluIHRoZSBmdXR1cmUgYXMgbmVlZGVkLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFNjaGVtYSB7XG4gIC8qKiBPcHRpb25hbC4gVGhlIHZhbHVlIHNob3VsZCBiZSB2YWxpZGF0ZWQgYWdhaW5zdCBhbnkgKG9uZSBvciBtb3JlKSBvZiB0aGUgc3Vic2NoZW1hcyBpbiB0aGUgbGlzdC4gKi9cbiAgYW55T2Y/OiBTY2hlbWFbXTtcbiAgLyoqIE9wdGlvbmFsLiBEZWZhdWx0IHZhbHVlIG9mIHRoZSBkYXRhLiAqL1xuICBkZWZhdWx0PzogdW5rbm93bjtcbiAgLyoqIE9wdGlvbmFsLiBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIGRhdGEuICovXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIFBvc3NpYmxlIHZhbHVlcyBvZiB0aGUgZWxlbWVudCBvZiBwcmltaXRpdmUgdHlwZSB3aXRoIGVudW0gZm9ybWF0LiBFeGFtcGxlczogMS4gV2UgY2FuIGRlZmluZSBkaXJlY3Rpb24gYXMgOiB7dHlwZTpTVFJJTkcsIGZvcm1hdDplbnVtLCBlbnVtOltcIkVBU1RcIiwgTk9SVEhcIiwgXCJTT1VUSFwiLCBcIldFU1RcIl19IDIuIFdlIGNhbiBkZWZpbmUgYXBhcnRtZW50IG51bWJlciBhcyA6IHt0eXBlOklOVEVHRVIsIGZvcm1hdDplbnVtLCBlbnVtOltcIjEwMVwiLCBcIjIwMVwiLCBcIjMwMVwiXX0gKi9cbiAgZW51bT86IHN0cmluZ1tdO1xuICAvKiogT3B0aW9uYWwuIEV4YW1wbGUgb2YgdGhlIG9iamVjdC4gV2lsbCBvbmx5IHBvcHVsYXRlZCB3aGVuIHRoZSBvYmplY3QgaXMgdGhlIHJvb3QuICovXG4gIGV4YW1wbGU/OiB1bmtub3duO1xuICAvKiogT3B0aW9uYWwuIFRoZSBmb3JtYXQgb2YgdGhlIGRhdGEuIFN1cHBvcnRlZCBmb3JtYXRzOiBmb3IgTlVNQkVSIHR5cGU6IFwiZmxvYXRcIiwgXCJkb3VibGVcIiBmb3IgSU5URUdFUiB0eXBlOiBcImludDMyXCIsIFwiaW50NjRcIiBmb3IgU1RSSU5HIHR5cGU6IFwiZW1haWxcIiwgXCJieXRlXCIsIGV0YyAqL1xuICBmb3JtYXQ/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gU0NIRU1BIEZJRUxEUyBGT1IgVFlQRSBBUlJBWSBTY2hlbWEgb2YgdGhlIGVsZW1lbnRzIG9mIFR5cGUuQVJSQVkuICovXG4gIGl0ZW1zPzogU2NoZW1hO1xuICAvKiogT3B0aW9uYWwuIE1heGltdW0gbnVtYmVyIG9mIHRoZSBlbGVtZW50cyBmb3IgVHlwZS5BUlJBWS4gKi9cbiAgbWF4SXRlbXM/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gTWF4aW11bSBsZW5ndGggb2YgdGhlIFR5cGUuU1RSSU5HICovXG4gIG1heExlbmd0aD86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBNYXhpbXVtIG51bWJlciBvZiB0aGUgcHJvcGVydGllcyBmb3IgVHlwZS5PQkpFQ1QuICovXG4gIG1heFByb3BlcnRpZXM/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gTWF4aW11bSB2YWx1ZSBvZiB0aGUgVHlwZS5JTlRFR0VSIGFuZCBUeXBlLk5VTUJFUiAqL1xuICBtYXhpbXVtPzogbnVtYmVyO1xuICAvKiogT3B0aW9uYWwuIE1pbmltdW0gbnVtYmVyIG9mIHRoZSBlbGVtZW50cyBmb3IgVHlwZS5BUlJBWS4gKi9cbiAgbWluSXRlbXM/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gU0NIRU1BIEZJRUxEUyBGT1IgVFlQRSBTVFJJTkcgTWluaW11bSBsZW5ndGggb2YgdGhlIFR5cGUuU1RSSU5HICovXG4gIG1pbkxlbmd0aD86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBNaW5pbXVtIG51bWJlciBvZiB0aGUgcHJvcGVydGllcyBmb3IgVHlwZS5PQkpFQ1QuICovXG4gIG1pblByb3BlcnRpZXM/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gU0NIRU1BIEZJRUxEUyBGT1IgVFlQRSBJTlRFR0VSIGFuZCBOVU1CRVIgTWluaW11bSB2YWx1ZSBvZiB0aGUgVHlwZS5JTlRFR0VSIGFuZCBUeXBlLk5VTUJFUiAqL1xuICBtaW5pbXVtPzogbnVtYmVyO1xuICAvKiogT3B0aW9uYWwuIEluZGljYXRlcyBpZiB0aGUgdmFsdWUgbWF5IGJlIG51bGwuICovXG4gIG51bGxhYmxlPzogYm9vbGVhbjtcbiAgLyoqIE9wdGlvbmFsLiBQYXR0ZXJuIG9mIHRoZSBUeXBlLlNUUklORyB0byByZXN0cmljdCBhIHN0cmluZyB0byBhIHJlZ3VsYXIgZXhwcmVzc2lvbi4gKi9cbiAgcGF0dGVybj86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBTQ0hFTUEgRklFTERTIEZPUiBUWVBFIE9CSkVDVCBQcm9wZXJ0aWVzIG9mIFR5cGUuT0JKRUNULiAqL1xuICBwcm9wZXJ0aWVzPzogUmVjb3JkPHN0cmluZywgU2NoZW1hPjtcbiAgLyoqIE9wdGlvbmFsLiBUaGUgb3JkZXIgb2YgdGhlIHByb3BlcnRpZXMuIE5vdCBhIHN0YW5kYXJkIGZpZWxkIGluIG9wZW4gYXBpIHNwZWMuIE9ubHkgdXNlZCB0byBzdXBwb3J0IHRoZSBvcmRlciBvZiB0aGUgcHJvcGVydGllcy4gKi9cbiAgcHJvcGVydHlPcmRlcmluZz86IHN0cmluZ1tdO1xuICAvKiogT3B0aW9uYWwuIFJlcXVpcmVkIHByb3BlcnRpZXMgb2YgVHlwZS5PQkpFQ1QuICovXG4gIHJlcXVpcmVkPzogc3RyaW5nW107XG4gIC8qKiBPcHRpb25hbC4gVGhlIHRpdGxlIG9mIHRoZSBTY2hlbWEuICovXG4gIHRpdGxlPzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIFRoZSB0eXBlIG9mIHRoZSBkYXRhLiAqL1xuICB0eXBlPzogVHlwZTtcbn1cblxuLyoqIENvbmZpZyBmb3IgbW9kZWwgc2VsZWN0aW9uLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIE1vZGVsU2VsZWN0aW9uQ29uZmlnIHtcbiAgLyoqIE9wdGlvbnMgZm9yIGZlYXR1cmUgc2VsZWN0aW9uIHByZWZlcmVuY2UuICovXG4gIGZlYXR1cmVTZWxlY3Rpb25QcmVmZXJlbmNlPzogRmVhdHVyZVNlbGVjdGlvblByZWZlcmVuY2U7XG59XG5cbi8qKiBEZWZpbmVzIGEgZnVuY3Rpb24gdGhhdCB0aGUgbW9kZWwgY2FuIGdlbmVyYXRlIEpTT04gaW5wdXRzIGZvci5cblxuVGhlIGlucHV0cyBhcmUgYmFzZWQgb24gYE9wZW5BUEkgMy4wIHNwZWNpZmljYXRpb25zXG48aHR0cHM6Ly9zcGVjLm9wZW5hcGlzLm9yZy9vYXMvdjMuMC4zPmBfLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEZ1bmN0aW9uRGVjbGFyYXRpb24ge1xuICAvKiogRGVmaW5lcyB0aGUgZnVuY3Rpb24gYmVoYXZpb3IuICovXG4gIGJlaGF2aW9yPzogQmVoYXZpb3I7XG4gIC8qKiBPcHRpb25hbC4gRGVzY3JpcHRpb24gYW5kIHB1cnBvc2Ugb2YgdGhlIGZ1bmN0aW9uLiBNb2RlbCB1c2VzIGl0IHRvIGRlY2lkZSBob3cgYW5kIHdoZXRoZXIgdG8gY2FsbCB0aGUgZnVuY3Rpb24uICovXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICAvKiogUmVxdWlyZWQuIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0byBjYWxsLiBNdXN0IHN0YXJ0IHdpdGggYSBsZXR0ZXIgb3IgYW4gdW5kZXJzY29yZS4gTXVzdCBiZSBhLXosIEEtWiwgMC05LCBvciBjb250YWluIHVuZGVyc2NvcmVzLCBkb3RzIGFuZCBkYXNoZXMsIHdpdGggYSBtYXhpbXVtIGxlbmd0aCBvZiA2NC4gKi9cbiAgbmFtZT86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBEZXNjcmliZXMgdGhlIHBhcmFtZXRlcnMgdG8gdGhpcyBmdW5jdGlvbiBpbiBKU09OIFNjaGVtYSBPYmplY3QgZm9ybWF0LiBSZWZsZWN0cyB0aGUgT3BlbiBBUEkgMy4wMyBQYXJhbWV0ZXIgT2JqZWN0LiBzdHJpbmcgS2V5OiB0aGUgbmFtZSBvZiB0aGUgcGFyYW1ldGVyLiBQYXJhbWV0ZXIgbmFtZXMgYXJlIGNhc2Ugc2Vuc2l0aXZlLiBTY2hlbWEgVmFsdWU6IHRoZSBTY2hlbWEgZGVmaW5pbmcgdGhlIHR5cGUgdXNlZCBmb3IgdGhlIHBhcmFtZXRlci4gRm9yIGZ1bmN0aW9uIHdpdGggbm8gcGFyYW1ldGVycywgdGhpcyBjYW4gYmUgbGVmdCB1bnNldC4gUGFyYW1ldGVyIG5hbWVzIG11c3Qgc3RhcnQgd2l0aCBhIGxldHRlciBvciBhbiB1bmRlcnNjb3JlIGFuZCBtdXN0IG9ubHkgY29udGFpbiBjaGFycyBhLXosIEEtWiwgMC05LCBvciB1bmRlcnNjb3JlcyB3aXRoIGEgbWF4aW11bSBsZW5ndGggb2YgNjQuIEV4YW1wbGUgd2l0aCAxIHJlcXVpcmVkIGFuZCAxIG9wdGlvbmFsIHBhcmFtZXRlcjogdHlwZTogT0JKRUNUIHByb3BlcnRpZXM6IHBhcmFtMTogdHlwZTogU1RSSU5HIHBhcmFtMjogdHlwZTogSU5URUdFUiByZXF1aXJlZDogLSBwYXJhbTEgKi9cbiAgcGFyYW1ldGVycz86IFNjaGVtYTtcbiAgLyoqIE9wdGlvbmFsLiBEZXNjcmliZXMgdGhlIHBhcmFtZXRlcnMgdG8gdGhlIGZ1bmN0aW9uIGluIEpTT04gU2NoZW1hIGZvcm1hdC4gVGhlIHNjaGVtYSBtdXN0IGRlc2NyaWJlIGFuIG9iamVjdCB3aGVyZSB0aGUgcHJvcGVydGllcyBhcmUgdGhlIHBhcmFtZXRlcnMgdG8gdGhlIGZ1bmN0aW9uLiBGb3IgZXhhbXBsZTogYGBgIHsgXCJ0eXBlXCI6IFwib2JqZWN0XCIsIFwicHJvcGVydGllc1wiOiB7IFwibmFtZVwiOiB7IFwidHlwZVwiOiBcInN0cmluZ1wiIH0sIFwiYWdlXCI6IHsgXCJ0eXBlXCI6IFwiaW50ZWdlclwiIH0gfSwgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiOiBmYWxzZSwgXCJyZXF1aXJlZFwiOiBbXCJuYW1lXCIsIFwiYWdlXCJdLCBcInByb3BlcnR5T3JkZXJpbmdcIjogW1wibmFtZVwiLCBcImFnZVwiXSB9IGBgYCBUaGlzIGZpZWxkIGlzIG11dHVhbGx5IGV4Y2x1c2l2ZSB3aXRoIGBwYXJhbWV0ZXJzYC4gKi9cbiAgcGFyYW1ldGVyc0pzb25TY2hlbWE/OiB1bmtub3duO1xuICAvKiogT3B0aW9uYWwuIERlc2NyaWJlcyB0aGUgb3V0cHV0IGZyb20gdGhpcyBmdW5jdGlvbiBpbiBKU09OIFNjaGVtYSBmb3JtYXQuIFJlZmxlY3RzIHRoZSBPcGVuIEFQSSAzLjAzIFJlc3BvbnNlIE9iamVjdC4gVGhlIFNjaGVtYSBkZWZpbmVzIHRoZSB0eXBlIHVzZWQgZm9yIHRoZSByZXNwb25zZSB2YWx1ZSBvZiB0aGUgZnVuY3Rpb24uICovXG4gIHJlc3BvbnNlPzogU2NoZW1hO1xuICAvKiogT3B0aW9uYWwuIERlc2NyaWJlcyB0aGUgb3V0cHV0IGZyb20gdGhpcyBmdW5jdGlvbiBpbiBKU09OIFNjaGVtYSBmb3JtYXQuIFRoZSB2YWx1ZSBzcGVjaWZpZWQgYnkgdGhlIHNjaGVtYSBpcyB0aGUgcmVzcG9uc2UgdmFsdWUgb2YgdGhlIGZ1bmN0aW9uLiBUaGlzIGZpZWxkIGlzIG11dHVhbGx5IGV4Y2x1c2l2ZSB3aXRoIGByZXNwb25zZWAuICovXG4gIHJlc3BvbnNlSnNvblNjaGVtYT86IHVua25vd247XG59XG5cbi8qKiBEZXNjcmliZXMgdGhlIG9wdGlvbnMgdG8gY3VzdG9taXplIGR5bmFtaWMgcmV0cmlldmFsLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIER5bmFtaWNSZXRyaWV2YWxDb25maWcge1xuICAvKiogVGhlIG1vZGUgb2YgdGhlIHByZWRpY3RvciB0byBiZSB1c2VkIGluIGR5bmFtaWMgcmV0cmlldmFsLiAqL1xuICBtb2RlPzogRHluYW1pY1JldHJpZXZhbENvbmZpZ01vZGU7XG4gIC8qKiBPcHRpb25hbC4gVGhlIHRocmVzaG9sZCB0byBiZSB1c2VkIGluIGR5bmFtaWMgcmV0cmlldmFsLiBJZiBub3Qgc2V0LCBhIHN5c3RlbSBkZWZhdWx0IHZhbHVlIGlzIHVzZWQuICovXG4gIGR5bmFtaWNUaHJlc2hvbGQ/OiBudW1iZXI7XG59XG5cbi8qKiBUb29sIHRvIHJldHJpZXZlIHB1YmxpYyB3ZWIgZGF0YSBmb3IgZ3JvdW5kaW5nLCBwb3dlcmVkIGJ5IEdvb2dsZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHb29nbGVTZWFyY2hSZXRyaWV2YWwge1xuICAvKiogU3BlY2lmaWVzIHRoZSBkeW5hbWljIHJldHJpZXZhbCBjb25maWd1cmF0aW9uIGZvciB0aGUgZ2l2ZW4gc291cmNlLiAqL1xuICBkeW5hbWljUmV0cmlldmFsQ29uZmlnPzogRHluYW1pY1JldHJpZXZhbENvbmZpZztcbn1cblxuLyoqIFRvb2wgdG8gc3VwcG9ydCBjb21wdXRlciB1c2UuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ29tcHV0ZXJVc2Uge1xuICAvKiogUmVxdWlyZWQuIFRoZSBlbnZpcm9ubWVudCBiZWluZyBvcGVyYXRlZC4gKi9cbiAgZW52aXJvbm1lbnQ/OiBFbnZpcm9ubWVudDtcbiAgLyoqIEJ5IGRlZmF1bHQsIHByZWRlZmluZWQgZnVuY3Rpb25zIGFyZSBpbmNsdWRlZCBpbiB0aGUgZmluYWwgbW9kZWwgY2FsbC5cbiAgICBTb21lIG9mIHRoZW0gY2FuIGJlIGV4cGxpY2l0bHkgZXhjbHVkZWQgZnJvbSBiZWluZyBhdXRvbWF0aWNhbGx5IGluY2x1ZGVkLlxuICAgIFRoaXMgY2FuIHNlcnZlIHR3byBwdXJwb3NlczpcbiAgICAgIDEuIFVzaW5nIGEgbW9yZSByZXN0cmljdGVkIC8gZGlmZmVyZW50IGFjdGlvbiBzcGFjZS5cbiAgICAgIDIuIEltcHJvdmluZyB0aGUgZGVmaW5pdGlvbnMgLyBpbnN0cnVjdGlvbnMgb2YgcHJlZGVmaW5lZCBmdW5jdGlvbnMuICovXG4gIGV4Y2x1ZGVkUHJlZGVmaW5lZEZ1bmN0aW9ucz86IHN0cmluZ1tdO1xufVxuXG4vKiogVG9vbCB0byByZXRyaWV2ZSBrbm93bGVkZ2UgZnJvbSB0aGUgRmlsZSBTZWFyY2ggU3RvcmVzLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEZpbGVTZWFyY2gge1xuICAvKiogVGhlIG5hbWVzIG9mIHRoZSBmaWxlX3NlYXJjaF9zdG9yZXMgdG8gcmV0cmlldmUgZnJvbS5cbiAgICAgIEV4YW1wbGU6IGBmaWxlU2VhcmNoU3RvcmVzL215LWZpbGUtc2VhcmNoLXN0b3JlLTEyM2AgKi9cbiAgZmlsZVNlYXJjaFN0b3JlTmFtZXM/OiBzdHJpbmdbXTtcbiAgLyoqIFRoZSBudW1iZXIgb2YgZmlsZSBzZWFyY2ggcmV0cmlldmFsIGNodW5rcyB0byByZXRyaWV2ZS4gKi9cbiAgdG9wSz86IG51bWJlcjtcbiAgLyoqIE1ldGFkYXRhIGZpbHRlciB0byBhcHBseSB0byB0aGUgZmlsZSBzZWFyY2ggcmV0cmlldmFsIGRvY3VtZW50cy4gU2VlIGh0dHBzOi8vZ29vZ2xlLmFpcC5kZXYvMTYwIGZvciB0aGUgc3ludGF4IG9mIHRoZSBmaWx0ZXIgZXhwcmVzc2lvbi4gKi9cbiAgbWV0YWRhdGFGaWx0ZXI/OiBzdHJpbmc7XG59XG5cbi8qKiBUaGUgQVBJIHNlY3JldC4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEFwaUF1dGhBcGlLZXlDb25maWcge1xuICAvKiogUmVxdWlyZWQuIFRoZSBTZWNyZXRNYW5hZ2VyIHNlY3JldCB2ZXJzaW9uIHJlc291cmNlIG5hbWUgc3RvcmluZyBBUEkga2V5LiBlLmcuIHByb2plY3RzL3twcm9qZWN0fS9zZWNyZXRzL3tzZWNyZXR9L3ZlcnNpb25zL3t2ZXJzaW9ufSAqL1xuICBhcGlLZXlTZWNyZXRWZXJzaW9uPzogc3RyaW5nO1xuICAvKiogVGhlIEFQSSBrZXkgc3RyaW5nLiBFaXRoZXIgdGhpcyBvciBgYXBpX2tleV9zZWNyZXRfdmVyc2lvbmAgbXVzdCBiZSBzZXQuICovXG4gIGFwaUtleVN0cmluZz86IHN0cmluZztcbn1cblxuLyoqIFRoZSBnZW5lcmljIHJldXNhYmxlIGFwaSBhdXRoIGNvbmZpZy4gRGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBBdXRoQ29uZmlnIChnb29nbGUvY2xvdWQvYWlwbGF0Zm9ybS9tYXN0ZXIvYXV0aC5wcm90bykgaW5zdGVhZC4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEFwaUF1dGgge1xuICAvKiogVGhlIEFQSSBzZWNyZXQuICovXG4gIGFwaUtleUNvbmZpZz86IEFwaUF1dGhBcGlLZXlDb25maWc7XG59XG5cbi8qKiBDb25maWcgZm9yIGF1dGhlbnRpY2F0aW9uIHdpdGggQVBJIGtleS4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEFwaUtleUNvbmZpZyB7XG4gIC8qKiBPcHRpb25hbC4gVGhlIG5hbWUgb2YgdGhlIFNlY3JldE1hbmFnZXIgc2VjcmV0IHZlcnNpb24gcmVzb3VyY2Ugc3RvcmluZyB0aGUgQVBJIGtleS4gRm9ybWF0OiBgcHJvamVjdHMve3Byb2plY3R9L3NlY3JldHMve3NlY3JldGV9L3ZlcnNpb25zL3t2ZXJzaW9ufWAgLSBJZiBib3RoIGBhcGlfa2V5X3NlY3JldGAgYW5kIGBhcGlfa2V5X3N0cmluZ2AgYXJlIHNwZWNpZmllZCwgdGhpcyBmaWVsZCB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYGFwaV9rZXlfc3RyaW5nYC4gLSBJZiBzcGVjaWZpZWQsIHRoZSBgc2VjcmV0bWFuYWdlci52ZXJzaW9ucy5hY2Nlc3NgIHBlcm1pc3Npb24gc2hvdWxkIGJlIGdyYW50ZWQgdG8gVmVydGV4IEFJIEV4dGVuc2lvbiBTZXJ2aWNlIEFnZW50IChodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2RvY3MvZ2VuZXJhbC9hY2Nlc3MtY29udHJvbCNzZXJ2aWNlLWFnZW50cykgb24gdGhlIHNwZWNpZmllZCByZXNvdXJjZS4gKi9cbiAgYXBpS2V5U2VjcmV0Pzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIFRoZSBBUEkga2V5IHRvIGJlIHVzZWQgaW4gdGhlIHJlcXVlc3QgZGlyZWN0bHkuICovXG4gIGFwaUtleVN0cmluZz86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBUaGUgbG9jYXRpb24gb2YgdGhlIEFQSSBrZXkuICovXG4gIGh0dHBFbGVtZW50TG9jYXRpb24/OiBIdHRwRWxlbWVudExvY2F0aW9uO1xuICAvKiogT3B0aW9uYWwuIFRoZSBwYXJhbWV0ZXIgbmFtZSBvZiB0aGUgQVBJIGtleS4gRS5nLiBJZiB0aGUgQVBJIHJlcXVlc3QgaXMgXCJodHRwczovL2V4YW1wbGUuY29tL2FjdD9hcGlfa2V5PVwiLCBcImFwaV9rZXlcIiB3b3VsZCBiZSB0aGUgcGFyYW1ldGVyIG5hbWUuICovXG4gIG5hbWU/OiBzdHJpbmc7XG59XG5cbi8qKiBDb25maWcgZm9yIEdvb2dsZSBTZXJ2aWNlIEFjY291bnQgQXV0aGVudGljYXRpb24uIFRoaXMgZGF0YSB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBBdXRoQ29uZmlnR29vZ2xlU2VydmljZUFjY291bnRDb25maWcge1xuICAvKiogT3B0aW9uYWwuIFRoZSBzZXJ2aWNlIGFjY291bnQgdGhhdCB0aGUgZXh0ZW5zaW9uIGV4ZWN1dGlvbiBzZXJ2aWNlIHJ1bnMgYXMuIC0gSWYgdGhlIHNlcnZpY2UgYWNjb3VudCBpcyBzcGVjaWZpZWQsIHRoZSBgaWFtLnNlcnZpY2VBY2NvdW50cy5nZXRBY2Nlc3NUb2tlbmAgcGVybWlzc2lvbiBzaG91bGQgYmUgZ3JhbnRlZCB0byBWZXJ0ZXggQUkgRXh0ZW5zaW9uIFNlcnZpY2UgQWdlbnQgKGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZG9jcy9nZW5lcmFsL2FjY2Vzcy1jb250cm9sI3NlcnZpY2UtYWdlbnRzKSBvbiB0aGUgc3BlY2lmaWVkIHNlcnZpY2UgYWNjb3VudC4gLSBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgVmVydGV4IEFJIEV4dGVuc2lvbiBTZXJ2aWNlIEFnZW50IHdpbGwgYmUgdXNlZCB0byBleGVjdXRlIHRoZSBFeHRlbnNpb24uICovXG4gIHNlcnZpY2VBY2NvdW50Pzogc3RyaW5nO1xufVxuXG4vKiogQ29uZmlnIGZvciBIVFRQIEJhc2ljIEF1dGhlbnRpY2F0aW9uLiBUaGlzIGRhdGEgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQXV0aENvbmZpZ0h0dHBCYXNpY0F1dGhDb25maWcge1xuICAvKiogUmVxdWlyZWQuIFRoZSBuYW1lIG9mIHRoZSBTZWNyZXRNYW5hZ2VyIHNlY3JldCB2ZXJzaW9uIHJlc291cmNlIHN0b3JpbmcgdGhlIGJhc2U2NCBlbmNvZGVkIGNyZWRlbnRpYWxzLiBGb3JtYXQ6IGBwcm9qZWN0cy97cHJvamVjdH0vc2VjcmV0cy97c2VjcmV0ZX0vdmVyc2lvbnMve3ZlcnNpb259YCAtIElmIHNwZWNpZmllZCwgdGhlIGBzZWNyZXRtYW5hZ2VyLnZlcnNpb25zLmFjY2Vzc2AgcGVybWlzc2lvbiBzaG91bGQgYmUgZ3JhbnRlZCB0byBWZXJ0ZXggQUkgRXh0ZW5zaW9uIFNlcnZpY2UgQWdlbnQgKGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZG9jcy9nZW5lcmFsL2FjY2Vzcy1jb250cm9sI3NlcnZpY2UtYWdlbnRzKSBvbiB0aGUgc3BlY2lmaWVkIHJlc291cmNlLiAqL1xuICBjcmVkZW50aWFsU2VjcmV0Pzogc3RyaW5nO1xufVxuXG4vKiogQ29uZmlnIGZvciB1c2VyIG9hdXRoLiBUaGlzIGRhdGEgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQXV0aENvbmZpZ09hdXRoQ29uZmlnIHtcbiAgLyoqIEFjY2VzcyB0b2tlbiBmb3IgZXh0ZW5zaW9uIGVuZHBvaW50LiBPbmx5IHVzZWQgdG8gcHJvcGFnYXRlIHRva2VuIGZyb20gW1tFeGVjdXRlRXh0ZW5zaW9uUmVxdWVzdC5ydW50aW1lX2F1dGhfY29uZmlnXV0gYXQgcmVxdWVzdCB0aW1lLiAqL1xuICBhY2Nlc3NUb2tlbj86IHN0cmluZztcbiAgLyoqIFRoZSBzZXJ2aWNlIGFjY291bnQgdXNlZCB0byBnZW5lcmF0ZSBhY2Nlc3MgdG9rZW5zIGZvciBleGVjdXRpbmcgdGhlIEV4dGVuc2lvbi4gLSBJZiB0aGUgc2VydmljZSBhY2NvdW50IGlzIHNwZWNpZmllZCwgdGhlIGBpYW0uc2VydmljZUFjY291bnRzLmdldEFjY2Vzc1Rva2VuYCBwZXJtaXNzaW9uIHNob3VsZCBiZSBncmFudGVkIHRvIFZlcnRleCBBSSBFeHRlbnNpb24gU2VydmljZSBBZ2VudCAoaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL3ZlcnRleC1haS9kb2NzL2dlbmVyYWwvYWNjZXNzLWNvbnRyb2wjc2VydmljZS1hZ2VudHMpIG9uIHRoZSBwcm92aWRlZCBzZXJ2aWNlIGFjY291bnQuICovXG4gIHNlcnZpY2VBY2NvdW50Pzogc3RyaW5nO1xufVxuXG4vKiogQ29uZmlnIGZvciB1c2VyIE9JREMgYXV0aC4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEF1dGhDb25maWdPaWRjQ29uZmlnIHtcbiAgLyoqIE9wZW5JRCBDb25uZWN0IGZvcm1hdHRlZCBJRCB0b2tlbiBmb3IgZXh0ZW5zaW9uIGVuZHBvaW50LiBPbmx5IHVzZWQgdG8gcHJvcGFnYXRlIHRva2VuIGZyb20gW1tFeGVjdXRlRXh0ZW5zaW9uUmVxdWVzdC5ydW50aW1lX2F1dGhfY29uZmlnXV0gYXQgcmVxdWVzdCB0aW1lLiAqL1xuICBpZFRva2VuPzogc3RyaW5nO1xuICAvKiogVGhlIHNlcnZpY2UgYWNjb3VudCB1c2VkIHRvIGdlbmVyYXRlIGFuIE9wZW5JRCBDb25uZWN0IChPSURDKS1jb21wYXRpYmxlIEpXVCB0b2tlbiBzaWduZWQgYnkgdGhlIEdvb2dsZSBPSURDIFByb3ZpZGVyIChhY2NvdW50cy5nb29nbGUuY29tKSBmb3IgZXh0ZW5zaW9uIGVuZHBvaW50IChodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vaWFtL2RvY3MvY3JlYXRlLXNob3J0LWxpdmVkLWNyZWRlbnRpYWxzLWRpcmVjdCNzYS1jcmVkZW50aWFscy1vaWRjKS4gLSBUaGUgYXVkaWVuY2UgZm9yIHRoZSB0b2tlbiB3aWxsIGJlIHNldCB0byB0aGUgVVJMIGluIHRoZSBzZXJ2ZXIgdXJsIGRlZmluZWQgaW4gdGhlIE9wZW5BcGkgc3BlYy4gLSBJZiB0aGUgc2VydmljZSBhY2NvdW50IGlzIHByb3ZpZGVkLCB0aGUgc2VydmljZSBhY2NvdW50IHNob3VsZCBncmFudCBgaWFtLnNlcnZpY2VBY2NvdW50cy5nZXRPcGVuSWRUb2tlbmAgcGVybWlzc2lvbiB0byBWZXJ0ZXggQUkgRXh0ZW5zaW9uIFNlcnZpY2UgQWdlbnQgKGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZG9jcy9nZW5lcmFsL2FjY2Vzcy1jb250cm9sI3NlcnZpY2UtYWdlbnRzKS4gKi9cbiAgc2VydmljZUFjY291bnQ/OiBzdHJpbmc7XG59XG5cbi8qKiBBdXRoIGNvbmZpZ3VyYXRpb24gdG8gcnVuIHRoZSBleHRlbnNpb24uIFRoaXMgZGF0YSB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBBdXRoQ29uZmlnIHtcbiAgLyoqIENvbmZpZyBmb3IgQVBJIGtleSBhdXRoLiAqL1xuICBhcGlLZXlDb25maWc/OiBBcGlLZXlDb25maWc7XG4gIC8qKiBUeXBlIG9mIGF1dGggc2NoZW1lLiAqL1xuICBhdXRoVHlwZT86IEF1dGhUeXBlO1xuICAvKiogQ29uZmlnIGZvciBHb29nbGUgU2VydmljZSBBY2NvdW50IGF1dGguICovXG4gIGdvb2dsZVNlcnZpY2VBY2NvdW50Q29uZmlnPzogQXV0aENvbmZpZ0dvb2dsZVNlcnZpY2VBY2NvdW50Q29uZmlnO1xuICAvKiogQ29uZmlnIGZvciBIVFRQIEJhc2ljIGF1dGguICovXG4gIGh0dHBCYXNpY0F1dGhDb25maWc/OiBBdXRoQ29uZmlnSHR0cEJhc2ljQXV0aENvbmZpZztcbiAgLyoqIENvbmZpZyBmb3IgdXNlciBvYXV0aC4gKi9cbiAgb2F1dGhDb25maWc/OiBBdXRoQ29uZmlnT2F1dGhDb25maWc7XG4gIC8qKiBDb25maWcgZm9yIHVzZXIgT0lEQyBhdXRoLiAqL1xuICBvaWRjQ29uZmlnPzogQXV0aENvbmZpZ09pZGNDb25maWc7XG59XG5cbi8qKiBUaGUgc2VhcmNoIHBhcmFtZXRlcnMgdG8gdXNlIGZvciB0aGUgRUxBU1RJQ19TRUFSQ0ggc3BlYy4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEV4dGVybmFsQXBpRWxhc3RpY1NlYXJjaFBhcmFtcyB7XG4gIC8qKiBUaGUgRWxhc3RpY1NlYXJjaCBpbmRleCB0byB1c2UuICovXG4gIGluZGV4Pzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIE51bWJlciBvZiBoaXRzIChjaHVua3MpIHRvIHJlcXVlc3QuIFdoZW4gc3BlY2lmaWVkLCBpdCBpcyBwYXNzZWQgdG8gRWxhc3RpY3NlYXJjaCBhcyB0aGUgYG51bV9oaXRzYCBwYXJhbS4gKi9cbiAgbnVtSGl0cz86IG51bWJlcjtcbiAgLyoqIFRoZSBFbGFzdGljU2VhcmNoIHNlYXJjaCB0ZW1wbGF0ZSB0byB1c2UuICovXG4gIHNlYXJjaFRlbXBsYXRlPzogc3RyaW5nO1xufVxuXG4vKiogVGhlIHNlYXJjaCBwYXJhbWV0ZXJzIHRvIHVzZSBmb3IgU0lNUExFX1NFQVJDSCBzcGVjLiBUaGlzIGRhdGEgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRXh0ZXJuYWxBcGlTaW1wbGVTZWFyY2hQYXJhbXMge31cblxuLyoqIFJldHJpZXZlIGZyb20gZGF0YSBzb3VyY2UgcG93ZXJlZCBieSBleHRlcm5hbCBBUEkgZm9yIGdyb3VuZGluZy4gVGhlIGV4dGVybmFsIEFQSSBpcyBub3Qgb3duZWQgYnkgR29vZ2xlLCBidXQgbmVlZCB0byBmb2xsb3cgdGhlIHByZS1kZWZpbmVkIEFQSSBzcGVjLiBUaGlzIGRhdGEgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRXh0ZXJuYWxBcGkge1xuICAvKiogVGhlIGF1dGhlbnRpY2F0aW9uIGNvbmZpZyB0byBhY2Nlc3MgdGhlIEFQSS4gRGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBhdXRoX2NvbmZpZyBpbnN0ZWFkLiAqL1xuICBhcGlBdXRoPzogQXBpQXV0aDtcbiAgLyoqIFRoZSBBUEkgc3BlYyB0aGF0IHRoZSBleHRlcm5hbCBBUEkgaW1wbGVtZW50cy4gKi9cbiAgYXBpU3BlYz86IEFwaVNwZWM7XG4gIC8qKiBUaGUgYXV0aGVudGljYXRpb24gY29uZmlnIHRvIGFjY2VzcyB0aGUgQVBJLiAqL1xuICBhdXRoQ29uZmlnPzogQXV0aENvbmZpZztcbiAgLyoqIFBhcmFtZXRlcnMgZm9yIHRoZSBlbGFzdGljIHNlYXJjaCBBUEkuICovXG4gIGVsYXN0aWNTZWFyY2hQYXJhbXM/OiBFeHRlcm5hbEFwaUVsYXN0aWNTZWFyY2hQYXJhbXM7XG4gIC8qKiBUaGUgZW5kcG9pbnQgb2YgdGhlIGV4dGVybmFsIEFQSS4gVGhlIHN5c3RlbSB3aWxsIGNhbGwgdGhlIEFQSSBhdCB0aGlzIGVuZHBvaW50IHRvIHJldHJpZXZlIHRoZSBkYXRhIGZvciBncm91bmRpbmcuIEV4YW1wbGU6IGh0dHBzOi8vYWNtZS5jb206NDQzL3NlYXJjaCAqL1xuICBlbmRwb2ludD86IHN0cmluZztcbiAgLyoqIFBhcmFtZXRlcnMgZm9yIHRoZSBzaW1wbGUgc2VhcmNoIEFQSS4gKi9cbiAgc2ltcGxlU2VhcmNoUGFyYW1zPzogRXh0ZXJuYWxBcGlTaW1wbGVTZWFyY2hQYXJhbXM7XG59XG5cbi8qKiBEZWZpbmUgZGF0YSBzdG9yZXMgd2l0aGluIGVuZ2luZSB0byBmaWx0ZXIgb24gaW4gYSBzZWFyY2ggY2FsbCBhbmQgY29uZmlndXJhdGlvbnMgZm9yIHRob3NlIGRhdGEgc3RvcmVzLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS9nZW5lcmF0aXZlLWFpLWFwcC1idWlsZGVyL2RvY3MvcmVmZXJlbmNlL3JwYy9nb29nbGUuY2xvdWQuZGlzY292ZXJ5ZW5naW5lLnYxI2RhdGFzdG9yZXNwZWMuIFRoaXMgZGF0YSB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBWZXJ0ZXhBSVNlYXJjaERhdGFTdG9yZVNwZWMge1xuICAvKiogRnVsbCByZXNvdXJjZSBuYW1lIG9mIERhdGFTdG9yZSwgc3VjaCBhcyBGb3JtYXQ6IGBwcm9qZWN0cy97cHJvamVjdH0vbG9jYXRpb25zL3tsb2NhdGlvbn0vY29sbGVjdGlvbnMve2NvbGxlY3Rpb259L2RhdGFTdG9yZXMve2RhdGFTdG9yZX1gICovXG4gIGRhdGFTdG9yZT86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBGaWx0ZXIgc3BlY2lmaWNhdGlvbiB0byBmaWx0ZXIgZG9jdW1lbnRzIGluIHRoZSBkYXRhIHN0b3JlIHNwZWNpZmllZCBieSBkYXRhX3N0b3JlIGZpZWxkLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBmaWx0ZXJpbmcsIHNlZSBbRmlsdGVyaW5nXShodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vZ2VuZXJhdGl2ZS1haS1hcHAtYnVpbGRlci9kb2NzL2ZpbHRlci1zZWFyY2gtbWV0YWRhdGEpICovXG4gIGZpbHRlcj86IHN0cmluZztcbn1cblxuLyoqIFJldHJpZXZlIGZyb20gVmVydGV4IEFJIFNlYXJjaCBkYXRhc3RvcmUgb3IgZW5naW5lIGZvciBncm91bmRpbmcuIGRhdGFzdG9yZSBhbmQgZW5naW5lIGFyZSBtdXR1YWxseSBleGNsdXNpdmUuIFNlZSBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vcHJvZHVjdHMvYWdlbnQtYnVpbGRlci4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFZlcnRleEFJU2VhcmNoIHtcbiAgLyoqIFNwZWNpZmljYXRpb25zIHRoYXQgZGVmaW5lIHRoZSBzcGVjaWZpYyBEYXRhU3RvcmVzIHRvIGJlIHNlYXJjaGVkLCBhbG9uZyB3aXRoIGNvbmZpZ3VyYXRpb25zIGZvciB0aG9zZSBkYXRhIHN0b3Jlcy4gVGhpcyBpcyBvbmx5IGNvbnNpZGVyZWQgZm9yIEVuZ2luZXMgd2l0aCBtdWx0aXBsZSBkYXRhIHN0b3Jlcy4gSXQgc2hvdWxkIG9ubHkgYmUgc2V0IGlmIGVuZ2luZSBpcyB1c2VkLiAqL1xuICBkYXRhU3RvcmVTcGVjcz86IFZlcnRleEFJU2VhcmNoRGF0YVN0b3JlU3BlY1tdO1xuICAvKiogT3B0aW9uYWwuIEZ1bGx5LXF1YWxpZmllZCBWZXJ0ZXggQUkgU2VhcmNoIGRhdGEgc3RvcmUgcmVzb3VyY2UgSUQuIEZvcm1hdDogYHByb2plY3RzL3twcm9qZWN0fS9sb2NhdGlvbnMve2xvY2F0aW9ufS9jb2xsZWN0aW9ucy97Y29sbGVjdGlvbn0vZGF0YVN0b3Jlcy97ZGF0YVN0b3JlfWAgKi9cbiAgZGF0YXN0b3JlPzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIEZ1bGx5LXF1YWxpZmllZCBWZXJ0ZXggQUkgU2VhcmNoIGVuZ2luZSByZXNvdXJjZSBJRC4gRm9ybWF0OiBgcHJvamVjdHMve3Byb2plY3R9L2xvY2F0aW9ucy97bG9jYXRpb259L2NvbGxlY3Rpb25zL3tjb2xsZWN0aW9ufS9lbmdpbmVzL3tlbmdpbmV9YCAqL1xuICBlbmdpbmU/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gRmlsdGVyIHN0cmluZ3MgdG8gYmUgcGFzc2VkIHRvIHRoZSBzZWFyY2ggQVBJLiAqL1xuICBmaWx0ZXI/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gTnVtYmVyIG9mIHNlYXJjaCByZXN1bHRzIHRvIHJldHVybiBwZXIgcXVlcnkuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEwLiBUaGUgbWF4aW11bW0gYWxsb3dlZCB2YWx1ZSBpcyAxMC4gKi9cbiAgbWF4UmVzdWx0cz86IG51bWJlcjtcbn1cblxuLyoqIFRoZSBkZWZpbml0aW9uIG9mIHRoZSBSYWcgcmVzb3VyY2UuIFRoaXMgZGF0YSB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBWZXJ0ZXhSYWdTdG9yZVJhZ1Jlc291cmNlIHtcbiAgLyoqIE9wdGlvbmFsLiBSYWdDb3Jwb3JhIHJlc291cmNlIG5hbWUuIEZvcm1hdDogYHByb2plY3RzL3twcm9qZWN0fS9sb2NhdGlvbnMve2xvY2F0aW9ufS9yYWdDb3Jwb3JhL3tyYWdfY29ycHVzfWAgKi9cbiAgcmFnQ29ycHVzPzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIHJhZ19maWxlX2lkLiBUaGUgZmlsZXMgc2hvdWxkIGJlIGluIHRoZSBzYW1lIHJhZ19jb3JwdXMgc2V0IGluIHJhZ19jb3JwdXMgZmllbGQuICovXG4gIHJhZ0ZpbGVJZHM/OiBzdHJpbmdbXTtcbn1cblxuLyoqIENvbmZpZyBmb3IgZmlsdGVycy4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFJhZ1JldHJpZXZhbENvbmZpZ0ZpbHRlciB7XG4gIC8qKiBPcHRpb25hbC4gU3RyaW5nIGZvciBtZXRhZGF0YSBmaWx0ZXJpbmcuICovXG4gIG1ldGFkYXRhRmlsdGVyPzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIE9ubHkgcmV0dXJucyBjb250ZXh0cyB3aXRoIHZlY3RvciBkaXN0YW5jZSBzbWFsbGVyIHRoYW4gdGhlIHRocmVzaG9sZC4gKi9cbiAgdmVjdG9yRGlzdGFuY2VUaHJlc2hvbGQ/OiBudW1iZXI7XG4gIC8qKiBPcHRpb25hbC4gT25seSByZXR1cm5zIGNvbnRleHRzIHdpdGggdmVjdG9yIHNpbWlsYXJpdHkgbGFyZ2VyIHRoYW4gdGhlIHRocmVzaG9sZC4gKi9cbiAgdmVjdG9yU2ltaWxhcml0eVRocmVzaG9sZD86IG51bWJlcjtcbn1cblxuLyoqIENvbmZpZyBmb3IgSHlicmlkIFNlYXJjaC4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFJhZ1JldHJpZXZhbENvbmZpZ0h5YnJpZFNlYXJjaCB7XG4gIC8qKiBPcHRpb25hbC4gQWxwaGEgdmFsdWUgY29udHJvbHMgdGhlIHdlaWdodCBiZXR3ZWVuIGRlbnNlIGFuZCBzcGFyc2UgdmVjdG9yIHNlYXJjaCByZXN1bHRzLiBUaGUgcmFuZ2UgaXMgWzAsIDFdLCB3aGlsZSAwIG1lYW5zIHNwYXJzZSB2ZWN0b3Igc2VhcmNoIG9ubHkgYW5kIDEgbWVhbnMgZGVuc2UgdmVjdG9yIHNlYXJjaCBvbmx5LiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAwLjUgd2hpY2ggYmFsYW5jZXMgc3BhcnNlIGFuZCBkZW5zZSB2ZWN0b3Igc2VhcmNoIGVxdWFsbHkuICovXG4gIGFscGhhPzogbnVtYmVyO1xufVxuXG4vKiogQ29uZmlnIGZvciBMbG1SYW5rZXIuIFRoaXMgZGF0YSB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBSYWdSZXRyaWV2YWxDb25maWdSYW5raW5nTGxtUmFua2VyIHtcbiAgLyoqIE9wdGlvbmFsLiBUaGUgbW9kZWwgbmFtZSB1c2VkIGZvciByYW5raW5nLiBTZWUgW1N1cHBvcnRlZCBtb2RlbHNdKGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZ2VuZXJhdGl2ZS1haS9kb2NzL21vZGVsLXJlZmVyZW5jZS9pbmZlcmVuY2Ujc3VwcG9ydGVkLW1vZGVscykuICovXG4gIG1vZGVsTmFtZT86IHN0cmluZztcbn1cblxuLyoqIENvbmZpZyBmb3IgUmFuayBTZXJ2aWNlLiBUaGlzIGRhdGEgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgUmFnUmV0cmlldmFsQ29uZmlnUmFua2luZ1JhbmtTZXJ2aWNlIHtcbiAgLyoqIE9wdGlvbmFsLiBUaGUgbW9kZWwgbmFtZSBvZiB0aGUgcmFuayBzZXJ2aWNlLiBGb3JtYXQ6IGBzZW1hbnRpYy1yYW5rZXItNTEyQGxhdGVzdGAgKi9cbiAgbW9kZWxOYW1lPzogc3RyaW5nO1xufVxuXG4vKiogQ29uZmlnIGZvciByYW5raW5nIGFuZCByZXJhbmtpbmcuIFRoaXMgZGF0YSB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBSYWdSZXRyaWV2YWxDb25maWdSYW5raW5nIHtcbiAgLyoqIE9wdGlvbmFsLiBDb25maWcgZm9yIExsbVJhbmtlci4gKi9cbiAgbGxtUmFua2VyPzogUmFnUmV0cmlldmFsQ29uZmlnUmFua2luZ0xsbVJhbmtlcjtcbiAgLyoqIE9wdGlvbmFsLiBDb25maWcgZm9yIFJhbmsgU2VydmljZS4gKi9cbiAgcmFua1NlcnZpY2U/OiBSYWdSZXRyaWV2YWxDb25maWdSYW5raW5nUmFua1NlcnZpY2U7XG59XG5cbi8qKiBTcGVjaWZpZXMgdGhlIGNvbnRleHQgcmV0cmlldmFsIGNvbmZpZy4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFJhZ1JldHJpZXZhbENvbmZpZyB7XG4gIC8qKiBPcHRpb25hbC4gQ29uZmlnIGZvciBmaWx0ZXJzLiAqL1xuICBmaWx0ZXI/OiBSYWdSZXRyaWV2YWxDb25maWdGaWx0ZXI7XG4gIC8qKiBPcHRpb25hbC4gQ29uZmlnIGZvciBIeWJyaWQgU2VhcmNoLiAqL1xuICBoeWJyaWRTZWFyY2g/OiBSYWdSZXRyaWV2YWxDb25maWdIeWJyaWRTZWFyY2g7XG4gIC8qKiBPcHRpb25hbC4gQ29uZmlnIGZvciByYW5raW5nIGFuZCByZXJhbmtpbmcuICovXG4gIHJhbmtpbmc/OiBSYWdSZXRyaWV2YWxDb25maWdSYW5raW5nO1xuICAvKiogT3B0aW9uYWwuIFRoZSBudW1iZXIgb2YgY29udGV4dHMgdG8gcmV0cmlldmUuICovXG4gIHRvcEs/OiBudW1iZXI7XG59XG5cbi8qKiBSZXRyaWV2ZSBmcm9tIFZlcnRleCBSQUcgU3RvcmUgZm9yIGdyb3VuZGluZy4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFZlcnRleFJhZ1N0b3JlIHtcbiAgLyoqIE9wdGlvbmFsLiBEZXByZWNhdGVkLiBQbGVhc2UgdXNlIHJhZ19yZXNvdXJjZXMgaW5zdGVhZC4gKi9cbiAgcmFnQ29ycG9yYT86IHN0cmluZ1tdO1xuICAvKiogT3B0aW9uYWwuIFRoZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgcmFnIHNvdXJjZS4gSXQgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSBjb3JwdXMgb25seSBvciByYWdmaWxlcy4gQ3VycmVudGx5IG9ubHkgc3VwcG9ydCBvbmUgY29ycHVzIG9yIG11bHRpcGxlIGZpbGVzIGZyb20gb25lIGNvcnB1cy4gSW4gdGhlIGZ1dHVyZSB3ZSBtYXkgb3BlbiB1cCBtdWx0aXBsZSBjb3Jwb3JhIHN1cHBvcnQuICovXG4gIHJhZ1Jlc291cmNlcz86IFZlcnRleFJhZ1N0b3JlUmFnUmVzb3VyY2VbXTtcbiAgLyoqIE9wdGlvbmFsLiBUaGUgcmV0cmlldmFsIGNvbmZpZyBmb3IgdGhlIFJhZyBxdWVyeS4gKi9cbiAgcmFnUmV0cmlldmFsQ29uZmlnPzogUmFnUmV0cmlldmFsQ29uZmlnO1xuICAvKiogT3B0aW9uYWwuIE51bWJlciBvZiB0b3AgayByZXN1bHRzIHRvIHJldHVybiBmcm9tIHRoZSBzZWxlY3RlZCBjb3Jwb3JhLiAqL1xuICBzaW1pbGFyaXR5VG9wSz86IG51bWJlcjtcbiAgLyoqIE9wdGlvbmFsLiBDdXJyZW50bHkgb25seSBzdXBwb3J0ZWQgZm9yIEdlbWluaSBNdWx0aW1vZGFsIExpdmUgQVBJLiBJbiBHZW1pbmkgTXVsdGltb2RhbCBMaXZlIEFQSSwgaWYgYHN0b3JlX2NvbnRleHRgIGJvb2wgaXMgc3BlY2lmaWVkLCBHZW1pbmkgd2lsbCBsZXZlcmFnZSBpdCB0byBhdXRvbWF0aWNhbGx5IG1lbW9yaXplIHRoZSBpbnRlcmFjdGlvbnMgYmV0d2VlbiB0aGUgY2xpZW50IGFuZCBHZW1pbmksIGFuZCByZXRyaWV2ZSBjb250ZXh0IHdoZW4gbmVlZGVkIHRvIGF1Z21lbnQgdGhlIHJlc3BvbnNlIGdlbmVyYXRpb24gZm9yIHVzZXJzJyBvbmdvaW5nIGFuZCBmdXR1cmUgaW50ZXJhY3Rpb25zLiAqL1xuICBzdG9yZUNvbnRleHQ/OiBib29sZWFuO1xuICAvKiogT3B0aW9uYWwuIE9ubHkgcmV0dXJuIHJlc3VsdHMgd2l0aCB2ZWN0b3IgZGlzdGFuY2Ugc21hbGxlciB0aGFuIHRoZSB0aHJlc2hvbGQuICovXG4gIHZlY3RvckRpc3RhbmNlVGhyZXNob2xkPzogbnVtYmVyO1xufVxuXG4vKiogRGVmaW5lcyBhIHJldHJpZXZhbCB0b29sIHRoYXQgbW9kZWwgY2FuIGNhbGwgdG8gYWNjZXNzIGV4dGVybmFsIGtub3dsZWRnZS4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFJldHJpZXZhbCB7XG4gIC8qKiBPcHRpb25hbC4gRGVwcmVjYXRlZC4gVGhpcyBvcHRpb24gaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC4gKi9cbiAgZGlzYWJsZUF0dHJpYnV0aW9uPzogYm9vbGVhbjtcbiAgLyoqIFVzZSBkYXRhIHNvdXJjZSBwb3dlcmVkIGJ5IGV4dGVybmFsIEFQSSBmb3IgZ3JvdW5kaW5nLiAqL1xuICBleHRlcm5hbEFwaT86IEV4dGVybmFsQXBpO1xuICAvKiogU2V0IHRvIHVzZSBkYXRhIHNvdXJjZSBwb3dlcmVkIGJ5IFZlcnRleCBBSSBTZWFyY2guICovXG4gIHZlcnRleEFpU2VhcmNoPzogVmVydGV4QUlTZWFyY2g7XG4gIC8qKiBTZXQgdG8gdXNlIGRhdGEgc291cmNlIHBvd2VyZWQgYnkgVmVydGV4IFJBRyBzdG9yZS4gVXNlciBkYXRhIGlzIHVwbG9hZGVkIHZpYSB0aGUgVmVydGV4UmFnRGF0YVNlcnZpY2UuICovXG4gIHZlcnRleFJhZ1N0b3JlPzogVmVydGV4UmFnU3RvcmU7XG59XG5cbi8qKiBUb29sIHRoYXQgZXhlY3V0ZXMgY29kZSBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLCBhbmQgYXV0b21hdGljYWxseSByZXR1cm5zIHRoZSByZXN1bHQgdG8gdGhlIG1vZGVsLiBTZWUgYWxzbyBbRXhlY3V0YWJsZUNvZGVdYW5kIFtDb2RlRXhlY3V0aW9uUmVzdWx0XSB3aGljaCBhcmUgaW5wdXQgYW5kIG91dHB1dCB0byB0aGlzIHRvb2wuIFRoaXMgZGF0YSB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBUb29sQ29kZUV4ZWN1dGlvbiB7fVxuXG4vKiogVG9vbCB0byBzZWFyY2ggcHVibGljIHdlYiBkYXRhLCBwb3dlcmVkIGJ5IFZlcnRleCBBSSBTZWFyY2ggYW5kIFNlYzQgY29tcGxpYW5jZS4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEVudGVycHJpc2VXZWJTZWFyY2gge1xuICAvKiogT3B0aW9uYWwuIExpc3Qgb2YgZG9tYWlucyB0byBiZSBleGNsdWRlZCBmcm9tIHRoZSBzZWFyY2ggcmVzdWx0cy4gVGhlIGRlZmF1bHQgbGltaXQgaXMgMjAwMCBkb21haW5zLiAqL1xuICBleGNsdWRlRG9tYWlucz86IHN0cmluZ1tdO1xuICAvKiogT3B0aW9uYWwuIFNpdGVzIHdpdGggY29uZmlkZW5jZSBsZXZlbCBjaG9zZW4gJiBhYm92ZSB0aGlzIHZhbHVlIHdpbGwgYmUgYmxvY2tlZCBmcm9tIHRoZSBzZWFyY2ggcmVzdWx0cy4gKi9cbiAgYmxvY2tpbmdDb25maWRlbmNlPzogUGhpc2hCbG9ja1RocmVzaG9sZDtcbn1cblxuLyoqIFRvb2wgdG8gcmV0cmlldmUgcHVibGljIG1hcHMgZGF0YSBmb3IgZ3JvdW5kaW5nLCBwb3dlcmVkIGJ5IEdvb2dsZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHb29nbGVNYXBzIHtcbiAgLyoqIFRoZSBhdXRoZW50aWNhdGlvbiBjb25maWcgdG8gYWNjZXNzIHRoZSBBUEkuIE9ubHkgQVBJIGtleSBpcyBzdXBwb3J0ZWQuIFRoaXMgZmllbGQgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuICBhdXRoQ29uZmlnPzogQXV0aENvbmZpZztcbiAgLyoqIE9wdGlvbmFsLiBJZiB0cnVlLCBpbmNsdWRlIHRoZSB3aWRnZXQgY29udGV4dCB0b2tlbiBpbiB0aGUgcmVzcG9uc2UuICovXG4gIGVuYWJsZVdpZGdldD86IGJvb2xlYW47XG59XG5cbi8qKiBSZXByZXNlbnRzIGEgdGltZSBpbnRlcnZhbCwgZW5jb2RlZCBhcyBhIFRpbWVzdGFtcCBzdGFydCAoaW5jbHVzaXZlKSBhbmQgYSBUaW1lc3RhbXAgZW5kIChleGNsdXNpdmUpLiBUaGUgc3RhcnQgbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIGVuZC4gV2hlbiB0aGUgc3RhcnQgZXF1YWxzIHRoZSBlbmQsIHRoZSBpbnRlcnZhbCBpcyBlbXB0eSAobWF0Y2hlcyBubyB0aW1lKS4gV2hlbiBib3RoIHN0YXJ0IGFuZCBlbmQgYXJlIHVuc3BlY2lmaWVkLCB0aGUgaW50ZXJ2YWwgbWF0Y2hlcyBhbnkgdGltZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBJbnRlcnZhbCB7XG4gIC8qKiBPcHRpb25hbC4gRXhjbHVzaXZlIGVuZCBvZiB0aGUgaW50ZXJ2YWwuIElmIHNwZWNpZmllZCwgYSBUaW1lc3RhbXAgbWF0Y2hpbmcgdGhpcyBpbnRlcnZhbCB3aWxsIGhhdmUgdG8gYmUgYmVmb3JlIHRoZSBlbmQuICovXG4gIGVuZFRpbWU/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gSW5jbHVzaXZlIHN0YXJ0IG9mIHRoZSBpbnRlcnZhbC4gSWYgc3BlY2lmaWVkLCBhIFRpbWVzdGFtcCBtYXRjaGluZyB0aGlzIGludGVydmFsIHdpbGwgaGF2ZSB0byBiZSB0aGUgc2FtZSBvciBhZnRlciB0aGUgc3RhcnQuICovXG4gIHN0YXJ0VGltZT86IHN0cmluZztcbn1cblxuLyoqIEdvb2dsZVNlYXJjaCB0b29sIHR5cGUuIFRvb2wgdG8gc3VwcG9ydCBHb29nbGUgU2VhcmNoIGluIE1vZGVsLiBQb3dlcmVkIGJ5IEdvb2dsZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHb29nbGVTZWFyY2gge1xuICAvKiogT3B0aW9uYWwuIExpc3Qgb2YgZG9tYWlucyB0byBiZSBleGNsdWRlZCBmcm9tIHRoZSBzZWFyY2ggcmVzdWx0cy4gVGhlIGRlZmF1bHQgbGltaXQgaXMgMjAwMCBkb21haW5zLiBFeGFtcGxlOiBbXCJhbWF6b24uY29tXCIsIFwiZmFjZWJvb2suY29tXCJdLiBUaGlzIGZpZWxkIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbiAgZXhjbHVkZURvbWFpbnM/OiBzdHJpbmdbXTtcbiAgLyoqIE9wdGlvbmFsLiBTaXRlcyB3aXRoIGNvbmZpZGVuY2UgbGV2ZWwgY2hvc2VuICYgYWJvdmUgdGhpcyB2YWx1ZSB3aWxsIGJlIGJsb2NrZWQgZnJvbSB0aGUgc2VhcmNoIHJlc3VsdHMuIFRoaXMgZmllbGQgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuICBibG9ja2luZ0NvbmZpZGVuY2U/OiBQaGlzaEJsb2NrVGhyZXNob2xkO1xuICAvKiogT3B0aW9uYWwuIEZpbHRlciBzZWFyY2ggcmVzdWx0cyB0byBhIHNwZWNpZmljIHRpbWUgcmFuZ2UuIElmIGN1c3RvbWVycyBzZXQgYSBzdGFydCB0aW1lLCB0aGV5IG11c3Qgc2V0IGFuIGVuZCB0aW1lIChhbmQgdmljZSB2ZXJzYSkuIFRoaXMgZmllbGQgaXMgbm90IHN1cHBvcnRlZCBpbiBWZXJ0ZXggQUkuICovXG4gIHRpbWVSYW5nZUZpbHRlcj86IEludGVydmFsO1xufVxuXG4vKiogVG9vbCB0byBzdXBwb3J0IFVSTCBjb250ZXh0LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFVybENvbnRleHQge31cblxuLyoqIFRvb2wgZGV0YWlscyBvZiBhIHRvb2wgdGhhdCB0aGUgbW9kZWwgbWF5IHVzZSB0byBnZW5lcmF0ZSBhIHJlc3BvbnNlLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFRvb2wge1xuICAvKiogTGlzdCBvZiBmdW5jdGlvbiBkZWNsYXJhdGlvbnMgdGhhdCB0aGUgdG9vbCBzdXBwb3J0cy4gKi9cbiAgZnVuY3Rpb25EZWNsYXJhdGlvbnM/OiBGdW5jdGlvbkRlY2xhcmF0aW9uW107XG4gIC8qKiBPcHRpb25hbC4gUmV0cmlldmFsIHRvb2wgdHlwZS4gU3lzdGVtIHdpbGwgYWx3YXlzIGV4ZWN1dGUgdGhlIHByb3ZpZGVkIHJldHJpZXZhbCB0b29sKHMpIHRvIGdldCBleHRlcm5hbCBrbm93bGVkZ2UgdG8gYW5zd2VyIHRoZSBwcm9tcHQuIFJldHJpZXZhbCByZXN1bHRzIGFyZSBwcmVzZW50ZWQgdG8gdGhlIG1vZGVsIGZvciBnZW5lcmF0aW9uLiBUaGlzIGZpZWxkIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbiAgcmV0cmlldmFsPzogUmV0cmlldmFsO1xuICAvKiogT3B0aW9uYWwuIFNwZWNpYWxpemVkIHJldHJpZXZhbCB0b29sIHRoYXQgaXMgcG93ZXJlZCBieSBHb29nbGUgU2VhcmNoLiAqL1xuICBnb29nbGVTZWFyY2hSZXRyaWV2YWw/OiBHb29nbGVTZWFyY2hSZXRyaWV2YWw7XG4gIC8qKiBPcHRpb25hbC4gVG9vbCB0byBzdXBwb3J0IHRoZSBtb2RlbCBpbnRlcmFjdGluZyBkaXJlY3RseSB3aXRoIHRoZVxuICAgICAgY29tcHV0ZXIuIElmIGVuYWJsZWQsIGl0IGF1dG9tYXRpY2FsbHkgcG9wdWxhdGVzIGNvbXB1dGVyLXVzZSBzcGVjaWZpY1xuICAgICAgRnVuY3Rpb24gRGVjbGFyYXRpb25zLiAqL1xuICBjb21wdXRlclVzZT86IENvbXB1dGVyVXNlO1xuICAvKiogT3B0aW9uYWwuIFRvb2wgdG8gcmV0cmlldmUga25vd2xlZGdlIGZyb20gdGhlIEZpbGUgU2VhcmNoIFN0b3Jlcy4gKi9cbiAgZmlsZVNlYXJjaD86IEZpbGVTZWFyY2g7XG4gIC8qKiBPcHRpb25hbC4gQ29kZUV4ZWN1dGlvbiB0b29sIHR5cGUuIEVuYWJsZXMgdGhlIG1vZGVsIHRvIGV4ZWN1dGUgY29kZSBhcyBwYXJ0IG9mIGdlbmVyYXRpb24uICovXG4gIGNvZGVFeGVjdXRpb24/OiBUb29sQ29kZUV4ZWN1dGlvbjtcbiAgLyoqIE9wdGlvbmFsLiBUb29sIHRvIHN1cHBvcnQgc2VhcmNoaW5nIHB1YmxpYyB3ZWIgZGF0YSwgcG93ZXJlZCBieSBWZXJ0ZXggQUkgU2VhcmNoIGFuZCBTZWM0IGNvbXBsaWFuY2UuIFRoaXMgZmllbGQgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuICBlbnRlcnByaXNlV2ViU2VhcmNoPzogRW50ZXJwcmlzZVdlYlNlYXJjaDtcbiAgLyoqIE9wdGlvbmFsLiBHb29nbGVNYXBzIHRvb2wgdHlwZS4gVG9vbCB0byBzdXBwb3J0IEdvb2dsZSBNYXBzIGluIE1vZGVsLiAqL1xuICBnb29nbGVNYXBzPzogR29vZ2xlTWFwcztcbiAgLyoqIE9wdGlvbmFsLiBHb29nbGVTZWFyY2ggdG9vbCB0eXBlLiBUb29sIHRvIHN1cHBvcnQgR29vZ2xlIFNlYXJjaCBpbiBNb2RlbC4gUG93ZXJlZCBieSBHb29nbGUuICovXG4gIGdvb2dsZVNlYXJjaD86IEdvb2dsZVNlYXJjaDtcbiAgLyoqIE9wdGlvbmFsLiBUb29sIHRvIHN1cHBvcnQgVVJMIGNvbnRleHQgcmV0cmlldmFsLiAqL1xuICB1cmxDb250ZXh0PzogVXJsQ29udGV4dDtcbn1cblxuLyoqIEZ1bmN0aW9uIGNhbGxpbmcgY29uZmlnLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEZ1bmN0aW9uQ2FsbGluZ0NvbmZpZyB7XG4gIC8qKiBPcHRpb25hbC4gRnVuY3Rpb24gY2FsbGluZyBtb2RlLiAqL1xuICBtb2RlPzogRnVuY3Rpb25DYWxsaW5nQ29uZmlnTW9kZTtcbiAgLyoqIE9wdGlvbmFsLiBGdW5jdGlvbiBuYW1lcyB0byBjYWxsLiBPbmx5IHNldCB3aGVuIHRoZSBNb2RlIGlzIEFOWS4gRnVuY3Rpb24gbmFtZXMgc2hvdWxkIG1hdGNoIFtGdW5jdGlvbkRlY2xhcmF0aW9uLm5hbWVdLiBXaXRoIG1vZGUgc2V0IHRvIEFOWSwgbW9kZWwgd2lsbCBwcmVkaWN0IGEgZnVuY3Rpb24gY2FsbCBmcm9tIHRoZSBzZXQgb2YgZnVuY3Rpb24gbmFtZXMgcHJvdmlkZWQuICovXG4gIGFsbG93ZWRGdW5jdGlvbk5hbWVzPzogc3RyaW5nW107XG4gIC8qKiBPcHRpb25hbC4gV2hlbiBzZXQgdG8gdHJ1ZSwgYXJndW1lbnRzIG9mIGEgc2luZ2xlIGZ1bmN0aW9uIGNhbGwgd2lsbCBiZSBzdHJlYW1lZCBvdXQgaW4gbXVsdGlwbGUgcGFydHMvY29udGVudHMvcmVzcG9uc2VzLiBQYXJ0aWFsIHBhcmFtZXRlciByZXN1bHRzIHdpbGwgYmUgcmV0dXJuZWQgaW4gdGhlIFtGdW5jdGlvbkNhbGwucGFydGlhbF9hcmdzXSBmaWVsZC4gVGhpcyBmaWVsZCBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG4gIHN0cmVhbUZ1bmN0aW9uQ2FsbEFyZ3VtZW50cz86IGJvb2xlYW47XG59XG5cbi8qKiBBbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIGEgbGF0aXR1ZGUvbG9uZ2l0dWRlIHBhaXIuXG5cblRoaXMgaXMgZXhwcmVzc2VkIGFzIGEgcGFpciBvZiBkb3VibGVzIHRvIHJlcHJlc2VudCBkZWdyZWVzIGxhdGl0dWRlIGFuZFxuZGVncmVlcyBsb25naXR1ZGUuIFVubGVzcyBzcGVjaWZpZWQgb3RoZXJ3aXNlLCB0aGlzIG9iamVjdCBtdXN0IGNvbmZvcm0gdG8gdGhlXG48YSBocmVmPVwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvV29ybGRfR2VvZGV0aWNfU3lzdGVtIzE5ODRfdmVyc2lvblwiPlxuV0dTODQgc3RhbmRhcmQ8L2E+LiBWYWx1ZXMgbXVzdCBiZSB3aXRoaW4gbm9ybWFsaXplZCByYW5nZXMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGF0TG5nIHtcbiAgLyoqIFRoZSBsYXRpdHVkZSBpbiBkZWdyZWVzLiBJdCBtdXN0IGJlIGluIHRoZSByYW5nZSBbLTkwLjAsICs5MC4wXS4gKi9cbiAgbGF0aXR1ZGU/OiBudW1iZXI7XG4gIC8qKiBUaGUgbG9uZ2l0dWRlIGluIGRlZ3JlZXMuIEl0IG11c3QgYmUgaW4gdGhlIHJhbmdlIFstMTgwLjAsICsxODAuMF0gKi9cbiAgbG9uZ2l0dWRlPzogbnVtYmVyO1xufVxuXG4vKiogUmV0cmlldmFsIGNvbmZpZy5cbiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFJldHJpZXZhbENvbmZpZyB7XG4gIC8qKiBPcHRpb25hbC4gVGhlIGxvY2F0aW9uIG9mIHRoZSB1c2VyLiAqL1xuICBsYXRMbmc/OiBMYXRMbmc7XG4gIC8qKiBUaGUgbGFuZ3VhZ2UgY29kZSBvZiB0aGUgdXNlci4gKi9cbiAgbGFuZ3VhZ2VDb2RlPzogc3RyaW5nO1xufVxuXG4vKiogVG9vbCBjb25maWcuXG5cblRoaXMgY29uZmlnIGlzIHNoYXJlZCBmb3IgYWxsIHRvb2xzIHByb3ZpZGVkIGluIHRoZSByZXF1ZXN0LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFRvb2xDb25maWcge1xuICAvKiogT3B0aW9uYWwuIEZ1bmN0aW9uIGNhbGxpbmcgY29uZmlnLiAqL1xuICBmdW5jdGlvbkNhbGxpbmdDb25maWc/OiBGdW5jdGlvbkNhbGxpbmdDb25maWc7XG4gIC8qKiBPcHRpb25hbC4gUmV0cmlldmFsIGNvbmZpZy4gKi9cbiAgcmV0cmlldmFsQ29uZmlnPzogUmV0cmlldmFsQ29uZmlnO1xufVxuXG4vKiogUmVwbGljYXRlZFZvaWNlQ29uZmlnIGlzIHVzZWQgdG8gY29uZmlndXJlIHJlcGxpY2F0ZWQgdm9pY2UuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgUmVwbGljYXRlZFZvaWNlQ29uZmlnIHtcbiAgLyoqIFRoZSBtaW1lIHR5cGUgb2YgdGhlIHJlcGxpY2F0ZWQgdm9pY2UuXG4gICAqL1xuICBtaW1lVHlwZT86IHN0cmluZztcbiAgLyoqIFRoZSBzYW1wbGUgYXVkaW8gb2YgdGhlIHJlcGxpY2F0ZWQgdm9pY2UuXG4gICAgICBcbiAgKiBAcmVtYXJrcyBFbmNvZGVkIGFzIGJhc2U2NCBzdHJpbmcuICovXG4gIHZvaWNlU2FtcGxlQXVkaW8/OiBzdHJpbmc7XG59XG5cbi8qKiBUaGUgY29uZmlndXJhdGlvbiBmb3IgdGhlIHByZWJ1aWx0IHNwZWFrZXIgdG8gdXNlLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFByZWJ1aWx0Vm9pY2VDb25maWcge1xuICAvKiogVGhlIG5hbWUgb2YgdGhlIHByZXNldCB2b2ljZSB0byB1c2UuICovXG4gIHZvaWNlTmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFZvaWNlQ29uZmlnIHtcbiAgLyoqIElmIHRydWUsIHRoZSBtb2RlbCB3aWxsIHVzZSBhIHJlcGxpY2F0ZWQgdm9pY2UgZm9yIHRoZSByZXNwb25zZS4gKi9cbiAgcmVwbGljYXRlZFZvaWNlQ29uZmlnPzogUmVwbGljYXRlZFZvaWNlQ29uZmlnO1xuICAvKiogVGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBwcmVidWlsdCB2b2ljZSB0byB1c2UuICovXG4gIHByZWJ1aWx0Vm9pY2VDb25maWc/OiBQcmVidWlsdFZvaWNlQ29uZmlnO1xufVxuXG4vKiogQ29uZmlndXJhdGlvbiBmb3IgYSBzaW5nbGUgc3BlYWtlciBpbiBhIG11bHRpIHNwZWFrZXIgc2V0dXAuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgU3BlYWtlclZvaWNlQ29uZmlnIHtcbiAgLyoqIFJlcXVpcmVkLiBUaGUgbmFtZSBvZiB0aGUgc3BlYWtlci4gVGhpcyBzaG91bGQgYmUgdGhlIHNhbWUgYXMgdGhlIHNwZWFrZXIgbmFtZSB1c2VkIGluIHRoZSBwcm9tcHQuICovXG4gIHNwZWFrZXI/OiBzdHJpbmc7XG4gIC8qKiBSZXF1aXJlZC4gVGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSB2b2ljZSBvZiB0aGlzIHNwZWFrZXIuICovXG4gIHZvaWNlQ29uZmlnPzogVm9pY2VDb25maWc7XG59XG5cbi8qKiBDb25maWd1cmF0aW9uIGZvciBhIG11bHRpLXNwZWFrZXIgdGV4dC10by1zcGVlY2ggcmVxdWVzdC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBNdWx0aVNwZWFrZXJWb2ljZUNvbmZpZyB7XG4gIC8qKiBSZXF1aXJlZC4gQSBsaXN0IG9mIGNvbmZpZ3VyYXRpb25zIGZvciB0aGUgdm9pY2VzIG9mIHRoZSBzcGVha2Vycy4gRXhhY3RseSB0d28gc3BlYWtlciB2b2ljZSBjb25maWd1cmF0aW9ucyBtdXN0IGJlIHByb3ZpZGVkLiAqL1xuICBzcGVha2VyVm9pY2VDb25maWdzPzogU3BlYWtlclZvaWNlQ29uZmlnW107XG59XG5cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBTcGVlY2hDb25maWcge1xuICAvKiogQ29uZmlndXJhdGlvbiBmb3IgdGhlIHZvaWNlIG9mIHRoZSByZXNwb25zZS4gKi9cbiAgdm9pY2VDb25maWc/OiBWb2ljZUNvbmZpZztcbiAgLyoqIE9wdGlvbmFsLiBMYW5ndWFnZSBjb2RlIChJU08gNjM5LiBlLmcuIGVuLVVTKSBmb3IgdGhlIHNwZWVjaCBzeW50aGVzaXphdGlvbi4gKi9cbiAgbGFuZ3VhZ2VDb2RlPzogc3RyaW5nO1xuICAvKiogVGhlIGNvbmZpZ3VyYXRpb24gZm9yIGEgbXVsdGktc3BlYWtlciB0ZXh0LXRvLXNwZWVjaCByZXF1ZXN0LiBUaGlzIGZpZWxkIGlzIG11dHVhbGx5IGV4Y2x1c2l2ZSB3aXRoIGB2b2ljZV9jb25maWdgLiAqL1xuICBtdWx0aVNwZWFrZXJWb2ljZUNvbmZpZz86IE11bHRpU3BlYWtlclZvaWNlQ29uZmlnO1xufVxuXG4vKiogVGhlIGNvbmZpZ3VyYXRpb24gZm9yIGF1dG9tYXRpYyBmdW5jdGlvbiBjYWxsaW5nLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEF1dG9tYXRpY0Z1bmN0aW9uQ2FsbGluZ0NvbmZpZyB7XG4gIC8qKiBXaGV0aGVyIHRvIGRpc2FibGUgYXV0b21hdGljIGZ1bmN0aW9uIGNhbGxpbmcuXG4gICAgICBJZiBub3Qgc2V0IG9yIHNldCB0byBGYWxzZSwgd2lsbCBlbmFibGUgYXV0b21hdGljIGZ1bmN0aW9uIGNhbGxpbmcuXG4gICAgICBJZiBzZXQgdG8gVHJ1ZSwgd2lsbCBkaXNhYmxlIGF1dG9tYXRpYyBmdW5jdGlvbiBjYWxsaW5nLlxuICAgICAgICovXG4gIGRpc2FibGU/OiBib29sZWFuO1xuICAvKiogSWYgYXV0b21hdGljIGZ1bmN0aW9uIGNhbGxpbmcgaXMgZW5hYmxlZCxcbiAgICAgIG1heGltdW0gbnVtYmVyIG9mIHJlbW90ZSBjYWxscyBmb3IgYXV0b21hdGljIGZ1bmN0aW9uIGNhbGxpbmcuXG4gICAgICBUaGlzIG51bWJlciBzaG91bGQgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyLlxuICAgICAgSWYgbm90IHNldCwgU0RLIHdpbGwgc2V0IG1heGltdW0gbnVtYmVyIG9mIHJlbW90ZSBjYWxscyB0byAxMC5cbiAgICAgICAqL1xuICBtYXhpbXVtUmVtb3RlQ2FsbHM/OiBudW1iZXI7XG4gIC8qKiBJZiBhdXRvbWF0aWMgZnVuY3Rpb24gY2FsbGluZyBpcyBlbmFibGVkLFxuICAgICAgd2hldGhlciB0byBpZ25vcmUgY2FsbCBoaXN0b3J5IHRvIHRoZSByZXNwb25zZS5cbiAgICAgIElmIG5vdCBzZXQsIFNESyB3aWxsIHNldCBpZ25vcmVfY2FsbF9oaXN0b3J5IHRvIGZhbHNlLFxuICAgICAgYW5kIHdpbGwgYXBwZW5kIHRoZSBjYWxsIGhpc3RvcnkgdG9cbiAgICAgIEdlbmVyYXRlQ29udGVudFJlc3BvbnNlLmF1dG9tYXRpY19mdW5jdGlvbl9jYWxsaW5nX2hpc3RvcnkuXG4gICAgICAgKi9cbiAgaWdub3JlQ2FsbEhpc3Rvcnk/OiBib29sZWFuO1xufVxuXG4vKiogVGhlIHRoaW5raW5nIGZlYXR1cmVzIGNvbmZpZ3VyYXRpb24uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVGhpbmtpbmdDb25maWcge1xuICAvKiogSW5kaWNhdGVzIHdoZXRoZXIgdG8gaW5jbHVkZSB0aG91Z2h0cyBpbiB0aGUgcmVzcG9uc2UuIElmIHRydWUsIHRob3VnaHRzIGFyZSByZXR1cm5lZCBvbmx5IGlmIHRoZSBtb2RlbCBzdXBwb3J0cyB0aG91Z2h0IGFuZCB0aG91Z2h0cyBhcmUgYXZhaWxhYmxlLlxuICAgKi9cbiAgaW5jbHVkZVRob3VnaHRzPzogYm9vbGVhbjtcbiAgLyoqIEluZGljYXRlcyB0aGUgdGhpbmtpbmcgYnVkZ2V0IGluIHRva2Vucy4gMCBpcyBESVNBQkxFRC4gLTEgaXMgQVVUT01BVElDLiBUaGUgZGVmYXVsdCB2YWx1ZXMgYW5kIGFsbG93ZWQgcmFuZ2VzIGFyZSBtb2RlbCBkZXBlbmRlbnQuXG4gICAqL1xuICB0aGlua2luZ0J1ZGdldD86IG51bWJlcjtcbiAgLyoqIE9wdGlvbmFsLiBUaGUgbnVtYmVyIG9mIHRob3VnaHRzIHRva2VucyB0aGF0IHRoZSBtb2RlbCBzaG91bGQgZ2VuZXJhdGUuICovXG4gIHRoaW5raW5nTGV2ZWw/OiBUaGlua2luZ0xldmVsO1xufVxuXG4vKiogVGhlIGltYWdlIGdlbmVyYXRpb24gY29uZmlndXJhdGlvbiB0byBiZSB1c2VkIGluIEdlbmVyYXRlQ29udGVudENvbmZpZy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBJbWFnZUNvbmZpZyB7XG4gIC8qKiBBc3BlY3QgcmF0aW8gb2YgdGhlIGdlbmVyYXRlZCBpbWFnZXMuIFN1cHBvcnRlZCB2YWx1ZXMgYXJlXG4gICAgICBcIjE6MVwiLCBcIjI6M1wiLCBcIjM6MlwiLCBcIjM6NFwiLCBcIjQ6M1wiLCBcIjk6MTZcIiwgXCIxNjo5XCIsIGFuZCBcIjIxOjlcIi4gKi9cbiAgYXNwZWN0UmF0aW8/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gU3BlY2lmaWVzIHRoZSBzaXplIG9mIGdlbmVyYXRlZCBpbWFnZXMuIFN1cHBvcnRlZFxuICAgICAgdmFsdWVzIGFyZSBgMUtgLCBgMktgLCBgNEtgLiBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgbW9kZWwgd2lsbCB1c2UgZGVmYXVsdFxuICAgICAgdmFsdWUgYDFLYC4gKi9cbiAgaW1hZ2VTaXplPzogc3RyaW5nO1xuICAvKiogTUlNRSB0eXBlIG9mIHRoZSBnZW5lcmF0ZWQgaW1hZ2UuIFRoaXMgZmllbGQgaXMgbm90XG4gICAgICBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbiAgb3V0cHV0TWltZVR5cGU/OiBzdHJpbmc7XG4gIC8qKiBDb21wcmVzc2lvbiBxdWFsaXR5IG9mIHRoZSBnZW5lcmF0ZWQgaW1hZ2UgKGZvclxuICAgICAgYGBpbWFnZS9qcGVnYGAgb25seSkuIFRoaXMgZmllbGQgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuICBvdXRwdXRDb21wcmVzc2lvblF1YWxpdHk/OiBudW1iZXI7XG59XG5cbi8qKiBXaGVuIGF1dG9tYXRlZCByb3V0aW5nIGlzIHNwZWNpZmllZCwgdGhlIHJvdXRpbmcgd2lsbCBiZSBkZXRlcm1pbmVkIGJ5IHRoZSBwcmV0cmFpbmVkIHJvdXRpbmcgbW9kZWwgYW5kIGN1c3RvbWVyIHByb3ZpZGVkIG1vZGVsIHJvdXRpbmcgcHJlZmVyZW5jZS4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdlbmVyYXRpb25Db25maWdSb3V0aW5nQ29uZmlnQXV0b1JvdXRpbmdNb2RlIHtcbiAgLyoqIFRoZSBtb2RlbCByb3V0aW5nIHByZWZlcmVuY2UuICovXG4gIG1vZGVsUm91dGluZ1ByZWZlcmVuY2U/OlxuICAgIHwgJ1VOS05PV04nXG4gICAgfCAnUFJJT1JJVElaRV9RVUFMSVRZJ1xuICAgIHwgJ0JBTEFOQ0VEJ1xuICAgIHwgJ1BSSU9SSVRJWkVfQ09TVCc7XG59XG5cbi8qKiBXaGVuIG1hbnVhbCByb3V0aW5nIGlzIHNldCwgdGhlIHNwZWNpZmllZCBtb2RlbCB3aWxsIGJlIHVzZWQgZGlyZWN0bHkuIFRoaXMgZGF0YSB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZW5lcmF0aW9uQ29uZmlnUm91dGluZ0NvbmZpZ01hbnVhbFJvdXRpbmdNb2RlIHtcbiAgLyoqIFRoZSBtb2RlbCBuYW1lIHRvIHVzZS4gT25seSB0aGUgcHVibGljIExMTSBtb2RlbHMgYXJlIGFjY2VwdGVkLiBTZWUgW1N1cHBvcnRlZCBtb2RlbHNdKGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZ2VuZXJhdGl2ZS1haS9kb2NzL21vZGVsLXJlZmVyZW5jZS9pbmZlcmVuY2Ujc3VwcG9ydGVkLW1vZGVscykuICovXG4gIG1vZGVsTmFtZT86IHN0cmluZztcbn1cblxuLyoqIFRoZSBjb25maWd1cmF0aW9uIGZvciByb3V0aW5nIHRoZSByZXF1ZXN0IHRvIGEgc3BlY2lmaWMgbW9kZWwuIFRoaXMgZGF0YSB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZW5lcmF0aW9uQ29uZmlnUm91dGluZ0NvbmZpZyB7XG4gIC8qKiBBdXRvbWF0ZWQgcm91dGluZy4gKi9cbiAgYXV0b01vZGU/OiBHZW5lcmF0aW9uQ29uZmlnUm91dGluZ0NvbmZpZ0F1dG9Sb3V0aW5nTW9kZTtcbiAgLyoqIE1hbnVhbCByb3V0aW5nLiAqL1xuICBtYW51YWxNb2RlPzogR2VuZXJhdGlvbkNvbmZpZ1JvdXRpbmdDb25maWdNYW51YWxSb3V0aW5nTW9kZTtcbn1cblxuLyoqIFNhZmV0eSBzZXR0aW5ncy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBTYWZldHlTZXR0aW5nIHtcbiAgLyoqIFJlcXVpcmVkLiBIYXJtIGNhdGVnb3J5LiAqL1xuICBjYXRlZ29yeT86IEhhcm1DYXRlZ29yeTtcbiAgLyoqIE9wdGlvbmFsLiBTcGVjaWZ5IGlmIHRoZSB0aHJlc2hvbGQgaXMgdXNlZCBmb3IgcHJvYmFiaWxpdHkgb3Igc2V2ZXJpdHkgc2NvcmUuIElmIG5vdCBzcGVjaWZpZWQsIHRoZSB0aHJlc2hvbGQgaXMgdXNlZCBmb3IgcHJvYmFiaWxpdHkgc2NvcmUuIFRoaXMgZmllbGQgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuICBtZXRob2Q/OiBIYXJtQmxvY2tNZXRob2Q7XG4gIC8qKiBSZXF1aXJlZC4gVGhlIGhhcm0gYmxvY2sgdGhyZXNob2xkLiAqL1xuICB0aHJlc2hvbGQ/OiBIYXJtQmxvY2tUaHJlc2hvbGQ7XG59XG5cbi8qKiBPcHRpb25hbCBtb2RlbCBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMuXG5cbkZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgYENvbnRlbnQgZ2VuZXJhdGlvbiBwYXJhbWV0ZXJzXG48aHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL3ZlcnRleC1haS9nZW5lcmF0aXZlLWFpL2RvY3MvbXVsdGltb2RhbC9jb250ZW50LWdlbmVyYXRpb24tcGFyYW1ldGVycz5gXy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZW5lcmF0ZUNvbnRlbnRDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIEFib3J0IHNpZ25hbCB3aGljaCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3QuXG5cbiAgTk9URTogQWJvcnRTaWduYWwgaXMgYSBjbGllbnQtb25seSBvcGVyYXRpb24uIFVzaW5nIGl0IHRvIGNhbmNlbCBhblxuICBvcGVyYXRpb24gd2lsbCBub3QgY2FuY2VsIHRoZSByZXF1ZXN0IGluIHRoZSBzZXJ2aWNlLiBZb3Ugd2lsbCBzdGlsbFxuICBiZSBjaGFyZ2VkIHVzYWdlIGZvciBhbnkgYXBwbGljYWJsZSBvcGVyYXRpb25zLlxuICAgICAgICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG4gIC8qKiBJbnN0cnVjdGlvbnMgZm9yIHRoZSBtb2RlbCB0byBzdGVlciBpdCB0b3dhcmQgYmV0dGVyIHBlcmZvcm1hbmNlLlxuICAgICAgRm9yIGV4YW1wbGUsIFwiQW5zd2VyIGFzIGNvbmNpc2VseSBhcyBwb3NzaWJsZVwiIG9yIFwiRG9uJ3QgdXNlIHRlY2huaWNhbFxuICAgICAgdGVybXMgaW4geW91ciByZXNwb25zZVwiLlxuICAgICAgICovXG4gIHN5c3RlbUluc3RydWN0aW9uPzogQ29udGVudFVuaW9uO1xuICAvKiogVmFsdWUgdGhhdCBjb250cm9scyB0aGUgZGVncmVlIG9mIHJhbmRvbW5lc3MgaW4gdG9rZW4gc2VsZWN0aW9uLlxuICAgICAgTG93ZXIgdGVtcGVyYXR1cmVzIGFyZSBnb29kIGZvciBwcm9tcHRzIHRoYXQgcmVxdWlyZSBhIGxlc3Mgb3Blbi1lbmRlZCBvclxuICAgICAgY3JlYXRpdmUgcmVzcG9uc2UsIHdoaWxlIGhpZ2hlciB0ZW1wZXJhdHVyZXMgY2FuIGxlYWQgdG8gbW9yZSBkaXZlcnNlIG9yXG4gICAgICBjcmVhdGl2ZSByZXN1bHRzLlxuICAgICAgICovXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyO1xuICAvKiogVG9rZW5zIGFyZSBzZWxlY3RlZCBmcm9tIHRoZSBtb3N0IHRvIGxlYXN0IHByb2JhYmxlIHVudGlsIHRoZSBzdW1cbiAgICAgIG9mIHRoZWlyIHByb2JhYmlsaXRpZXMgZXF1YWxzIHRoaXMgdmFsdWUuIFVzZSBhIGxvd2VyIHZhbHVlIGZvciBsZXNzXG4gICAgICByYW5kb20gcmVzcG9uc2VzIGFuZCBhIGhpZ2hlciB2YWx1ZSBmb3IgbW9yZSByYW5kb20gcmVzcG9uc2VzLlxuICAgICAgICovXG4gIHRvcFA/OiBudW1iZXI7XG4gIC8qKiBGb3IgZWFjaCB0b2tlbiBzZWxlY3Rpb24gc3RlcCwgdGhlIGBgdG9wX2tgYCB0b2tlbnMgd2l0aCB0aGVcbiAgICAgIGhpZ2hlc3QgcHJvYmFiaWxpdGllcyBhcmUgc2FtcGxlZC4gVGhlbiB0b2tlbnMgYXJlIGZ1cnRoZXIgZmlsdGVyZWQgYmFzZWRcbiAgICAgIG9uIGBgdG9wX3BgYCB3aXRoIHRoZSBmaW5hbCB0b2tlbiBzZWxlY3RlZCB1c2luZyB0ZW1wZXJhdHVyZSBzYW1wbGluZy4gVXNlXG4gICAgICBhIGxvd2VyIG51bWJlciBmb3IgbGVzcyByYW5kb20gcmVzcG9uc2VzIGFuZCBhIGhpZ2hlciBudW1iZXIgZm9yIG1vcmVcbiAgICAgIHJhbmRvbSByZXNwb25zZXMuXG4gICAgICAgKi9cbiAgdG9wSz86IG51bWJlcjtcbiAgLyoqIE51bWJlciBvZiByZXNwb25zZSB2YXJpYXRpb25zIHRvIHJldHVybi5cbiAgICovXG4gIGNhbmRpZGF0ZUNvdW50PzogbnVtYmVyO1xuICAvKiogTWF4aW11bSBudW1iZXIgb2YgdG9rZW5zIHRoYXQgY2FuIGJlIGdlbmVyYXRlZCBpbiB0aGUgcmVzcG9uc2UuXG4gICAqL1xuICBtYXhPdXRwdXRUb2tlbnM/OiBudW1iZXI7XG4gIC8qKiBMaXN0IG9mIHN0cmluZ3MgdGhhdCB0ZWxscyB0aGUgbW9kZWwgdG8gc3RvcCBnZW5lcmF0aW5nIHRleHQgaWYgb25lXG4gICAgICBvZiB0aGUgc3RyaW5ncyBpcyBlbmNvdW50ZXJlZCBpbiB0aGUgcmVzcG9uc2UuXG4gICAgICAgKi9cbiAgc3RvcFNlcXVlbmNlcz86IHN0cmluZ1tdO1xuICAvKiogV2hldGhlciB0byByZXR1cm4gdGhlIGxvZyBwcm9iYWJpbGl0aWVzIG9mIHRoZSB0b2tlbnMgdGhhdCB3ZXJlXG4gICAgICBjaG9zZW4gYnkgdGhlIG1vZGVsIGF0IGVhY2ggc3RlcC5cbiAgICAgICAqL1xuICByZXNwb25zZUxvZ3Byb2JzPzogYm9vbGVhbjtcbiAgLyoqIE51bWJlciBvZiB0b3AgY2FuZGlkYXRlIHRva2VucyB0byByZXR1cm4gdGhlIGxvZyBwcm9iYWJpbGl0aWVzIGZvclxuICAgICAgYXQgZWFjaCBnZW5lcmF0aW9uIHN0ZXAuXG4gICAgICAgKi9cbiAgbG9ncHJvYnM/OiBudW1iZXI7XG4gIC8qKiBQb3NpdGl2ZSB2YWx1ZXMgcGVuYWxpemUgdG9rZW5zIHRoYXQgYWxyZWFkeSBhcHBlYXIgaW4gdGhlXG4gICAgICBnZW5lcmF0ZWQgdGV4dCwgaW5jcmVhc2luZyB0aGUgcHJvYmFiaWxpdHkgb2YgZ2VuZXJhdGluZyBtb3JlIGRpdmVyc2VcbiAgICAgIGNvbnRlbnQuXG4gICAgICAgKi9cbiAgcHJlc2VuY2VQZW5hbHR5PzogbnVtYmVyO1xuICAvKiogUG9zaXRpdmUgdmFsdWVzIHBlbmFsaXplIHRva2VucyB0aGF0IHJlcGVhdGVkbHkgYXBwZWFyIGluIHRoZVxuICAgICAgZ2VuZXJhdGVkIHRleHQsIGluY3JlYXNpbmcgdGhlIHByb2JhYmlsaXR5IG9mIGdlbmVyYXRpbmcgbW9yZSBkaXZlcnNlXG4gICAgICBjb250ZW50LlxuICAgICAgICovXG4gIGZyZXF1ZW5jeVBlbmFsdHk/OiBudW1iZXI7XG4gIC8qKiBXaGVuIGBgc2VlZGBgIGlzIGZpeGVkIHRvIGEgc3BlY2lmaWMgbnVtYmVyLCB0aGUgbW9kZWwgbWFrZXMgYSBiZXN0XG4gICAgICBlZmZvcnQgdG8gcHJvdmlkZSB0aGUgc2FtZSByZXNwb25zZSBmb3IgcmVwZWF0ZWQgcmVxdWVzdHMuIEJ5IGRlZmF1bHQsIGFcbiAgICAgIHJhbmRvbSBudW1iZXIgaXMgdXNlZC5cbiAgICAgICAqL1xuICBzZWVkPzogbnVtYmVyO1xuICAvKiogT3V0cHV0IHJlc3BvbnNlIG1pbWV0eXBlIG9mIHRoZSBnZW5lcmF0ZWQgY2FuZGlkYXRlIHRleHQuXG4gICAgICBTdXBwb3J0ZWQgbWltZXR5cGU6XG4gICAgICAgIC0gYHRleHQvcGxhaW5gOiAoZGVmYXVsdCkgVGV4dCBvdXRwdXQuXG4gICAgICAgIC0gYGFwcGxpY2F0aW9uL2pzb25gOiBKU09OIHJlc3BvbnNlIGluIHRoZSBjYW5kaWRhdGVzLlxuICAgICAgVGhlIG1vZGVsIG5lZWRzIHRvIGJlIHByb21wdGVkIHRvIG91dHB1dCB0aGUgYXBwcm9wcmlhdGUgcmVzcG9uc2UgdHlwZSxcbiAgICAgIG90aGVyd2lzZSB0aGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkLlxuICAgICAgVGhpcyBpcyBhIHByZXZpZXcgZmVhdHVyZS5cbiAgICAgICAqL1xuICByZXNwb25zZU1pbWVUeXBlPzogc3RyaW5nO1xuICAvKiogVGhlIGBTY2hlbWFgIG9iamVjdCBhbGxvd3MgdGhlIGRlZmluaXRpb24gb2YgaW5wdXQgYW5kIG91dHB1dCBkYXRhIHR5cGVzLlxuICAgICAgVGhlc2UgdHlwZXMgY2FuIGJlIG9iamVjdHMsIGJ1dCBhbHNvIHByaW1pdGl2ZXMgYW5kIGFycmF5cy5cbiAgICAgIFJlcHJlc2VudHMgYSBzZWxlY3Qgc3Vic2V0IG9mIGFuIFtPcGVuQVBJIDMuMCBzY2hlbWFcbiAgICAgIG9iamVjdF0oaHR0cHM6Ly9zcGVjLm9wZW5hcGlzLm9yZy9vYXMvdjMuMC4zI3NjaGVtYSkuXG4gICAgICBJZiBzZXQsIGEgY29tcGF0aWJsZSByZXNwb25zZV9taW1lX3R5cGUgbXVzdCBhbHNvIGJlIHNldC5cbiAgICAgIENvbXBhdGlibGUgbWltZXR5cGVzOiBgYXBwbGljYXRpb24vanNvbmA6IFNjaGVtYSBmb3IgSlNPTiByZXNwb25zZS5cblxuICAgICAgSWYgYHJlc3BvbnNlX3NjaGVtYWAgZG9lc24ndCBwcm9jZXNzIHlvdXIgc2NoZW1hIGNvcnJlY3RseSwgdHJ5IHVzaW5nXG4gICAgICBgcmVzcG9uc2VfanNvbl9zY2hlbWFgIGluc3RlYWQuXG4gICAgICAgKi9cbiAgcmVzcG9uc2VTY2hlbWE/OiBTY2hlbWFVbmlvbjtcbiAgLyoqIE9wdGlvbmFsLiBPdXRwdXQgc2NoZW1hIG9mIHRoZSBnZW5lcmF0ZWQgcmVzcG9uc2UuXG4gICAgICBUaGlzIGlzIGFuIGFsdGVybmF0aXZlIHRvIGByZXNwb25zZV9zY2hlbWFgIHRoYXQgYWNjZXB0cyBbSlNPTlxuICAgICAgU2NoZW1hXShodHRwczovL2pzb24tc2NoZW1hLm9yZy8pLiBJZiBzZXQsIGByZXNwb25zZV9zY2hlbWFgIG11c3QgYmVcbiAgICAgIG9taXR0ZWQsIGJ1dCBgcmVzcG9uc2VfbWltZV90eXBlYCBpcyByZXF1aXJlZC4gV2hpbGUgdGhlIGZ1bGwgSlNPTiBTY2hlbWFcbiAgICAgIG1heSBiZSBzZW50LCBub3QgYWxsIGZlYXR1cmVzIGFyZSBzdXBwb3J0ZWQuIFNwZWNpZmljYWxseSwgb25seSB0aGVcbiAgICAgIGZvbGxvd2luZyBwcm9wZXJ0aWVzIGFyZSBzdXBwb3J0ZWQ6IC0gYCRpZGAgLSBgJGRlZnNgIC0gYCRyZWZgIC0gYCRhbmNob3JgXG4gICAgICAtIGB0eXBlYCAtIGBmb3JtYXRgIC0gYHRpdGxlYCAtIGBkZXNjcmlwdGlvbmAgLSBgZW51bWAgKGZvciBzdHJpbmdzIGFuZFxuICAgICAgbnVtYmVycykgLSBgaXRlbXNgIC0gYHByZWZpeEl0ZW1zYCAtIGBtaW5JdGVtc2AgLSBgbWF4SXRlbXNgIC0gYG1pbmltdW1gIC1cbiAgICAgIGBtYXhpbXVtYCAtIGBhbnlPZmAgLSBgb25lT2ZgIChpbnRlcnByZXRlZCB0aGUgc2FtZSBhcyBgYW55T2ZgKSAtXG4gICAgICBgcHJvcGVydGllc2AgLSBgYWRkaXRpb25hbFByb3BlcnRpZXNgIC0gYHJlcXVpcmVkYCBUaGUgbm9uLXN0YW5kYXJkXG4gICAgICBgcHJvcGVydHlPcmRlcmluZ2AgcHJvcGVydHkgbWF5IGFsc28gYmUgc2V0LiBDeWNsaWMgcmVmZXJlbmNlcyBhcmVcbiAgICAgIHVucm9sbGVkIHRvIGEgbGltaXRlZCBkZWdyZWUgYW5kLCBhcyBzdWNoLCBtYXkgb25seSBiZSB1c2VkIHdpdGhpblxuICAgICAgbm9uLXJlcXVpcmVkIHByb3BlcnRpZXMuIChOdWxsYWJsZSBwcm9wZXJ0aWVzIGFyZSBub3Qgc3VmZmljaWVudC4pIElmXG4gICAgICBgJHJlZmAgaXMgc2V0IG9uIGEgc3ViLXNjaGVtYSwgbm8gb3RoZXIgcHJvcGVydGllcywgZXhjZXB0IGZvciB0aGFuIHRob3NlXG4gICAgICBzdGFydGluZyBhcyBhIGAkYCwgbWF5IGJlIHNldC4gKi9cbiAgcmVzcG9uc2VKc29uU2NoZW1hPzogdW5rbm93bjtcbiAgLyoqIENvbmZpZ3VyYXRpb24gZm9yIG1vZGVsIHJvdXRlciByZXF1ZXN0cy5cbiAgICovXG4gIHJvdXRpbmdDb25maWc/OiBHZW5lcmF0aW9uQ29uZmlnUm91dGluZ0NvbmZpZztcbiAgLyoqIENvbmZpZ3VyYXRpb24gZm9yIG1vZGVsIHNlbGVjdGlvbi5cbiAgICovXG4gIG1vZGVsU2VsZWN0aW9uQ29uZmlnPzogTW9kZWxTZWxlY3Rpb25Db25maWc7XG4gIC8qKiBTYWZldHkgc2V0dGluZ3MgaW4gdGhlIHJlcXVlc3QgdG8gYmxvY2sgdW5zYWZlIGNvbnRlbnQgaW4gdGhlXG4gICAgICByZXNwb25zZS5cbiAgICAgICAqL1xuICBzYWZldHlTZXR0aW5ncz86IFNhZmV0eVNldHRpbmdbXTtcbiAgLyoqIENvZGUgdGhhdCBlbmFibGVzIHRoZSBzeXN0ZW0gdG8gaW50ZXJhY3Qgd2l0aCBleHRlcm5hbCBzeXN0ZW1zIHRvXG4gICAgICBwZXJmb3JtIGFuIGFjdGlvbiBvdXRzaWRlIG9mIHRoZSBrbm93bGVkZ2UgYW5kIHNjb3BlIG9mIHRoZSBtb2RlbC5cbiAgICAgICAqL1xuICB0b29scz86IFRvb2xMaXN0VW5pb247XG4gIC8qKiBBc3NvY2lhdGVzIG1vZGVsIG91dHB1dCB0byBhIHNwZWNpZmljIGZ1bmN0aW9uIGNhbGwuXG4gICAqL1xuICB0b29sQ29uZmlnPzogVG9vbENvbmZpZztcbiAgLyoqIExhYmVscyB3aXRoIHVzZXItZGVmaW5lZCBtZXRhZGF0YSB0byBicmVhayBkb3duIGJpbGxlZCBjaGFyZ2VzLiAqL1xuICBsYWJlbHM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAvKiogUmVzb3VyY2UgbmFtZSBvZiBhIGNvbnRleHQgY2FjaGUgdGhhdCBjYW4gYmUgdXNlZCBpbiBzdWJzZXF1ZW50XG4gICAgICByZXF1ZXN0cy5cbiAgICAgICAqL1xuICBjYWNoZWRDb250ZW50Pzogc3RyaW5nO1xuICAvKiogVGhlIHJlcXVlc3RlZCBtb2RhbGl0aWVzIG9mIHRoZSByZXNwb25zZS4gUmVwcmVzZW50cyB0aGUgc2V0IG9mXG4gICAgICBtb2RhbGl0aWVzIHRoYXQgdGhlIG1vZGVsIGNhbiByZXR1cm4uXG4gICAgICAgKi9cbiAgcmVzcG9uc2VNb2RhbGl0aWVzPzogc3RyaW5nW107XG4gIC8qKiBJZiBzcGVjaWZpZWQsIHRoZSBtZWRpYSByZXNvbHV0aW9uIHNwZWNpZmllZCB3aWxsIGJlIHVzZWQuXG4gICAqL1xuICBtZWRpYVJlc29sdXRpb24/OiBNZWRpYVJlc29sdXRpb247XG4gIC8qKiBUaGUgc3BlZWNoIGdlbmVyYXRpb24gY29uZmlndXJhdGlvbi5cbiAgICovXG4gIHNwZWVjaENvbmZpZz86IFNwZWVjaENvbmZpZ1VuaW9uO1xuICAvKiogSWYgZW5hYmxlZCwgYXVkaW8gdGltZXN0YW1wIHdpbGwgYmUgaW5jbHVkZWQgaW4gdGhlIHJlcXVlc3QgdG8gdGhlXG4gICAgICAgbW9kZWwuXG4gICAgICAgKi9cbiAgYXVkaW9UaW1lc3RhbXA/OiBib29sZWFuO1xuICAvKiogVGhlIGNvbmZpZ3VyYXRpb24gZm9yIGF1dG9tYXRpYyBmdW5jdGlvbiBjYWxsaW5nLlxuICAgKi9cbiAgYXV0b21hdGljRnVuY3Rpb25DYWxsaW5nPzogQXV0b21hdGljRnVuY3Rpb25DYWxsaW5nQ29uZmlnO1xuICAvKiogVGhlIHRoaW5raW5nIGZlYXR1cmVzIGNvbmZpZ3VyYXRpb24uXG4gICAqL1xuICB0aGlua2luZ0NvbmZpZz86IFRoaW5raW5nQ29uZmlnO1xuICAvKiogVGhlIGltYWdlIGdlbmVyYXRpb24gY29uZmlndXJhdGlvbi5cbiAgICovXG4gIGltYWdlQ29uZmlnPzogSW1hZ2VDb25maWc7XG4gIC8qKiBFbmFibGVzIGVuaGFuY2VkIGNpdmljIGFuc3dlcnMuIEl0IG1heSBub3QgYmUgYXZhaWxhYmxlIGZvciBhbGxcbiAgICAgIG1vZGVscy4gVGhpcyBmaWVsZCBpcyBub3Qgc3VwcG9ydGVkIGluIFZlcnRleCBBSS5cbiAgICAgICAqL1xuICBlbmFibGVFbmhhbmNlZENpdmljQW5zd2Vycz86IGJvb2xlYW47XG59XG5cbi8qKiBDb25maWcgZm9yIG1vZGVscy5nZW5lcmF0ZV9jb250ZW50IHBhcmFtZXRlcnMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR2VuZXJhdGVDb250ZW50UGFyYW1ldGVycyB7XG4gIC8qKiBJRCBvZiB0aGUgbW9kZWwgdG8gdXNlLiBGb3IgYSBsaXN0IG9mIG1vZGVscywgc2VlIGBHb29nbGUgbW9kZWxzXG4gICAgPGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZ2VuZXJhdGl2ZS1haS9kb2NzL2xlYXJuL21vZGVscz5gXy4gKi9cbiAgbW9kZWw6IHN0cmluZztcbiAgLyoqIENvbnRlbnQgb2YgdGhlIHJlcXVlc3QuXG4gICAqL1xuICBjb250ZW50czogQ29udGVudExpc3RVbmlvbjtcbiAgLyoqIENvbmZpZ3VyYXRpb24gdGhhdCBjb250YWlucyBvcHRpb25hbCBtb2RlbCBwYXJhbWV0ZXJzLlxuICAgKi9cbiAgY29uZmlnPzogR2VuZXJhdGVDb250ZW50Q29uZmlnO1xufVxuXG4vKiogQSB3cmFwcGVyIGNsYXNzIGZvciB0aGUgaHR0cCByZXNwb25zZS4gKi9cbmV4cG9ydCBjbGFzcyBIdHRwUmVzcG9uc2Uge1xuICAvKiogVXNlZCB0byByZXRhaW4gdGhlIHByb2Nlc3NlZCBIVFRQIGhlYWRlcnMgaW4gdGhlIHJlc3BvbnNlLiAqL1xuICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgLyoqXG4gICAqIFRoZSBvcmlnaW5hbCBodHRwIHJlc3BvbnNlLlxuICAgKi9cbiAgcmVzcG9uc2VJbnRlcm5hbDogUmVzcG9uc2U7XG5cbiAgY29uc3RydWN0b3IocmVzcG9uc2U6IFJlc3BvbnNlKSB7XG4gICAgLy8gUHJvY2VzcyB0aGUgaGVhZGVycy5cbiAgICBjb25zdCBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgZm9yIChjb25zdCBwYWlyIG9mIHJlc3BvbnNlLmhlYWRlcnMuZW50cmllcygpKSB7XG4gICAgICBoZWFkZXJzW3BhaXJbMF1dID0gcGFpclsxXTtcbiAgICB9XG4gICAgdGhpcy5oZWFkZXJzID0gaGVhZGVycztcblxuICAgIC8vIEtlZXAgdGhlIG9yaWdpbmFsIHJlc3BvbnNlLlxuICAgIHRoaXMucmVzcG9uc2VJbnRlcm5hbCA9IHJlc3BvbnNlO1xuICB9XG5cbiAganNvbigpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICByZXR1cm4gdGhpcy5yZXNwb25zZUludGVybmFsLmpzb24oKTtcbiAgfVxufVxuXG4vKiogQ2FsbGJhY2tzIGZvciB0aGUgbGl2ZSBBUEkuICovXG5leHBvcnQgaW50ZXJmYWNlIExpdmVDYWxsYmFja3Mge1xuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHdlYnNvY2tldCBjb25uZWN0aW9uIGlzIGVzdGFibGlzaGVkLlxuICAgKi9cbiAgb25vcGVuPzogKCgpID0+IHZvaWQpIHwgbnVsbDtcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGEgbWVzc2FnZSBpcyByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAqL1xuICBvbm1lc3NhZ2U6IChlOiBMaXZlU2VydmVyTWVzc2FnZSkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGFuIGVycm9yIG9jY3Vycy5cbiAgICovXG4gIG9uZXJyb3I/OiAoKGU6IEVycm9yRXZlbnQpID0+IHZvaWQpIHwgbnVsbDtcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB3ZWJzb2NrZXQgY29ubmVjdGlvbiBpcyBjbG9zZWQuXG4gICAqL1xuICBvbmNsb3NlPzogKChlOiBDbG9zZUV2ZW50KSA9PiB2b2lkKSB8IG51bGw7XG59XG5cbi8qKiBSZXByZXNlbnRzIGEgd2hvbGUgb3IgcGFydGlhbCBjYWxlbmRhciBkYXRlLCBzdWNoIGFzIGEgYmlydGhkYXkuIFRoZSB0aW1lIG9mIGRheSBhbmQgdGltZSB6b25lIGFyZSBlaXRoZXIgc3BlY2lmaWVkIGVsc2V3aGVyZSBvciBhcmUgaW5zaWduaWZpY2FudC4gVGhlIGRhdGUgaXMgcmVsYXRpdmUgdG8gdGhlIEdyZWdvcmlhbiBDYWxlbmRhci4gVGhpcyBjYW4gcmVwcmVzZW50IG9uZSBvZiB0aGUgZm9sbG93aW5nOiAqIEEgZnVsbCBkYXRlLCB3aXRoIG5vbi16ZXJvIHllYXIsIG1vbnRoLCBhbmQgZGF5IHZhbHVlcy4gKiBBIG1vbnRoIGFuZCBkYXksIHdpdGggYSB6ZXJvIHllYXIgKGZvciBleGFtcGxlLCBhbiBhbm5pdmVyc2FyeSkuICogQSB5ZWFyIG9uIGl0cyBvd24sIHdpdGggYSB6ZXJvIG1vbnRoIGFuZCBhIHplcm8gZGF5LiAqIEEgeWVhciBhbmQgbW9udGgsIHdpdGggYSB6ZXJvIGRheSAoZm9yIGV4YW1wbGUsIGEgY3JlZGl0IGNhcmQgZXhwaXJhdGlvbiBkYXRlKS4gUmVsYXRlZCB0eXBlczogKiBnb29nbGUudHlwZS5UaW1lT2ZEYXkgKiBnb29nbGUudHlwZS5EYXRlVGltZSAqIGdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAuIFRoaXMgZGF0YSB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHb29nbGVUeXBlRGF0ZSB7XG4gIC8qKiBEYXkgb2YgYSBtb250aC4gTXVzdCBiZSBmcm9tIDEgdG8gMzEgYW5kIHZhbGlkIGZvciB0aGUgeWVhciBhbmQgbW9udGgsIG9yIDAgdG8gc3BlY2lmeSBhIHllYXIgYnkgaXRzZWxmIG9yIGEgeWVhciBhbmQgbW9udGggd2hlcmUgdGhlIGRheSBpc24ndCBzaWduaWZpY2FudC4gKi9cbiAgZGF5PzogbnVtYmVyO1xuICAvKiogTW9udGggb2YgYSB5ZWFyLiBNdXN0IGJlIGZyb20gMSB0byAxMiwgb3IgMCB0byBzcGVjaWZ5IGEgeWVhciB3aXRob3V0IGEgbW9udGggYW5kIGRheS4gKi9cbiAgbW9udGg/OiBudW1iZXI7XG4gIC8qKiBZZWFyIG9mIHRoZSBkYXRlLiBNdXN0IGJlIGZyb20gMSB0byA5OTk5LCBvciAwIHRvIHNwZWNpZnkgYSBkYXRlIHdpdGhvdXQgYSB5ZWFyLiAqL1xuICB5ZWFyPzogbnVtYmVyO1xufVxuXG4vKiogU291cmNlIGF0dHJpYnV0aW9ucyBmb3IgY29udGVudC4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENpdGF0aW9uIHtcbiAgLyoqIE91dHB1dCBvbmx5LiBFbmQgaW5kZXggaW50byB0aGUgY29udGVudC4gKi9cbiAgZW5kSW5kZXg/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gTGljZW5zZSBvZiB0aGUgYXR0cmlidXRpb24uICovXG4gIGxpY2Vuc2U/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gUHVibGljYXRpb24gZGF0ZSBvZiB0aGUgYXR0cmlidXRpb24uICovXG4gIHB1YmxpY2F0aW9uRGF0ZT86IEdvb2dsZVR5cGVEYXRlO1xuICAvKiogT3V0cHV0IG9ubHkuIFN0YXJ0IGluZGV4IGludG8gdGhlIGNvbnRlbnQuICovXG4gIHN0YXJ0SW5kZXg/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gVGl0bGUgb2YgdGhlIGF0dHJpYnV0aW9uLiAqL1xuICB0aXRsZT86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBVcmwgcmVmZXJlbmNlIG9mIHRoZSBhdHRyaWJ1dGlvbi4gKi9cbiAgdXJpPzogc3RyaW5nO1xufVxuXG4vKiogQ2l0YXRpb24gaW5mb3JtYXRpb24gd2hlbiB0aGUgbW9kZWwgcXVvdGVzIGFub3RoZXIgc291cmNlLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENpdGF0aW9uTWV0YWRhdGEge1xuICAvKiogQ29udGFpbnMgY2l0YXRpb24gaW5mb3JtYXRpb24gd2hlbiB0aGUgbW9kZWwgZGlyZWN0bHkgcXVvdGVzLCBhdFxuICAgICAgbGVuZ3RoLCBmcm9tIGFub3RoZXIgc291cmNlLiBDYW4gaW5jbHVkZSB0cmFkaXRpb25hbCB3ZWJzaXRlcyBhbmQgY29kZVxuICAgICAgcmVwb3NpdG9yaWVzLlxuICAgICAgICovXG4gIGNpdGF0aW9ucz86IENpdGF0aW9uW107XG59XG5cbi8qKiBBdXRob3IgYXR0cmlidXRpb24gZm9yIGEgcGhvdG8gb3IgcmV2aWV3LiBUaGlzIGRhdGEgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR3JvdW5kaW5nQ2h1bmtNYXBzUGxhY2VBbnN3ZXJTb3VyY2VzQXV0aG9yQXR0cmlidXRpb24ge1xuICAvKiogTmFtZSBvZiB0aGUgYXV0aG9yIG9mIHRoZSBQaG90byBvciBSZXZpZXcuICovXG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xuICAvKiogUHJvZmlsZSBwaG90byBVUkkgb2YgdGhlIGF1dGhvciBvZiB0aGUgUGhvdG8gb3IgUmV2aWV3LiAqL1xuICBwaG90b1VyaT86IHN0cmluZztcbiAgLyoqIFVSSSBvZiB0aGUgYXV0aG9yIG9mIHRoZSBQaG90byBvciBSZXZpZXcuICovXG4gIHVyaT86IHN0cmluZztcbn1cblxuLyoqIEVuY2Fwc3VsYXRlcyBhIHJldmlldyBzbmlwcGV0LiBUaGlzIGRhdGEgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR3JvdW5kaW5nQ2h1bmtNYXBzUGxhY2VBbnN3ZXJTb3VyY2VzUmV2aWV3U25pcHBldCB7XG4gIC8qKiBUaGlzIHJldmlldydzIGF1dGhvci4gKi9cbiAgYXV0aG9yQXR0cmlidXRpb24/OiBHcm91bmRpbmdDaHVua01hcHNQbGFjZUFuc3dlclNvdXJjZXNBdXRob3JBdHRyaWJ1dGlvbjtcbiAgLyoqIEEgbGluayB3aGVyZSB1c2VycyBjYW4gZmxhZyBhIHByb2JsZW0gd2l0aCB0aGUgcmV2aWV3LiAqL1xuICBmbGFnQ29udGVudFVyaT86IHN0cmluZztcbiAgLyoqIEEgbGluayB0byBzaG93IHRoZSByZXZpZXcgb24gR29vZ2xlIE1hcHMuICovXG4gIGdvb2dsZU1hcHNVcmk/OiBzdHJpbmc7XG4gIC8qKiBBIHN0cmluZyBvZiBmb3JtYXR0ZWQgcmVjZW50IHRpbWUsIGV4cHJlc3NpbmcgdGhlIHJldmlldyB0aW1lIHJlbGF0aXZlIHRvIHRoZSBjdXJyZW50IHRpbWUgaW4gYSBmb3JtIGFwcHJvcHJpYXRlIGZvciB0aGUgbGFuZ3VhZ2UgYW5kIGNvdW50cnkuICovXG4gIHJlbGF0aXZlUHVibGlzaFRpbWVEZXNjcmlwdGlvbj86IHN0cmluZztcbiAgLyoqIEEgcmVmZXJlbmNlIHJlcHJlc2VudGluZyB0aGlzIHBsYWNlIHJldmlldyB3aGljaCBtYXkgYmUgdXNlZCB0byBsb29rIHVwIHRoaXMgcGxhY2UgcmV2aWV3IGFnYWluLiAqL1xuICByZXZpZXc/OiBzdHJpbmc7XG4gIC8qKiBJZCBvZiB0aGUgcmV2aWV3IHJlZmVyZW5jaW5nIHRoZSBwbGFjZS4gKi9cbiAgcmV2aWV3SWQ/OiBzdHJpbmc7XG4gIC8qKiBUaXRsZSBvZiB0aGUgcmV2aWV3LiAqL1xuICB0aXRsZT86IHN0cmluZztcbn1cblxuLyoqIFNvdXJjZXMgdXNlZCB0byBnZW5lcmF0ZSB0aGUgcGxhY2UgYW5zd2VyLiBUaGlzIGRhdGEgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR3JvdW5kaW5nQ2h1bmtNYXBzUGxhY2VBbnN3ZXJTb3VyY2VzIHtcbiAgLyoqIEEgbGluayB3aGVyZSB1c2VycyBjYW4gZmxhZyBhIHByb2JsZW0gd2l0aCB0aGUgZ2VuZXJhdGVkIGFuc3dlci4gKi9cbiAgZmxhZ0NvbnRlbnRVcmk/OiBzdHJpbmc7XG4gIC8qKiBTbmlwcGV0cyBvZiByZXZpZXdzIHRoYXQgYXJlIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIGFuc3dlci4gKi9cbiAgcmV2aWV3U25pcHBldHM/OiBHcm91bmRpbmdDaHVua01hcHNQbGFjZUFuc3dlclNvdXJjZXNSZXZpZXdTbmlwcGV0W107XG59XG5cbi8qKiBDaHVuayBmcm9tIEdvb2dsZSBNYXBzLiBUaGlzIGRhdGEgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR3JvdW5kaW5nQ2h1bmtNYXBzIHtcbiAgLyoqIFNvdXJjZXMgdXNlZCB0byBnZW5lcmF0ZSB0aGUgcGxhY2UgYW5zd2VyLiBUaGlzIGluY2x1ZGVzIHJldmlldyBzbmlwcGV0cyBhbmQgcGhvdG9zIHRoYXQgd2VyZSB1c2VkIHRvIGdlbmVyYXRlIHRoZSBhbnN3ZXIsIGFzIHdlbGwgYXMgdXJpcyB0byBmbGFnIGNvbnRlbnQuICovXG4gIHBsYWNlQW5zd2VyU291cmNlcz86IEdyb3VuZGluZ0NodW5rTWFwc1BsYWNlQW5zd2VyU291cmNlcztcbiAgLyoqIFRoaXMgUGxhY2UncyByZXNvdXJjZSBuYW1lLCBpbiBgcGxhY2VzL3twbGFjZV9pZH1gIGZvcm1hdC4gQ2FuIGJlIHVzZWQgdG8gbG9vayB1cCB0aGUgUGxhY2UuICovXG4gIHBsYWNlSWQ/OiBzdHJpbmc7XG4gIC8qKiBUZXh0IG9mIHRoZSBwbGFjZSBhbnN3ZXIuICovXG4gIHRleHQ/OiBzdHJpbmc7XG4gIC8qKiBUaXRsZSBvZiB0aGUgcGxhY2UuICovXG4gIHRpdGxlPzogc3RyaW5nO1xuICAvKiogVVJJIHJlZmVyZW5jZSBvZiB0aGUgcGxhY2UuICovXG4gIHVyaT86IHN0cmluZztcbn1cblxuLyoqIFJlcHJlc2VudHMgd2hlcmUgdGhlIGNodW5rIHN0YXJ0cyBhbmQgZW5kcyBpbiB0aGUgZG9jdW1lbnQuIFRoaXMgZGF0YSB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBSYWdDaHVua1BhZ2VTcGFuIHtcbiAgLyoqIFBhZ2Ugd2hlcmUgY2h1bmsgc3RhcnRzIGluIHRoZSBkb2N1bWVudC4gSW5jbHVzaXZlLiAxLWluZGV4ZWQuICovXG4gIGZpcnN0UGFnZT86IG51bWJlcjtcbiAgLyoqIFBhZ2Ugd2hlcmUgY2h1bmsgZW5kcyBpbiB0aGUgZG9jdW1lbnQuIEluY2x1c2l2ZS4gMS1pbmRleGVkLiAqL1xuICBsYXN0UGFnZT86IG51bWJlcjtcbn1cblxuLyoqIEEgUmFnQ2h1bmsgaW5jbHVkZXMgdGhlIGNvbnRlbnQgb2YgYSBjaHVuayBvZiBhIFJhZ0ZpbGUsIGFuZCBhc3NvY2lhdGVkIG1ldGFkYXRhLiBUaGlzIGRhdGEgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgUmFnQ2h1bmsge1xuICAvKiogSWYgcG9wdWxhdGVkLCByZXByZXNlbnRzIHdoZXJlIHRoZSBjaHVuayBzdGFydHMgYW5kIGVuZHMgaW4gdGhlIGRvY3VtZW50LiAqL1xuICBwYWdlU3Bhbj86IFJhZ0NodW5rUGFnZVNwYW47XG4gIC8qKiBUaGUgY29udGVudCBvZiB0aGUgY2h1bmsuICovXG4gIHRleHQ/OiBzdHJpbmc7XG59XG5cbi8qKiBDaHVuayBmcm9tIGNvbnRleHQgcmV0cmlldmVkIGJ5IHRoZSByZXRyaWV2YWwgdG9vbHMuIFRoaXMgZGF0YSB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHcm91bmRpbmdDaHVua1JldHJpZXZlZENvbnRleHQge1xuICAvKiogT3V0cHV0IG9ubHkuIFRoZSBmdWxsIGRvY3VtZW50IG5hbWUgZm9yIHRoZSByZWZlcmVuY2VkIFZlcnRleCBBSSBTZWFyY2ggZG9jdW1lbnQuICovXG4gIGRvY3VtZW50TmFtZT86IHN0cmluZztcbiAgLyoqIEFkZGl0aW9uYWwgY29udGV4dCBmb3IgdGhlIFJBRyByZXRyaWV2YWwgcmVzdWx0LiBUaGlzIGlzIG9ubHkgcG9wdWxhdGVkIHdoZW4gdXNpbmcgdGhlIFJBRyByZXRyaWV2YWwgdG9vbC4gKi9cbiAgcmFnQ2h1bms/OiBSYWdDaHVuaztcbiAgLyoqIFRleHQgb2YgdGhlIGF0dHJpYnV0aW9uLiAqL1xuICB0ZXh0Pzogc3RyaW5nO1xuICAvKiogVGl0bGUgb2YgdGhlIGF0dHJpYnV0aW9uLiAqL1xuICB0aXRsZT86IHN0cmluZztcbiAgLyoqIFVSSSByZWZlcmVuY2Ugb2YgdGhlIGF0dHJpYnV0aW9uLiAqL1xuICB1cmk/OiBzdHJpbmc7XG59XG5cbi8qKiBDaHVuayBmcm9tIHRoZSB3ZWIuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR3JvdW5kaW5nQ2h1bmtXZWIge1xuICAvKiogRG9tYWluIG9mIHRoZSAob3JpZ2luYWwpIFVSSS4gVGhpcyBmaWVsZCBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG4gIGRvbWFpbj86IHN0cmluZztcbiAgLyoqIFRpdGxlIG9mIHRoZSBjaHVuay4gKi9cbiAgdGl0bGU/OiBzdHJpbmc7XG4gIC8qKiBVUkkgcmVmZXJlbmNlIG9mIHRoZSBjaHVuay4gKi9cbiAgdXJpPzogc3RyaW5nO1xufVxuXG4vKiogR3JvdW5kaW5nIGNodW5rLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdyb3VuZGluZ0NodW5rIHtcbiAgLyoqIEdyb3VuZGluZyBjaHVuayBmcm9tIEdvb2dsZSBNYXBzLiBUaGlzIGZpZWxkIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbiAgbWFwcz86IEdyb3VuZGluZ0NodW5rTWFwcztcbiAgLyoqIEdyb3VuZGluZyBjaHVuayBmcm9tIGNvbnRleHQgcmV0cmlldmVkIGJ5IHRoZSByZXRyaWV2YWwgdG9vbHMuIFRoaXMgZmllbGQgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuICByZXRyaWV2ZWRDb250ZXh0PzogR3JvdW5kaW5nQ2h1bmtSZXRyaWV2ZWRDb250ZXh0O1xuICAvKiogR3JvdW5kaW5nIGNodW5rIGZyb20gdGhlIHdlYi4gKi9cbiAgd2ViPzogR3JvdW5kaW5nQ2h1bmtXZWI7XG59XG5cbi8qKiBTZWdtZW50IG9mIHRoZSBjb250ZW50LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFNlZ21lbnQge1xuICAvKiogT3V0cHV0IG9ubHkuIEVuZCBpbmRleCBpbiB0aGUgZ2l2ZW4gUGFydCwgbWVhc3VyZWQgaW4gYnl0ZXMuIE9mZnNldCBmcm9tIHRoZSBzdGFydCBvZiB0aGUgUGFydCwgZXhjbHVzaXZlLCBzdGFydGluZyBhdCB6ZXJvLiAqL1xuICBlbmRJbmRleD86IG51bWJlcjtcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgaW5kZXggb2YgYSBQYXJ0IG9iamVjdCB3aXRoaW4gaXRzIHBhcmVudCBDb250ZW50IG9iamVjdC4gKi9cbiAgcGFydEluZGV4PzogbnVtYmVyO1xuICAvKiogT3V0cHV0IG9ubHkuIFN0YXJ0IGluZGV4IGluIHRoZSBnaXZlbiBQYXJ0LCBtZWFzdXJlZCBpbiBieXRlcy4gT2Zmc2V0IGZyb20gdGhlIHN0YXJ0IG9mIHRoZSBQYXJ0LCBpbmNsdXNpdmUsIHN0YXJ0aW5nIGF0IHplcm8uICovXG4gIHN0YXJ0SW5kZXg/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIHRleHQgY29ycmVzcG9uZGluZyB0byB0aGUgc2VnbWVudCBmcm9tIHRoZSByZXNwb25zZS4gKi9cbiAgdGV4dD86IHN0cmluZztcbn1cblxuLyoqIEdyb3VuZGluZyBzdXBwb3J0LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdyb3VuZGluZ1N1cHBvcnQge1xuICAvKiogQ29uZmlkZW5jZSBzY29yZSBvZiB0aGUgc3VwcG9ydCByZWZlcmVuY2VzLiBSYW5nZXMgZnJvbSAwIHRvIDEuIDEgaXMgdGhlIG1vc3QgY29uZmlkZW50LiBGb3IgR2VtaW5pIDIuMCBhbmQgYmVmb3JlLCB0aGlzIGxpc3QgbXVzdCBoYXZlIHRoZSBzYW1lIHNpemUgYXMgdGhlIGdyb3VuZGluZ19jaHVua19pbmRpY2VzLiBGb3IgR2VtaW5pIDIuNSBhbmQgYWZ0ZXIsIHRoaXMgbGlzdCB3aWxsIGJlIGVtcHR5IGFuZCBzaG91bGQgYmUgaWdub3JlZC4gKi9cbiAgY29uZmlkZW5jZVNjb3Jlcz86IG51bWJlcltdO1xuICAvKiogQSBsaXN0IG9mIGluZGljZXMgKGludG8gJ2dyb3VuZGluZ19jaHVuaycpIHNwZWNpZnlpbmcgdGhlIGNpdGF0aW9ucyBhc3NvY2lhdGVkIHdpdGggdGhlIGNsYWltLiBGb3IgaW5zdGFuY2UgWzEsMyw0XSBtZWFucyB0aGF0IGdyb3VuZGluZ19jaHVua1sxXSwgZ3JvdW5kaW5nX2NodW5rWzNdLCBncm91bmRpbmdfY2h1bmtbNF0gYXJlIHRoZSByZXRyaWV2ZWQgY29udGVudCBhdHRyaWJ1dGVkIHRvIHRoZSBjbGFpbS4gKi9cbiAgZ3JvdW5kaW5nQ2h1bmtJbmRpY2VzPzogbnVtYmVyW107XG4gIC8qKiBTZWdtZW50IG9mIHRoZSBjb250ZW50IHRoaXMgc3VwcG9ydCBiZWxvbmdzIHRvLiAqL1xuICBzZWdtZW50PzogU2VnbWVudDtcbn1cblxuLyoqIE1ldGFkYXRhIHJlbGF0ZWQgdG8gcmV0cmlldmFsIGluIHRoZSBncm91bmRpbmcgZmxvdy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBSZXRyaWV2YWxNZXRhZGF0YSB7XG4gIC8qKiBPcHRpb25hbC4gU2NvcmUgaW5kaWNhdGluZyBob3cgbGlrZWx5IGluZm9ybWF0aW9uIGZyb20gR29vZ2xlIFNlYXJjaCBjb3VsZCBoZWxwIGFuc3dlciB0aGUgcHJvbXB0LiBUaGUgc2NvcmUgaXMgaW4gdGhlIHJhbmdlIGBbMCwgMV1gLCB3aGVyZSAwIGlzIHRoZSBsZWFzdCBsaWtlbHkgYW5kIDEgaXMgdGhlIG1vc3QgbGlrZWx5LiBUaGlzIHNjb3JlIGlzIG9ubHkgcG9wdWxhdGVkIHdoZW4gR29vZ2xlIFNlYXJjaCBncm91bmRpbmcgYW5kIGR5bmFtaWMgcmV0cmlldmFsIGlzIGVuYWJsZWQuIEl0IHdpbGwgYmUgY29tcGFyZWQgdG8gdGhlIHRocmVzaG9sZCB0byBkZXRlcm1pbmUgd2hldGhlciB0byB0cmlnZ2VyIEdvb2dsZSBTZWFyY2guICovXG4gIGdvb2dsZVNlYXJjaER5bmFtaWNSZXRyaWV2YWxTY29yZT86IG51bWJlcjtcbn1cblxuLyoqIEdvb2dsZSBzZWFyY2ggZW50cnkgcG9pbnQuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgU2VhcmNoRW50cnlQb2ludCB7XG4gIC8qKiBPcHRpb25hbC4gV2ViIGNvbnRlbnQgc25pcHBldCB0aGF0IGNhbiBiZSBlbWJlZGRlZCBpbiBhIHdlYiBwYWdlIG9yIGFuIGFwcCB3ZWJ2aWV3LiAqL1xuICByZW5kZXJlZENvbnRlbnQ/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gQmFzZTY0IGVuY29kZWQgSlNPTiByZXByZXNlbnRpbmcgYXJyYXkgb2YgdHVwbGUuXG4gICAqIEByZW1hcmtzIEVuY29kZWQgYXMgYmFzZTY0IHN0cmluZy4gKi9cbiAgc2RrQmxvYj86IHN0cmluZztcbn1cblxuLyoqIFNvdXJjZSBjb250ZW50IGZsYWdnaW5nIHVyaSBmb3IgYSBwbGFjZSBvciByZXZpZXcuIFRoaXMgaXMgY3VycmVudGx5IHBvcHVsYXRlZCBvbmx5IGZvciBHb29nbGUgTWFwcyBncm91bmRpbmcuIFRoaXMgZGF0YSB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHcm91bmRpbmdNZXRhZGF0YVNvdXJjZUZsYWdnaW5nVXJpIHtcbiAgLyoqIEEgbGluayB3aGVyZSB1c2VycyBjYW4gZmxhZyBhIHByb2JsZW0gd2l0aCB0aGUgc291cmNlIChwbGFjZSBvciByZXZpZXcpLiAqL1xuICBmbGFnQ29udGVudFVyaT86IHN0cmluZztcbiAgLyoqIElkIG9mIHRoZSBwbGFjZSBvciByZXZpZXcuICovXG4gIHNvdXJjZUlkPzogc3RyaW5nO1xufVxuXG4vKiogTWV0YWRhdGEgcmV0dXJuZWQgdG8gY2xpZW50IHdoZW4gZ3JvdW5kaW5nIGlzIGVuYWJsZWQuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR3JvdW5kaW5nTWV0YWRhdGEge1xuICAvKiogT3B0aW9uYWwuIE91dHB1dCBvbmx5LiBSZXNvdXJjZSBuYW1lIG9mIHRoZSBHb29nbGUgTWFwcyB3aWRnZXQgY29udGV4dCB0b2tlbiB0byBiZSB1c2VkIHdpdGggdGhlIFBsYWNlc0NvbnRleHRFbGVtZW50IHdpZGdldCB0byByZW5kZXIgY29udGV4dHVhbCBkYXRhLiBUaGlzIGlzIHBvcHVsYXRlZCBvbmx5IGZvciBHb29nbGUgTWFwcyBncm91bmRpbmcuIFRoaXMgZmllbGQgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuICBnb29nbGVNYXBzV2lkZ2V0Q29udGV4dFRva2VuPzogc3RyaW5nO1xuICAvKiogTGlzdCBvZiBzdXBwb3J0aW5nIHJlZmVyZW5jZXMgcmV0cmlldmVkIGZyb20gc3BlY2lmaWVkIGdyb3VuZGluZyBzb3VyY2UuICovXG4gIGdyb3VuZGluZ0NodW5rcz86IEdyb3VuZGluZ0NodW5rW107XG4gIC8qKiBPcHRpb25hbC4gTGlzdCBvZiBncm91bmRpbmcgc3VwcG9ydC4gKi9cbiAgZ3JvdW5kaW5nU3VwcG9ydHM/OiBHcm91bmRpbmdTdXBwb3J0W107XG4gIC8qKiBPcHRpb25hbC4gT3V0cHV0IG9ubHkuIFJldHJpZXZhbCBtZXRhZGF0YS4gKi9cbiAgcmV0cmlldmFsTWV0YWRhdGE/OiBSZXRyaWV2YWxNZXRhZGF0YTtcbiAgLyoqIE9wdGlvbmFsLiBRdWVyaWVzIGV4ZWN1dGVkIGJ5IHRoZSByZXRyaWV2YWwgdG9vbHMuIFRoaXMgZmllbGQgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuICByZXRyaWV2YWxRdWVyaWVzPzogc3RyaW5nW107XG4gIC8qKiBPcHRpb25hbC4gR29vZ2xlIHNlYXJjaCBlbnRyeSBmb3IgdGhlIGZvbGxvd2luZy11cCB3ZWIgc2VhcmNoZXMuICovXG4gIHNlYXJjaEVudHJ5UG9pbnQ/OiBTZWFyY2hFbnRyeVBvaW50O1xuICAvKiogT3B0aW9uYWwuIE91dHB1dCBvbmx5LiBMaXN0IG9mIHNvdXJjZSBmbGFnZ2luZyB1cmlzLiBUaGlzIGlzIGN1cnJlbnRseSBwb3B1bGF0ZWQgb25seSBmb3IgR29vZ2xlIE1hcHMgZ3JvdW5kaW5nLiBUaGlzIGZpZWxkIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbiAgc291cmNlRmxhZ2dpbmdVcmlzPzogR3JvdW5kaW5nTWV0YWRhdGFTb3VyY2VGbGFnZ2luZ1VyaVtdO1xuICAvKiogT3B0aW9uYWwuIFdlYiBzZWFyY2ggcXVlcmllcyBmb3IgdGhlIGZvbGxvd2luZy11cCB3ZWIgc2VhcmNoLiAqL1xuICB3ZWJTZWFyY2hRdWVyaWVzPzogc3RyaW5nW107XG59XG5cbi8qKiBDYW5kaWRhdGUgZm9yIHRoZSBsb2dwcm9icyB0b2tlbiBhbmQgc2NvcmUuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTG9ncHJvYnNSZXN1bHRDYW5kaWRhdGUge1xuICAvKiogVGhlIGNhbmRpZGF0ZSdzIGxvZyBwcm9iYWJpbGl0eS4gKi9cbiAgbG9nUHJvYmFiaWxpdHk/OiBudW1iZXI7XG4gIC8qKiBUaGUgY2FuZGlkYXRlJ3MgdG9rZW4gc3RyaW5nIHZhbHVlLiAqL1xuICB0b2tlbj86IHN0cmluZztcbiAgLyoqIFRoZSBjYW5kaWRhdGUncyB0b2tlbiBpZCB2YWx1ZS4gKi9cbiAgdG9rZW5JZD86IG51bWJlcjtcbn1cblxuLyoqIENhbmRpZGF0ZXMgd2l0aCB0b3AgbG9nIHByb2JhYmlsaXRpZXMgYXQgZWFjaCBkZWNvZGluZyBzdGVwLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExvZ3Byb2JzUmVzdWx0VG9wQ2FuZGlkYXRlcyB7XG4gIC8qKiBTb3J0ZWQgYnkgbG9nIHByb2JhYmlsaXR5IGluIGRlc2NlbmRpbmcgb3JkZXIuICovXG4gIGNhbmRpZGF0ZXM/OiBMb2dwcm9ic1Jlc3VsdENhbmRpZGF0ZVtdO1xufVxuXG4vKiogTG9ncHJvYnMgUmVzdWx0ICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTG9ncHJvYnNSZXN1bHQge1xuICAvKiogTGVuZ3RoID0gdG90YWwgbnVtYmVyIG9mIGRlY29kaW5nIHN0ZXBzLiBUaGUgY2hvc2VuIGNhbmRpZGF0ZXMgbWF5IG9yIG1heSBub3QgYmUgaW4gdG9wX2NhbmRpZGF0ZXMuICovXG4gIGNob3NlbkNhbmRpZGF0ZXM/OiBMb2dwcm9ic1Jlc3VsdENhbmRpZGF0ZVtdO1xuICAvKiogTGVuZ3RoID0gdG90YWwgbnVtYmVyIG9mIGRlY29kaW5nIHN0ZXBzLiAqL1xuICB0b3BDYW5kaWRhdGVzPzogTG9ncHJvYnNSZXN1bHRUb3BDYW5kaWRhdGVzW107XG59XG5cbi8qKiBTYWZldHkgcmF0aW5nIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdlbmVyYXRlZCBjb250ZW50LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFNhZmV0eVJhdGluZyB7XG4gIC8qKiBPdXRwdXQgb25seS4gSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGNvbnRlbnQgd2FzIGZpbHRlcmVkIG91dCBiZWNhdXNlIG9mIHRoaXMgcmF0aW5nLiAqL1xuICBibG9ja2VkPzogYm9vbGVhbjtcbiAgLyoqIE91dHB1dCBvbmx5LiBIYXJtIGNhdGVnb3J5LiAqL1xuICBjYXRlZ29yeT86IEhhcm1DYXRlZ29yeTtcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgb3ZlcndyaXR0ZW4gdGhyZXNob2xkIGZvciB0aGUgc2FmZXR5IGNhdGVnb3J5IG9mIEdlbWluaSAyLjAgaW1hZ2Ugb3V0LiBJZiBtaW5vcnMgYXJlIGRldGVjdGVkIGluIHRoZSBvdXRwdXQgaW1hZ2UsIHRoZSB0aHJlc2hvbGQgb2YgZWFjaCBzYWZldHkgY2F0ZWdvcnkgd2lsbCBiZSBvdmVyd3JpdHRlbiBpZiB1c2VyIHNldHMgYSBsb3dlciB0aHJlc2hvbGQuIFRoaXMgZmllbGQgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuICBvdmVyd3JpdHRlblRocmVzaG9sZD86IEhhcm1CbG9ja1RocmVzaG9sZDtcbiAgLyoqIE91dHB1dCBvbmx5LiBIYXJtIHByb2JhYmlsaXR5IGxldmVscyBpbiB0aGUgY29udGVudC4gKi9cbiAgcHJvYmFiaWxpdHk/OiBIYXJtUHJvYmFiaWxpdHk7XG4gIC8qKiBPdXRwdXQgb25seS4gSGFybSBwcm9iYWJpbGl0eSBzY29yZS4gVGhpcyBmaWVsZCBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG4gIHByb2JhYmlsaXR5U2NvcmU/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gSGFybSBzZXZlcml0eSBsZXZlbHMgaW4gdGhlIGNvbnRlbnQuIFRoaXMgZmllbGQgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuICBzZXZlcml0eT86IEhhcm1TZXZlcml0eTtcbiAgLyoqIE91dHB1dCBvbmx5LiBIYXJtIHNldmVyaXR5IHNjb3JlLiBUaGlzIGZpZWxkIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbiAgc2V2ZXJpdHlTY29yZT86IG51bWJlcjtcbn1cblxuLyoqIENvbnRleHQgb2YgdGhlIGEgc2luZ2xlIHVybCByZXRyaWV2YWwuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVXJsTWV0YWRhdGEge1xuICAvKiogUmV0cmlldmVkIHVybCBieSB0aGUgdG9vbC4gKi9cbiAgcmV0cmlldmVkVXJsPzogc3RyaW5nO1xuICAvKiogU3RhdHVzIG9mIHRoZSB1cmwgcmV0cmlldmFsLiAqL1xuICB1cmxSZXRyaWV2YWxTdGF0dXM/OiBVcmxSZXRyaWV2YWxTdGF0dXM7XG59XG5cbi8qKiBNZXRhZGF0YSByZWxhdGVkIHRvIHVybCBjb250ZXh0IHJldHJpZXZhbCB0b29sLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFVybENvbnRleHRNZXRhZGF0YSB7XG4gIC8qKiBPdXRwdXQgb25seS4gTGlzdCBvZiB1cmwgY29udGV4dC4gKi9cbiAgdXJsTWV0YWRhdGE/OiBVcmxNZXRhZGF0YVtdO1xufVxuXG4vKiogQSByZXNwb25zZSBjYW5kaWRhdGUgZ2VuZXJhdGVkIGZyb20gdGhlIG1vZGVsLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENhbmRpZGF0ZSB7XG4gIC8qKiBDb250YWlucyB0aGUgbXVsdGktcGFydCBjb250ZW50IG9mIHRoZSByZXNwb25zZS5cbiAgICovXG4gIGNvbnRlbnQ/OiBDb250ZW50O1xuICAvKiogU291cmNlIGF0dHJpYnV0aW9uIG9mIHRoZSBnZW5lcmF0ZWQgY29udGVudC5cbiAgICovXG4gIGNpdGF0aW9uTWV0YWRhdGE/OiBDaXRhdGlvbk1ldGFkYXRhO1xuICAvKiogRGVzY3JpYmVzIHRoZSByZWFzb24gdGhlIG1vZGVsIHN0b3BwZWQgZ2VuZXJhdGluZyB0b2tlbnMuXG4gICAqL1xuICBmaW5pc2hNZXNzYWdlPzogc3RyaW5nO1xuICAvKiogTnVtYmVyIG9mIHRva2VucyBmb3IgdGhpcyBjYW5kaWRhdGUuXG4gICAqL1xuICB0b2tlbkNvdW50PzogbnVtYmVyO1xuICAvKiogVGhlIHJlYXNvbiB3aHkgdGhlIG1vZGVsIHN0b3BwZWQgZ2VuZXJhdGluZyB0b2tlbnMuXG4gICAgICBJZiBlbXB0eSwgdGhlIG1vZGVsIGhhcyBub3Qgc3RvcHBlZCBnZW5lcmF0aW5nIHRoZSB0b2tlbnMuXG4gICAgICAgKi9cbiAgZmluaXNoUmVhc29uPzogRmluaXNoUmVhc29uO1xuICAvKiogT3V0cHV0IG9ubHkuIEF2ZXJhZ2UgbG9nIHByb2JhYmlsaXR5IHNjb3JlIG9mIHRoZSBjYW5kaWRhdGUuICovXG4gIGF2Z0xvZ3Byb2JzPzogbnVtYmVyO1xuICAvKiogT3V0cHV0IG9ubHkuIE1ldGFkYXRhIHNwZWNpZmllcyBzb3VyY2VzIHVzZWQgdG8gZ3JvdW5kIGdlbmVyYXRlZCBjb250ZW50LiAqL1xuICBncm91bmRpbmdNZXRhZGF0YT86IEdyb3VuZGluZ01ldGFkYXRhO1xuICAvKiogT3V0cHV0IG9ubHkuIEluZGV4IG9mIHRoZSBjYW5kaWRhdGUuICovXG4gIGluZGV4PzogbnVtYmVyO1xuICAvKiogT3V0cHV0IG9ubHkuIExvZy1saWtlbGlob29kIHNjb3JlcyBmb3IgdGhlIHJlc3BvbnNlIHRva2VucyBhbmQgdG9wIHRva2VucyAqL1xuICBsb2dwcm9ic1Jlc3VsdD86IExvZ3Byb2JzUmVzdWx0O1xuICAvKiogT3V0cHV0IG9ubHkuIExpc3Qgb2YgcmF0aW5ncyBmb3IgdGhlIHNhZmV0eSBvZiBhIHJlc3BvbnNlIGNhbmRpZGF0ZS4gVGhlcmUgaXMgYXQgbW9zdCBvbmUgcmF0aW5nIHBlciBjYXRlZ29yeS4gKi9cbiAgc2FmZXR5UmF0aW5ncz86IFNhZmV0eVJhdGluZ1tdO1xuICAvKiogT3V0cHV0IG9ubHkuIE1ldGFkYXRhIHJlbGF0ZWQgdG8gdXJsIGNvbnRleHQgcmV0cmlldmFsIHRvb2wuICovXG4gIHVybENvbnRleHRNZXRhZGF0YT86IFVybENvbnRleHRNZXRhZGF0YTtcbn1cblxuLyoqIENvbnRlbnQgZmlsdGVyIHJlc3VsdHMgZm9yIGEgcHJvbXB0IHNlbnQgaW4gdGhlIHJlcXVlc3QuIE5vdGU6IFRoaXMgaXMgc2VudCBvbmx5IGluIHRoZSBmaXJzdCBzdHJlYW0gY2h1bmsgYW5kIG9ubHkgaWYgbm8gY2FuZGlkYXRlcyB3ZXJlIGdlbmVyYXRlZCBkdWUgdG8gY29udGVudCB2aW9sYXRpb25zLiAqL1xuZXhwb3J0IGNsYXNzIEdlbmVyYXRlQ29udGVudFJlc3BvbnNlUHJvbXB0RmVlZGJhY2sge1xuICAvKiogT3V0cHV0IG9ubHkuIFRoZSByZWFzb24gd2h5IHRoZSBwcm9tcHQgd2FzIGJsb2NrZWQuICovXG4gIGJsb2NrUmVhc29uPzogQmxvY2tlZFJlYXNvbjtcbiAgLyoqIE91dHB1dCBvbmx5LiBBIHJlYWRhYmxlIG1lc3NhZ2UgdGhhdCBleHBsYWlucyB0aGUgcmVhc29uIHdoeSB0aGUgcHJvbXB0IHdhcyBibG9ja2VkLiBUaGlzIGZpZWxkIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbiAgYmxvY2tSZWFzb25NZXNzYWdlPzogc3RyaW5nO1xuICAvKiogT3V0cHV0IG9ubHkuIEEgbGlzdCBvZiBzYWZldHkgcmF0aW5ncyBmb3IgdGhlIHByb21wdC4gVGhlcmUgaXMgb25lIHJhdGluZyBwZXIgY2F0ZWdvcnkuICovXG4gIHNhZmV0eVJhdGluZ3M/OiBTYWZldHlSYXRpbmdbXTtcbn1cblxuLyoqIFJlcHJlc2VudHMgdG9rZW4gY291bnRpbmcgaW5mbyBmb3IgYSBzaW5nbGUgbW9kYWxpdHkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTW9kYWxpdHlUb2tlbkNvdW50IHtcbiAgLyoqIFRoZSBtb2RhbGl0eSBhc3NvY2lhdGVkIHdpdGggdGhpcyB0b2tlbiBjb3VudC4gKi9cbiAgbW9kYWxpdHk/OiBNZWRpYU1vZGFsaXR5O1xuICAvKiogTnVtYmVyIG9mIHRva2Vucy4gKi9cbiAgdG9rZW5Db3VudD86IG51bWJlcjtcbn1cblxuLyoqIFVzYWdlIG1ldGFkYXRhIGFib3V0IHRoZSBjb250ZW50IGdlbmVyYXRpb24gcmVxdWVzdCBhbmQgcmVzcG9uc2UuIFRoaXMgbWVzc2FnZSBwcm92aWRlcyBhIGRldGFpbGVkIGJyZWFrZG93biBvZiB0b2tlbiB1c2FnZSBhbmQgb3RoZXIgcmVsZXZhbnQgbWV0cmljcy4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGNsYXNzIEdlbmVyYXRlQ29udGVudFJlc3BvbnNlVXNhZ2VNZXRhZGF0YSB7XG4gIC8qKiBPdXRwdXQgb25seS4gQSBkZXRhaWxlZCBicmVha2Rvd24gb2YgdGhlIHRva2VuIGNvdW50IGZvciBlYWNoIG1vZGFsaXR5IGluIHRoZSBjYWNoZWQgY29udGVudC4gKi9cbiAgY2FjaGVUb2tlbnNEZXRhaWxzPzogTW9kYWxpdHlUb2tlbkNvdW50W107XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIG51bWJlciBvZiB0b2tlbnMgaW4gdGhlIGNhY2hlZCBjb250ZW50IHRoYXQgd2FzIHVzZWQgZm9yIHRoaXMgcmVxdWVzdC4gKi9cbiAgY2FjaGVkQ29udGVudFRva2VuQ291bnQ/OiBudW1iZXI7XG4gIC8qKiBUaGUgdG90YWwgbnVtYmVyIG9mIHRva2VucyBpbiB0aGUgZ2VuZXJhdGVkIGNhbmRpZGF0ZXMuICovXG4gIGNhbmRpZGF0ZXNUb2tlbkNvdW50PzogbnVtYmVyO1xuICAvKiogT3V0cHV0IG9ubHkuIEEgZGV0YWlsZWQgYnJlYWtkb3duIG9mIHRoZSB0b2tlbiBjb3VudCBmb3IgZWFjaCBtb2RhbGl0eSBpbiB0aGUgZ2VuZXJhdGVkIGNhbmRpZGF0ZXMuICovXG4gIGNhbmRpZGF0ZXNUb2tlbnNEZXRhaWxzPzogTW9kYWxpdHlUb2tlbkNvdW50W107XG4gIC8qKiBUaGUgdG90YWwgbnVtYmVyIG9mIHRva2VucyBpbiB0aGUgcHJvbXB0LiBUaGlzIGluY2x1ZGVzIGFueSB0ZXh0LCBpbWFnZXMsIG9yIG90aGVyIG1lZGlhIHByb3ZpZGVkIGluIHRoZSByZXF1ZXN0LiBXaGVuIGBjYWNoZWRfY29udGVudGAgaXMgc2V0LCB0aGlzIGFsc28gaW5jbHVkZXMgdGhlIG51bWJlciBvZiB0b2tlbnMgaW4gdGhlIGNhY2hlZCBjb250ZW50LiAqL1xuICBwcm9tcHRUb2tlbkNvdW50PzogbnVtYmVyO1xuICAvKiogT3V0cHV0IG9ubHkuIEEgZGV0YWlsZWQgYnJlYWtkb3duIG9mIHRoZSB0b2tlbiBjb3VudCBmb3IgZWFjaCBtb2RhbGl0eSBpbiB0aGUgcHJvbXB0LiAqL1xuICBwcm9tcHRUb2tlbnNEZXRhaWxzPzogTW9kYWxpdHlUb2tlbkNvdW50W107XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIG51bWJlciBvZiB0b2tlbnMgdGhhdCB3ZXJlIHBhcnQgb2YgdGhlIG1vZGVsJ3MgZ2VuZXJhdGVkIFwidGhvdWdodHNcIiBvdXRwdXQsIGlmIGFwcGxpY2FibGUuICovXG4gIHRob3VnaHRzVG9rZW5Db3VudD86IG51bWJlcjtcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgbnVtYmVyIG9mIHRva2VucyBpbiB0aGUgcmVzdWx0cyBmcm9tIHRvb2wgZXhlY3V0aW9ucywgd2hpY2ggYXJlIHByb3ZpZGVkIGJhY2sgdG8gdGhlIG1vZGVsIGFzIGlucHV0LCBpZiBhcHBsaWNhYmxlLiAqL1xuICB0b29sVXNlUHJvbXB0VG9rZW5Db3VudD86IG51bWJlcjtcbiAgLyoqIE91dHB1dCBvbmx5LiBBIGRldGFpbGVkIGJyZWFrZG93biBieSBtb2RhbGl0eSBvZiB0aGUgdG9rZW4gY291bnRzIGZyb20gdGhlIHJlc3VsdHMgb2YgdG9vbCBleGVjdXRpb25zLCB3aGljaCBhcmUgcHJvdmlkZWQgYmFjayB0byB0aGUgbW9kZWwgYXMgaW5wdXQuICovXG4gIHRvb2xVc2VQcm9tcHRUb2tlbnNEZXRhaWxzPzogTW9kYWxpdHlUb2tlbkNvdW50W107XG4gIC8qKiBUaGUgdG90YWwgbnVtYmVyIG9mIHRva2VucyBmb3IgdGhlIGVudGlyZSByZXF1ZXN0LiBUaGlzIGlzIHRoZSBzdW0gb2YgYHByb21wdF90b2tlbl9jb3VudGAsIGBjYW5kaWRhdGVzX3Rva2VuX2NvdW50YCwgYHRvb2xfdXNlX3Byb21wdF90b2tlbl9jb3VudGAsIGFuZCBgdGhvdWdodHNfdG9rZW5fY291bnRgLiAqL1xuICB0b3RhbFRva2VuQ291bnQ/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIHRyYWZmaWMgdHlwZSBmb3IgdGhpcyByZXF1ZXN0LiAqL1xuICB0cmFmZmljVHlwZT86IFRyYWZmaWNUeXBlO1xufVxuXG4vKiogUmVzcG9uc2UgbWVzc2FnZSBmb3IgUHJlZGljdGlvblNlcnZpY2UuR2VuZXJhdGVDb250ZW50LiAqL1xuZXhwb3J0IGNsYXNzIEdlbmVyYXRlQ29udGVudFJlc3BvbnNlIHtcbiAgLyoqIFVzZWQgdG8gcmV0YWluIHRoZSBmdWxsIEhUVFAgcmVzcG9uc2UuICovXG4gIHNka0h0dHBSZXNwb25zZT86IEh0dHBSZXNwb25zZTtcbiAgLyoqIFJlc3BvbnNlIHZhcmlhdGlvbnMgcmV0dXJuZWQgYnkgdGhlIG1vZGVsLlxuICAgKi9cbiAgY2FuZGlkYXRlcz86IENhbmRpZGF0ZVtdO1xuICAvKiogVGltZXN0YW1wIHdoZW4gdGhlIHJlcXVlc3QgaXMgbWFkZSB0byB0aGUgc2VydmVyLlxuICAgKi9cbiAgY3JlYXRlVGltZT86IHN0cmluZztcbiAgLyoqIFRoZSBoaXN0b3J5IG9mIGF1dG9tYXRpYyBmdW5jdGlvbiBjYWxsaW5nLlxuICAgKi9cbiAgYXV0b21hdGljRnVuY3Rpb25DYWxsaW5nSGlzdG9yeT86IENvbnRlbnRbXTtcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgbW9kZWwgdmVyc2lvbiB1c2VkIHRvIGdlbmVyYXRlIHRoZSByZXNwb25zZS4gKi9cbiAgbW9kZWxWZXJzaW9uPzogc3RyaW5nO1xuICAvKiogT3V0cHV0IG9ubHkuIENvbnRlbnQgZmlsdGVyIHJlc3VsdHMgZm9yIGEgcHJvbXB0IHNlbnQgaW4gdGhlIHJlcXVlc3QuIE5vdGU6IFNlbnQgb25seSBpbiB0aGUgZmlyc3Qgc3RyZWFtIGNodW5rLiBPbmx5IGhhcHBlbnMgd2hlbiBubyBjYW5kaWRhdGVzIHdlcmUgZ2VuZXJhdGVkIGR1ZSB0byBjb250ZW50IHZpb2xhdGlvbnMuICovXG4gIHByb21wdEZlZWRiYWNrPzogR2VuZXJhdGVDb250ZW50UmVzcG9uc2VQcm9tcHRGZWVkYmFjaztcbiAgLyoqIE91dHB1dCBvbmx5LiByZXNwb25zZV9pZCBpcyB1c2VkIHRvIGlkZW50aWZ5IGVhY2ggcmVzcG9uc2UuIEl0IGlzIHRoZSBlbmNvZGluZyBvZiB0aGUgZXZlbnRfaWQuICovXG4gIHJlc3BvbnNlSWQ/OiBzdHJpbmc7XG4gIC8qKiBVc2FnZSBtZXRhZGF0YSBhYm91dCB0aGUgcmVzcG9uc2UocykuICovXG4gIHVzYWdlTWV0YWRhdGE/OiBHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZVVzYWdlTWV0YWRhdGE7XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjb25jYXRlbmF0aW9uIG9mIGFsbCB0ZXh0IHBhcnRzIGZyb20gdGhlIGZpcnN0IGNhbmRpZGF0ZSBpbiB0aGUgcmVzcG9uc2UuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBjYW5kaWRhdGVzIGluIHRoZSByZXNwb25zZSwgdGhlIHRleHQgZnJvbSB0aGUgZmlyc3RcbiAgICogb25lIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAqIElmIHRoZXJlIGFyZSBub24tdGV4dCBwYXJ0cyBpbiB0aGUgcmVzcG9uc2UsIHRoZSBjb25jYXRlbmF0aW9uIG9mIGFsbCB0ZXh0XG4gICAqIHBhcnRzIHdpbGwgYmUgcmV0dXJuZWQsIGFuZCBhIHdhcm5pbmcgd2lsbCBiZSBsb2dnZWQuXG4gICAqIElmIHRoZXJlIGFyZSB0aG91Z2h0IHBhcnRzIGluIHRoZSByZXNwb25zZSwgdGhlIGNvbmNhdGVuYXRpb24gb2YgYWxsIHRleHRcbiAgICogcGFydHMgZXhjbHVkaW5nIHRoZSB0aG91Z2h0IHBhcnRzIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYWkubW9kZWxzLmdlbmVyYXRlQ29udGVudCh7XG4gICAqICAgbW9kZWw6ICdnZW1pbmktMi4wLWZsYXNoJyxcbiAgICogICBjb250ZW50czpcbiAgICogICAgICdXaHkgaXMgdGhlIHNreSBibHVlPycsXG4gICAqIH0pO1xuICAgKlxuICAgKiBjb25zb2xlLmRlYnVnKHJlc3BvbnNlLnRleHQpO1xuICAgKiBgYGBcbiAgICovXG4gIGdldCB0ZXh0KCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHRoaXMuY2FuZGlkYXRlcz8uWzBdPy5jb250ZW50Py5wYXJ0cz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodGhpcy5jYW5kaWRhdGVzICYmIHRoaXMuY2FuZGlkYXRlcy5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICd0aGVyZSBhcmUgbXVsdGlwbGUgY2FuZGlkYXRlcyBpbiB0aGUgcmVzcG9uc2UsIHJldHVybmluZyB0ZXh0IGZyb20gdGhlIGZpcnN0IG9uZS4nLFxuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IHRleHQgPSAnJztcbiAgICBsZXQgYW55VGV4dFBhcnRUZXh0ID0gZmFsc2U7XG4gICAgY29uc3Qgbm9uVGV4dFBhcnRzID0gW107XG4gICAgZm9yIChjb25zdCBwYXJ0IG9mIHRoaXMuY2FuZGlkYXRlcz8uWzBdPy5jb250ZW50Py5wYXJ0cyA/PyBbXSkge1xuICAgICAgZm9yIChjb25zdCBbZmllbGROYW1lLCBmaWVsZFZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwYXJ0KSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZmllbGROYW1lICE9PSAndGV4dCcgJiZcbiAgICAgICAgICBmaWVsZE5hbWUgIT09ICd0aG91Z2h0JyAmJlxuICAgICAgICAgIGZpZWxkTmFtZSAhPT0gJ3Rob3VnaHRTaWduYXR1cmUnICYmXG4gICAgICAgICAgKGZpZWxkVmFsdWUgIT09IG51bGwgfHwgZmllbGRWYWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICApIHtcbiAgICAgICAgICBub25UZXh0UGFydHMucHVzaChmaWVsZE5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHBhcnQudGV4dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJ0LnRob3VnaHQgPT09ICdib29sZWFuJyAmJiBwYXJ0LnRob3VnaHQpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBhbnlUZXh0UGFydFRleHQgPSB0cnVlO1xuICAgICAgICB0ZXh0ICs9IHBhcnQudGV4dDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5vblRleHRQYXJ0cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGB0aGVyZSBhcmUgbm9uLXRleHQgcGFydHMgJHtub25UZXh0UGFydHN9IGluIHRoZSByZXNwb25zZSwgcmV0dXJuaW5nIGNvbmNhdGVuYXRpb24gb2YgYWxsIHRleHQgcGFydHMuIFBsZWFzZSByZWZlciB0byB0aGUgbm9uIHRleHQgcGFydHMgZm9yIGEgZnVsbCByZXNwb25zZSBmcm9tIG1vZGVsLmAsXG4gICAgICApO1xuICAgIH1cbiAgICAvLyBwYXJ0LnRleHQgPT09ICcnIGlzIGRpZmZlcmVudCBmcm9tIHBhcnQudGV4dCBpcyBudWxsXG4gICAgcmV0dXJuIGFueVRleHRQYXJ0VGV4dCA/IHRleHQgOiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY29uY2F0ZW5hdGlvbiBvZiBhbGwgaW5saW5lIGRhdGEgcGFydHMgZnJvbSB0aGUgZmlyc3QgY2FuZGlkYXRlXG4gICAqIGluIHRoZSByZXNwb25zZS5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogSWYgdGhlcmUgYXJlIG11bHRpcGxlIGNhbmRpZGF0ZXMgaW4gdGhlIHJlc3BvbnNlLCB0aGUgaW5saW5lIGRhdGEgZnJvbSB0aGVcbiAgICogZmlyc3Qgb25lIHdpbGwgYmUgcmV0dXJuZWQuIElmIHRoZXJlIGFyZSBub24taW5saW5lIGRhdGEgcGFydHMgaW4gdGhlXG4gICAqIHJlc3BvbnNlLCB0aGUgY29uY2F0ZW5hdGlvbiBvZiBhbGwgaW5saW5lIGRhdGEgcGFydHMgd2lsbCBiZSByZXR1cm5lZCwgYW5kXG4gICAqIGEgd2FybmluZyB3aWxsIGJlIGxvZ2dlZC5cbiAgICovXG4gIGdldCBkYXRhKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHRoaXMuY2FuZGlkYXRlcz8uWzBdPy5jb250ZW50Py5wYXJ0cz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodGhpcy5jYW5kaWRhdGVzICYmIHRoaXMuY2FuZGlkYXRlcy5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICd0aGVyZSBhcmUgbXVsdGlwbGUgY2FuZGlkYXRlcyBpbiB0aGUgcmVzcG9uc2UsIHJldHVybmluZyBkYXRhIGZyb20gdGhlIGZpcnN0IG9uZS4nLFxuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IGRhdGEgPSAnJztcbiAgICBjb25zdCBub25EYXRhUGFydHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHBhcnQgb2YgdGhpcy5jYW5kaWRhdGVzPy5bMF0/LmNvbnRlbnQ/LnBhcnRzID8/IFtdKSB7XG4gICAgICBmb3IgKGNvbnN0IFtmaWVsZE5hbWUsIGZpZWxkVmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHBhcnQpKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBmaWVsZE5hbWUgIT09ICdpbmxpbmVEYXRhJyAmJlxuICAgICAgICAgIChmaWVsZFZhbHVlICE9PSBudWxsIHx8IGZpZWxkVmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgKSB7XG4gICAgICAgICAgbm9uRGF0YVBhcnRzLnB1c2goZmllbGROYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHBhcnQuaW5saW5lRGF0YSAmJiB0eXBlb2YgcGFydC5pbmxpbmVEYXRhLmRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGRhdGEgKz0gYXRvYihwYXJ0LmlubGluZURhdGEuZGF0YSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChub25EYXRhUGFydHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgdGhlcmUgYXJlIG5vbi1kYXRhIHBhcnRzICR7bm9uRGF0YVBhcnRzfSBpbiB0aGUgcmVzcG9uc2UsIHJldHVybmluZyBjb25jYXRlbmF0aW9uIG9mIGFsbCBkYXRhIHBhcnRzLiBQbGVhc2UgcmVmZXIgdG8gdGhlIG5vbiBkYXRhIHBhcnRzIGZvciBhIGZ1bGwgcmVzcG9uc2UgZnJvbSBtb2RlbC5gLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGEubGVuZ3RoID4gMCA/IGJ0b2EoZGF0YSkgOiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZnVuY3Rpb24gY2FsbHMgZnJvbSB0aGUgZmlyc3QgY2FuZGlkYXRlIGluIHRoZSByZXNwb25zZS5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogSWYgdGhlcmUgYXJlIG11bHRpcGxlIGNhbmRpZGF0ZXMgaW4gdGhlIHJlc3BvbnNlLCB0aGUgZnVuY3Rpb24gY2FsbHMgZnJvbVxuICAgKiB0aGUgZmlyc3Qgb25lIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAqIElmIHRoZXJlIGFyZSBubyBmdW5jdGlvbiBjYWxscyBpbiB0aGUgcmVzcG9uc2UsIHVuZGVmaW5lZCB3aWxsIGJlIHJldHVybmVkLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBjb250cm9sTGlnaHRGdW5jdGlvbkRlY2xhcmF0aW9uOiBGdW5jdGlvbkRlY2xhcmF0aW9uID0ge1xuICAgKiAgIG5hbWU6ICdjb250cm9sTGlnaHQnLFxuICAgKiAgIHBhcmFtZXRlcnM6IHtcbiAgICogICB0eXBlOiBUeXBlLk9CSkVDVCxcbiAgICogICBkZXNjcmlwdGlvbjogJ1NldCB0aGUgYnJpZ2h0bmVzcyBhbmQgY29sb3IgdGVtcGVyYXR1cmUgb2YgYSByb29tIGxpZ2h0LicsXG4gICAqICAgcHJvcGVydGllczoge1xuICAgKiAgICAgYnJpZ2h0bmVzczoge1xuICAgKiAgICAgICB0eXBlOiBUeXBlLk5VTUJFUixcbiAgICogICAgICAgZGVzY3JpcHRpb246XG4gICAqICAgICAgICAgJ0xpZ2h0IGxldmVsIGZyb20gMCB0byAxMDAuIFplcm8gaXMgb2ZmIGFuZCAxMDAgaXMgZnVsbCBicmlnaHRuZXNzLicsXG4gICAqICAgICB9LFxuICAgKiAgICAgY29sb3JUZW1wZXJhdHVyZToge1xuICAgKiAgICAgICB0eXBlOiBUeXBlLlNUUklORyxcbiAgICogICAgICAgZGVzY3JpcHRpb246XG4gICAqICAgICAgICAgJ0NvbG9yIHRlbXBlcmF0dXJlIG9mIHRoZSBsaWdodCBmaXh0dXJlIHdoaWNoIGNhbiBiZSBgZGF5bGlnaHRgLCBgY29vbGAgb3IgYHdhcm1gLicsXG4gICAqICAgICB9LFxuICAgKiAgIH0sXG4gICAqICAgcmVxdWlyZWQ6IFsnYnJpZ2h0bmVzcycsICdjb2xvclRlbXBlcmF0dXJlJ10sXG4gICAqICB9O1xuICAgKiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhaS5tb2RlbHMuZ2VuZXJhdGVDb250ZW50KHtcbiAgICogICAgIG1vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaCcsXG4gICAqICAgICBjb250ZW50czogJ0RpbSB0aGUgbGlnaHRzIHNvIHRoZSByb29tIGZlZWxzIGNvenkgYW5kIHdhcm0uJyxcbiAgICogICAgIGNvbmZpZzoge1xuICAgKiAgICAgICB0b29sczogW3tmdW5jdGlvbkRlY2xhcmF0aW9uczogW2NvbnRyb2xMaWdodEZ1bmN0aW9uRGVjbGFyYXRpb25dfV0sXG4gICAqICAgICAgIHRvb2xDb25maWc6IHtcbiAgICogICAgICAgICBmdW5jdGlvbkNhbGxpbmdDb25maWc6IHtcbiAgICogICAgICAgICAgIG1vZGU6IEZ1bmN0aW9uQ2FsbGluZ0NvbmZpZ01vZGUuQU5ZLFxuICAgKiAgICAgICAgICAgYWxsb3dlZEZ1bmN0aW9uTmFtZXM6IFsnY29udHJvbExpZ2h0J10sXG4gICAqICAgICAgICAgfSxcbiAgICogICAgICAgfSxcbiAgICogICAgIH0sXG4gICAqICAgfSk7XG4gICAqICBjb25zb2xlLmRlYnVnKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmZ1bmN0aW9uQ2FsbHMpKTtcbiAgICogYGBgXG4gICAqL1xuICBnZXQgZnVuY3Rpb25DYWxscygpOiBGdW5jdGlvbkNhbGxbXSB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHRoaXMuY2FuZGlkYXRlcz8uWzBdPy5jb250ZW50Py5wYXJ0cz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodGhpcy5jYW5kaWRhdGVzICYmIHRoaXMuY2FuZGlkYXRlcy5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICd0aGVyZSBhcmUgbXVsdGlwbGUgY2FuZGlkYXRlcyBpbiB0aGUgcmVzcG9uc2UsIHJldHVybmluZyBmdW5jdGlvbiBjYWxscyBmcm9tIHRoZSBmaXJzdCBvbmUuJyxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGZ1bmN0aW9uQ2FsbHMgPSB0aGlzLmNhbmRpZGF0ZXM/LlswXT8uY29udGVudD8ucGFydHNcbiAgICAgID8uZmlsdGVyKChwYXJ0KSA9PiBwYXJ0LmZ1bmN0aW9uQ2FsbClcbiAgICAgIC5tYXAoKHBhcnQpID0+IHBhcnQuZnVuY3Rpb25DYWxsKVxuICAgICAgLmZpbHRlcihcbiAgICAgICAgKGZ1bmN0aW9uQ2FsbCk6IGZ1bmN0aW9uQ2FsbCBpcyBGdW5jdGlvbkNhbGwgPT5cbiAgICAgICAgICBmdW5jdGlvbkNhbGwgIT09IHVuZGVmaW5lZCxcbiAgICAgICk7XG4gICAgaWYgKGZ1bmN0aW9uQ2FsbHM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uQ2FsbHM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGZpcnN0IGV4ZWN1dGFibGUgY29kZSBmcm9tIHRoZSBmaXJzdCBjYW5kaWRhdGUgaW4gdGhlIHJlc3BvbnNlLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBJZiB0aGVyZSBhcmUgbXVsdGlwbGUgY2FuZGlkYXRlcyBpbiB0aGUgcmVzcG9uc2UsIHRoZSBleGVjdXRhYmxlIGNvZGUgZnJvbVxuICAgKiB0aGUgZmlyc3Qgb25lIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAqIElmIHRoZXJlIGFyZSBubyBleGVjdXRhYmxlIGNvZGUgaW4gdGhlIHJlc3BvbnNlLCB1bmRlZmluZWQgd2lsbCBiZVxuICAgKiByZXR1cm5lZC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhaS5tb2RlbHMuZ2VuZXJhdGVDb250ZW50KHtcbiAgICogICBtb2RlbDogJ2dlbWluaS0yLjAtZmxhc2gnLFxuICAgKiAgIGNvbnRlbnRzOlxuICAgKiAgICAgJ1doYXQgaXMgdGhlIHN1bSBvZiB0aGUgZmlyc3QgNTAgcHJpbWUgbnVtYmVycz8gR2VuZXJhdGUgYW5kIHJ1biBjb2RlIGZvciB0aGUgY2FsY3VsYXRpb24sIGFuZCBtYWtlIHN1cmUgeW91IGdldCBhbGwgNTAuJ1xuICAgKiAgIGNvbmZpZzoge1xuICAgKiAgICAgdG9vbHM6IFt7Y29kZUV4ZWN1dGlvbjoge319XSxcbiAgICogICB9LFxuICAgKiB9KTtcbiAgICpcbiAgICogY29uc29sZS5kZWJ1ZyhyZXNwb25zZS5leGVjdXRhYmxlQ29kZSk7XG4gICAqIGBgYFxuICAgKi9cbiAgZ2V0IGV4ZWN1dGFibGVDb2RlKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHRoaXMuY2FuZGlkYXRlcz8uWzBdPy5jb250ZW50Py5wYXJ0cz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodGhpcy5jYW5kaWRhdGVzICYmIHRoaXMuY2FuZGlkYXRlcy5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICd0aGVyZSBhcmUgbXVsdGlwbGUgY2FuZGlkYXRlcyBpbiB0aGUgcmVzcG9uc2UsIHJldHVybmluZyBleGVjdXRhYmxlIGNvZGUgZnJvbSB0aGUgZmlyc3Qgb25lLicsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBleGVjdXRhYmxlQ29kZSA9IHRoaXMuY2FuZGlkYXRlcz8uWzBdPy5jb250ZW50Py5wYXJ0c1xuICAgICAgPy5maWx0ZXIoKHBhcnQpID0+IHBhcnQuZXhlY3V0YWJsZUNvZGUpXG4gICAgICAubWFwKChwYXJ0KSA9PiBwYXJ0LmV4ZWN1dGFibGVDb2RlKVxuICAgICAgLmZpbHRlcihcbiAgICAgICAgKGV4ZWN1dGFibGVDb2RlKTogZXhlY3V0YWJsZUNvZGUgaXMgRXhlY3V0YWJsZUNvZGUgPT5cbiAgICAgICAgICBleGVjdXRhYmxlQ29kZSAhPT0gdW5kZWZpbmVkLFxuICAgICAgKTtcbiAgICBpZiAoZXhlY3V0YWJsZUNvZGU/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gZXhlY3V0YWJsZUNvZGU/LlswXT8uY29kZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZmlyc3QgY29kZSBleGVjdXRpb24gcmVzdWx0IGZyb20gdGhlIGZpcnN0IGNhbmRpZGF0ZSBpbiB0aGUgcmVzcG9uc2UuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBjYW5kaWRhdGVzIGluIHRoZSByZXNwb25zZSwgdGhlIGNvZGUgZXhlY3V0aW9uIHJlc3VsdCBmcm9tXG4gICAqIHRoZSBmaXJzdCBvbmUgd2lsbCBiZSByZXR1cm5lZC5cbiAgICogSWYgdGhlcmUgYXJlIG5vIGNvZGUgZXhlY3V0aW9uIHJlc3VsdCBpbiB0aGUgcmVzcG9uc2UsIHVuZGVmaW5lZCB3aWxsIGJlIHJldHVybmVkLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFpLm1vZGVscy5nZW5lcmF0ZUNvbnRlbnQoe1xuICAgKiAgIG1vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaCcsXG4gICAqICAgY29udGVudHM6XG4gICAqICAgICAnV2hhdCBpcyB0aGUgc3VtIG9mIHRoZSBmaXJzdCA1MCBwcmltZSBudW1iZXJzPyBHZW5lcmF0ZSBhbmQgcnVuIGNvZGUgZm9yIHRoZSBjYWxjdWxhdGlvbiwgYW5kIG1ha2Ugc3VyZSB5b3UgZ2V0IGFsbCA1MC4nXG4gICAqICAgY29uZmlnOiB7XG4gICAqICAgICB0b29sczogW3tjb2RlRXhlY3V0aW9uOiB7fX1dLFxuICAgKiAgIH0sXG4gICAqIH0pO1xuICAgKlxuICAgKiBjb25zb2xlLmRlYnVnKHJlc3BvbnNlLmNvZGVFeGVjdXRpb25SZXN1bHQpO1xuICAgKiBgYGBcbiAgICovXG4gIGdldCBjb2RlRXhlY3V0aW9uUmVzdWx0KCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHRoaXMuY2FuZGlkYXRlcz8uWzBdPy5jb250ZW50Py5wYXJ0cz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodGhpcy5jYW5kaWRhdGVzICYmIHRoaXMuY2FuZGlkYXRlcy5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICd0aGVyZSBhcmUgbXVsdGlwbGUgY2FuZGlkYXRlcyBpbiB0aGUgcmVzcG9uc2UsIHJldHVybmluZyBjb2RlIGV4ZWN1dGlvbiByZXN1bHQgZnJvbSB0aGUgZmlyc3Qgb25lLicsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBjb2RlRXhlY3V0aW9uUmVzdWx0ID0gdGhpcy5jYW5kaWRhdGVzPy5bMF0/LmNvbnRlbnQ/LnBhcnRzXG4gICAgICA/LmZpbHRlcigocGFydCkgPT4gcGFydC5jb2RlRXhlY3V0aW9uUmVzdWx0KVxuICAgICAgLm1hcCgocGFydCkgPT4gcGFydC5jb2RlRXhlY3V0aW9uUmVzdWx0KVxuICAgICAgLmZpbHRlcihcbiAgICAgICAgKGNvZGVFeGVjdXRpb25SZXN1bHQpOiBjb2RlRXhlY3V0aW9uUmVzdWx0IGlzIENvZGVFeGVjdXRpb25SZXN1bHQgPT5cbiAgICAgICAgICBjb2RlRXhlY3V0aW9uUmVzdWx0ICE9PSB1bmRlZmluZWQsXG4gICAgICApO1xuICAgIGlmIChjb2RlRXhlY3V0aW9uUmVzdWx0Py5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBjb2RlRXhlY3V0aW9uUmVzdWx0Py5bMF0/Lm91dHB1dDtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBSZWZlcmVuY2VJbWFnZSA9XG4gIHwgUmF3UmVmZXJlbmNlSW1hZ2VcbiAgfCBNYXNrUmVmZXJlbmNlSW1hZ2VcbiAgfCBDb250cm9sUmVmZXJlbmNlSW1hZ2VcbiAgfCBTdHlsZVJlZmVyZW5jZUltYWdlXG4gIHwgU3ViamVjdFJlZmVyZW5jZUltYWdlXG4gIHwgQ29udGVudFJlZmVyZW5jZUltYWdlO1xuXG4vKiogUGFyYW1ldGVycyBmb3IgdGhlIHJlcXVlc3QgdG8gZWRpdCBhbiBpbWFnZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBFZGl0SW1hZ2VQYXJhbWV0ZXJzIHtcbiAgLyoqIFRoZSBtb2RlbCB0byB1c2UuICovXG4gIG1vZGVsOiBzdHJpbmc7XG4gIC8qKiBBIHRleHQgZGVzY3JpcHRpb24gb2YgdGhlIGVkaXQgdG8gYXBwbHkgdG8gdGhlIGltYWdlLiAqL1xuICBwcm9tcHQ6IHN0cmluZztcbiAgLyoqIFRoZSByZWZlcmVuY2UgaW1hZ2VzIGZvciBJbWFnZW4gMyBlZGl0aW5nLiAqL1xuICByZWZlcmVuY2VJbWFnZXM6IFJlZmVyZW5jZUltYWdlW107XG4gIC8qKiBDb25maWd1cmF0aW9uIGZvciBlZGl0aW5nLiAqL1xuICBjb25maWc/OiBFZGl0SW1hZ2VDb25maWc7XG59XG5cbi8qKiBPcHRpb25hbCBwYXJhbWV0ZXJzIGZvciB0aGUgZW1iZWRfY29udGVudCBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRW1iZWRDb250ZW50Q29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIC8qKiBBYm9ydCBzaWduYWwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSByZXF1ZXN0LlxuXG4gIE5PVEU6IEFib3J0U2lnbmFsIGlzIGEgY2xpZW50LW9ubHkgb3BlcmF0aW9uLiBVc2luZyBpdCB0byBjYW5jZWwgYW5cbiAgb3BlcmF0aW9uIHdpbGwgbm90IGNhbmNlbCB0aGUgcmVxdWVzdCBpbiB0aGUgc2VydmljZS4gWW91IHdpbGwgc3RpbGxcbiAgYmUgY2hhcmdlZCB1c2FnZSBmb3IgYW55IGFwcGxpY2FibGUgb3BlcmF0aW9ucy5cbiAgICAgICAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuICAvKiogVHlwZSBvZiB0YXNrIGZvciB3aGljaCB0aGUgZW1iZWRkaW5nIHdpbGwgYmUgdXNlZC5cbiAgICovXG4gIHRhc2tUeXBlPzogc3RyaW5nO1xuICAvKiogVGl0bGUgZm9yIHRoZSB0ZXh0LiBPbmx5IGFwcGxpY2FibGUgd2hlbiBUYXNrVHlwZSBpc1xuICAgICAgYFJFVFJJRVZBTF9ET0NVTUVOVGAuXG4gICAgICAgKi9cbiAgdGl0bGU/OiBzdHJpbmc7XG4gIC8qKiBSZWR1Y2VkIGRpbWVuc2lvbiBmb3IgdGhlIG91dHB1dCBlbWJlZGRpbmcuIElmIHNldCxcbiAgICAgIGV4Y2Vzc2l2ZSB2YWx1ZXMgaW4gdGhlIG91dHB1dCBlbWJlZGRpbmcgYXJlIHRydW5jYXRlZCBmcm9tIHRoZSBlbmQuXG4gICAgICBTdXBwb3J0ZWQgYnkgbmV3ZXIgbW9kZWxzIHNpbmNlIDIwMjQgb25seS4gWW91IGNhbm5vdCBzZXQgdGhpcyB2YWx1ZSBpZlxuICAgICAgdXNpbmcgdGhlIGVhcmxpZXIgbW9kZWwgKGBtb2RlbHMvZW1iZWRkaW5nLTAwMWApLlxuICAgICAgICovXG4gIG91dHB1dERpbWVuc2lvbmFsaXR5PzogbnVtYmVyO1xuICAvKiogVmVydGV4IEFQSSBvbmx5LiBUaGUgTUlNRSB0eXBlIG9mIHRoZSBpbnB1dC5cbiAgICovXG4gIG1pbWVUeXBlPzogc3RyaW5nO1xuICAvKiogVmVydGV4IEFQSSBvbmx5LiBXaGV0aGVyIHRvIHNpbGVudGx5IHRydW5jYXRlIGlucHV0cyBsb25nZXIgdGhhblxuICAgICAgdGhlIG1heCBzZXF1ZW5jZSBsZW5ndGguIElmIHRoaXMgb3B0aW9uIGlzIHNldCB0byBmYWxzZSwgb3ZlcnNpemVkIGlucHV0c1xuICAgICAgd2lsbCBsZWFkIHRvIGFuIElOVkFMSURfQVJHVU1FTlQgZXJyb3IsIHNpbWlsYXIgdG8gb3RoZXIgdGV4dCBBUElzLlxuICAgICAgICovXG4gIGF1dG9UcnVuY2F0ZT86IGJvb2xlYW47XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciB0aGUgZW1iZWRfY29udGVudCBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRW1iZWRDb250ZW50UGFyYW1ldGVycyB7XG4gIC8qKiBJRCBvZiB0aGUgbW9kZWwgdG8gdXNlLiBGb3IgYSBsaXN0IG9mIG1vZGVscywgc2VlIGBHb29nbGUgbW9kZWxzXG4gICAgPGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZ2VuZXJhdGl2ZS1haS9kb2NzL2xlYXJuL21vZGVscz5gXy4gKi9cbiAgbW9kZWw6IHN0cmluZztcbiAgLyoqIFRoZSBjb250ZW50IHRvIGVtYmVkLiBPbmx5IHRoZSBgcGFydHMudGV4dGAgZmllbGRzIHdpbGwgYmUgY291bnRlZC5cbiAgICovXG4gIGNvbnRlbnRzOiBDb250ZW50TGlzdFVuaW9uO1xuICAvKiogQ29uZmlndXJhdGlvbiB0aGF0IGNvbnRhaW5zIG9wdGlvbmFsIHBhcmFtZXRlcnMuXG4gICAqL1xuICBjb25maWc/OiBFbWJlZENvbnRlbnRDb25maWc7XG59XG5cbi8qKiBTdGF0aXN0aWNzIG9mIHRoZSBpbnB1dCB0ZXh0IGFzc29jaWF0ZWQgd2l0aCB0aGUgcmVzdWx0IG9mIGNvbnRlbnQgZW1iZWRkaW5nLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENvbnRlbnRFbWJlZGRpbmdTdGF0aXN0aWNzIHtcbiAgLyoqIFZlcnRleCBBUEkgb25seS4gSWYgdGhlIGlucHV0IHRleHQgd2FzIHRydW5jYXRlZCBkdWUgdG8gaGF2aW5nXG4gICAgICBhIGxlbmd0aCBsb25nZXIgdGhhbiB0aGUgYWxsb3dlZCBtYXhpbXVtIGlucHV0LlxuICAgICAgICovXG4gIHRydW5jYXRlZD86IGJvb2xlYW47XG4gIC8qKiBWZXJ0ZXggQVBJIG9ubHkuIE51bWJlciBvZiB0b2tlbnMgb2YgdGhlIGlucHV0IHRleHQuXG4gICAqL1xuICB0b2tlbkNvdW50PzogbnVtYmVyO1xufVxuXG4vKiogVGhlIGVtYmVkZGluZyBnZW5lcmF0ZWQgZnJvbSBhbiBpbnB1dCBjb250ZW50LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENvbnRlbnRFbWJlZGRpbmcge1xuICAvKiogQSBsaXN0IG9mIGZsb2F0cyByZXByZXNlbnRpbmcgYW4gZW1iZWRkaW5nLlxuICAgKi9cbiAgdmFsdWVzPzogbnVtYmVyW107XG4gIC8qKiBWZXJ0ZXggQVBJIG9ubHkuIFN0YXRpc3RpY3Mgb2YgdGhlIGlucHV0IHRleHQgYXNzb2NpYXRlZCB3aXRoIHRoaXNcbiAgICAgIGVtYmVkZGluZy5cbiAgICAgICAqL1xuICBzdGF0aXN0aWNzPzogQ29udGVudEVtYmVkZGluZ1N0YXRpc3RpY3M7XG59XG5cbi8qKiBSZXF1ZXN0LWxldmVsIG1ldGFkYXRhIGZvciB0aGUgVmVydGV4IEVtYmVkIENvbnRlbnQgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEVtYmVkQ29udGVudE1ldGFkYXRhIHtcbiAgLyoqIFZlcnRleCBBUEkgb25seS4gVGhlIHRvdGFsIG51bWJlciBvZiBiaWxsYWJsZSBjaGFyYWN0ZXJzIGluY2x1ZGVkXG4gICAgICBpbiB0aGUgcmVxdWVzdC5cbiAgICAgICAqL1xuICBiaWxsYWJsZUNoYXJhY3RlckNvdW50PzogbnVtYmVyO1xufVxuXG4vKiogUmVzcG9uc2UgZm9yIHRoZSBlbWJlZF9jb250ZW50IG1ldGhvZC4gKi9cbmV4cG9ydCBjbGFzcyBFbWJlZENvbnRlbnRSZXNwb25zZSB7XG4gIC8qKiBVc2VkIHRvIHJldGFpbiB0aGUgZnVsbCBIVFRQIHJlc3BvbnNlLiAqL1xuICBzZGtIdHRwUmVzcG9uc2U/OiBIdHRwUmVzcG9uc2U7XG4gIC8qKiBUaGUgZW1iZWRkaW5ncyBmb3IgZWFjaCByZXF1ZXN0LCBpbiB0aGUgc2FtZSBvcmRlciBhcyBwcm92aWRlZCBpblxuICAgICAgdGhlIGJhdGNoIHJlcXVlc3QuXG4gICAgICAgKi9cbiAgZW1iZWRkaW5ncz86IENvbnRlbnRFbWJlZGRpbmdbXTtcbiAgLyoqIFZlcnRleCBBUEkgb25seS4gTWV0YWRhdGEgYWJvdXQgdGhlIHJlcXVlc3QuXG4gICAqL1xuICBtZXRhZGF0YT86IEVtYmVkQ29udGVudE1ldGFkYXRhO1xufVxuXG4vKiogVGhlIGNvbmZpZyBmb3IgZ2VuZXJhdGluZyBhbiBpbWFnZXMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR2VuZXJhdGVJbWFnZXNDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIEFib3J0IHNpZ25hbCB3aGljaCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3QuXG5cbiAgTk9URTogQWJvcnRTaWduYWwgaXMgYSBjbGllbnQtb25seSBvcGVyYXRpb24uIFVzaW5nIGl0IHRvIGNhbmNlbCBhblxuICBvcGVyYXRpb24gd2lsbCBub3QgY2FuY2VsIHRoZSByZXF1ZXN0IGluIHRoZSBzZXJ2aWNlLiBZb3Ugd2lsbCBzdGlsbFxuICBiZSBjaGFyZ2VkIHVzYWdlIGZvciBhbnkgYXBwbGljYWJsZSBvcGVyYXRpb25zLlxuICAgICAgICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG4gIC8qKiBDbG91ZCBTdG9yYWdlIFVSSSB1c2VkIHRvIHN0b3JlIHRoZSBnZW5lcmF0ZWQgaW1hZ2VzLiAqL1xuICBvdXRwdXRHY3NVcmk/OiBzdHJpbmc7XG4gIC8qKiBEZXNjcmlwdGlvbiBvZiB3aGF0IHRvIGRpc2NvdXJhZ2UgaW4gdGhlIGdlbmVyYXRlZCBpbWFnZXMuICovXG4gIG5lZ2F0aXZlUHJvbXB0Pzogc3RyaW5nO1xuICAvKiogTnVtYmVyIG9mIGltYWdlcyB0byBnZW5lcmF0ZS4gKi9cbiAgbnVtYmVyT2ZJbWFnZXM/OiBudW1iZXI7XG4gIC8qKiBBc3BlY3QgcmF0aW8gb2YgdGhlIGdlbmVyYXRlZCBpbWFnZXMuIFN1cHBvcnRlZCB2YWx1ZXMgYXJlXG4gICAgICBcIjE6MVwiLCBcIjM6NFwiLCBcIjQ6M1wiLCBcIjk6MTZcIiwgYW5kIFwiMTY6OVwiLiAqL1xuICBhc3BlY3RSYXRpbz86IHN0cmluZztcbiAgLyoqIENvbnRyb2xzIGhvdyBtdWNoIHRoZSBtb2RlbCBhZGhlcmVzIHRvIHRoZSB0ZXh0IHByb21wdC4gTGFyZ2VcbiAgICAgIHZhbHVlcyBpbmNyZWFzZSBvdXRwdXQgYW5kIHByb21wdCBhbGlnbm1lbnQsIGJ1dCBtYXkgY29tcHJvbWlzZSBpbWFnZVxuICAgICAgcXVhbGl0eS4gKi9cbiAgZ3VpZGFuY2VTY2FsZT86IG51bWJlcjtcbiAgLyoqIFJhbmRvbSBzZWVkIGZvciBpbWFnZSBnZW5lcmF0aW9uLiBUaGlzIGlzIG5vdCBhdmFpbGFibGUgd2hlblxuICAgICAgYGBhZGRfd2F0ZXJtYXJrYGAgaXMgc2V0IHRvIHRydWUuICovXG4gIHNlZWQ/OiBudW1iZXI7XG4gIC8qKiBGaWx0ZXIgbGV2ZWwgZm9yIHNhZmV0eSBmaWx0ZXJpbmcuICovXG4gIHNhZmV0eUZpbHRlckxldmVsPzogU2FmZXR5RmlsdGVyTGV2ZWw7XG4gIC8qKiBBbGxvd3MgZ2VuZXJhdGlvbiBvZiBwZW9wbGUgYnkgdGhlIG1vZGVsLiAqL1xuICBwZXJzb25HZW5lcmF0aW9uPzogUGVyc29uR2VuZXJhdGlvbjtcbiAgLyoqIFdoZXRoZXIgdG8gcmVwb3J0IHRoZSBzYWZldHkgc2NvcmVzIG9mIGVhY2ggZ2VuZXJhdGVkIGltYWdlIGFuZFxuICAgICAgdGhlIHBvc2l0aXZlIHByb21wdCBpbiB0aGUgcmVzcG9uc2UuICovXG4gIGluY2x1ZGVTYWZldHlBdHRyaWJ1dGVzPzogYm9vbGVhbjtcbiAgLyoqIFdoZXRoZXIgdG8gaW5jbHVkZSB0aGUgUmVzcG9uc2libGUgQUkgZmlsdGVyIHJlYXNvbiBpZiB0aGUgaW1hZ2VcbiAgICAgIGlzIGZpbHRlcmVkIG91dCBvZiB0aGUgcmVzcG9uc2UuICovXG4gIGluY2x1ZGVSYWlSZWFzb24/OiBib29sZWFuO1xuICAvKiogTGFuZ3VhZ2Ugb2YgdGhlIHRleHQgaW4gdGhlIHByb21wdC4gKi9cbiAgbGFuZ3VhZ2U/OiBJbWFnZVByb21wdExhbmd1YWdlO1xuICAvKiogTUlNRSB0eXBlIG9mIHRoZSBnZW5lcmF0ZWQgaW1hZ2UuICovXG4gIG91dHB1dE1pbWVUeXBlPzogc3RyaW5nO1xuICAvKiogQ29tcHJlc3Npb24gcXVhbGl0eSBvZiB0aGUgZ2VuZXJhdGVkIGltYWdlIChmb3IgYGBpbWFnZS9qcGVnYGBcbiAgICAgIG9ubHkpLiAqL1xuICBvdXRwdXRDb21wcmVzc2lvblF1YWxpdHk/OiBudW1iZXI7XG4gIC8qKiBXaGV0aGVyIHRvIGFkZCBhIHdhdGVybWFyayB0byB0aGUgZ2VuZXJhdGVkIGltYWdlcy4gKi9cbiAgYWRkV2F0ZXJtYXJrPzogYm9vbGVhbjtcbiAgLyoqIFVzZXIgc3BlY2lmaWVkIGxhYmVscyB0byB0cmFjayBiaWxsaW5nIHVzYWdlLiAqL1xuICBsYWJlbHM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAvKiogVGhlIHNpemUgb2YgdGhlIGxhcmdlc3QgZGltZW5zaW9uIG9mIHRoZSBnZW5lcmF0ZWQgaW1hZ2UuXG4gICAgICBTdXBwb3J0ZWQgc2l6ZXMgYXJlIDFLIGFuZCAySyAobm90IHN1cHBvcnRlZCBmb3IgSW1hZ2VuIDMgbW9kZWxzKS4gKi9cbiAgaW1hZ2VTaXplPzogc3RyaW5nO1xuICAvKiogV2hldGhlciB0byB1c2UgdGhlIHByb21wdCByZXdyaXRpbmcgbG9naWMuICovXG4gIGVuaGFuY2VQcm9tcHQ/OiBib29sZWFuO1xufVxuXG4vKiogVGhlIHBhcmFtZXRlcnMgZm9yIGdlbmVyYXRpbmcgaW1hZ2VzLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdlbmVyYXRlSW1hZ2VzUGFyYW1ldGVycyB7XG4gIC8qKiBJRCBvZiB0aGUgbW9kZWwgdG8gdXNlLiBGb3IgYSBsaXN0IG9mIG1vZGVscywgc2VlIGBHb29nbGUgbW9kZWxzXG4gICAgPGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZ2VuZXJhdGl2ZS1haS9kb2NzL2xlYXJuL21vZGVscz5gXy4gKi9cbiAgbW9kZWw6IHN0cmluZztcbiAgLyoqIFRleHQgcHJvbXB0IHRoYXQgdHlwaWNhbGx5IGRlc2NyaWJlcyB0aGUgaW1hZ2VzIHRvIG91dHB1dC5cbiAgICovXG4gIHByb21wdDogc3RyaW5nO1xuICAvKiogQ29uZmlndXJhdGlvbiBmb3IgZ2VuZXJhdGluZyBpbWFnZXMuXG4gICAqL1xuICBjb25maWc/OiBHZW5lcmF0ZUltYWdlc0NvbmZpZztcbn1cblxuLyoqIEFuIGltYWdlLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEltYWdlIHtcbiAgLyoqIFRoZSBDbG91ZCBTdG9yYWdlIFVSSSBvZiB0aGUgaW1hZ2UuIGBgSW1hZ2VgYCBjYW4gY29udGFpbiBhIHZhbHVlXG4gICAgICBmb3IgdGhpcyBmaWVsZCBvciB0aGUgYGBpbWFnZV9ieXRlc2BgIGZpZWxkIGJ1dCBub3QgYm90aC4gKi9cbiAgZ2NzVXJpPzogc3RyaW5nO1xuICAvKiogVGhlIGltYWdlIGJ5dGVzIGRhdGEuIGBgSW1hZ2VgYCBjYW4gY29udGFpbiBhIHZhbHVlIGZvciB0aGlzIGZpZWxkXG4gICAgICBvciB0aGUgYGBnY3NfdXJpYGAgZmllbGQgYnV0IG5vdCBib3RoLlxuICAqIEByZW1hcmtzIEVuY29kZWQgYXMgYmFzZTY0IHN0cmluZy4gKi9cbiAgaW1hZ2VCeXRlcz86IHN0cmluZztcbiAgLyoqIFRoZSBNSU1FIHR5cGUgb2YgdGhlIGltYWdlLiAqL1xuICBtaW1lVHlwZT86IHN0cmluZztcbn1cblxuLyoqIFNhZmV0eSBhdHRyaWJ1dGVzIG9mIGEgR2VuZXJhdGVkSW1hZ2Ugb3IgdGhlIHVzZXItcHJvdmlkZWQgcHJvbXB0LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFNhZmV0eUF0dHJpYnV0ZXMge1xuICAvKiogTGlzdCBvZiBSQUkgY2F0ZWdvcmllcy4gKi9cbiAgY2F0ZWdvcmllcz86IHN0cmluZ1tdO1xuICAvKiogTGlzdCBvZiBzY29yZXMgb2YgZWFjaCBjYXRlZ29yaWVzLiAqL1xuICBzY29yZXM/OiBudW1iZXJbXTtcbiAgLyoqIEludGVybmFsIHVzZSBvbmx5LiAqL1xuICBjb250ZW50VHlwZT86IHN0cmluZztcbn1cblxuLyoqIEFuIG91dHB1dCBpbWFnZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZW5lcmF0ZWRJbWFnZSB7XG4gIC8qKiBUaGUgb3V0cHV0IGltYWdlIGRhdGEuICovXG4gIGltYWdlPzogSW1hZ2U7XG4gIC8qKiBSZXNwb25zaWJsZSBBSSBmaWx0ZXIgcmVhc29uIGlmIHRoZSBpbWFnZSBpcyBmaWx0ZXJlZCBvdXQgb2YgdGhlXG4gICAgICByZXNwb25zZS4gKi9cbiAgcmFpRmlsdGVyZWRSZWFzb24/OiBzdHJpbmc7XG4gIC8qKiBTYWZldHkgYXR0cmlidXRlcyBvZiB0aGUgaW1hZ2UuIExpc3RzIG9mIFJBSSBjYXRlZ29yaWVzIGFuZCB0aGVpclxuICAgICAgc2NvcmVzIG9mIGVhY2ggY29udGVudC4gKi9cbiAgc2FmZXR5QXR0cmlidXRlcz86IFNhZmV0eUF0dHJpYnV0ZXM7XG4gIC8qKiBUaGUgcmV3cml0dGVuIHByb21wdCB1c2VkIGZvciB0aGUgaW1hZ2UgZ2VuZXJhdGlvbiBpZiB0aGUgcHJvbXB0XG4gICAgICBlbmhhbmNlciBpcyBlbmFibGVkLiAqL1xuICBlbmhhbmNlZFByb21wdD86IHN0cmluZztcbn1cblxuLyoqIFRoZSBvdXRwdXQgaW1hZ2VzIHJlc3BvbnNlLiAqL1xuZXhwb3J0IGNsYXNzIEdlbmVyYXRlSW1hZ2VzUmVzcG9uc2Uge1xuICAvKiogVXNlZCB0byByZXRhaW4gdGhlIGZ1bGwgSFRUUCByZXNwb25zZS4gKi9cbiAgc2RrSHR0cFJlc3BvbnNlPzogSHR0cFJlc3BvbnNlO1xuICAvKiogTGlzdCBvZiBnZW5lcmF0ZWQgaW1hZ2VzLiAqL1xuICBnZW5lcmF0ZWRJbWFnZXM/OiBHZW5lcmF0ZWRJbWFnZVtdO1xuICAvKiogU2FmZXR5IGF0dHJpYnV0ZXMgb2YgdGhlIHBvc2l0aXZlIHByb21wdC4gT25seSBwb3B1bGF0ZWQgaWZcbiAgICAgIGBgaW5jbHVkZV9zYWZldHlfYXR0cmlidXRlc2BgIGlzIHNldCB0byBUcnVlLiAqL1xuICBwb3NpdGl2ZVByb21wdFNhZmV0eUF0dHJpYnV0ZXM/OiBTYWZldHlBdHRyaWJ1dGVzO1xufVxuXG4vKiogQ29uZmlndXJhdGlvbiBmb3IgYSBNYXNrIHJlZmVyZW5jZSBpbWFnZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBNYXNrUmVmZXJlbmNlQ29uZmlnIHtcbiAgLyoqIFByb21wdHMgdGhlIG1vZGVsIHRvIGdlbmVyYXRlIGEgbWFzayBpbnN0ZWFkIG9mIHlvdSBuZWVkaW5nIHRvXG4gICAgICBwcm92aWRlIG9uZSAodW5sZXNzIE1BU0tfTU9ERV9VU0VSX1BST1ZJREVEIGlzIHVzZWQpLiAqL1xuICBtYXNrTW9kZT86IE1hc2tSZWZlcmVuY2VNb2RlO1xuICAvKiogQSBsaXN0IG9mIHVwIHRvIDUgY2xhc3MgaWRzIHRvIHVzZSBmb3Igc2VtYW50aWMgc2VnbWVudGF0aW9uLlxuICAgICAgQXV0b21hdGljYWxseSBjcmVhdGVzIGFuIGltYWdlIG1hc2sgYmFzZWQgb24gc3BlY2lmaWMgb2JqZWN0cy4gKi9cbiAgc2VnbWVudGF0aW9uQ2xhc3Nlcz86IG51bWJlcltdO1xuICAvKiogRGlsYXRpb24gcGVyY2VudGFnZSBvZiB0aGUgbWFzayBwcm92aWRlZC5cbiAgICAgIEZsb2F0IGJldHdlZW4gMCBhbmQgMS4gKi9cbiAgbWFza0RpbGF0aW9uPzogbnVtYmVyO1xufVxuXG4vKiogQ29uZmlndXJhdGlvbiBmb3IgYSBDb250cm9sIHJlZmVyZW5jZSBpbWFnZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDb250cm9sUmVmZXJlbmNlQ29uZmlnIHtcbiAgLyoqIFRoZSB0eXBlIG9mIGNvbnRyb2wgcmVmZXJlbmNlIGltYWdlIHRvIHVzZS4gKi9cbiAgY29udHJvbFR5cGU/OiBDb250cm9sUmVmZXJlbmNlVHlwZTtcbiAgLyoqIERlZmF1bHRzIHRvIEZhbHNlLiBXaGVuIHNldCB0byBUcnVlLCB0aGUgY29udHJvbCBpbWFnZSB3aWxsIGJlXG4gICAgICBjb21wdXRlZCBieSB0aGUgbW9kZWwgYmFzZWQgb24gdGhlIGNvbnRyb2wgdHlwZS4gV2hlbiBzZXQgdG8gRmFsc2UsXG4gICAgICB0aGUgY29udHJvbCBpbWFnZSBtdXN0IGJlIHByb3ZpZGVkIGJ5IHRoZSB1c2VyLiAqL1xuICBlbmFibGVDb250cm9sSW1hZ2VDb21wdXRhdGlvbj86IGJvb2xlYW47XG59XG5cbi8qKiBDb25maWd1cmF0aW9uIGZvciBhIFN0eWxlIHJlZmVyZW5jZSBpbWFnZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBTdHlsZVJlZmVyZW5jZUNvbmZpZyB7XG4gIC8qKiBBIHRleHQgZGVzY3JpcHRpb24gb2YgdGhlIHN0eWxlIHRvIHVzZSBmb3IgdGhlIGdlbmVyYXRlZCBpbWFnZS4gKi9cbiAgc3R5bGVEZXNjcmlwdGlvbj86IHN0cmluZztcbn1cblxuLyoqIENvbmZpZ3VyYXRpb24gZm9yIGEgU3ViamVjdCByZWZlcmVuY2UgaW1hZ2UuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgU3ViamVjdFJlZmVyZW5jZUNvbmZpZyB7XG4gIC8qKiBUaGUgc3ViamVjdCB0eXBlIG9mIGEgc3ViamVjdCByZWZlcmVuY2UgaW1hZ2UuICovXG4gIHN1YmplY3RUeXBlPzogU3ViamVjdFJlZmVyZW5jZVR5cGU7XG4gIC8qKiBTdWJqZWN0IGRlc2NyaXB0aW9uIGZvciB0aGUgaW1hZ2UuICovXG4gIHN1YmplY3REZXNjcmlwdGlvbj86IHN0cmluZztcbn1cblxuLyoqIENvbmZpZ3VyYXRpb24gZm9yIGVkaXRpbmcgYW4gaW1hZ2UuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRWRpdEltYWdlQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIC8qKiBBYm9ydCBzaWduYWwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSByZXF1ZXN0LlxuXG4gIE5PVEU6IEFib3J0U2lnbmFsIGlzIGEgY2xpZW50LW9ubHkgb3BlcmF0aW9uLiBVc2luZyBpdCB0byBjYW5jZWwgYW5cbiAgb3BlcmF0aW9uIHdpbGwgbm90IGNhbmNlbCB0aGUgcmVxdWVzdCBpbiB0aGUgc2VydmljZS4gWW91IHdpbGwgc3RpbGxcbiAgYmUgY2hhcmdlZCB1c2FnZSBmb3IgYW55IGFwcGxpY2FibGUgb3BlcmF0aW9ucy5cbiAgICAgICAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuICAvKiogQ2xvdWQgU3RvcmFnZSBVUkkgdXNlZCB0byBzdG9yZSB0aGUgZ2VuZXJhdGVkIGltYWdlcy4gKi9cbiAgb3V0cHV0R2NzVXJpPzogc3RyaW5nO1xuICAvKiogRGVzY3JpcHRpb24gb2Ygd2hhdCB0byBkaXNjb3VyYWdlIGluIHRoZSBnZW5lcmF0ZWQgaW1hZ2VzLiAqL1xuICBuZWdhdGl2ZVByb21wdD86IHN0cmluZztcbiAgLyoqIE51bWJlciBvZiBpbWFnZXMgdG8gZ2VuZXJhdGUuICovXG4gIG51bWJlck9mSW1hZ2VzPzogbnVtYmVyO1xuICAvKiogQXNwZWN0IHJhdGlvIG9mIHRoZSBnZW5lcmF0ZWQgaW1hZ2VzLiBTdXBwb3J0ZWQgdmFsdWVzIGFyZVxuICAgICAgXCIxOjFcIiwgXCIzOjRcIiwgXCI0OjNcIiwgXCI5OjE2XCIsIGFuZCBcIjE2OjlcIi4gKi9cbiAgYXNwZWN0UmF0aW8/OiBzdHJpbmc7XG4gIC8qKiBDb250cm9scyBob3cgbXVjaCB0aGUgbW9kZWwgYWRoZXJlcyB0byB0aGUgdGV4dCBwcm9tcHQuIExhcmdlXG4gICAgICB2YWx1ZXMgaW5jcmVhc2Ugb3V0cHV0IGFuZCBwcm9tcHQgYWxpZ25tZW50LCBidXQgbWF5IGNvbXByb21pc2UgaW1hZ2VcbiAgICAgIHF1YWxpdHkuICovXG4gIGd1aWRhbmNlU2NhbGU/OiBudW1iZXI7XG4gIC8qKiBSYW5kb20gc2VlZCBmb3IgaW1hZ2UgZ2VuZXJhdGlvbi4gVGhpcyBpcyBub3QgYXZhaWxhYmxlIHdoZW5cbiAgICAgIGBgYWRkX3dhdGVybWFya2BgIGlzIHNldCB0byB0cnVlLiAqL1xuICBzZWVkPzogbnVtYmVyO1xuICAvKiogRmlsdGVyIGxldmVsIGZvciBzYWZldHkgZmlsdGVyaW5nLiAqL1xuICBzYWZldHlGaWx0ZXJMZXZlbD86IFNhZmV0eUZpbHRlckxldmVsO1xuICAvKiogQWxsb3dzIGdlbmVyYXRpb24gb2YgcGVvcGxlIGJ5IHRoZSBtb2RlbC4gKi9cbiAgcGVyc29uR2VuZXJhdGlvbj86IFBlcnNvbkdlbmVyYXRpb247XG4gIC8qKiBXaGV0aGVyIHRvIHJlcG9ydCB0aGUgc2FmZXR5IHNjb3JlcyBvZiBlYWNoIGdlbmVyYXRlZCBpbWFnZSBhbmRcbiAgICAgIHRoZSBwb3NpdGl2ZSBwcm9tcHQgaW4gdGhlIHJlc3BvbnNlLiAqL1xuICBpbmNsdWRlU2FmZXR5QXR0cmlidXRlcz86IGJvb2xlYW47XG4gIC8qKiBXaGV0aGVyIHRvIGluY2x1ZGUgdGhlIFJlc3BvbnNpYmxlIEFJIGZpbHRlciByZWFzb24gaWYgdGhlIGltYWdlXG4gICAgICBpcyBmaWx0ZXJlZCBvdXQgb2YgdGhlIHJlc3BvbnNlLiAqL1xuICBpbmNsdWRlUmFpUmVhc29uPzogYm9vbGVhbjtcbiAgLyoqIExhbmd1YWdlIG9mIHRoZSB0ZXh0IGluIHRoZSBwcm9tcHQuICovXG4gIGxhbmd1YWdlPzogSW1hZ2VQcm9tcHRMYW5ndWFnZTtcbiAgLyoqIE1JTUUgdHlwZSBvZiB0aGUgZ2VuZXJhdGVkIGltYWdlLiAqL1xuICBvdXRwdXRNaW1lVHlwZT86IHN0cmluZztcbiAgLyoqIENvbXByZXNzaW9uIHF1YWxpdHkgb2YgdGhlIGdlbmVyYXRlZCBpbWFnZSAoZm9yIGBgaW1hZ2UvanBlZ2BgXG4gICAgICBvbmx5KS4gKi9cbiAgb3V0cHV0Q29tcHJlc3Npb25RdWFsaXR5PzogbnVtYmVyO1xuICAvKiogV2hldGhlciB0byBhZGQgYSB3YXRlcm1hcmsgdG8gdGhlIGdlbmVyYXRlZCBpbWFnZXMuICovXG4gIGFkZFdhdGVybWFyaz86IGJvb2xlYW47XG4gIC8qKiBVc2VyIHNwZWNpZmllZCBsYWJlbHMgdG8gdHJhY2sgYmlsbGluZyB1c2FnZS4gKi9cbiAgbGFiZWxzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgLyoqIERlc2NyaWJlcyB0aGUgZWRpdGluZyBtb2RlIGZvciB0aGUgcmVxdWVzdC4gKi9cbiAgZWRpdE1vZGU/OiBFZGl0TW9kZTtcbiAgLyoqIFRoZSBudW1iZXIgb2Ygc2FtcGxpbmcgc3RlcHMuIEEgaGlnaGVyIHZhbHVlIGhhcyBiZXR0ZXIgaW1hZ2VcbiAgICAgIHF1YWxpdHksIHdoaWxlIGEgbG93ZXIgdmFsdWUgaGFzIGJldHRlciBsYXRlbmN5LiAqL1xuICBiYXNlU3RlcHM/OiBudW1iZXI7XG59XG5cbi8qKiBSZXNwb25zZSBmb3IgdGhlIHJlcXVlc3QgdG8gZWRpdCBhbiBpbWFnZS4gKi9cbmV4cG9ydCBjbGFzcyBFZGl0SW1hZ2VSZXNwb25zZSB7XG4gIC8qKiBVc2VkIHRvIHJldGFpbiB0aGUgZnVsbCBIVFRQIHJlc3BvbnNlLiAqL1xuICBzZGtIdHRwUmVzcG9uc2U/OiBIdHRwUmVzcG9uc2U7XG4gIC8qKiBHZW5lcmF0ZWQgaW1hZ2VzLiAqL1xuICBnZW5lcmF0ZWRJbWFnZXM/OiBHZW5lcmF0ZWRJbWFnZVtdO1xufVxuXG5leHBvcnQgY2xhc3MgVXBzY2FsZUltYWdlUmVzcG9uc2Uge1xuICAvKiogVXNlZCB0byByZXRhaW4gdGhlIGZ1bGwgSFRUUCByZXNwb25zZS4gKi9cbiAgc2RrSHR0cFJlc3BvbnNlPzogSHR0cFJlc3BvbnNlO1xuICAvKiogR2VuZXJhdGVkIGltYWdlcy4gKi9cbiAgZ2VuZXJhdGVkSW1hZ2VzPzogR2VuZXJhdGVkSW1hZ2VbXTtcbn1cblxuLyoqIEFuIGltYWdlIG9mIHRoZSBwcm9kdWN0LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFByb2R1Y3RJbWFnZSB7XG4gIC8qKiBBbiBpbWFnZSBvZiB0aGUgcHJvZHVjdCB0byBiZSByZWNvbnRleHR1YWxpemVkLiAqL1xuICBwcm9kdWN0SW1hZ2U/OiBJbWFnZTtcbn1cblxuLyoqIEEgc2V0IG9mIHNvdXJjZSBpbnB1dChzKSBmb3IgaW1hZ2UgcmVjb250ZXh0dWFsaXphdGlvbi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBSZWNvbnRleHRJbWFnZVNvdXJjZSB7XG4gIC8qKiBBIHRleHQgcHJvbXB0IGZvciBndWlkaW5nIHRoZSBtb2RlbCBkdXJpbmcgaW1hZ2VcbiAgICAgIHJlY29udGV4dHVhbGl6YXRpb24uIE5vdCBzdXBwb3J0ZWQgZm9yIFZpcnR1YWwgVHJ5LU9uLiAqL1xuICBwcm9tcHQ/OiBzdHJpbmc7XG4gIC8qKiBJbWFnZSBvZiB0aGUgcGVyc29uIG9yIHN1YmplY3Qgd2hvIHdpbGwgYmUgd2VhcmluZyB0aGVcbiAgICAgIHByb2R1Y3QocykuICovXG4gIHBlcnNvbkltYWdlPzogSW1hZ2U7XG4gIC8qKiBBIGxpc3Qgb2YgcHJvZHVjdCBpbWFnZXMuICovXG4gIHByb2R1Y3RJbWFnZXM/OiBQcm9kdWN0SW1hZ2VbXTtcbn1cblxuLyoqIENvbmZpZ3VyYXRpb24gZm9yIHJlY29udGV4dHVhbGl6aW5nIGFuIGltYWdlLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFJlY29udGV4dEltYWdlQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIC8qKiBBYm9ydCBzaWduYWwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSByZXF1ZXN0LlxuXG4gIE5PVEU6IEFib3J0U2lnbmFsIGlzIGEgY2xpZW50LW9ubHkgb3BlcmF0aW9uLiBVc2luZyBpdCB0byBjYW5jZWwgYW5cbiAgb3BlcmF0aW9uIHdpbGwgbm90IGNhbmNlbCB0aGUgcmVxdWVzdCBpbiB0aGUgc2VydmljZS4gWW91IHdpbGwgc3RpbGxcbiAgYmUgY2hhcmdlZCB1c2FnZSBmb3IgYW55IGFwcGxpY2FibGUgb3BlcmF0aW9ucy5cbiAgICAgICAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuICAvKiogTnVtYmVyIG9mIGltYWdlcyB0byBnZW5lcmF0ZS4gKi9cbiAgbnVtYmVyT2ZJbWFnZXM/OiBudW1iZXI7XG4gIC8qKiBUaGUgbnVtYmVyIG9mIHNhbXBsaW5nIHN0ZXBzLiBBIGhpZ2hlciB2YWx1ZSBoYXMgYmV0dGVyIGltYWdlXG4gICAgICBxdWFsaXR5LCB3aGlsZSBhIGxvd2VyIHZhbHVlIGhhcyBiZXR0ZXIgbGF0ZW5jeS4gKi9cbiAgYmFzZVN0ZXBzPzogbnVtYmVyO1xuICAvKiogQ2xvdWQgU3RvcmFnZSBVUkkgdXNlZCB0byBzdG9yZSB0aGUgZ2VuZXJhdGVkIGltYWdlcy4gKi9cbiAgb3V0cHV0R2NzVXJpPzogc3RyaW5nO1xuICAvKiogUmFuZG9tIHNlZWQgZm9yIGltYWdlIGdlbmVyYXRpb24uICovXG4gIHNlZWQ/OiBudW1iZXI7XG4gIC8qKiBGaWx0ZXIgbGV2ZWwgZm9yIHNhZmV0eSBmaWx0ZXJpbmcuICovXG4gIHNhZmV0eUZpbHRlckxldmVsPzogU2FmZXR5RmlsdGVyTGV2ZWw7XG4gIC8qKiBXaGV0aGVyIGFsbG93IHRvIGdlbmVyYXRlIHBlcnNvbiBpbWFnZXMsIGFuZCByZXN0cmljdCB0byBzcGVjaWZpY1xuICAgICAgYWdlcy4gKi9cbiAgcGVyc29uR2VuZXJhdGlvbj86IFBlcnNvbkdlbmVyYXRpb247XG4gIC8qKiBXaGV0aGVyIHRvIGFkZCBhIFN5bnRoSUQgd2F0ZXJtYXJrIHRvIHRoZSBnZW5lcmF0ZWQgaW1hZ2VzLiAqL1xuICBhZGRXYXRlcm1hcms/OiBib29sZWFuO1xuICAvKiogTUlNRSB0eXBlIG9mIHRoZSBnZW5lcmF0ZWQgaW1hZ2UuICovXG4gIG91dHB1dE1pbWVUeXBlPzogc3RyaW5nO1xuICAvKiogQ29tcHJlc3Npb24gcXVhbGl0eSBvZiB0aGUgZ2VuZXJhdGVkIGltYWdlIChmb3IgYGBpbWFnZS9qcGVnYGBcbiAgICAgIG9ubHkpLiAqL1xuICBvdXRwdXRDb21wcmVzc2lvblF1YWxpdHk/OiBudW1iZXI7XG4gIC8qKiBXaGV0aGVyIHRvIHVzZSB0aGUgcHJvbXB0IHJld3JpdGluZyBsb2dpYy4gKi9cbiAgZW5oYW5jZVByb21wdD86IGJvb2xlYW47XG4gIC8qKiBVc2VyIHNwZWNpZmllZCBsYWJlbHMgdG8gdHJhY2sgYmlsbGluZyB1c2FnZS4gKi9cbiAgbGFiZWxzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn1cblxuLyoqIFRoZSBwYXJhbWV0ZXJzIGZvciByZWNvbnRleHR1YWxpemluZyBhbiBpbWFnZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBSZWNvbnRleHRJbWFnZVBhcmFtZXRlcnMge1xuICAvKiogSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gRm9yIGEgbGlzdCBvZiBtb2RlbHMsIHNlZSBgR29vZ2xlIG1vZGVsc1xuICAgIDxodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2dlbmVyYXRpdmUtYWkvZG9jcy9sZWFybi9tb2RlbHM+YF8uICovXG4gIG1vZGVsOiBzdHJpbmc7XG4gIC8qKiBBIHNldCBvZiBzb3VyY2UgaW5wdXQocykgZm9yIGltYWdlIHJlY29udGV4dHVhbGl6YXRpb24uICovXG4gIHNvdXJjZTogUmVjb250ZXh0SW1hZ2VTb3VyY2U7XG4gIC8qKiBDb25maWd1cmF0aW9uIGZvciBpbWFnZSByZWNvbnRleHR1YWxpemF0aW9uLiAqL1xuICBjb25maWc/OiBSZWNvbnRleHRJbWFnZUNvbmZpZztcbn1cblxuLyoqIFRoZSBvdXRwdXQgaW1hZ2VzIHJlc3BvbnNlLiAqL1xuZXhwb3J0IGNsYXNzIFJlY29udGV4dEltYWdlUmVzcG9uc2Uge1xuICAvKiogTGlzdCBvZiBnZW5lcmF0ZWQgaW1hZ2VzLiAqL1xuICBnZW5lcmF0ZWRJbWFnZXM/OiBHZW5lcmF0ZWRJbWFnZVtdO1xufVxuXG4vKiogQW4gaW1hZ2UgbWFzayByZXByZXNlbnRpbmcgYSBicnVzaCBzY3JpYmJsZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBTY3JpYmJsZUltYWdlIHtcbiAgLyoqIFRoZSBicnVzaCBzY3JpYmJsZSB0byBndWlkZSBzZWdtZW50YXRpb24uIFZhbGlkIGZvciB0aGUgaW50ZXJhY3RpdmUgbW9kZS4gKi9cbiAgaW1hZ2U/OiBJbWFnZTtcbn1cblxuLyoqIEEgc2V0IG9mIHNvdXJjZSBpbnB1dChzKSBmb3IgaW1hZ2Ugc2VnbWVudGF0aW9uLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFNlZ21lbnRJbWFnZVNvdXJjZSB7XG4gIC8qKiBBIHRleHQgcHJvbXB0IGZvciBndWlkaW5nIHRoZSBtb2RlbCBkdXJpbmcgaW1hZ2Ugc2VnbWVudGF0aW9uLlxuICAgICAgUmVxdWlyZWQgZm9yIHByb21wdCBtb2RlIGFuZCBzZW1hbnRpYyBtb2RlLCBkaXNhbGxvd2VkIGZvciBvdGhlciBtb2Rlcy4gKi9cbiAgcHJvbXB0Pzogc3RyaW5nO1xuICAvKiogVGhlIGltYWdlIHRvIGJlIHNlZ21lbnRlZC4gKi9cbiAgaW1hZ2U/OiBJbWFnZTtcbiAgLyoqIFRoZSBicnVzaCBzY3JpYmJsZSB0byBndWlkZSBzZWdtZW50YXRpb24uXG4gICAgICBSZXF1aXJlZCBmb3IgdGhlIGludGVyYWN0aXZlIG1vZGUsIGRpc2FsbG93ZWQgZm9yIG90aGVyIG1vZGVzLiAqL1xuICBzY3JpYmJsZUltYWdlPzogU2NyaWJibGVJbWFnZTtcbn1cblxuLyoqIENvbmZpZ3VyYXRpb24gZm9yIHNlZ21lbnRpbmcgYW4gaW1hZ2UuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgU2VnbWVudEltYWdlQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIC8qKiBBYm9ydCBzaWduYWwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSByZXF1ZXN0LlxuXG4gIE5PVEU6IEFib3J0U2lnbmFsIGlzIGEgY2xpZW50LW9ubHkgb3BlcmF0aW9uLiBVc2luZyBpdCB0byBjYW5jZWwgYW5cbiAgb3BlcmF0aW9uIHdpbGwgbm90IGNhbmNlbCB0aGUgcmVxdWVzdCBpbiB0aGUgc2VydmljZS4gWW91IHdpbGwgc3RpbGxcbiAgYmUgY2hhcmdlZCB1c2FnZSBmb3IgYW55IGFwcGxpY2FibGUgb3BlcmF0aW9ucy5cbiAgICAgICAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuICAvKiogVGhlIHNlZ21lbnRhdGlvbiBtb2RlIHRvIHVzZS4gKi9cbiAgbW9kZT86IFNlZ21lbnRNb2RlO1xuICAvKiogVGhlIG1heGltdW0gbnVtYmVyIG9mIHByZWRpY3Rpb25zIHRvIHJldHVybiB1cCB0bywgYnkgdG9wXG4gICAgICBjb25maWRlbmNlIHNjb3JlLiAqL1xuICBtYXhQcmVkaWN0aW9ucz86IG51bWJlcjtcbiAgLyoqIFRoZSBjb25maWRlbmNlIHNjb3JlIHRocmVzaG9sZCBmb3IgdGhlIGRldGVjdGlvbnMgYXMgYSBkZWNpbWFsXG4gICAgICB2YWx1ZS4gT25seSBwcmVkaWN0aW9ucyB3aXRoIGEgY29uZmlkZW5jZSBzY29yZSBoaWdoZXIgdGhhbiB0aGlzXG4gICAgICB0aHJlc2hvbGQgd2lsbCBiZSByZXR1cm5lZC4gKi9cbiAgY29uZmlkZW5jZVRocmVzaG9sZD86IG51bWJlcjtcbiAgLyoqIEEgZGVjaW1hbCB2YWx1ZSByZXByZXNlbnRpbmcgaG93IG11Y2ggZGlsYXRpb24gdG8gYXBwbHkgdG8gdGhlXG4gICAgICBtYXNrcy4gMCBmb3Igbm8gZGlsYXRpb24uIDEuMCBtZWFucyB0aGUgbWFza2VkIGFyZWEgY292ZXJzIHRoZSB3aG9sZVxuICAgICAgaW1hZ2UuICovXG4gIG1hc2tEaWxhdGlvbj86IG51bWJlcjtcbiAgLyoqIFRoZSBiaW5hcnkgY29sb3IgdGhyZXNob2xkIHRvIGFwcGx5IHRvIHRoZSBtYXNrcy4gVGhlIHRocmVzaG9sZFxuICAgICAgY2FuIGJlIHNldCB0byBhIGRlY2ltYWwgdmFsdWUgYmV0d2VlbiAwIGFuZCAyNTUgbm9uLWluY2x1c2l2ZS5cbiAgICAgIFNldCB0byAtMSBmb3Igbm8gYmluYXJ5IGNvbG9yIHRocmVzaG9sZGluZy4gKi9cbiAgYmluYXJ5Q29sb3JUaHJlc2hvbGQ/OiBudW1iZXI7XG4gIC8qKiBVc2VyIHNwZWNpZmllZCBsYWJlbHMgdG8gdHJhY2sgYmlsbGluZyB1c2FnZS4gKi9cbiAgbGFiZWxzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn1cblxuLyoqIFRoZSBwYXJhbWV0ZXJzIGZvciBzZWdtZW50aW5nIGFuIGltYWdlLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFNlZ21lbnRJbWFnZVBhcmFtZXRlcnMge1xuICAvKiogSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gRm9yIGEgbGlzdCBvZiBtb2RlbHMsIHNlZSBgR29vZ2xlIG1vZGVsc1xuICAgIDxodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2dlbmVyYXRpdmUtYWkvZG9jcy9sZWFybi9tb2RlbHM+YF8uICovXG4gIG1vZGVsOiBzdHJpbmc7XG4gIC8qKiBBIHNldCBvZiBzb3VyY2UgaW5wdXQocykgZm9yIGltYWdlIHNlZ21lbnRhdGlvbi4gKi9cbiAgc291cmNlOiBTZWdtZW50SW1hZ2VTb3VyY2U7XG4gIC8qKiBDb25maWd1cmF0aW9uIGZvciBpbWFnZSBzZWdtZW50YXRpb24uICovXG4gIGNvbmZpZz86IFNlZ21lbnRJbWFnZUNvbmZpZztcbn1cblxuLyoqIEFuIGVudGl0eSByZXByZXNlbnRpbmcgdGhlIHNlZ21lbnRlZCBhcmVhLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEVudGl0eUxhYmVsIHtcbiAgLyoqIFRoZSBsYWJlbCBvZiB0aGUgc2VnbWVudGVkIGVudGl0eS4gKi9cbiAgbGFiZWw/OiBzdHJpbmc7XG4gIC8qKiBUaGUgY29uZmlkZW5jZSBzY29yZSBvZiB0aGUgZGV0ZWN0ZWQgbGFiZWwuICovXG4gIHNjb3JlPzogbnVtYmVyO1xufVxuXG4vKiogQSBnZW5lcmF0ZWQgaW1hZ2UgbWFzay4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZW5lcmF0ZWRJbWFnZU1hc2sge1xuICAvKiogVGhlIGdlbmVyYXRlZCBpbWFnZSBtYXNrLiAqL1xuICBtYXNrPzogSW1hZ2U7XG4gIC8qKiBUaGUgZGV0ZWN0ZWQgZW50aXRpZXMgb24gdGhlIHNlZ21lbnRlZCBhcmVhLiAqL1xuICBsYWJlbHM/OiBFbnRpdHlMYWJlbFtdO1xufVxuXG4vKiogVGhlIG91dHB1dCBpbWFnZXMgcmVzcG9uc2UuICovXG5leHBvcnQgY2xhc3MgU2VnbWVudEltYWdlUmVzcG9uc2Uge1xuICAvKiogTGlzdCBvZiBnZW5lcmF0ZWQgaW1hZ2UgbWFza3MuXG4gICAqL1xuICBnZW5lcmF0ZWRNYXNrcz86IEdlbmVyYXRlZEltYWdlTWFza1tdO1xufVxuXG4vKiogT3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgbW9kZWxzLmdldCBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR2V0TW9kZWxDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIEFib3J0IHNpZ25hbCB3aGljaCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3QuXG5cbiAgTk9URTogQWJvcnRTaWduYWwgaXMgYSBjbGllbnQtb25seSBvcGVyYXRpb24uIFVzaW5nIGl0IHRvIGNhbmNlbCBhblxuICBvcGVyYXRpb24gd2lsbCBub3QgY2FuY2VsIHRoZSByZXF1ZXN0IGluIHRoZSBzZXJ2aWNlLiBZb3Ugd2lsbCBzdGlsbFxuICBiZSBjaGFyZ2VkIHVzYWdlIGZvciBhbnkgYXBwbGljYWJsZSBvcGVyYXRpb25zLlxuICAgICAgICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG59XG5cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZXRNb2RlbFBhcmFtZXRlcnMge1xuICBtb2RlbDogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgdGhlIHJlcXVlc3QuICovXG4gIGNvbmZpZz86IEdldE1vZGVsQ29uZmlnO1xufVxuXG4vKiogQW4gZW5kcG9pbnQgd2hlcmUgeW91IGRlcGxveSBtb2RlbHMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRW5kcG9pbnQge1xuICAvKiogUmVzb3VyY2UgbmFtZSBvZiB0aGUgZW5kcG9pbnQuICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKiBJRCBvZiB0aGUgbW9kZWwgdGhhdCdzIGRlcGxveWVkIHRvIHRoZSBlbmRwb2ludC4gKi9cbiAgZGVwbG95ZWRNb2RlbElkPzogc3RyaW5nO1xufVxuXG4vKiogQSB0dW5lZCBtYWNoaW5lIGxlYXJuaW5nIG1vZGVsLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFR1bmVkTW9kZWxJbmZvIHtcbiAgLyoqIElEIG9mIHRoZSBiYXNlIG1vZGVsIHRoYXQgeW91IHdhbnQgdG8gdHVuZS4gKi9cbiAgYmFzZU1vZGVsPzogc3RyaW5nO1xuICAvKiogRGF0ZSBhbmQgdGltZSB3aGVuIHRoZSBiYXNlIG1vZGVsIHdhcyBjcmVhdGVkLiAqL1xuICBjcmVhdGVUaW1lPzogc3RyaW5nO1xuICAvKiogRGF0ZSBhbmQgdGltZSB3aGVuIHRoZSBiYXNlIG1vZGVsIHdhcyBsYXN0IHVwZGF0ZWQuICovXG4gIHVwZGF0ZVRpbWU/OiBzdHJpbmc7XG59XG5cbi8qKiBEZXNjcmliZXMgdGhlIG1hY2hpbmUgbGVhcm5pbmcgbW9kZWwgdmVyc2lvbiBjaGVja3BvaW50LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENoZWNrcG9pbnQge1xuICAvKiogVGhlIElEIG9mIHRoZSBjaGVja3BvaW50LlxuICAgKi9cbiAgY2hlY2twb2ludElkPzogc3RyaW5nO1xuICAvKiogVGhlIGVwb2NoIG9mIHRoZSBjaGVja3BvaW50LlxuICAgKi9cbiAgZXBvY2g/OiBzdHJpbmc7XG4gIC8qKiBUaGUgc3RlcCBvZiB0aGUgY2hlY2twb2ludC5cbiAgICovXG4gIHN0ZXA/OiBzdHJpbmc7XG59XG5cbi8qKiBBIHRyYWluZWQgbWFjaGluZSBsZWFybmluZyBtb2RlbC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBNb2RlbCB7XG4gIC8qKiBSZXNvdXJjZSBuYW1lIG9mIHRoZSBtb2RlbC4gKi9cbiAgbmFtZT86IHN0cmluZztcbiAgLyoqIERpc3BsYXkgbmFtZSBvZiB0aGUgbW9kZWwuICovXG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xuICAvKiogRGVzY3JpcHRpb24gb2YgdGhlIG1vZGVsLiAqL1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgLyoqIFZlcnNpb24gSUQgb2YgdGhlIG1vZGVsLiBBIG5ldyB2ZXJzaW9uIGlzIGNvbW1pdHRlZCB3aGVuIGEgbmV3XG4gICAgICBtb2RlbCB2ZXJzaW9uIGlzIHVwbG9hZGVkIG9yIHRyYWluZWQgdW5kZXIgYW4gZXhpc3RpbmcgbW9kZWwgSUQuIFRoZVxuICAgICAgdmVyc2lvbiBJRCBpcyBhbiBhdXRvLWluY3JlbWVudGluZyBkZWNpbWFsIG51bWJlciBpbiBzdHJpbmdcbiAgICAgIHJlcHJlc2VudGF0aW9uLiAqL1xuICB2ZXJzaW9uPzogc3RyaW5nO1xuICAvKiogTGlzdCBvZiBkZXBsb3llZCBtb2RlbHMgY3JlYXRlZCBmcm9tIHRoaXMgYmFzZSBtb2RlbC4gTm90ZSB0aGF0IGFcbiAgICAgIG1vZGVsIGNvdWxkIGhhdmUgYmVlbiBkZXBsb3llZCB0byBlbmRwb2ludHMgaW4gZGlmZmVyZW50IGxvY2F0aW9ucy4gKi9cbiAgZW5kcG9pbnRzPzogRW5kcG9pbnRbXTtcbiAgLyoqIExhYmVscyB3aXRoIHVzZXItZGVmaW5lZCBtZXRhZGF0YSB0byBvcmdhbml6ZSB5b3VyIG1vZGVscy4gKi9cbiAgbGFiZWxzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgLyoqIEluZm9ybWF0aW9uIGFib3V0IHRoZSB0dW5lZCBtb2RlbCBmcm9tIHRoZSBiYXNlIG1vZGVsLiAqL1xuICB0dW5lZE1vZGVsSW5mbz86IFR1bmVkTW9kZWxJbmZvO1xuICAvKiogVGhlIG1heGltdW0gbnVtYmVyIG9mIGlucHV0IHRva2VucyB0aGF0IHRoZSBtb2RlbCBjYW4gaGFuZGxlLiAqL1xuICBpbnB1dFRva2VuTGltaXQ/OiBudW1iZXI7XG4gIC8qKiBUaGUgbWF4aW11bSBudW1iZXIgb2Ygb3V0cHV0IHRva2VucyB0aGF0IHRoZSBtb2RlbCBjYW4gZ2VuZXJhdGUuICovXG4gIG91dHB1dFRva2VuTGltaXQ/OiBudW1iZXI7XG4gIC8qKiBMaXN0IG9mIGFjdGlvbnMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHRoZSBtb2RlbC4gKi9cbiAgc3VwcG9ydGVkQWN0aW9ucz86IHN0cmluZ1tdO1xuICAvKiogVGhlIGRlZmF1bHQgY2hlY2twb2ludCBpZCBvZiBhIG1vZGVsIHZlcnNpb24uXG4gICAqL1xuICBkZWZhdWx0Q2hlY2twb2ludElkPzogc3RyaW5nO1xuICAvKiogVGhlIGNoZWNrcG9pbnRzIG9mIHRoZSBtb2RlbC4gKi9cbiAgY2hlY2twb2ludHM/OiBDaGVja3BvaW50W107XG4gIC8qKiBUZW1wZXJhdHVyZSB2YWx1ZSB1c2VkIGZvciBzYW1wbGluZyBzZXQgd2hlbiB0aGUgZGF0YXNldCB3YXMgc2F2ZWQuXG4gICAgICBUaGlzIHZhbHVlIGlzIHVzZWQgdG8gdHVuZSB0aGUgZGVncmVlIG9mIHJhbmRvbW5lc3MuICovXG4gIHRlbXBlcmF0dXJlPzogbnVtYmVyO1xuICAvKiogVGhlIG1heGltdW0gdGVtcGVyYXR1cmUgdmFsdWUgdXNlZCBmb3Igc2FtcGxpbmcgc2V0IHdoZW4gdGhlXG4gICAgICBkYXRhc2V0IHdhcyBzYXZlZC4gVGhpcyB2YWx1ZSBpcyB1c2VkIHRvIHR1bmUgdGhlIGRlZ3JlZSBvZiByYW5kb21uZXNzLiAqL1xuICBtYXhUZW1wZXJhdHVyZT86IG51bWJlcjtcbiAgLyoqIE9wdGlvbmFsLiBTcGVjaWZpZXMgdGhlIG51Y2xldXMgc2FtcGxpbmcgdGhyZXNob2xkLiBUaGUgbW9kZWxcbiAgICAgIGNvbnNpZGVycyBvbmx5IHRoZSBzbWFsbGVzdCBzZXQgb2YgdG9rZW5zIHdob3NlIGN1bXVsYXRpdmUgcHJvYmFiaWxpdHkgaXNcbiAgICAgIGF0IGxlYXN0IGB0b3BfcGAuIFRoaXMgaGVscHMgZ2VuZXJhdGUgbW9yZSBkaXZlcnNlIGFuZCBsZXNzIHJlcGV0aXRpdmVcbiAgICAgIHJlc3BvbnNlcy4gRm9yIGV4YW1wbGUsIGEgYHRvcF9wYCBvZiAwLjkgbWVhbnMgdGhlIG1vZGVsIGNvbnNpZGVycyB0b2tlbnNcbiAgICAgIHVudGlsIHRoZSBjdW11bGF0aXZlIHByb2JhYmlsaXR5IG9mIHRoZSB0b2tlbnMgdG8gc2VsZWN0IGZyb20gcmVhY2hlcyAwLjkuXG4gICAgICBJdCdzIHJlY29tbWVuZGVkIHRvIGFkanVzdCBlaXRoZXIgdGVtcGVyYXR1cmUgb3IgYHRvcF9wYCwgYnV0IG5vdCBib3RoLiAqL1xuICB0b3BQPzogbnVtYmVyO1xuICAvKiogT3B0aW9uYWwuIFNwZWNpZmllcyB0aGUgdG9wLWsgc2FtcGxpbmcgdGhyZXNob2xkLiBUaGUgbW9kZWxcbiAgICAgIGNvbnNpZGVycyBvbmx5IHRoZSB0b3AgayBtb3N0IHByb2JhYmxlIHRva2VucyBmb3IgdGhlIG5leHQgdG9rZW4uIFRoaXMgY2FuXG4gICAgICBiZSB1c2VmdWwgZm9yIGdlbmVyYXRpbmcgbW9yZSBjb2hlcmVudCBhbmQgbGVzcyByYW5kb20gdGV4dC4gRm9yIGV4YW1wbGUsXG4gICAgICBhIGB0b3Bfa2Agb2YgNDAgbWVhbnMgdGhlIG1vZGVsIHdpbGwgY2hvb3NlIHRoZSBuZXh0IHdvcmQgZnJvbSB0aGUgNDAgbW9zdFxuICAgICAgbGlrZWx5IHdvcmRzLiAqL1xuICB0b3BLPzogbnVtYmVyO1xuICAvKiogV2hldGhlciB0aGUgbW9kZWwgc3VwcG9ydHMgdGhpbmtpbmcgZmVhdHVyZXMuIElmIHRydWUsIHRob3VnaHRzIGFyZVxuICAgICAgcmV0dXJuZWQgb25seSBpZiB0aGUgbW9kZWwgc3VwcG9ydHMgdGhvdWdodCBhbmQgdGhvdWdodHMgYXJlIGF2YWlsYWJsZS4gKi9cbiAgdGhpbmtpbmc/OiBib29sZWFuO1xufVxuXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGlzdE1vZGVsc0NvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogQWJvcnQgc2lnbmFsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgcmVxdWVzdC5cblxuICBOT1RFOiBBYm9ydFNpZ25hbCBpcyBhIGNsaWVudC1vbmx5IG9wZXJhdGlvbi4gVXNpbmcgaXQgdG8gY2FuY2VsIGFuXG4gIG9wZXJhdGlvbiB3aWxsIG5vdCBjYW5jZWwgdGhlIHJlcXVlc3QgaW4gdGhlIHNlcnZpY2UuIFlvdSB3aWxsIHN0aWxsXG4gIGJlIGNoYXJnZWQgdXNhZ2UgZm9yIGFueSBhcHBsaWNhYmxlIG9wZXJhdGlvbnMuXG4gICAgICAgKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbiAgcGFnZVNpemU/OiBudW1iZXI7XG4gIHBhZ2VUb2tlbj86IHN0cmluZztcbiAgZmlsdGVyPzogc3RyaW5nO1xuICAvKiogU2V0IHRydWUgdG8gbGlzdCBiYXNlIG1vZGVscywgZmFsc2UgdG8gbGlzdCB0dW5lZCBtb2RlbHMuICovXG4gIHF1ZXJ5QmFzZT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXN0TW9kZWxzUGFyYW1ldGVycyB7XG4gIGNvbmZpZz86IExpc3RNb2RlbHNDb25maWc7XG59XG5cbmV4cG9ydCBjbGFzcyBMaXN0TW9kZWxzUmVzcG9uc2Uge1xuICAvKiogVXNlZCB0byByZXRhaW4gdGhlIGZ1bGwgSFRUUCByZXNwb25zZS4gKi9cbiAgc2RrSHR0cFJlc3BvbnNlPzogSHR0cFJlc3BvbnNlO1xuICBuZXh0UGFnZVRva2VuPzogc3RyaW5nO1xuICBtb2RlbHM/OiBNb2RlbFtdO1xufVxuXG4vKiogQ29uZmlndXJhdGlvbiBmb3IgdXBkYXRpbmcgYSB0dW5lZCBtb2RlbC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBVcGRhdGVNb2RlbENvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogQWJvcnQgc2lnbmFsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgcmVxdWVzdC5cblxuICBOT1RFOiBBYm9ydFNpZ25hbCBpcyBhIGNsaWVudC1vbmx5IG9wZXJhdGlvbi4gVXNpbmcgaXQgdG8gY2FuY2VsIGFuXG4gIG9wZXJhdGlvbiB3aWxsIG5vdCBjYW5jZWwgdGhlIHJlcXVlc3QgaW4gdGhlIHNlcnZpY2UuIFlvdSB3aWxsIHN0aWxsXG4gIGJlIGNoYXJnZWQgdXNhZ2UgZm9yIGFueSBhcHBsaWNhYmxlIG9wZXJhdGlvbnMuXG4gICAgICAgKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbiAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBkZWZhdWx0Q2hlY2twb2ludElkPzogc3RyaW5nO1xufVxuXG4vKiogQ29uZmlndXJhdGlvbiBmb3IgdXBkYXRpbmcgYSB0dW5lZCBtb2RlbC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBVcGRhdGVNb2RlbFBhcmFtZXRlcnMge1xuICBtb2RlbDogc3RyaW5nO1xuICBjb25maWc/OiBVcGRhdGVNb2RlbENvbmZpZztcbn1cblxuLyoqIENvbmZpZ3VyYXRpb24gZm9yIGRlbGV0aW5nIGEgdHVuZWQgbW9kZWwuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRGVsZXRlTW9kZWxDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIEFib3J0IHNpZ25hbCB3aGljaCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3QuXG5cbiAgTk9URTogQWJvcnRTaWduYWwgaXMgYSBjbGllbnQtb25seSBvcGVyYXRpb24uIFVzaW5nIGl0IHRvIGNhbmNlbCBhblxuICBvcGVyYXRpb24gd2lsbCBub3QgY2FuY2VsIHRoZSByZXF1ZXN0IGluIHRoZSBzZXJ2aWNlLiBZb3Ugd2lsbCBzdGlsbFxuICBiZSBjaGFyZ2VkIHVzYWdlIGZvciBhbnkgYXBwbGljYWJsZSBvcGVyYXRpb25zLlxuICAgICAgICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciBkZWxldGluZyBhIHR1bmVkIG1vZGVsLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIERlbGV0ZU1vZGVsUGFyYW1ldGVycyB7XG4gIG1vZGVsOiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbCBwYXJhbWV0ZXJzIGZvciB0aGUgcmVxdWVzdC4gKi9cbiAgY29uZmlnPzogRGVsZXRlTW9kZWxDb25maWc7XG59XG5cbmV4cG9ydCBjbGFzcyBEZWxldGVNb2RlbFJlc3BvbnNlIHtcbiAgLyoqIFVzZWQgdG8gcmV0YWluIHRoZSBmdWxsIEhUVFAgcmVzcG9uc2UuICovXG4gIHNka0h0dHBSZXNwb25zZT86IEh0dHBSZXNwb25zZTtcbn1cblxuLyoqIEdlbmVyYXRpb24gY29uZmlnLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdlbmVyYXRpb25Db25maWcge1xuICAvKiogT3B0aW9uYWwuIENvbmZpZyBmb3IgbW9kZWwgc2VsZWN0aW9uLiAqL1xuICBtb2RlbFNlbGVjdGlvbkNvbmZpZz86IE1vZGVsU2VsZWN0aW9uQ29uZmlnO1xuICAvKiogT3V0cHV0IHNjaGVtYSBvZiB0aGUgZ2VuZXJhdGVkIHJlc3BvbnNlLiBUaGlzIGlzIGFuIGFsdGVybmF0aXZlIHRvXG4gICAgICBgcmVzcG9uc2Vfc2NoZW1hYCB0aGF0IGFjY2VwdHMgW0pTT04gU2NoZW1hXShodHRwczovL2pzb24tc2NoZW1hLm9yZy8pLlxuICAgICAgICovXG4gIHJlc3BvbnNlSnNvblNjaGVtYT86IHVua25vd247XG4gIC8qKiBPcHRpb25hbC4gSWYgZW5hYmxlZCwgYXVkaW8gdGltZXN0YW1wIHdpbGwgYmUgaW5jbHVkZWQgaW4gdGhlIHJlcXVlc3QgdG8gdGhlIG1vZGVsLiBUaGlzIGZpZWxkIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbiAgYXVkaW9UaW1lc3RhbXA/OiBib29sZWFuO1xuICAvKiogT3B0aW9uYWwuIE51bWJlciBvZiBjYW5kaWRhdGVzIHRvIGdlbmVyYXRlLiAqL1xuICBjYW5kaWRhdGVDb3VudD86IG51bWJlcjtcbiAgLyoqIE9wdGlvbmFsLiBJZiBlbmFibGVkLCB0aGUgbW9kZWwgd2lsbCBkZXRlY3QgZW1vdGlvbnMgYW5kIGFkYXB0IGl0cyByZXNwb25zZXMgYWNjb3JkaW5nbHkuIFRoaXMgZmllbGQgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuICBlbmFibGVBZmZlY3RpdmVEaWFsb2c/OiBib29sZWFuO1xuICAvKiogT3B0aW9uYWwuIEZyZXF1ZW5jeSBwZW5hbHRpZXMuICovXG4gIGZyZXF1ZW5jeVBlbmFsdHk/OiBudW1iZXI7XG4gIC8qKiBPcHRpb25hbC4gTG9naXQgcHJvYmFiaWxpdGllcy4gKi9cbiAgbG9ncHJvYnM/OiBudW1iZXI7XG4gIC8qKiBPcHRpb25hbC4gVGhlIG1heGltdW0gbnVtYmVyIG9mIG91dHB1dCB0b2tlbnMgdG8gZ2VuZXJhdGUgcGVyIG1lc3NhZ2UuICovXG4gIG1heE91dHB1dFRva2Vucz86IG51bWJlcjtcbiAgLyoqIE9wdGlvbmFsLiBJZiBzcGVjaWZpZWQsIHRoZSBtZWRpYSByZXNvbHV0aW9uIHNwZWNpZmllZCB3aWxsIGJlIHVzZWQuICovXG4gIG1lZGlhUmVzb2x1dGlvbj86IE1lZGlhUmVzb2x1dGlvbjtcbiAgLyoqIE9wdGlvbmFsLiBQb3NpdGl2ZSBwZW5hbHRpZXMuICovXG4gIHByZXNlbmNlUGVuYWx0eT86IG51bWJlcjtcbiAgLyoqIE9wdGlvbmFsLiBJZiB0cnVlLCBleHBvcnQgdGhlIGxvZ3Byb2JzIHJlc3VsdHMgaW4gcmVzcG9uc2UuICovXG4gIHJlc3BvbnNlTG9ncHJvYnM/OiBib29sZWFuO1xuICAvKiogT3B0aW9uYWwuIE91dHB1dCByZXNwb25zZSBtaW1ldHlwZSBvZiB0aGUgZ2VuZXJhdGVkIGNhbmRpZGF0ZSB0ZXh0LiBTdXBwb3J0ZWQgbWltZXR5cGU6IC0gYHRleHQvcGxhaW5gOiAoZGVmYXVsdCkgVGV4dCBvdXRwdXQuIC0gYGFwcGxpY2F0aW9uL2pzb25gOiBKU09OIHJlc3BvbnNlIGluIHRoZSBjYW5kaWRhdGVzLiBUaGUgbW9kZWwgbmVlZHMgdG8gYmUgcHJvbXB0ZWQgdG8gb3V0cHV0IHRoZSBhcHByb3ByaWF0ZSByZXNwb25zZSB0eXBlLCBvdGhlcndpc2UgdGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZC4gVGhpcyBpcyBhIHByZXZpZXcgZmVhdHVyZS4gKi9cbiAgcmVzcG9uc2VNaW1lVHlwZT86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBUaGUgbW9kYWxpdGllcyBvZiB0aGUgcmVzcG9uc2UuICovXG4gIHJlc3BvbnNlTW9kYWxpdGllcz86IE1vZGFsaXR5W107XG4gIC8qKiBPcHRpb25hbC4gVGhlIGBTY2hlbWFgIG9iamVjdCBhbGxvd3MgdGhlIGRlZmluaXRpb24gb2YgaW5wdXQgYW5kIG91dHB1dCBkYXRhIHR5cGVzLiBUaGVzZSB0eXBlcyBjYW4gYmUgb2JqZWN0cywgYnV0IGFsc28gcHJpbWl0aXZlcyBhbmQgYXJyYXlzLiBSZXByZXNlbnRzIGEgc2VsZWN0IHN1YnNldCBvZiBhbiBbT3BlbkFQSSAzLjAgc2NoZW1hIG9iamVjdF0oaHR0cHM6Ly9zcGVjLm9wZW5hcGlzLm9yZy9vYXMvdjMuMC4zI3NjaGVtYSkuIElmIHNldCwgYSBjb21wYXRpYmxlIHJlc3BvbnNlX21pbWVfdHlwZSBtdXN0IGFsc28gYmUgc2V0LiBDb21wYXRpYmxlIG1pbWV0eXBlczogYGFwcGxpY2F0aW9uL2pzb25gOiBTY2hlbWEgZm9yIEpTT04gcmVzcG9uc2UuICovXG4gIHJlc3BvbnNlU2NoZW1hPzogU2NoZW1hO1xuICAvKiogT3B0aW9uYWwuIFJvdXRpbmcgY29uZmlndXJhdGlvbi4gVGhpcyBmaWVsZCBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG4gIHJvdXRpbmdDb25maWc/OiBHZW5lcmF0aW9uQ29uZmlnUm91dGluZ0NvbmZpZztcbiAgLyoqIE9wdGlvbmFsLiBTZWVkLiAqL1xuICBzZWVkPzogbnVtYmVyO1xuICAvKiogT3B0aW9uYWwuIFRoZSBzcGVlY2ggZ2VuZXJhdGlvbiBjb25maWcuICovXG4gIHNwZWVjaENvbmZpZz86IFNwZWVjaENvbmZpZztcbiAgLyoqIE9wdGlvbmFsLiBTdG9wIHNlcXVlbmNlcy4gKi9cbiAgc3RvcFNlcXVlbmNlcz86IHN0cmluZ1tdO1xuICAvKiogT3B0aW9uYWwuIENvbnRyb2xzIHRoZSByYW5kb21uZXNzIG9mIHByZWRpY3Rpb25zLiAqL1xuICB0ZW1wZXJhdHVyZT86IG51bWJlcjtcbiAgLyoqIE9wdGlvbmFsLiBDb25maWcgZm9yIHRoaW5raW5nIGZlYXR1cmVzLiBBbiBlcnJvciB3aWxsIGJlIHJldHVybmVkIGlmIHRoaXMgZmllbGQgaXMgc2V0IGZvciBtb2RlbHMgdGhhdCBkb24ndCBzdXBwb3J0IHRoaW5raW5nLiAqL1xuICB0aGlua2luZ0NvbmZpZz86IFRoaW5raW5nQ29uZmlnO1xuICAvKiogT3B0aW9uYWwuIElmIHNwZWNpZmllZCwgdG9wLWsgc2FtcGxpbmcgd2lsbCBiZSB1c2VkLiAqL1xuICB0b3BLPzogbnVtYmVyO1xuICAvKiogT3B0aW9uYWwuIElmIHNwZWNpZmllZCwgbnVjbGV1cyBzYW1wbGluZyB3aWxsIGJlIHVzZWQuICovXG4gIHRvcFA/OiBudW1iZXI7XG4gIC8qKiBPcHRpb25hbC4gRW5hYmxlcyBlbmhhbmNlZCBjaXZpYyBhbnN3ZXJzLiBJdCBtYXkgbm90IGJlIGF2YWlsYWJsZSBmb3IgYWxsIG1vZGVscy4gVGhpcyBmaWVsZCBpcyBub3Qgc3VwcG9ydGVkIGluIFZlcnRleCBBSS4gKi9cbiAgZW5hYmxlRW5oYW5jZWRDaXZpY0Fuc3dlcnM/OiBib29sZWFuO1xufVxuXG4vKiogQ29uZmlnIGZvciB0aGUgY291bnRfdG9rZW5zIG1ldGhvZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDb3VudFRva2Vuc0NvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogQWJvcnQgc2lnbmFsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgcmVxdWVzdC5cblxuICBOT1RFOiBBYm9ydFNpZ25hbCBpcyBhIGNsaWVudC1vbmx5IG9wZXJhdGlvbi4gVXNpbmcgaXQgdG8gY2FuY2VsIGFuXG4gIG9wZXJhdGlvbiB3aWxsIG5vdCBjYW5jZWwgdGhlIHJlcXVlc3QgaW4gdGhlIHNlcnZpY2UuIFlvdSB3aWxsIHN0aWxsXG4gIGJlIGNoYXJnZWQgdXNhZ2UgZm9yIGFueSBhcHBsaWNhYmxlIG9wZXJhdGlvbnMuXG4gICAgICAgKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbiAgLyoqIEluc3RydWN0aW9ucyBmb3IgdGhlIG1vZGVsIHRvIHN0ZWVyIGl0IHRvd2FyZCBiZXR0ZXIgcGVyZm9ybWFuY2UuXG4gICAqL1xuICBzeXN0ZW1JbnN0cnVjdGlvbj86IENvbnRlbnRVbmlvbjtcbiAgLyoqIENvZGUgdGhhdCBlbmFibGVzIHRoZSBzeXN0ZW0gdG8gaW50ZXJhY3Qgd2l0aCBleHRlcm5hbCBzeXN0ZW1zIHRvXG4gICAgICBwZXJmb3JtIGFuIGFjdGlvbiBvdXRzaWRlIG9mIHRoZSBrbm93bGVkZ2UgYW5kIHNjb3BlIG9mIHRoZSBtb2RlbC5cbiAgICAgICAqL1xuICB0b29scz86IFRvb2xbXTtcbiAgLyoqIENvbmZpZ3VyYXRpb24gdGhhdCB0aGUgbW9kZWwgdXNlcyB0byBnZW5lcmF0ZSB0aGUgcmVzcG9uc2UuIE5vdFxuICAgICAgc3VwcG9ydGVkIGJ5IHRoZSBHZW1pbmkgRGV2ZWxvcGVyIEFQSS5cbiAgICAgICAqL1xuICBnZW5lcmF0aW9uQ29uZmlnPzogR2VuZXJhdGlvbkNvbmZpZztcbn1cblxuLyoqIFBhcmFtZXRlcnMgZm9yIGNvdW50aW5nIHRva2Vucy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDb3VudFRva2Vuc1BhcmFtZXRlcnMge1xuICAvKiogSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gRm9yIGEgbGlzdCBvZiBtb2RlbHMsIHNlZSBgR29vZ2xlIG1vZGVsc1xuICAgIDxodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2dlbmVyYXRpdmUtYWkvZG9jcy9sZWFybi9tb2RlbHM+YF8uICovXG4gIG1vZGVsOiBzdHJpbmc7XG4gIC8qKiBJbnB1dCBjb250ZW50LiAqL1xuICBjb250ZW50czogQ29udGVudExpc3RVbmlvbjtcbiAgLyoqIENvbmZpZ3VyYXRpb24gZm9yIGNvdW50aW5nIHRva2Vucy4gKi9cbiAgY29uZmlnPzogQ291bnRUb2tlbnNDb25maWc7XG59XG5cbi8qKiBSZXNwb25zZSBmb3IgY291bnRpbmcgdG9rZW5zLiAqL1xuZXhwb3J0IGNsYXNzIENvdW50VG9rZW5zUmVzcG9uc2Uge1xuICAvKiogVXNlZCB0byByZXRhaW4gdGhlIGZ1bGwgSFRUUCByZXNwb25zZS4gKi9cbiAgc2RrSHR0cFJlc3BvbnNlPzogSHR0cFJlc3BvbnNlO1xuICAvKiogVG90YWwgbnVtYmVyIG9mIHRva2Vucy4gKi9cbiAgdG90YWxUb2tlbnM/OiBudW1iZXI7XG4gIC8qKiBOdW1iZXIgb2YgdG9rZW5zIGluIHRoZSBjYWNoZWQgcGFydCBvZiB0aGUgcHJvbXB0ICh0aGUgY2FjaGVkIGNvbnRlbnQpLiAqL1xuICBjYWNoZWRDb250ZW50VG9rZW5Db3VudD86IG51bWJlcjtcbn1cblxuLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIGNvbXB1dGluZyB0b2tlbnMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ29tcHV0ZVRva2Vuc0NvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogQWJvcnQgc2lnbmFsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgcmVxdWVzdC5cblxuICBOT1RFOiBBYm9ydFNpZ25hbCBpcyBhIGNsaWVudC1vbmx5IG9wZXJhdGlvbi4gVXNpbmcgaXQgdG8gY2FuY2VsIGFuXG4gIG9wZXJhdGlvbiB3aWxsIG5vdCBjYW5jZWwgdGhlIHJlcXVlc3QgaW4gdGhlIHNlcnZpY2UuIFlvdSB3aWxsIHN0aWxsXG4gIGJlIGNoYXJnZWQgdXNhZ2UgZm9yIGFueSBhcHBsaWNhYmxlIG9wZXJhdGlvbnMuXG4gICAgICAgKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbn1cblxuLyoqIFBhcmFtZXRlcnMgZm9yIGNvbXB1dGluZyB0b2tlbnMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ29tcHV0ZVRva2Vuc1BhcmFtZXRlcnMge1xuICAvKiogSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gRm9yIGEgbGlzdCBvZiBtb2RlbHMsIHNlZSBgR29vZ2xlIG1vZGVsc1xuICAgIDxodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2dlbmVyYXRpdmUtYWkvZG9jcy9sZWFybi9tb2RlbHM+YF8uICovXG4gIG1vZGVsOiBzdHJpbmc7XG4gIC8qKiBJbnB1dCBjb250ZW50LiAqL1xuICBjb250ZW50czogQ29udGVudExpc3RVbmlvbjtcbiAgLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIHRoZSByZXF1ZXN0LlxuICAgKi9cbiAgY29uZmlnPzogQ29tcHV0ZVRva2Vuc0NvbmZpZztcbn1cblxuLyoqIFRva2VucyBpbmZvIHdpdGggYSBsaXN0IG9mIHRva2VucyBhbmQgdGhlIGNvcnJlc3BvbmRpbmcgbGlzdCBvZiB0b2tlbiBpZHMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVG9rZW5zSW5mbyB7XG4gIC8qKiBPcHRpb25hbCBmaWVsZHMgZm9yIHRoZSByb2xlIGZyb20gdGhlIGNvcnJlc3BvbmRpbmcgQ29udGVudC4gKi9cbiAgcm9sZT86IHN0cmluZztcbiAgLyoqIEEgbGlzdCBvZiB0b2tlbiBpZHMgZnJvbSB0aGUgaW5wdXQuICovXG4gIHRva2VuSWRzPzogc3RyaW5nW107XG4gIC8qKiBBIGxpc3Qgb2YgdG9rZW5zIGZyb20gdGhlIGlucHV0LlxuICAgKiBAcmVtYXJrcyBFbmNvZGVkIGFzIGJhc2U2NCBzdHJpbmcuICovXG4gIHRva2Vucz86IHN0cmluZ1tdO1xufVxuXG4vKiogUmVzcG9uc2UgZm9yIGNvbXB1dGluZyB0b2tlbnMuICovXG5leHBvcnQgY2xhc3MgQ29tcHV0ZVRva2Vuc1Jlc3BvbnNlIHtcbiAgLyoqIFVzZWQgdG8gcmV0YWluIHRoZSBmdWxsIEhUVFAgcmVzcG9uc2UuICovXG4gIHNka0h0dHBSZXNwb25zZT86IEh0dHBSZXNwb25zZTtcbiAgLyoqIExpc3RzIG9mIHRva2VucyBpbmZvIGZyb20gdGhlIGlucHV0LiBBIENvbXB1dGVUb2tlbnNSZXF1ZXN0IGNvdWxkIGhhdmUgbXVsdGlwbGUgaW5zdGFuY2VzIHdpdGggYSBwcm9tcHQgaW4gZWFjaCBpbnN0YW5jZS4gV2UgYWxzbyBuZWVkIHRvIHJldHVybiBsaXN0cyBvZiB0b2tlbnMgaW5mbyBmb3IgdGhlIHJlcXVlc3Qgd2l0aCBtdWx0aXBsZSBpbnN0YW5jZXMuICovXG4gIHRva2Vuc0luZm8/OiBUb2tlbnNJbmZvW107XG59XG5cbi8qKiBBIGdlbmVyYXRlZCB2aWRlby4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBWaWRlbyB7XG4gIC8qKiBQYXRoIHRvIGFub3RoZXIgc3RvcmFnZS4gKi9cbiAgdXJpPzogc3RyaW5nO1xuICAvKiogVmlkZW8gYnl0ZXMuXG4gICAqIEByZW1hcmtzIEVuY29kZWQgYXMgYmFzZTY0IHN0cmluZy4gKi9cbiAgdmlkZW9CeXRlcz86IHN0cmluZztcbiAgLyoqIFZpZGVvIGVuY29kaW5nLCBmb3IgZXhhbXBsZSBgYHZpZGVvL21wNGBgLiAqL1xuICBtaW1lVHlwZT86IHN0cmluZztcbn1cblxuLyoqIEEgc2V0IG9mIHNvdXJjZSBpbnB1dChzKSBmb3IgdmlkZW8gZ2VuZXJhdGlvbi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZW5lcmF0ZVZpZGVvc1NvdXJjZSB7XG4gIC8qKiBUaGUgdGV4dCBwcm9tcHQgZm9yIGdlbmVyYXRpbmcgdGhlIHZpZGVvcy5cbiAgICAgIE9wdGlvbmFsIGlmIGltYWdlIG9yIHZpZGVvIGlzIHByb3ZpZGVkLiAqL1xuICBwcm9tcHQ/OiBzdHJpbmc7XG4gIC8qKiBUaGUgaW5wdXQgaW1hZ2UgZm9yIGdlbmVyYXRpbmcgdGhlIHZpZGVvcy5cbiAgICAgIE9wdGlvbmFsIGlmIHByb21wdCBpcyBwcm92aWRlZC4gTm90IGFsbG93ZWQgaWYgdmlkZW8gaXMgcHJvdmlkZWQuICovXG4gIGltYWdlPzogSW1hZ2U7XG4gIC8qKiBUaGUgaW5wdXQgdmlkZW8gZm9yIHZpZGVvIGV4dGVuc2lvbiB1c2UgY2FzZXMuXG4gICAgICBPcHRpb25hbCBpZiBwcm9tcHQgaXMgcHJvdmlkZWQuIE5vdCBhbGxvd2VkIGlmIGltYWdlIGlzIHByb3ZpZGVkLiAqL1xuICB2aWRlbz86IFZpZGVvO1xufVxuXG4vKiogQSByZWZlcmVuY2UgaW1hZ2UgZm9yIHZpZGVvIGdlbmVyYXRpb24uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVmlkZW9HZW5lcmF0aW9uUmVmZXJlbmNlSW1hZ2Uge1xuICAvKiogVGhlIHJlZmVyZW5jZSBpbWFnZS4gKi9cbiAgaW1hZ2U/OiBJbWFnZTtcbiAgLyoqIFRoZSB0eXBlIG9mIHRoZSByZWZlcmVuY2UgaW1hZ2UsIHdoaWNoIGRlZmluZXMgaG93IHRoZSByZWZlcmVuY2VcbiAgICAgIGltYWdlIHdpbGwgYmUgdXNlZCB0byBnZW5lcmF0ZSB0aGUgdmlkZW8uICovXG4gIHJlZmVyZW5jZVR5cGU/OiBWaWRlb0dlbmVyYXRpb25SZWZlcmVuY2VUeXBlO1xufVxuXG4vKiogQSBtYXNrIGZvciB2aWRlbyBnZW5lcmF0aW9uLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFZpZGVvR2VuZXJhdGlvbk1hc2sge1xuICAvKiogVGhlIGltYWdlIG1hc2sgdG8gdXNlIGZvciBnZW5lcmF0aW5nIHZpZGVvcy4gKi9cbiAgaW1hZ2U/OiBJbWFnZTtcbiAgLyoqIERlc2NyaWJlcyBob3cgdGhlIG1hc2sgd2lsbCBiZSB1c2VkLiBJbnBhaW50aW5nIG1hc2tzIG11c3RcbiAgICAgIG1hdGNoIHRoZSBhc3BlY3QgcmF0aW8gb2YgdGhlIGlucHV0IHZpZGVvLiBPdXRwYWludGluZyBtYXNrcyBjYW4gYmVcbiAgICAgIGVpdGhlciA5OjE2IG9yIDE2OjkuICovXG4gIG1hc2tNb2RlPzogVmlkZW9HZW5lcmF0aW9uTWFza01vZGU7XG59XG5cbi8qKiBDb25maWd1cmF0aW9uIGZvciBnZW5lcmF0aW5nIHZpZGVvcy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZW5lcmF0ZVZpZGVvc0NvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogQWJvcnQgc2lnbmFsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgcmVxdWVzdC5cblxuICBOT1RFOiBBYm9ydFNpZ25hbCBpcyBhIGNsaWVudC1vbmx5IG9wZXJhdGlvbi4gVXNpbmcgaXQgdG8gY2FuY2VsIGFuXG4gIG9wZXJhdGlvbiB3aWxsIG5vdCBjYW5jZWwgdGhlIHJlcXVlc3QgaW4gdGhlIHNlcnZpY2UuIFlvdSB3aWxsIHN0aWxsXG4gIGJlIGNoYXJnZWQgdXNhZ2UgZm9yIGFueSBhcHBsaWNhYmxlIG9wZXJhdGlvbnMuXG4gICAgICAgKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbiAgLyoqIE51bWJlciBvZiBvdXRwdXQgdmlkZW9zLiAqL1xuICBudW1iZXJPZlZpZGVvcz86IG51bWJlcjtcbiAgLyoqIFRoZSBnY3MgYnVja2V0IHdoZXJlIHRvIHNhdmUgdGhlIGdlbmVyYXRlZCB2aWRlb3MuICovXG4gIG91dHB1dEdjc1VyaT86IHN0cmluZztcbiAgLyoqIEZyYW1lcyBwZXIgc2Vjb25kIGZvciB2aWRlbyBnZW5lcmF0aW9uLiAqL1xuICBmcHM/OiBudW1iZXI7XG4gIC8qKiBEdXJhdGlvbiBvZiB0aGUgY2xpcCBmb3IgdmlkZW8gZ2VuZXJhdGlvbiBpbiBzZWNvbmRzLiAqL1xuICBkdXJhdGlvblNlY29uZHM/OiBudW1iZXI7XG4gIC8qKiBUaGUgUk5HIHNlZWQuIElmIFJORyBzZWVkIGlzIGV4YWN0bHkgc2FtZSBmb3IgZWFjaCByZXF1ZXN0IHdpdGhcbiAgICAgIHVuY2hhbmdlZCBpbnB1dHMsIHRoZSBwcmVkaWN0aW9uIHJlc3VsdHMgd2lsbCBiZSBjb25zaXN0ZW50LiBPdGhlcndpc2UsXG4gICAgICBhIHJhbmRvbSBSTkcgc2VlZCB3aWxsIGJlIHVzZWQgZWFjaCB0aW1lIHRvIHByb2R1Y2UgYSBkaWZmZXJlbnRcbiAgICAgIHJlc3VsdC4gKi9cbiAgc2VlZD86IG51bWJlcjtcbiAgLyoqIFRoZSBhc3BlY3QgcmF0aW8gZm9yIHRoZSBnZW5lcmF0ZWQgdmlkZW8uIDE2OjkgKGxhbmRzY2FwZSkgYW5kXG4gICAgICA5OjE2IChwb3J0cmFpdCkgYXJlIHN1cHBvcnRlZC4gKi9cbiAgYXNwZWN0UmF0aW8/OiBzdHJpbmc7XG4gIC8qKiBUaGUgcmVzb2x1dGlvbiBmb3IgdGhlIGdlbmVyYXRlZCB2aWRlby4gNzIwcCBhbmQgMTA4MHAgYXJlXG4gICAgICBzdXBwb3J0ZWQuICovXG4gIHJlc29sdXRpb24/OiBzdHJpbmc7XG4gIC8qKiBXaGV0aGVyIGFsbG93IHRvIGdlbmVyYXRlIHBlcnNvbiB2aWRlb3MsIGFuZCByZXN0cmljdCB0byBzcGVjaWZpY1xuICAgICAgYWdlcy4gU3VwcG9ydGVkIHZhbHVlcyBhcmU6IGRvbnRfYWxsb3csIGFsbG93X2FkdWx0LiAqL1xuICBwZXJzb25HZW5lcmF0aW9uPzogc3RyaW5nO1xuICAvKiogVGhlIHB1YnN1YiB0b3BpYyB3aGVyZSB0byBwdWJsaXNoIHRoZSB2aWRlbyBnZW5lcmF0aW9uXG4gICAgICBwcm9ncmVzcy4gKi9cbiAgcHVic3ViVG9waWM/OiBzdHJpbmc7XG4gIC8qKiBFeHBsaWNpdGx5IHN0YXRlIHdoYXQgc2hvdWxkIG5vdCBiZSBpbmNsdWRlZCBpbiB0aGUgZ2VuZXJhdGVkXG4gICAgICB2aWRlb3MuICovXG4gIG5lZ2F0aXZlUHJvbXB0Pzogc3RyaW5nO1xuICAvKiogV2hldGhlciB0byB1c2UgdGhlIHByb21wdCByZXdyaXRpbmcgbG9naWMuICovXG4gIGVuaGFuY2VQcm9tcHQ/OiBib29sZWFuO1xuICAvKiogV2hldGhlciB0byBnZW5lcmF0ZSBhdWRpbyBhbG9uZyB3aXRoIHRoZSB2aWRlby4gKi9cbiAgZ2VuZXJhdGVBdWRpbz86IGJvb2xlYW47XG4gIC8qKiBJbWFnZSB0byB1c2UgYXMgdGhlIGxhc3QgZnJhbWUgb2YgZ2VuZXJhdGVkIHZpZGVvcy5cbiAgICAgIE9ubHkgc3VwcG9ydGVkIGZvciBpbWFnZSB0byB2aWRlbyB1c2UgY2FzZXMuICovXG4gIGxhc3RGcmFtZT86IEltYWdlO1xuICAvKiogVGhlIGltYWdlcyB0byB1c2UgYXMgdGhlIHJlZmVyZW5jZXMgdG8gZ2VuZXJhdGUgdGhlIHZpZGVvcy5cbiAgICAgIElmIHRoaXMgZmllbGQgaXMgcHJvdmlkZWQsIHRoZSB0ZXh0IHByb21wdCBmaWVsZCBtdXN0IGFsc28gYmUgcHJvdmlkZWQuXG4gICAgICBUaGUgaW1hZ2UsIHZpZGVvLCBvciBsYXN0X2ZyYW1lIGZpZWxkIGFyZSBub3Qgc3VwcG9ydGVkLiBFYWNoIGltYWdlIG11c3RcbiAgICAgIGJlIGFzc29jaWF0ZWQgd2l0aCBhIHR5cGUuIFZlbyAyIHN1cHBvcnRzIHVwIHRvIDMgYXNzZXQgaW1hZ2VzICpvciogMVxuICAgICAgc3R5bGUgaW1hZ2UuICovXG4gIHJlZmVyZW5jZUltYWdlcz86IFZpZGVvR2VuZXJhdGlvblJlZmVyZW5jZUltYWdlW107XG4gIC8qKiBUaGUgbWFzayB0byB1c2UgZm9yIGdlbmVyYXRpbmcgdmlkZW9zLiAqL1xuICBtYXNrPzogVmlkZW9HZW5lcmF0aW9uTWFzaztcbiAgLyoqIENvbXByZXNzaW9uIHF1YWxpdHkgb2YgdGhlIGdlbmVyYXRlZCB2aWRlb3MuICovXG4gIGNvbXByZXNzaW9uUXVhbGl0eT86IFZpZGVvQ29tcHJlc3Npb25RdWFsaXR5O1xufVxuXG4vKiogQ2xhc3MgdGhhdCByZXByZXNlbnRzIHRoZSBwYXJhbWV0ZXJzIGZvciBnZW5lcmF0aW5nIHZpZGVvcy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZW5lcmF0ZVZpZGVvc1BhcmFtZXRlcnMge1xuICAvKiogSUQgb2YgdGhlIG1vZGVsIHRvIHVzZS4gRm9yIGEgbGlzdCBvZiBtb2RlbHMsIHNlZSBgR29vZ2xlIG1vZGVsc1xuICAgIDxodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2dlbmVyYXRpdmUtYWkvZG9jcy9sZWFybi9tb2RlbHM+YF8uICovXG4gIG1vZGVsOiBzdHJpbmc7XG4gIC8qKiBUaGUgdGV4dCBwcm9tcHQgZm9yIGdlbmVyYXRpbmcgdGhlIHZpZGVvcy5cbiAgICAgIE9wdGlvbmFsIGlmIGltYWdlIG9yIHZpZGVvIGlzIHByb3ZpZGVkLiAqL1xuICBwcm9tcHQ/OiBzdHJpbmc7XG4gIC8qKiBUaGUgaW5wdXQgaW1hZ2UgZm9yIGdlbmVyYXRpbmcgdGhlIHZpZGVvcy5cbiAgICAgIE9wdGlvbmFsIGlmIHByb21wdCBpcyBwcm92aWRlZC4gTm90IGFsbG93ZWQgaWYgdmlkZW8gaXMgcHJvdmlkZWQuICovXG4gIGltYWdlPzogSW1hZ2U7XG4gIC8qKiBUaGUgaW5wdXQgdmlkZW8gZm9yIHZpZGVvIGV4dGVuc2lvbiB1c2UgY2FzZXMuXG4gICAgICBPcHRpb25hbCBpZiBwcm9tcHQgaXMgcHJvdmlkZWQuIE5vdCBhbGxvd2VkIGlmIGltYWdlIGlzIHByb3ZpZGVkLiAqL1xuICB2aWRlbz86IFZpZGVvO1xuICAvKiogQSBzZXQgb2Ygc291cmNlIGlucHV0KHMpIGZvciB2aWRlbyBnZW5lcmF0aW9uLiAqL1xuICBzb3VyY2U/OiBHZW5lcmF0ZVZpZGVvc1NvdXJjZTtcbiAgLyoqIENvbmZpZ3VyYXRpb24gZm9yIGdlbmVyYXRpbmcgdmlkZW9zLiAqL1xuICBjb25maWc/OiBHZW5lcmF0ZVZpZGVvc0NvbmZpZztcbn1cblxuLyoqIEEgZ2VuZXJhdGVkIHZpZGVvLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdlbmVyYXRlZFZpZGVvIHtcbiAgLyoqIFRoZSBvdXRwdXQgdmlkZW8gKi9cbiAgdmlkZW8/OiBWaWRlbztcbn1cblxuLyoqIFJlc3BvbnNlIHdpdGggZ2VuZXJhdGVkIHZpZGVvcy4gKi9cbmV4cG9ydCBjbGFzcyBHZW5lcmF0ZVZpZGVvc1Jlc3BvbnNlIHtcbiAgLyoqIExpc3Qgb2YgdGhlIGdlbmVyYXRlZCB2aWRlb3MgKi9cbiAgZ2VuZXJhdGVkVmlkZW9zPzogR2VuZXJhdGVkVmlkZW9bXTtcbiAgLyoqIFJldHVybnMgaWYgYW55IHZpZGVvcyB3ZXJlIGZpbHRlcmVkIGR1ZSB0byBSQUkgcG9saWNpZXMuICovXG4gIHJhaU1lZGlhRmlsdGVyZWRDb3VudD86IG51bWJlcjtcbiAgLyoqIFJldHVybnMgcmFpIGZhaWx1cmUgcmVhc29ucyBpZiBhbnkuICovXG4gIHJhaU1lZGlhRmlsdGVyZWRSZWFzb25zPzogc3RyaW5nW107XG59XG5cbi8qKiBBIGxvbmctcnVubmluZyBvcGVyYXRpb24uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgT3BlcmF0aW9uPFQ+IHtcbiAgLyoqIFRoZSBzZXJ2ZXItYXNzaWduZWQgbmFtZSwgd2hpY2ggaXMgb25seSB1bmlxdWUgd2l0aGluIHRoZSBzYW1lIHNlcnZpY2UgdGhhdCBvcmlnaW5hbGx5IHJldHVybnMgaXQuIElmIHlvdSB1c2UgdGhlIGRlZmF1bHQgSFRUUCBtYXBwaW5nLCB0aGUgYG5hbWVgIHNob3VsZCBiZSBhIHJlc291cmNlIG5hbWUgZW5kaW5nIHdpdGggYG9wZXJhdGlvbnMve3VuaXF1ZV9pZH1gLiAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKiogU2VydmljZS1zcGVjaWZpYyBtZXRhZGF0YSBhc3NvY2lhdGVkIHdpdGggdGhlIG9wZXJhdGlvbi4gSXQgdHlwaWNhbGx5IGNvbnRhaW5zIHByb2dyZXNzIGluZm9ybWF0aW9uIGFuZCBjb21tb24gbWV0YWRhdGEgc3VjaCBhcyBjcmVhdGUgdGltZS4gU29tZSBzZXJ2aWNlcyBtaWdodCBub3QgcHJvdmlkZSBzdWNoIG1ldGFkYXRhLiAgQW55IG1ldGhvZCB0aGF0IHJldHVybnMgYSBsb25nLXJ1bm5pbmcgb3BlcmF0aW9uIHNob3VsZCBkb2N1bWVudCB0aGUgbWV0YWRhdGEgdHlwZSwgaWYgYW55LiAqL1xuICBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAvKiogSWYgdGhlIHZhbHVlIGlzIGBmYWxzZWAsIGl0IG1lYW5zIHRoZSBvcGVyYXRpb24gaXMgc3RpbGwgaW4gcHJvZ3Jlc3MuIElmIGB0cnVlYCwgdGhlIG9wZXJhdGlvbiBpcyBjb21wbGV0ZWQsIGFuZCBlaXRoZXIgYGVycm9yYCBvciBgcmVzcG9uc2VgIGlzIGF2YWlsYWJsZS4gKi9cbiAgZG9uZT86IGJvb2xlYW47XG4gIC8qKiBUaGUgZXJyb3IgcmVzdWx0IG9mIHRoZSBvcGVyYXRpb24gaW4gY2FzZSBvZiBmYWlsdXJlIG9yIGNhbmNlbGxhdGlvbi4gKi9cbiAgZXJyb3I/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgLyoqIFRoZSByZXNwb25zZSBpZiB0aGUgb3BlcmF0aW9uIGlzIHN1Y2Nlc3NmdWwuICovXG4gIHJlc3BvbnNlPzogVDtcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlcyBhbiBPcGVyYXRpb24gb2YgdGhlIHNhbWUgdHlwZSBhcyB0aGUgb25lIGJlaW5nIGNhbGxlZCB3aXRoIHRoZSBmaWVsZHMgc2V0IGZyb20gdGhlIEFQSSByZXNwb25zZS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBfZnJvbUFQSVJlc3BvbnNlKHtcbiAgICBhcGlSZXNwb25zZSxcbiAgICBfaXNWZXJ0ZXhBSSxcbiAgfTogT3BlcmF0aW9uRnJvbUFQSVJlc3BvbnNlUGFyYW1ldGVycyk6IE9wZXJhdGlvbjxUPjtcbn1cblxuLyoqIEEgdmlkZW8gZ2VuZXJhdGlvbiBvcGVyYXRpb24uICovXG5leHBvcnQgY2xhc3MgR2VuZXJhdGVWaWRlb3NPcGVyYXRpb25cbiAgaW1wbGVtZW50cyBPcGVyYXRpb248R2VuZXJhdGVWaWRlb3NSZXNwb25zZT5cbntcbiAgLyoqIFRoZSBzZXJ2ZXItYXNzaWduZWQgbmFtZSwgd2hpY2ggaXMgb25seSB1bmlxdWUgd2l0aGluIHRoZSBzYW1lIHNlcnZpY2UgdGhhdCBvcmlnaW5hbGx5IHJldHVybnMgaXQuIElmIHlvdSB1c2UgdGhlIGRlZmF1bHQgSFRUUCBtYXBwaW5nLCB0aGUgYG5hbWVgIHNob3VsZCBiZSBhIHJlc291cmNlIG5hbWUgZW5kaW5nIHdpdGggYG9wZXJhdGlvbnMve3VuaXF1ZV9pZH1gLiAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKiogU2VydmljZS1zcGVjaWZpYyBtZXRhZGF0YSBhc3NvY2lhdGVkIHdpdGggdGhlIG9wZXJhdGlvbi4gSXQgdHlwaWNhbGx5IGNvbnRhaW5zIHByb2dyZXNzIGluZm9ybWF0aW9uIGFuZCBjb21tb24gbWV0YWRhdGEgc3VjaCBhcyBjcmVhdGUgdGltZS4gU29tZSBzZXJ2aWNlcyBtaWdodCBub3QgcHJvdmlkZSBzdWNoIG1ldGFkYXRhLiAgQW55IG1ldGhvZCB0aGF0IHJldHVybnMgYSBsb25nLXJ1bm5pbmcgb3BlcmF0aW9uIHNob3VsZCBkb2N1bWVudCB0aGUgbWV0YWRhdGEgdHlwZSwgaWYgYW55LiAqL1xuICBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAvKiogSWYgdGhlIHZhbHVlIGlzIGBmYWxzZWAsIGl0IG1lYW5zIHRoZSBvcGVyYXRpb24gaXMgc3RpbGwgaW4gcHJvZ3Jlc3MuIElmIGB0cnVlYCwgdGhlIG9wZXJhdGlvbiBpcyBjb21wbGV0ZWQsIGFuZCBlaXRoZXIgYGVycm9yYCBvciBgcmVzcG9uc2VgIGlzIGF2YWlsYWJsZS4gKi9cbiAgZG9uZT86IGJvb2xlYW47XG4gIC8qKiBUaGUgZXJyb3IgcmVzdWx0IG9mIHRoZSBvcGVyYXRpb24gaW4gY2FzZSBvZiBmYWlsdXJlIG9yIGNhbmNlbGxhdGlvbi4gKi9cbiAgZXJyb3I/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgLyoqIFRoZSBnZW5lcmF0ZWQgdmlkZW9zLiAqL1xuICByZXNwb25zZT86IEdlbmVyYXRlVmlkZW9zUmVzcG9uc2U7XG5cbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlcyBhbiBPcGVyYXRpb24gb2YgdGhlIHNhbWUgdHlwZSBhcyB0aGUgb25lIGJlaW5nIGNhbGxlZCB3aXRoIHRoZSBmaWVsZHMgc2V0IGZyb20gdGhlIEFQSSByZXNwb25zZS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBfZnJvbUFQSVJlc3BvbnNlKHtcbiAgICBhcGlSZXNwb25zZSxcbiAgICBfaXNWZXJ0ZXhBSSxcbiAgfTogT3BlcmF0aW9uRnJvbUFQSVJlc3BvbnNlUGFyYW1ldGVycyk6IE9wZXJhdGlvbjxHZW5lcmF0ZVZpZGVvc1Jlc3BvbnNlPiB7XG4gICAgY29uc3Qgb3BlcmF0aW9uID0gbmV3IEdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uKCk7XG4gICAgbGV0IHJlc3BvbnNlO1xuICAgIGNvbnN0IG9wID0gYXBpUmVzcG9uc2UgYXMgdW5rbm93biBhcyBHZW5lcmF0ZVZpZGVvc09wZXJhdGlvbjtcblxuICAgIGlmIChfaXNWZXJ0ZXhBSSkge1xuICAgICAgcmVzcG9uc2UgPSBnZW5lcmF0ZVZpZGVvc09wZXJhdGlvbkZyb21WZXJ0ZXgob3ApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZSA9IGdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uRnJvbU1sZGV2KG9wKTtcbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbihvcGVyYXRpb24sIHJlc3BvbnNlKTtcbiAgICByZXR1cm4gb3BlcmF0aW9uO1xuICB9XG4gIC8qKiBUaGUgZnVsbCBIVFRQIHJlc3BvbnNlLiAqL1xuICBzZGtIdHRwUmVzcG9uc2U/OiBIdHRwUmVzcG9uc2U7XG59XG5cbi8qKiBPcHRpb25hbCBwYXJhbWV0ZXJzIGZvciB0dW5pbmdzLmdldCBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR2V0VHVuaW5nSm9iQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIC8qKiBBYm9ydCBzaWduYWwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSByZXF1ZXN0LlxuXG4gIE5PVEU6IEFib3J0U2lnbmFsIGlzIGEgY2xpZW50LW9ubHkgb3BlcmF0aW9uLiBVc2luZyBpdCB0byBjYW5jZWwgYW5cbiAgb3BlcmF0aW9uIHdpbGwgbm90IGNhbmNlbCB0aGUgcmVxdWVzdCBpbiB0aGUgc2VydmljZS4gWW91IHdpbGwgc3RpbGxcbiAgYmUgY2hhcmdlZCB1c2FnZSBmb3IgYW55IGFwcGxpY2FibGUgb3BlcmF0aW9ucy5cbiAgICAgICAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xufVxuXG4vKiogUGFyYW1ldGVycyBmb3IgdGhlIGdldCBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR2V0VHVuaW5nSm9iUGFyYW1ldGVycyB7XG4gIG5hbWU6IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIHRoZSByZXF1ZXN0LiAqL1xuICBjb25maWc/OiBHZXRUdW5pbmdKb2JDb25maWc7XG59XG5cbi8qKiBUdW5lZE1vZGVsQ2hlY2twb2ludCBmb3IgdGhlIFR1bmVkIE1vZGVsIG9mIGEgVHVuaW5nIEpvYi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBUdW5lZE1vZGVsQ2hlY2twb2ludCB7XG4gIC8qKiBUaGUgSUQgb2YgdGhlIGNoZWNrcG9pbnQuXG4gICAqL1xuICBjaGVja3BvaW50SWQ/OiBzdHJpbmc7XG4gIC8qKiBUaGUgZXBvY2ggb2YgdGhlIGNoZWNrcG9pbnQuXG4gICAqL1xuICBlcG9jaD86IHN0cmluZztcbiAgLyoqIFRoZSBzdGVwIG9mIHRoZSBjaGVja3BvaW50LlxuICAgKi9cbiAgc3RlcD86IHN0cmluZztcbiAgLyoqIFRoZSBFbmRwb2ludCByZXNvdXJjZSBuYW1lIHRoYXQgdGhlIGNoZWNrcG9pbnQgaXMgZGVwbG95ZWQgdG8uXG4gICAgICBGb3JtYXQ6IGBwcm9qZWN0cy97cHJvamVjdH0vbG9jYXRpb25zL3tsb2NhdGlvbn0vZW5kcG9pbnRzL3tlbmRwb2ludH1gLlxuICAgICAgICovXG4gIGVuZHBvaW50Pzogc3RyaW5nO1xufVxuXG4vKiogVHVuZWRNb2RlbCBmb3IgdGhlIFR1bmVkIE1vZGVsIG9mIGEgVHVuaW5nIEpvYi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBUdW5lZE1vZGVsIHtcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgcmVzb3VyY2UgbmFtZSBvZiB0aGUgVHVuZWRNb2RlbC5cbiAgICAgIEZvcm1hdDogYHByb2plY3RzL3twcm9qZWN0fS9sb2NhdGlvbnMve2xvY2F0aW9ufS9tb2RlbHMve21vZGVsfUB7dmVyc2lvbl9pZH1gXG4gICAgICBXaGVuIHR1bmluZyBmcm9tIGEgYmFzZSBtb2RlbCwgdGhlIHZlcnNpb25faWQgd2lsbCBiZSAxLlxuICAgICAgRm9yIGNvbnRpbnVvdXMgdHVuaW5nLCB0aGUgdmVyc2lvbiBpZCB3aWxsIGJlIGluY3JlbWVudGVkIGJ5IDEgZnJvbSB0aGVcbiAgICAgIGxhc3QgdmVyc2lvbiBpZCBpbiB0aGUgcGFyZW50IG1vZGVsLiBFLmcuLCBgcHJvamVjdHMve3Byb2plY3R9L2xvY2F0aW9ucy97bG9jYXRpb259L21vZGVscy97bW9kZWx9QHtsYXN0X3ZlcnNpb25faWQgKyAxfWBcbiAgICAgICAqL1xuICBtb2RlbD86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBBIHJlc291cmNlIG5hbWUgb2YgYW4gRW5kcG9pbnQuXG4gICAgICBGb3JtYXQ6IGBwcm9qZWN0cy97cHJvamVjdH0vbG9jYXRpb25zL3tsb2NhdGlvbn0vZW5kcG9pbnRzL3tlbmRwb2ludH1gLlxuICAgICAgICovXG4gIGVuZHBvaW50Pzogc3RyaW5nO1xuICAvKiogVGhlIGNoZWNrcG9pbnRzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIFR1bmVkTW9kZWwuXG4gICAgICBUaGlzIGZpZWxkIGlzIG9ubHkgcG9wdWxhdGVkIGZvciB0dW5pbmcgam9icyB0aGF0IGVuYWJsZSBpbnRlcm1lZGlhdGVcbiAgICAgIGNoZWNrcG9pbnRzLiAqL1xuICBjaGVja3BvaW50cz86IFR1bmVkTW9kZWxDaGVja3BvaW50W107XG59XG5cbi8qKiBIeXBlcnBhcmFtZXRlcnMgZm9yIFNGVC4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFN1cGVydmlzZWRIeXBlclBhcmFtZXRlcnMge1xuICAvKiogT3B0aW9uYWwuIEFkYXB0ZXIgc2l6ZSBmb3IgdHVuaW5nLiAqL1xuICBhZGFwdGVyU2l6ZT86IEFkYXB0ZXJTaXplO1xuICAvKiogT3B0aW9uYWwuIEJhdGNoIHNpemUgZm9yIHR1bmluZy4gVGhpcyBmZWF0dXJlIGlzIG9ubHkgYXZhaWxhYmxlIGZvciBvcGVuIHNvdXJjZSBtb2RlbHMuICovXG4gIGJhdGNoU2l6ZT86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBOdW1iZXIgb2YgY29tcGxldGUgcGFzc2VzIHRoZSBtb2RlbCBtYWtlcyBvdmVyIHRoZSBlbnRpcmUgdHJhaW5pbmcgZGF0YXNldCBkdXJpbmcgdHJhaW5pbmcuICovXG4gIGVwb2NoQ291bnQ/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gTGVhcm5pbmcgcmF0ZSBmb3IgdHVuaW5nLiBNdXR1YWxseSBleGNsdXNpdmUgd2l0aCBgbGVhcm5pbmdfcmF0ZV9tdWx0aXBsaWVyYC4gVGhpcyBmZWF0dXJlIGlzIG9ubHkgYXZhaWxhYmxlIGZvciBvcGVuIHNvdXJjZSBtb2RlbHMuICovXG4gIGxlYXJuaW5nUmF0ZT86IG51bWJlcjtcbiAgLyoqIE9wdGlvbmFsLiBNdWx0aXBsaWVyIGZvciBhZGp1c3RpbmcgdGhlIGRlZmF1bHQgbGVhcm5pbmcgcmF0ZS4gTXV0dWFsbHkgZXhjbHVzaXZlIHdpdGggYGxlYXJuaW5nX3JhdGVgLiBUaGlzIGZlYXR1cmUgaXMgb25seSBhdmFpbGFibGUgZm9yIDFQIG1vZGVscy4gKi9cbiAgbGVhcm5pbmdSYXRlTXVsdGlwbGllcj86IG51bWJlcjtcbn1cblxuLyoqIFN1cGVydmlzZWQgdHVuaW5nIHNwZWMgZm9yIHR1bmluZy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBTdXBlcnZpc2VkVHVuaW5nU3BlYyB7XG4gIC8qKiBPcHRpb25hbC4gSWYgc2V0IHRvIHRydWUsIGRpc2FibGUgaW50ZXJtZWRpYXRlIGNoZWNrcG9pbnRzIGZvciBTRlQgYW5kIG9ubHkgdGhlIGxhc3QgY2hlY2twb2ludCB3aWxsIGJlIGV4cG9ydGVkLiBPdGhlcndpc2UsIGVuYWJsZSBpbnRlcm1lZGlhdGUgY2hlY2twb2ludHMgZm9yIFNGVC4gRGVmYXVsdCBpcyBmYWxzZS4gKi9cbiAgZXhwb3J0TGFzdENoZWNrcG9pbnRPbmx5PzogYm9vbGVhbjtcbiAgLyoqIE9wdGlvbmFsLiBIeXBlcnBhcmFtZXRlcnMgZm9yIFNGVC4gKi9cbiAgaHlwZXJQYXJhbWV0ZXJzPzogU3VwZXJ2aXNlZEh5cGVyUGFyYW1ldGVycztcbiAgLyoqIFJlcXVpcmVkLiBUcmFpbmluZyBkYXRhc2V0IHVzZWQgZm9yIHR1bmluZy4gVGhlIGRhdGFzZXQgY2FuIGJlIHNwZWNpZmllZCBhcyBlaXRoZXIgYSBDbG91ZCBTdG9yYWdlIHBhdGggdG8gYSBKU09OTCBmaWxlIG9yIGFzIHRoZSByZXNvdXJjZSBuYW1lIG9mIGEgVmVydGV4IE11bHRpbW9kYWwgRGF0YXNldC4gKi9cbiAgdHJhaW5pbmdEYXRhc2V0VXJpPzogc3RyaW5nO1xuICAvKiogVHVuaW5nIG1vZGUuICovXG4gIHR1bmluZ01vZGU/OiBUdW5pbmdNb2RlO1xuICAvKiogT3B0aW9uYWwuIFZhbGlkYXRpb24gZGF0YXNldCB1c2VkIGZvciB0dW5pbmcuIFRoZSBkYXRhc2V0IGNhbiBiZSBzcGVjaWZpZWQgYXMgZWl0aGVyIGEgQ2xvdWQgU3RvcmFnZSBwYXRoIHRvIGEgSlNPTkwgZmlsZSBvciBhcyB0aGUgcmVzb3VyY2UgbmFtZSBvZiBhIFZlcnRleCBNdWx0aW1vZGFsIERhdGFzZXQuICovXG4gIHZhbGlkYXRpb25EYXRhc2V0VXJpPzogc3RyaW5nO1xufVxuXG4vKiogSHlwZXJwYXJhbWV0ZXJzIGZvciBQcmVmZXJlbmNlIE9wdGltaXphdGlvbi4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFByZWZlcmVuY2VPcHRpbWl6YXRpb25IeXBlclBhcmFtZXRlcnMge1xuICAvKiogT3B0aW9uYWwuIEFkYXB0ZXIgc2l6ZSBmb3IgcHJlZmVyZW5jZSBvcHRpbWl6YXRpb24uICovXG4gIGFkYXB0ZXJTaXplPzogQWRhcHRlclNpemU7XG4gIC8qKiBPcHRpb25hbC4gV2VpZ2h0IGZvciBLTCBEaXZlcmdlbmNlIHJlZ3VsYXJpemF0aW9uLiAqL1xuICBiZXRhPzogbnVtYmVyO1xuICAvKiogT3B0aW9uYWwuIE51bWJlciBvZiBjb21wbGV0ZSBwYXNzZXMgdGhlIG1vZGVsIG1ha2VzIG92ZXIgdGhlIGVudGlyZSB0cmFpbmluZyBkYXRhc2V0IGR1cmluZyB0cmFpbmluZy4gKi9cbiAgZXBvY2hDb3VudD86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBNdWx0aXBsaWVyIGZvciBhZGp1c3RpbmcgdGhlIGRlZmF1bHQgbGVhcm5pbmcgcmF0ZS4gKi9cbiAgbGVhcm5pbmdSYXRlTXVsdGlwbGllcj86IG51bWJlcjtcbn1cblxuLyoqIFByZWZlcmVuY2Ugb3B0aW1pemF0aW9uIHR1bmluZyBzcGVjIGZvciB0dW5pbmcuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgUHJlZmVyZW5jZU9wdGltaXphdGlvblNwZWMge1xuICAvKiogT3B0aW9uYWwuIElmIHNldCB0byB0cnVlLCBkaXNhYmxlIGludGVybWVkaWF0ZSBjaGVja3BvaW50cyBmb3IgUHJlZmVyZW5jZSBPcHRpbWl6YXRpb24gYW5kIG9ubHkgdGhlIGxhc3QgY2hlY2twb2ludCB3aWxsIGJlIGV4cG9ydGVkLiBPdGhlcndpc2UsIGVuYWJsZSBpbnRlcm1lZGlhdGUgY2hlY2twb2ludHMgZm9yIFByZWZlcmVuY2UgT3B0aW1pemF0aW9uLiBEZWZhdWx0IGlzIGZhbHNlLiAqL1xuICBleHBvcnRMYXN0Q2hlY2twb2ludE9ubHk/OiBib29sZWFuO1xuICAvKiogT3B0aW9uYWwuIEh5cGVycGFyYW1ldGVycyBmb3IgUHJlZmVyZW5jZSBPcHRpbWl6YXRpb24uICovXG4gIGh5cGVyUGFyYW1ldGVycz86IFByZWZlcmVuY2VPcHRpbWl6YXRpb25IeXBlclBhcmFtZXRlcnM7XG4gIC8qKiBSZXF1aXJlZC4gQ2xvdWQgU3RvcmFnZSBwYXRoIHRvIGZpbGUgY29udGFpbmluZyB0cmFpbmluZyBkYXRhc2V0IGZvciBwcmVmZXJlbmNlIG9wdGltaXphdGlvbiB0dW5pbmcuIFRoZSBkYXRhc2V0IG11c3QgYmUgZm9ybWF0dGVkIGFzIGEgSlNPTkwgZmlsZS4gKi9cbiAgdHJhaW5pbmdEYXRhc2V0VXJpPzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIENsb3VkIFN0b3JhZ2UgcGF0aCB0byBmaWxlIGNvbnRhaW5pbmcgdmFsaWRhdGlvbiBkYXRhc2V0IGZvciBwcmVmZXJlbmNlIG9wdGltaXphdGlvbiB0dW5pbmcuIFRoZSBkYXRhc2V0IG11c3QgYmUgZm9ybWF0dGVkIGFzIGEgSlNPTkwgZmlsZS4gKi9cbiAgdmFsaWRhdGlvbkRhdGFzZXRVcmk/OiBzdHJpbmc7XG59XG5cbi8qKiBUaGUgYFN0YXR1c2AgdHlwZSBkZWZpbmVzIGEgbG9naWNhbCBlcnJvciBtb2RlbCB0aGF0IGlzIHN1aXRhYmxlIGZvciBkaWZmZXJlbnQgcHJvZ3JhbW1pbmcgZW52aXJvbm1lbnRzLCBpbmNsdWRpbmcgUkVTVCBBUElzIGFuZCBSUEMgQVBJcy4gSXQgaXMgdXNlZCBieSBbZ1JQQ10oaHR0cHM6Ly9naXRodWIuY29tL2dycGMpLiBFYWNoIGBTdGF0dXNgIG1lc3NhZ2UgY29udGFpbnMgdGhyZWUgcGllY2VzIG9mIGRhdGE6IGVycm9yIGNvZGUsIGVycm9yIG1lc3NhZ2UsIGFuZCBlcnJvciBkZXRhaWxzLiBZb3UgY2FuIGZpbmQgb3V0IG1vcmUgYWJvdXQgdGhpcyBlcnJvciBtb2RlbCBhbmQgaG93IHRvIHdvcmsgd2l0aCBpdCBpbiB0aGUgW0FQSSBEZXNpZ24gR3VpZGVdKGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS9hcGlzL2Rlc2lnbi9lcnJvcnMpLiBUaGlzIGRhdGEgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR29vZ2xlUnBjU3RhdHVzIHtcbiAgLyoqIFRoZSBzdGF0dXMgY29kZSwgd2hpY2ggc2hvdWxkIGJlIGFuIGVudW0gdmFsdWUgb2YgZ29vZ2xlLnJwYy5Db2RlLiAqL1xuICBjb2RlPzogbnVtYmVyO1xuICAvKiogQSBsaXN0IG9mIG1lc3NhZ2VzIHRoYXQgY2FycnkgdGhlIGVycm9yIGRldGFpbHMuIFRoZXJlIGlzIGEgY29tbW9uIHNldCBvZiBtZXNzYWdlIHR5cGVzIGZvciBBUElzIHRvIHVzZS4gKi9cbiAgZGV0YWlscz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+W107XG4gIC8qKiBBIGRldmVsb3Blci1mYWNpbmcgZXJyb3IgbWVzc2FnZSwgd2hpY2ggc2hvdWxkIGJlIGluIEVuZ2xpc2guIEFueSB1c2VyLWZhY2luZyBlcnJvciBtZXNzYWdlIHNob3VsZCBiZSBsb2NhbGl6ZWQgYW5kIHNlbnQgaW4gdGhlIGdvb2dsZS5ycGMuU3RhdHVzLmRldGFpbHMgZmllbGQsIG9yIGxvY2FsaXplZCBieSB0aGUgY2xpZW50LiAqL1xuICBtZXNzYWdlPzogc3RyaW5nO1xufVxuXG4vKiogQSBwcmUtdHVuZWQgbW9kZWwgZm9yIGNvbnRpbnVvdXMgdHVuaW5nLiBUaGlzIGRhdGEgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgUHJlVHVuZWRNb2RlbCB7XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIG5hbWUgb2YgdGhlIGJhc2UgbW9kZWwgdGhpcyBQcmVUdW5lZE1vZGVsIHdhcyB0dW5lZCBmcm9tLiAqL1xuICBiYXNlTW9kZWw/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gVGhlIHNvdXJjZSBjaGVja3BvaW50IGlkLiBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgZGVmYXVsdCBjaGVja3BvaW50IHdpbGwgYmUgdXNlZC4gKi9cbiAgY2hlY2twb2ludElkPzogc3RyaW5nO1xuICAvKiogVGhlIHJlc291cmNlIG5hbWUgb2YgdGhlIE1vZGVsLiBFLmcuLCBhIG1vZGVsIHJlc291cmNlIG5hbWUgd2l0aCBhIHNwZWNpZmllZCB2ZXJzaW9uIGlkIG9yIGFsaWFzOiBgcHJvamVjdHMve3Byb2plY3R9L2xvY2F0aW9ucy97bG9jYXRpb259L21vZGVscy97bW9kZWx9QHt2ZXJzaW9uX2lkfWAgYHByb2plY3RzL3twcm9qZWN0fS9sb2NhdGlvbnMve2xvY2F0aW9ufS9tb2RlbHMve21vZGVsfUB7YWxpYXN9YCBPciwgb21pdCB0aGUgdmVyc2lvbiBpZCB0byB1c2UgdGhlIGRlZmF1bHQgdmVyc2lvbjogYHByb2plY3RzL3twcm9qZWN0fS9sb2NhdGlvbnMve2xvY2F0aW9ufS9tb2RlbHMve21vZGVsfWAgKi9cbiAgdHVuZWRNb2RlbE5hbWU/OiBzdHJpbmc7XG59XG5cbi8qKiBEYXRhc2V0IGJ1Y2tldCB1c2VkIHRvIGNyZWF0ZSBhIGhpc3RvZ3JhbSBmb3IgdGhlIGRpc3RyaWJ1dGlvbiBnaXZlbiBhIHBvcHVsYXRpb24gb2YgdmFsdWVzLiBUaGlzIGRhdGEgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRGF0YXNldERpc3RyaWJ1dGlvbkRpc3RyaWJ1dGlvbkJ1Y2tldCB7XG4gIC8qKiBPdXRwdXQgb25seS4gTnVtYmVyIG9mIHZhbHVlcyBpbiB0aGUgYnVja2V0LiAqL1xuICBjb3VudD86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBMZWZ0IGJvdW5kIG9mIHRoZSBidWNrZXQuICovXG4gIGxlZnQ/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gUmlnaHQgYm91bmQgb2YgdGhlIGJ1Y2tldC4gKi9cbiAgcmlnaHQ/OiBudW1iZXI7XG59XG5cbi8qKiBEaXN0cmlidXRpb24gY29tcHV0ZWQgb3ZlciBhIHR1bmluZyBkYXRhc2V0LiBUaGlzIGRhdGEgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRGF0YXNldERpc3RyaWJ1dGlvbiB7XG4gIC8qKiBPdXRwdXQgb25seS4gRGVmaW5lcyB0aGUgaGlzdG9ncmFtIGJ1Y2tldC4gKi9cbiAgYnVja2V0cz86IERhdGFzZXREaXN0cmlidXRpb25EaXN0cmlidXRpb25CdWNrZXRbXTtcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgbWF4aW11bSBvZiB0aGUgcG9wdWxhdGlvbiB2YWx1ZXMuICovXG4gIG1heD86IG51bWJlcjtcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgYXJpdGhtZXRpYyBtZWFuIG9mIHRoZSB2YWx1ZXMgaW4gdGhlIHBvcHVsYXRpb24uICovXG4gIG1lYW4/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIG1lZGlhbiBvZiB0aGUgdmFsdWVzIGluIHRoZSBwb3B1bGF0aW9uLiAqL1xuICBtZWRpYW4/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIG1pbmltdW0gb2YgdGhlIHBvcHVsYXRpb24gdmFsdWVzLiAqL1xuICBtaW4/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIDV0aCBwZXJjZW50aWxlIG9mIHRoZSB2YWx1ZXMgaW4gdGhlIHBvcHVsYXRpb24uICovXG4gIHA1PzogbnVtYmVyO1xuICAvKiogT3V0cHV0IG9ubHkuIFRoZSA5NXRoIHBlcmNlbnRpbGUgb2YgdGhlIHZhbHVlcyBpbiB0aGUgcG9wdWxhdGlvbi4gKi9cbiAgcDk1PzogbnVtYmVyO1xuICAvKiogT3V0cHV0IG9ubHkuIFN1bSBvZiBhIGdpdmVuIHBvcHVsYXRpb24gb2YgdmFsdWVzLiAqL1xuICBzdW0/OiBudW1iZXI7XG59XG5cbi8qKiBTdGF0aXN0aWNzIGNvbXB1dGVkIG92ZXIgYSB0dW5pbmcgZGF0YXNldC4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIERhdGFzZXRTdGF0cyB7XG4gIC8qKiBPdXRwdXQgb25seS4gTnVtYmVyIG9mIGJpbGxhYmxlIGNoYXJhY3RlcnMgaW4gdGhlIHR1bmluZyBkYXRhc2V0LiAqL1xuICB0b3RhbEJpbGxhYmxlQ2hhcmFjdGVyQ291bnQ/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gTnVtYmVyIG9mIHR1bmluZyBjaGFyYWN0ZXJzIGluIHRoZSB0dW5pbmcgZGF0YXNldC4gKi9cbiAgdG90YWxUdW5pbmdDaGFyYWN0ZXJDb3VudD86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBOdW1iZXIgb2YgZXhhbXBsZXMgaW4gdGhlIHR1bmluZyBkYXRhc2V0LiAqL1xuICB0dW5pbmdEYXRhc2V0RXhhbXBsZUNvdW50Pzogc3RyaW5nO1xuICAvKiogT3V0cHV0IG9ubHkuIE51bWJlciBvZiB0dW5pbmcgc3RlcHMgZm9yIHRoaXMgVHVuaW5nIEpvYi4gKi9cbiAgdHVuaW5nU3RlcENvdW50Pzogc3RyaW5nO1xuICAvKiogT3V0cHV0IG9ubHkuIFNhbXBsZSB1c2VyIG1lc3NhZ2VzIGluIHRoZSB0cmFpbmluZyBkYXRhc2V0IHVyaS4gKi9cbiAgdXNlckRhdGFzZXRFeGFtcGxlcz86IENvbnRlbnRbXTtcbiAgLyoqIE91dHB1dCBvbmx5LiBEYXRhc2V0IGRpc3RyaWJ1dGlvbnMgZm9yIHRoZSB1c2VyIGlucHV0IHRva2Vucy4gKi9cbiAgdXNlcklucHV0VG9rZW5EaXN0cmlidXRpb24/OiBEYXRhc2V0RGlzdHJpYnV0aW9uO1xuICAvKiogT3V0cHV0IG9ubHkuIERhdGFzZXQgZGlzdHJpYnV0aW9ucyBmb3IgdGhlIG1lc3NhZ2VzIHBlciBleGFtcGxlLiAqL1xuICB1c2VyTWVzc2FnZVBlckV4YW1wbGVEaXN0cmlidXRpb24/OiBEYXRhc2V0RGlzdHJpYnV0aW9uO1xuICAvKiogT3V0cHV0IG9ubHkuIERhdGFzZXQgZGlzdHJpYnV0aW9ucyBmb3IgdGhlIHVzZXIgb3V0cHV0IHRva2Vucy4gKi9cbiAgdXNlck91dHB1dFRva2VuRGlzdHJpYnV0aW9uPzogRGF0YXNldERpc3RyaWJ1dGlvbjtcbn1cblxuLyoqIFN0YXRpc3RpY3MgY29tcHV0ZWQgZm9yIGRhdGFzZXRzIHVzZWQgZm9yIGRpc3RpbGxhdGlvbi4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIERpc3RpbGxhdGlvbkRhdGFTdGF0cyB7XG4gIC8qKiBPdXRwdXQgb25seS4gU3RhdGlzdGljcyBjb21wdXRlZCBmb3IgdGhlIHRyYWluaW5nIGRhdGFzZXQuICovXG4gIHRyYWluaW5nRGF0YXNldFN0YXRzPzogRGF0YXNldFN0YXRzO1xufVxuXG4vKiogQ29tcGxldGlvbiBhbmQgaXRzIHByZWZlcmVuY2Ugc2NvcmUuIFRoaXMgZGF0YSB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZW1pbmlQcmVmZXJlbmNlRXhhbXBsZUNvbXBsZXRpb24ge1xuICAvKiogU2luZ2xlIHR1cm4gY29tcGxldGlvbiBmb3IgdGhlIGdpdmVuIHByb21wdC4gKi9cbiAgY29tcGxldGlvbj86IENvbnRlbnQ7XG4gIC8qKiBUaGUgc2NvcmUgZm9yIHRoZSBnaXZlbiBjb21wbGV0aW9uLiAqL1xuICBzY29yZT86IG51bWJlcjtcbn1cblxuLyoqIElucHV0IGV4YW1wbGUgZm9yIHByZWZlcmVuY2Ugb3B0aW1pemF0aW9uLiBUaGlzIGRhdGEgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR2VtaW5pUHJlZmVyZW5jZUV4YW1wbGUge1xuICAvKiogTGlzdCBvZiBjb21wbGV0aW9ucyBmb3IgYSBnaXZlbiBwcm9tcHQuICovXG4gIGNvbXBsZXRpb25zPzogR2VtaW5pUHJlZmVyZW5jZUV4YW1wbGVDb21wbGV0aW9uW107XG4gIC8qKiBNdWx0aS10dXJuIGNvbnRlbnRzIHRoYXQgcmVwcmVzZW50cyB0aGUgUHJvbXB0LiAqL1xuICBjb250ZW50cz86IENvbnRlbnRbXTtcbn1cblxuLyoqIFN0YXRpc3RpY3MgY29tcHV0ZWQgZm9yIGRhdGFzZXRzIHVzZWQgZm9yIHByZWZlcmVuY2Ugb3B0aW1pemF0aW9uLiBUaGlzIGRhdGEgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgUHJlZmVyZW5jZU9wdGltaXphdGlvbkRhdGFTdGF0cyB7XG4gIC8qKiBPdXRwdXQgb25seS4gRGF0YXNldCBkaXN0cmlidXRpb25zIGZvciBzY29yZXMgdmFyaWFuY2UgcGVyIGV4YW1wbGUuICovXG4gIHNjb3JlVmFyaWFuY2VQZXJFeGFtcGxlRGlzdHJpYnV0aW9uPzogRGF0YXNldERpc3RyaWJ1dGlvbjtcbiAgLyoqIE91dHB1dCBvbmx5LiBEYXRhc2V0IGRpc3RyaWJ1dGlvbnMgZm9yIHNjb3Jlcy4gKi9cbiAgc2NvcmVzRGlzdHJpYnV0aW9uPzogRGF0YXNldERpc3RyaWJ1dGlvbjtcbiAgLyoqIE91dHB1dCBvbmx5LiBOdW1iZXIgb2YgYmlsbGFibGUgdG9rZW5zIGluIHRoZSB0dW5pbmcgZGF0YXNldC4gKi9cbiAgdG90YWxCaWxsYWJsZVRva2VuQ291bnQ/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gTnVtYmVyIG9mIGV4YW1wbGVzIGluIHRoZSB0dW5pbmcgZGF0YXNldC4gKi9cbiAgdHVuaW5nRGF0YXNldEV4YW1wbGVDb3VudD86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBOdW1iZXIgb2YgdHVuaW5nIHN0ZXBzIGZvciB0aGlzIFR1bmluZyBKb2IuICovXG4gIHR1bmluZ1N0ZXBDb3VudD86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBTYW1wbGUgdXNlciBleGFtcGxlcyBpbiB0aGUgdHJhaW5pbmcgZGF0YXNldC4gKi9cbiAgdXNlckRhdGFzZXRFeGFtcGxlcz86IEdlbWluaVByZWZlcmVuY2VFeGFtcGxlW107XG4gIC8qKiBPdXRwdXQgb25seS4gRGF0YXNldCBkaXN0cmlidXRpb25zIGZvciB0aGUgdXNlciBpbnB1dCB0b2tlbnMuICovXG4gIHVzZXJJbnB1dFRva2VuRGlzdHJpYnV0aW9uPzogRGF0YXNldERpc3RyaWJ1dGlvbjtcbiAgLyoqIE91dHB1dCBvbmx5LiBEYXRhc2V0IGRpc3RyaWJ1dGlvbnMgZm9yIHRoZSB1c2VyIG91dHB1dCB0b2tlbnMuICovXG4gIHVzZXJPdXRwdXRUb2tlbkRpc3RyaWJ1dGlvbj86IERhdGFzZXREaXN0cmlidXRpb247XG59XG5cbi8qKiBEYXRhc2V0IGJ1Y2tldCB1c2VkIHRvIGNyZWF0ZSBhIGhpc3RvZ3JhbSBmb3IgdGhlIGRpc3RyaWJ1dGlvbiBnaXZlbiBhIHBvcHVsYXRpb24gb2YgdmFsdWVzLiBUaGlzIGRhdGEgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgU3VwZXJ2aXNlZFR1bmluZ0RhdGFzZXREaXN0cmlidXRpb25EYXRhc2V0QnVja2V0IHtcbiAgLyoqIE91dHB1dCBvbmx5LiBOdW1iZXIgb2YgdmFsdWVzIGluIHRoZSBidWNrZXQuICovXG4gIGNvdW50PzogbnVtYmVyO1xuICAvKiogT3V0cHV0IG9ubHkuIExlZnQgYm91bmQgb2YgdGhlIGJ1Y2tldC4gKi9cbiAgbGVmdD86IG51bWJlcjtcbiAgLyoqIE91dHB1dCBvbmx5LiBSaWdodCBib3VuZCBvZiB0aGUgYnVja2V0LiAqL1xuICByaWdodD86IG51bWJlcjtcbn1cblxuLyoqIERhdGFzZXQgZGlzdHJpYnV0aW9uIGZvciBTdXBlcnZpc2VkIFR1bmluZy4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFN1cGVydmlzZWRUdW5pbmdEYXRhc2V0RGlzdHJpYnV0aW9uIHtcbiAgLyoqIE91dHB1dCBvbmx5LiBTdW0gb2YgYSBnaXZlbiBwb3B1bGF0aW9uIG9mIHZhbHVlcyB0aGF0IGFyZSBiaWxsYWJsZS4gKi9cbiAgYmlsbGFibGVTdW0/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gRGVmaW5lcyB0aGUgaGlzdG9ncmFtIGJ1Y2tldC4gKi9cbiAgYnVja2V0cz86IFN1cGVydmlzZWRUdW5pbmdEYXRhc2V0RGlzdHJpYnV0aW9uRGF0YXNldEJ1Y2tldFtdO1xuICAvKiogT3V0cHV0IG9ubHkuIFRoZSBtYXhpbXVtIG9mIHRoZSBwb3B1bGF0aW9uIHZhbHVlcy4gKi9cbiAgbWF4PzogbnVtYmVyO1xuICAvKiogT3V0cHV0IG9ubHkuIFRoZSBhcml0aG1ldGljIG1lYW4gb2YgdGhlIHZhbHVlcyBpbiB0aGUgcG9wdWxhdGlvbi4gKi9cbiAgbWVhbj86IG51bWJlcjtcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgbWVkaWFuIG9mIHRoZSB2YWx1ZXMgaW4gdGhlIHBvcHVsYXRpb24uICovXG4gIG1lZGlhbj86IG51bWJlcjtcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgbWluaW11bSBvZiB0aGUgcG9wdWxhdGlvbiB2YWx1ZXMuICovXG4gIG1pbj86IG51bWJlcjtcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgNXRoIHBlcmNlbnRpbGUgb2YgdGhlIHZhbHVlcyBpbiB0aGUgcG9wdWxhdGlvbi4gKi9cbiAgcDU/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIDk1dGggcGVyY2VudGlsZSBvZiB0aGUgdmFsdWVzIGluIHRoZSBwb3B1bGF0aW9uLiAqL1xuICBwOTU/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgb25seS4gU3VtIG9mIGEgZ2l2ZW4gcG9wdWxhdGlvbiBvZiB2YWx1ZXMuICovXG4gIHN1bT86IHN0cmluZztcbn1cblxuLyoqIFR1bmluZyBkYXRhIHN0YXRpc3RpY3MgZm9yIFN1cGVydmlzZWQgVHVuaW5nLiBUaGlzIGRhdGEgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgU3VwZXJ2aXNlZFR1bmluZ0RhdGFTdGF0cyB7XG4gIC8qKiBPdXRwdXQgb25seS4gRm9yIGVhY2ggaW5kZXggaW4gYHRydW5jYXRlZF9leGFtcGxlX2luZGljZXNgLCB0aGUgdXNlci1mYWNpbmcgcmVhc29uIHdoeSB0aGUgZXhhbXBsZSB3YXMgZHJvcHBlZC4gKi9cbiAgZHJvcHBlZEV4YW1wbGVSZWFzb25zPzogc3RyaW5nW107XG4gIC8qKiBPdXRwdXQgb25seS4gTnVtYmVyIG9mIGJpbGxhYmxlIGNoYXJhY3RlcnMgaW4gdGhlIHR1bmluZyBkYXRhc2V0LiAqL1xuICB0b3RhbEJpbGxhYmxlQ2hhcmFjdGVyQ291bnQ/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gTnVtYmVyIG9mIGJpbGxhYmxlIHRva2VucyBpbiB0aGUgdHVuaW5nIGRhdGFzZXQuICovXG4gIHRvdGFsQmlsbGFibGVUb2tlbkNvdW50Pzogc3RyaW5nO1xuICAvKiogT3V0cHV0IG9ubHkuIFRoZSBudW1iZXIgb2YgZXhhbXBsZXMgaW4gdGhlIGRhdGFzZXQgdGhhdCBoYXZlIGJlZW4gZHJvcHBlZC4gQW4gZXhhbXBsZSBjYW4gYmUgZHJvcHBlZCBmb3IgcmVhc29ucyBpbmNsdWRpbmc6IHRvbyBtYW55IHRva2VucywgY29udGFpbnMgYW4gaW52YWxpZCBpbWFnZSwgY29udGFpbnMgdG9vIG1hbnkgaW1hZ2VzLCBldGMuICovXG4gIHRvdGFsVHJ1bmNhdGVkRXhhbXBsZUNvdW50Pzogc3RyaW5nO1xuICAvKiogT3V0cHV0IG9ubHkuIE51bWJlciBvZiB0dW5pbmcgY2hhcmFjdGVycyBpbiB0aGUgdHVuaW5nIGRhdGFzZXQuICovXG4gIHRvdGFsVHVuaW5nQ2hhcmFjdGVyQ291bnQ/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gQSBwYXJ0aWFsIHNhbXBsZSBvZiB0aGUgaW5kaWNlcyAoc3RhcnRpbmcgZnJvbSAxKSBvZiB0aGUgZHJvcHBlZCBleGFtcGxlcy4gKi9cbiAgdHJ1bmNhdGVkRXhhbXBsZUluZGljZXM/OiBzdHJpbmdbXTtcbiAgLyoqIE91dHB1dCBvbmx5LiBOdW1iZXIgb2YgZXhhbXBsZXMgaW4gdGhlIHR1bmluZyBkYXRhc2V0LiAqL1xuICB0dW5pbmdEYXRhc2V0RXhhbXBsZUNvdW50Pzogc3RyaW5nO1xuICAvKiogT3V0cHV0IG9ubHkuIE51bWJlciBvZiB0dW5pbmcgc3RlcHMgZm9yIHRoaXMgVHVuaW5nIEpvYi4gKi9cbiAgdHVuaW5nU3RlcENvdW50Pzogc3RyaW5nO1xuICAvKiogT3V0cHV0IG9ubHkuIFNhbXBsZSB1c2VyIG1lc3NhZ2VzIGluIHRoZSB0cmFpbmluZyBkYXRhc2V0IHVyaS4gKi9cbiAgdXNlckRhdGFzZXRFeGFtcGxlcz86IENvbnRlbnRbXTtcbiAgLyoqIE91dHB1dCBvbmx5LiBEYXRhc2V0IGRpc3RyaWJ1dGlvbnMgZm9yIHRoZSB1c2VyIGlucHV0IHRva2Vucy4gKi9cbiAgdXNlcklucHV0VG9rZW5EaXN0cmlidXRpb24/OiBTdXBlcnZpc2VkVHVuaW5nRGF0YXNldERpc3RyaWJ1dGlvbjtcbiAgLyoqIE91dHB1dCBvbmx5LiBEYXRhc2V0IGRpc3RyaWJ1dGlvbnMgZm9yIHRoZSBtZXNzYWdlcyBwZXIgZXhhbXBsZS4gKi9cbiAgdXNlck1lc3NhZ2VQZXJFeGFtcGxlRGlzdHJpYnV0aW9uPzogU3VwZXJ2aXNlZFR1bmluZ0RhdGFzZXREaXN0cmlidXRpb247XG4gIC8qKiBPdXRwdXQgb25seS4gRGF0YXNldCBkaXN0cmlidXRpb25zIGZvciB0aGUgdXNlciBvdXRwdXQgdG9rZW5zLiAqL1xuICB1c2VyT3V0cHV0VG9rZW5EaXN0cmlidXRpb24/OiBTdXBlcnZpc2VkVHVuaW5nRGF0YXNldERpc3RyaWJ1dGlvbjtcbn1cblxuLyoqIFRoZSB0dW5pbmcgZGF0YSBzdGF0aXN0aWMgdmFsdWVzIGZvciBUdW5pbmdKb2IuIFRoaXMgZGF0YSB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBUdW5pbmdEYXRhU3RhdHMge1xuICAvKiogT3V0cHV0IG9ubHkuIFN0YXRpc3RpY3MgZm9yIGRpc3RpbGxhdGlvbi4gKi9cbiAgZGlzdGlsbGF0aW9uRGF0YVN0YXRzPzogRGlzdGlsbGF0aW9uRGF0YVN0YXRzO1xuICAvKiogT3V0cHV0IG9ubHkuIFN0YXRpc3RpY3MgZm9yIHByZWZlcmVuY2Ugb3B0aW1pemF0aW9uLiAqL1xuICBwcmVmZXJlbmNlT3B0aW1pemF0aW9uRGF0YVN0YXRzPzogUHJlZmVyZW5jZU9wdGltaXphdGlvbkRhdGFTdGF0cztcbiAgLyoqIFRoZSBTRlQgVHVuaW5nIGRhdGEgc3RhdHMuICovXG4gIHN1cGVydmlzZWRUdW5pbmdEYXRhU3RhdHM/OiBTdXBlcnZpc2VkVHVuaW5nRGF0YVN0YXRzO1xufVxuXG4vKiogUmVwcmVzZW50cyBhIGN1c3RvbWVyLW1hbmFnZWQgZW5jcnlwdGlvbiBrZXkgc3BlYyB0aGF0IGNhbiBiZSBhcHBsaWVkIHRvIGEgdG9wLWxldmVsIHJlc291cmNlLiBUaGlzIGRhdGEgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRW5jcnlwdGlvblNwZWMge1xuICAvKiogUmVxdWlyZWQuIFRoZSBDbG91ZCBLTVMgcmVzb3VyY2UgaWRlbnRpZmllciBvZiB0aGUgY3VzdG9tZXIgbWFuYWdlZCBlbmNyeXB0aW9uIGtleSB1c2VkIHRvIHByb3RlY3QgYSByZXNvdXJjZS4gSGFzIHRoZSBmb3JtOiBgcHJvamVjdHMvbXktcHJvamVjdC9sb2NhdGlvbnMvbXktcmVnaW9uL2tleVJpbmdzL215LWtyL2NyeXB0b0tleXMvbXkta2V5YC4gVGhlIGtleSBuZWVkcyB0byBiZSBpbiB0aGUgc2FtZSByZWdpb24gYXMgd2hlcmUgdGhlIGNvbXB1dGUgcmVzb3VyY2UgaXMgY3JlYXRlZC4gKi9cbiAga21zS2V5TmFtZT86IHN0cmluZztcbn1cblxuLyoqIFR1bmluZyBzcGVjIGZvciBQYXJ0bmVyIG1vZGVscy4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFBhcnRuZXJNb2RlbFR1bmluZ1NwZWMge1xuICAvKiogSHlwZXJwYXJhbWV0ZXJzIGZvciB0dW5pbmcuIFRoZSBhY2NlcHRlZCBoeXBlcl9wYXJhbWV0ZXJzIGFuZCB0aGVpciB2YWxpZCByYW5nZSBvZiB2YWx1ZXMgd2lsbCBkaWZmZXIgZGVwZW5kaW5nIG9uIHRoZSBiYXNlIG1vZGVsLiAqL1xuICBoeXBlclBhcmFtZXRlcnM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgLyoqIFJlcXVpcmVkLiBDbG91ZCBTdG9yYWdlIHBhdGggdG8gZmlsZSBjb250YWluaW5nIHRyYWluaW5nIGRhdGFzZXQgZm9yIHR1bmluZy4gVGhlIGRhdGFzZXQgbXVzdCBiZSBmb3JtYXR0ZWQgYXMgYSBKU09OTCBmaWxlLiAqL1xuICB0cmFpbmluZ0RhdGFzZXRVcmk/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gQ2xvdWQgU3RvcmFnZSBwYXRoIHRvIGZpbGUgY29udGFpbmluZyB2YWxpZGF0aW9uIGRhdGFzZXQgZm9yIHR1bmluZy4gVGhlIGRhdGFzZXQgbXVzdCBiZSBmb3JtYXR0ZWQgYXMgYSBKU09OTCBmaWxlLiAqL1xuICB2YWxpZGF0aW9uRGF0YXNldFVyaT86IHN0cmluZztcbn1cblxuLyoqIEh5cGVycGFyYW1ldGVycyBmb3IgVmVvLiBUaGlzIGRhdGEgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVmVvSHlwZXJQYXJhbWV0ZXJzIHtcbiAgLyoqIE9wdGlvbmFsLiBOdW1iZXIgb2YgY29tcGxldGUgcGFzc2VzIHRoZSBtb2RlbCBtYWtlcyBvdmVyIHRoZSBlbnRpcmUgdHJhaW5pbmcgZGF0YXNldCBkdXJpbmcgdHJhaW5pbmcuICovXG4gIGVwb2NoQ291bnQ/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gTXVsdGlwbGllciBmb3IgYWRqdXN0aW5nIHRoZSBkZWZhdWx0IGxlYXJuaW5nIHJhdGUuICovXG4gIGxlYXJuaW5nUmF0ZU11bHRpcGxpZXI/OiBudW1iZXI7XG4gIC8qKiBPcHRpb25hbC4gVGhlIHR1bmluZyB0YXNrLiBFaXRoZXIgSTJWIG9yIFQyVi4gKi9cbiAgdHVuaW5nVGFzaz86IFR1bmluZ1Rhc2s7XG59XG5cbi8qKiBUdW5pbmcgU3BlYyBmb3IgVmVvIE1vZGVsIFR1bmluZy4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFZlb1R1bmluZ1NwZWMge1xuICAvKiogT3B0aW9uYWwuIEh5cGVycGFyYW1ldGVycyBmb3IgVmVvLiAqL1xuICBoeXBlclBhcmFtZXRlcnM/OiBWZW9IeXBlclBhcmFtZXRlcnM7XG4gIC8qKiBSZXF1aXJlZC4gVHJhaW5pbmcgZGF0YXNldCB1c2VkIGZvciB0dW5pbmcuIFRoZSBkYXRhc2V0IGNhbiBiZSBzcGVjaWZpZWQgYXMgZWl0aGVyIGEgQ2xvdWQgU3RvcmFnZSBwYXRoIHRvIGEgSlNPTkwgZmlsZSBvciBhcyB0aGUgcmVzb3VyY2UgbmFtZSBvZiBhIFZlcnRleCBNdWx0aW1vZGFsIERhdGFzZXQuICovXG4gIHRyYWluaW5nRGF0YXNldFVyaT86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBWYWxpZGF0aW9uIGRhdGFzZXQgdXNlZCBmb3IgdHVuaW5nLiBUaGUgZGF0YXNldCBjYW4gYmUgc3BlY2lmaWVkIGFzIGVpdGhlciBhIENsb3VkIFN0b3JhZ2UgcGF0aCB0byBhIEpTT05MIGZpbGUgb3IgYXMgdGhlIHJlc291cmNlIG5hbWUgb2YgYSBWZXJ0ZXggTXVsdGltb2RhbCBEYXRhc2V0LiAqL1xuICB2YWxpZGF0aW9uRGF0YXNldFVyaT86IHN0cmluZztcbn1cblxuLyoqIEEgdHVuaW5nIGpvYi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBUdW5pbmdKb2Ige1xuICAvKiogVXNlZCB0byByZXRhaW4gdGhlIGZ1bGwgSFRUUCByZXNwb25zZS4gKi9cbiAgc2RrSHR0cFJlc3BvbnNlPzogSHR0cFJlc3BvbnNlO1xuICAvKiogT3V0cHV0IG9ubHkuIElkZW50aWZpZXIuIFJlc291cmNlIG5hbWUgb2YgYSBUdW5pbmdKb2IuIEZvcm1hdDogYHByb2plY3RzL3twcm9qZWN0fS9sb2NhdGlvbnMve2xvY2F0aW9ufS90dW5pbmdKb2JzL3t0dW5pbmdfam9ifWAgKi9cbiAgbmFtZT86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgZGV0YWlsZWQgc3RhdGUgb2YgdGhlIGpvYi4gKi9cbiAgc3RhdGU/OiBKb2JTdGF0ZTtcbiAgLyoqIE91dHB1dCBvbmx5LiBUaW1lIHdoZW4gdGhlIFR1bmluZ0pvYiB3YXMgY3JlYXRlZC4gKi9cbiAgY3JlYXRlVGltZT86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBUaW1lIHdoZW4gdGhlIFR1bmluZ0pvYiBmb3IgdGhlIGZpcnN0IHRpbWUgZW50ZXJlZCB0aGUgYEpPQl9TVEFURV9SVU5OSU5HYCBzdGF0ZS4gKi9cbiAgc3RhcnRUaW1lPzogc3RyaW5nO1xuICAvKiogT3V0cHV0IG9ubHkuIFRpbWUgd2hlbiB0aGUgVHVuaW5nSm9iIGVudGVyZWQgYW55IG9mIHRoZSBmb2xsb3dpbmcgSm9iU3RhdGVzOiBgSk9CX1NUQVRFX1NVQ0NFRURFRGAsIGBKT0JfU1RBVEVfRkFJTEVEYCwgYEpPQl9TVEFURV9DQU5DRUxMRURgLCBgSk9CX1NUQVRFX0VYUElSRURgLiAqL1xuICBlbmRUaW1lPzogc3RyaW5nO1xuICAvKiogT3V0cHV0IG9ubHkuIFRpbWUgd2hlbiB0aGUgVHVuaW5nSm9iIHdhcyBtb3N0IHJlY2VudGx5IHVwZGF0ZWQuICovXG4gIHVwZGF0ZVRpbWU/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gT25seSBwb3B1bGF0ZWQgd2hlbiBqb2IncyBzdGF0ZSBpcyBgSk9CX1NUQVRFX0ZBSUxFRGAgb3IgYEpPQl9TVEFURV9DQU5DRUxMRURgLiAqL1xuICBlcnJvcj86IEdvb2dsZVJwY1N0YXR1cztcbiAgLyoqIE9wdGlvbmFsLiBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIFR1bmluZ0pvYi4gKi9cbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIC8qKiBUaGUgYmFzZSBtb2RlbCB0aGF0IGlzIGJlaW5nIHR1bmVkLiBTZWUgW1N1cHBvcnRlZCBtb2RlbHNdKGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZ2VuZXJhdGl2ZS1haS9kb2NzL21vZGVsLXJlZmVyZW5jZS90dW5pbmcjc3VwcG9ydGVkX21vZGVscykuICovXG4gIGJhc2VNb2RlbD86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgdHVuZWQgbW9kZWwgcmVzb3VyY2VzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIFR1bmluZ0pvYi4gKi9cbiAgdHVuZWRNb2RlbD86IFR1bmVkTW9kZWw7XG4gIC8qKiBUaGUgcHJlLXR1bmVkIG1vZGVsIGZvciBjb250aW51b3VzIHR1bmluZy4gKi9cbiAgcHJlVHVuZWRNb2RlbD86IFByZVR1bmVkTW9kZWw7XG4gIC8qKiBUdW5pbmcgU3BlYyBmb3IgU3VwZXJ2aXNlZCBGaW5lIFR1bmluZy4gKi9cbiAgc3VwZXJ2aXNlZFR1bmluZ1NwZWM/OiBTdXBlcnZpc2VkVHVuaW5nU3BlYztcbiAgLyoqIFR1bmluZyBTcGVjIGZvciBQcmVmZXJlbmNlIE9wdGltaXphdGlvbi4gKi9cbiAgcHJlZmVyZW5jZU9wdGltaXphdGlvblNwZWM/OiBQcmVmZXJlbmNlT3B0aW1pemF0aW9uU3BlYztcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgdHVuaW5nIGRhdGEgc3RhdGlzdGljcyBhc3NvY2lhdGVkIHdpdGggdGhpcyBUdW5pbmdKb2IuICovXG4gIHR1bmluZ0RhdGFTdGF0cz86IFR1bmluZ0RhdGFTdGF0cztcbiAgLyoqIEN1c3RvbWVyLW1hbmFnZWQgZW5jcnlwdGlvbiBrZXkgb3B0aW9ucyBmb3IgYSBUdW5pbmdKb2IuIElmIHRoaXMgaXMgc2V0LCB0aGVuIGFsbCByZXNvdXJjZXMgY3JlYXRlZCBieSB0aGUgVHVuaW5nSm9iIHdpbGwgYmUgZW5jcnlwdGVkIHdpdGggdGhlIHByb3ZpZGVkIGVuY3J5cHRpb24ga2V5LiAqL1xuICBlbmNyeXB0aW9uU3BlYz86IEVuY3J5cHRpb25TcGVjO1xuICAvKiogVHVuaW5nIFNwZWMgZm9yIG9wZW4gc291cmNlZCBhbmQgdGhpcmQgcGFydHkgUGFydG5lciBtb2RlbHMuICovXG4gIHBhcnRuZXJNb2RlbFR1bmluZ1NwZWM/OiBQYXJ0bmVyTW9kZWxUdW5pbmdTcGVjO1xuICAvKiogT3B0aW9uYWwuIFRoZSB1c2VyLXByb3ZpZGVkIHBhdGggdG8gY3VzdG9tIG1vZGVsIHdlaWdodHMuIFNldCB0aGlzIGZpZWxkIHRvIHR1bmUgYSBjdXN0b20gbW9kZWwuIFRoZSBwYXRoIG11c3QgYmUgYSBDbG91ZCBTdG9yYWdlIGRpcmVjdG9yeSB0aGF0IGNvbnRhaW5zIHRoZSBtb2RlbCB3ZWlnaHRzIGluIC5zYWZldGVuc29ycyBmb3JtYXQgYWxvbmcgd2l0aCBhc3NvY2lhdGVkIG1vZGVsIG1ldGFkYXRhIGZpbGVzLiBJZiB0aGlzIGZpZWxkIGlzIHNldCwgdGhlIGJhc2VfbW9kZWwgZmllbGQgbXVzdCBzdGlsbCBiZSBzZXQgdG8gaW5kaWNhdGUgd2hpY2ggYmFzZSBtb2RlbCB0aGUgY3VzdG9tIG1vZGVsIGlzIGRlcml2ZWQgZnJvbS4gVGhpcyBmZWF0dXJlIGlzIG9ubHkgYXZhaWxhYmxlIGZvciBvcGVuIHNvdXJjZSBtb2RlbHMuICovXG4gIGN1c3RvbUJhc2VNb2RlbD86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgRXhwZXJpbWVudCBhc3NvY2lhdGVkIHdpdGggdGhpcyBUdW5pbmdKb2IuICovXG4gIGV4cGVyaW1lbnQ/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gVGhlIGxhYmVscyB3aXRoIHVzZXItZGVmaW5lZCBtZXRhZGF0YSB0byBvcmdhbml6ZSBUdW5pbmdKb2IgYW5kIGdlbmVyYXRlZCByZXNvdXJjZXMgc3VjaCBhcyBNb2RlbCBhbmQgRW5kcG9pbnQuIExhYmVsIGtleXMgYW5kIHZhbHVlcyBjYW4gYmUgbm8gbG9uZ2VyIHRoYW4gNjQgY2hhcmFjdGVycyAoVW5pY29kZSBjb2RlcG9pbnRzKSwgY2FuIG9ubHkgY29udGFpbiBsb3dlcmNhc2UgbGV0dGVycywgbnVtZXJpYyBjaGFyYWN0ZXJzLCB1bmRlcnNjb3JlcyBhbmQgZGFzaGVzLiBJbnRlcm5hdGlvbmFsIGNoYXJhY3RlcnMgYXJlIGFsbG93ZWQuIFNlZSBodHRwczovL2dvby5nbC94bVFueGYgZm9yIG1vcmUgaW5mb3JtYXRpb24gYW5kIGV4YW1wbGVzIG9mIGxhYmVscy4gKi9cbiAgbGFiZWxzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgLyoqIE9wdGlvbmFsLiBDbG91ZCBTdG9yYWdlIHBhdGggdG8gdGhlIGRpcmVjdG9yeSB3aGVyZSB0dW5pbmcgam9iIG91dHB1dHMgYXJlIHdyaXR0ZW4gdG8uIFRoaXMgZmllbGQgaXMgb25seSBhdmFpbGFibGUgYW5kIHJlcXVpcmVkIGZvciBvcGVuIHNvdXJjZSBtb2RlbHMuICovXG4gIG91dHB1dFVyaT86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgcmVzb3VyY2UgbmFtZSBvZiB0aGUgUGlwZWxpbmVKb2IgYXNzb2NpYXRlZCB3aXRoIHRoZSBUdW5pbmdKb2IuIEZvcm1hdDogYHByb2plY3RzL3twcm9qZWN0fS9sb2NhdGlvbnMve2xvY2F0aW9ufS9waXBlbGluZUpvYnMve3BpcGVsaW5lX2pvYn1gLiAqL1xuICBwaXBlbGluZUpvYj86IHN0cmluZztcbiAgLyoqIFRoZSBzZXJ2aWNlIGFjY291bnQgdGhhdCB0aGUgdHVuaW5nSm9iIHdvcmtsb2FkIHJ1bnMgYXMuIElmIG5vdCBzcGVjaWZpZWQsIHRoZSBWZXJ0ZXggQUkgU2VjdXJlIEZpbmUtVHVuZWQgU2VydmljZSBBZ2VudCBpbiB0aGUgcHJvamVjdCB3aWxsIGJlIHVzZWQuIFNlZSBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vaWFtL2RvY3Mvc2VydmljZS1hZ2VudHMjdmVydGV4LWFpLXNlY3VyZS1maW5lLXR1bmluZy1zZXJ2aWNlLWFnZW50IFVzZXJzIHN0YXJ0aW5nIHRoZSBwaXBlbGluZSBtdXN0IGhhdmUgdGhlIGBpYW0uc2VydmljZUFjY291bnRzLmFjdEFzYCBwZXJtaXNzaW9uIG9uIHRoaXMgc2VydmljZSBhY2NvdW50LiAqL1xuICBzZXJ2aWNlQWNjb3VudD86IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsLiBUaGUgZGlzcGxheSBuYW1lIG9mIHRoZSBUdW5lZE1vZGVsLiBUaGUgbmFtZSBjYW4gYmUgdXAgdG8gMTI4IGNoYXJhY3RlcnMgbG9uZyBhbmQgY2FuIGNvbnNpc3Qgb2YgYW55IFVURi04IGNoYXJhY3RlcnMuIEZvciBjb250aW51b3VzIHR1bmluZywgdHVuZWRfbW9kZWxfZGlzcGxheV9uYW1lIHdpbGwgYnkgZGVmYXVsdCB1c2UgdGhlIHNhbWUgZGlzcGxheSBuYW1lIGFzIHRoZSBwcmUtdHVuZWQgbW9kZWwuIElmIGEgbmV3IGRpc3BsYXkgbmFtZSBpcyBwcm92aWRlZCwgdGhlIHR1bmluZyBqb2Igd2lsbCBjcmVhdGUgYSBuZXcgbW9kZWwgaW5zdGVhZCBvZiBhIG5ldyB2ZXJzaW9uLiAqL1xuICB0dW5lZE1vZGVsRGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gIC8qKiBUdW5pbmcgU3BlYyBmb3IgVmVvIFR1bmluZy4gKi9cbiAgdmVvVHVuaW5nU3BlYz86IFZlb1R1bmluZ1NwZWM7XG59XG5cbi8qKiBDb25maWd1cmF0aW9uIGZvciB0aGUgbGlzdCB0dW5pbmcgam9icyBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGlzdFR1bmluZ0pvYnNDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIEFib3J0IHNpZ25hbCB3aGljaCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3QuXG5cbiAgTk9URTogQWJvcnRTaWduYWwgaXMgYSBjbGllbnQtb25seSBvcGVyYXRpb24uIFVzaW5nIGl0IHRvIGNhbmNlbCBhblxuICBvcGVyYXRpb24gd2lsbCBub3QgY2FuY2VsIHRoZSByZXF1ZXN0IGluIHRoZSBzZXJ2aWNlLiBZb3Ugd2lsbCBzdGlsbFxuICBiZSBjaGFyZ2VkIHVzYWdlIGZvciBhbnkgYXBwbGljYWJsZSBvcGVyYXRpb25zLlxuICAgICAgICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG4gIHBhZ2VTaXplPzogbnVtYmVyO1xuICBwYWdlVG9rZW4/OiBzdHJpbmc7XG4gIGZpbHRlcj86IHN0cmluZztcbn1cblxuLyoqIFBhcmFtZXRlcnMgZm9yIHRoZSBsaXN0IHR1bmluZyBqb2JzIG1ldGhvZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXN0VHVuaW5nSm9ic1BhcmFtZXRlcnMge1xuICBjb25maWc/OiBMaXN0VHVuaW5nSm9ic0NvbmZpZztcbn1cblxuLyoqIFJlc3BvbnNlIGZvciB0aGUgbGlzdCB0dW5pbmcgam9icyBtZXRob2QuICovXG5leHBvcnQgY2xhc3MgTGlzdFR1bmluZ0pvYnNSZXNwb25zZSB7XG4gIC8qKiBVc2VkIHRvIHJldGFpbiB0aGUgZnVsbCBIVFRQIHJlc3BvbnNlLiAqL1xuICBzZGtIdHRwUmVzcG9uc2U/OiBIdHRwUmVzcG9uc2U7XG4gIC8qKiBBIHRva2VuIHRvIHJldHJpZXZlIHRoZSBuZXh0IHBhZ2Ugb2YgcmVzdWx0cy4gUGFzcyB0byBMaXN0VHVuaW5nSm9ic1JlcXVlc3QucGFnZV90b2tlbiB0byBvYnRhaW4gdGhhdCBwYWdlLiAqL1xuICBuZXh0UGFnZVRva2VuPzogc3RyaW5nO1xuICAvKiogTGlzdCBvZiBUdW5pbmdKb2JzIGluIHRoZSByZXF1ZXN0ZWQgcGFnZS4gKi9cbiAgdHVuaW5nSm9icz86IFR1bmluZ0pvYltdO1xufVxuXG4vKiogT3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgdHVuaW5ncy5jYW5jZWwgbWV0aG9kLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENhbmNlbFR1bmluZ0pvYkNvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogQWJvcnQgc2lnbmFsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgcmVxdWVzdC5cblxuICBOT1RFOiBBYm9ydFNpZ25hbCBpcyBhIGNsaWVudC1vbmx5IG9wZXJhdGlvbi4gVXNpbmcgaXQgdG8gY2FuY2VsIGFuXG4gIG9wZXJhdGlvbiB3aWxsIG5vdCBjYW5jZWwgdGhlIHJlcXVlc3QgaW4gdGhlIHNlcnZpY2UuIFlvdSB3aWxsIHN0aWxsXG4gIGJlIGNoYXJnZWQgdXNhZ2UgZm9yIGFueSBhcHBsaWNhYmxlIG9wZXJhdGlvbnMuXG4gICAgICAgKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbn1cblxuLyoqIFBhcmFtZXRlcnMgZm9yIHRoZSBjYW5jZWwgbWV0aG9kLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENhbmNlbFR1bmluZ0pvYlBhcmFtZXRlcnMge1xuICAvKiogVGhlIHJlc291cmNlIG5hbWUgb2YgdGhlIHR1bmluZyBqb2IuICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIHRoZSByZXF1ZXN0LiAqL1xuICBjb25maWc/OiBDYW5jZWxUdW5pbmdKb2JDb25maWc7XG59XG5cbi8qKiBFbXB0eSByZXNwb25zZSBmb3IgdHVuaW5ncy5jYW5jZWwgbWV0aG9kLiAqL1xuZXhwb3J0IGNsYXNzIENhbmNlbFR1bmluZ0pvYlJlc3BvbnNlIHtcbiAgLyoqIFVzZWQgdG8gcmV0YWluIHRoZSBmdWxsIEhUVFAgcmVzcG9uc2UuICovXG4gIHNka0h0dHBSZXNwb25zZT86IEh0dHBSZXNwb25zZTtcbn1cblxuLyoqIEEgc2luZ2xlIGV4YW1wbGUgZm9yIHR1bmluZy4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBWZXJ0ZXggQUkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVHVuaW5nRXhhbXBsZSB7XG4gIC8qKiBSZXF1aXJlZC4gVGhlIGV4cGVjdGVkIG1vZGVsIG91dHB1dC4gKi9cbiAgb3V0cHV0Pzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIFRleHQgbW9kZWwgaW5wdXQuICovXG4gIHRleHRJbnB1dD86IHN0cmluZztcbn1cblxuLyoqIFN1cGVydmlzZWQgZmluZS10dW5pbmcgdHJhaW5pbmcgZGF0YXNldC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBUdW5pbmdEYXRhc2V0IHtcbiAgLyoqIEdDUyBVUkkgb2YgdGhlIGZpbGUgY29udGFpbmluZyB0cmFpbmluZyBkYXRhc2V0IGluIEpTT05MIGZvcm1hdC4gKi9cbiAgZ2NzVXJpPzogc3RyaW5nO1xuICAvKiogVGhlIHJlc291cmNlIG5hbWUgb2YgdGhlIFZlcnRleCBNdWx0aW1vZGFsIERhdGFzZXQgdGhhdCBpcyB1c2VkIGFzIHRyYWluaW5nIGRhdGFzZXQuIEV4YW1wbGU6ICdwcm9qZWN0cy9teS1wcm9qZWN0LWlkLW9yLW51bWJlci9sb2NhdGlvbnMvbXktbG9jYXRpb24vZGF0YXNldHMvbXktZGF0YXNldC1pZCcuICovXG4gIHZlcnRleERhdGFzZXRSZXNvdXJjZT86IHN0cmluZztcbiAgLyoqIElubGluZSBleGFtcGxlcyB3aXRoIHNpbXBsZSBpbnB1dC9vdXRwdXQgdGV4dC4gKi9cbiAgZXhhbXBsZXM/OiBUdW5pbmdFeGFtcGxlW107XG59XG5cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBUdW5pbmdWYWxpZGF0aW9uRGF0YXNldCB7XG4gIC8qKiBHQ1MgVVJJIG9mIHRoZSBmaWxlIGNvbnRhaW5pbmcgdmFsaWRhdGlvbiBkYXRhc2V0IGluIEpTT05MIGZvcm1hdC4gKi9cbiAgZ2NzVXJpPzogc3RyaW5nO1xuICAvKiogVGhlIHJlc291cmNlIG5hbWUgb2YgdGhlIFZlcnRleCBNdWx0aW1vZGFsIERhdGFzZXQgdGhhdCBpcyB1c2VkIGFzIHZhbGlkYXRpb24gZGF0YXNldC4gRXhhbXBsZTogJ3Byb2plY3RzL215LXByb2plY3QtaWQtb3ItbnVtYmVyL2xvY2F0aW9ucy9teS1sb2NhdGlvbi9kYXRhc2V0cy9teS1kYXRhc2V0LWlkJy4gKi9cbiAgdmVydGV4RGF0YXNldFJlc291cmNlPzogc3RyaW5nO1xufVxuXG4vKiogRmluZS10dW5pbmcgam9iIGNyZWF0aW9uIHJlcXVlc3QgLSBvcHRpb25hbCBmaWVsZHMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ3JlYXRlVHVuaW5nSm9iQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIC8qKiBBYm9ydCBzaWduYWwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSByZXF1ZXN0LlxuXG4gIE5PVEU6IEFib3J0U2lnbmFsIGlzIGEgY2xpZW50LW9ubHkgb3BlcmF0aW9uLiBVc2luZyBpdCB0byBjYW5jZWwgYW5cbiAgb3BlcmF0aW9uIHdpbGwgbm90IGNhbmNlbCB0aGUgcmVxdWVzdCBpbiB0aGUgc2VydmljZS4gWW91IHdpbGwgc3RpbGxcbiAgYmUgY2hhcmdlZCB1c2FnZSBmb3IgYW55IGFwcGxpY2FibGUgb3BlcmF0aW9ucy5cbiAgICAgICAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuICAvKiogVGhlIG1ldGhvZCB0byB1c2UgZm9yIHR1bmluZyAoU1VQRVJWSVNFRF9GSU5FX1RVTklORyBvciBQUkVGRVJFTkNFX1RVTklORykuIElmIG5vdCBzZXQsIHRoZSBkZWZhdWx0IG1ldGhvZCAoU0ZUKSB3aWxsIGJlIHVzZWQuICovXG4gIG1ldGhvZD86IFR1bmluZ01ldGhvZDtcbiAgLyoqIFZhbGlkYXRpb24gZGF0YXNldCBmb3IgdHVuaW5nLiBUaGUgZGF0YXNldCBtdXN0IGJlIGZvcm1hdHRlZCBhcyBhIEpTT05MIGZpbGUuICovXG4gIHZhbGlkYXRpb25EYXRhc2V0PzogVHVuaW5nVmFsaWRhdGlvbkRhdGFzZXQ7XG4gIC8qKiBUaGUgZGlzcGxheSBuYW1lIG9mIHRoZSB0dW5lZCBNb2RlbC4gVGhlIG5hbWUgY2FuIGJlIHVwIHRvIDEyOCBjaGFyYWN0ZXJzIGxvbmcgYW5kIGNhbiBjb25zaXN0IG9mIGFueSBVVEYtOCBjaGFyYWN0ZXJzLiAqL1xuICB0dW5lZE1vZGVsRGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gIC8qKiBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIFR1bmluZ0pvYiAqL1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgLyoqIE51bWJlciBvZiBjb21wbGV0ZSBwYXNzZXMgdGhlIG1vZGVsIG1ha2VzIG92ZXIgdGhlIGVudGlyZSB0cmFpbmluZyBkYXRhc2V0IGR1cmluZyB0cmFpbmluZy4gKi9cbiAgZXBvY2hDb3VudD86IG51bWJlcjtcbiAgLyoqIE11bHRpcGxpZXIgZm9yIGFkanVzdGluZyB0aGUgZGVmYXVsdCBsZWFybmluZyByYXRlLiAqL1xuICBsZWFybmluZ1JhdGVNdWx0aXBsaWVyPzogbnVtYmVyO1xuICAvKiogSWYgc2V0IHRvIHRydWUsIGRpc2FibGUgaW50ZXJtZWRpYXRlIGNoZWNrcG9pbnRzIGFuZCBvbmx5IHRoZSBsYXN0IGNoZWNrcG9pbnQgd2lsbCBiZSBleHBvcnRlZC4gT3RoZXJ3aXNlLCBlbmFibGUgaW50ZXJtZWRpYXRlIGNoZWNrcG9pbnRzLiAqL1xuICBleHBvcnRMYXN0Q2hlY2twb2ludE9ubHk/OiBib29sZWFuO1xuICAvKiogVGhlIG9wdGlvbmFsIGNoZWNrcG9pbnQgaWQgb2YgdGhlIHByZS10dW5lZCBtb2RlbCB0byB1c2UgZm9yIHR1bmluZywgaWYgYXBwbGljYWJsZS4gKi9cbiAgcHJlVHVuZWRNb2RlbENoZWNrcG9pbnRJZD86IHN0cmluZztcbiAgLyoqIEFkYXB0ZXIgc2l6ZSBmb3IgdHVuaW5nLiAqL1xuICBhZGFwdGVyU2l6ZT86IEFkYXB0ZXJTaXplO1xuICAvKiogVGhlIGJhdGNoIHNpemUgaHlwZXJwYXJhbWV0ZXIgZm9yIHR1bmluZy4gSWYgbm90IHNldCwgYSBkZWZhdWx0IG9mIDQgb3IgMTYgd2lsbCBiZSB1c2VkIGJhc2VkIG9uIHRoZSBudW1iZXIgb2YgdHJhaW5pbmcgZXhhbXBsZXMuICovXG4gIGJhdGNoU2l6ZT86IG51bWJlcjtcbiAgLyoqIFRoZSBsZWFybmluZyByYXRlIGh5cGVycGFyYW1ldGVyIGZvciB0dW5pbmcuIElmIG5vdCBzZXQsIGEgZGVmYXVsdCBvZiAwLjAwMSBvciAwLjAwMDIgd2lsbCBiZSBjYWxjdWxhdGVkIGJhc2VkIG9uIHRoZSBudW1iZXIgb2YgdHJhaW5pbmcgZXhhbXBsZXMuICovXG4gIGxlYXJuaW5nUmF0ZT86IG51bWJlcjtcbiAgLyoqIE9wdGlvbmFsLiBUaGUgbGFiZWxzIHdpdGggdXNlci1kZWZpbmVkIG1ldGFkYXRhIHRvIG9yZ2FuaXplIFR1bmluZ0pvYiBhbmQgZ2VuZXJhdGVkIHJlc291cmNlcyBzdWNoIGFzIE1vZGVsIGFuZCBFbmRwb2ludC4gTGFiZWwga2V5cyBhbmQgdmFsdWVzIGNhbiBiZSBubyBsb25nZXIgdGhhbiA2NCBjaGFyYWN0ZXJzIChVbmljb2RlIGNvZGVwb2ludHMpLCBjYW4gb25seSBjb250YWluIGxvd2VyY2FzZSBsZXR0ZXJzLCBudW1lcmljIGNoYXJhY3RlcnMsIHVuZGVyc2NvcmVzIGFuZCBkYXNoZXMuIEludGVybmF0aW9uYWwgY2hhcmFjdGVycyBhcmUgYWxsb3dlZC4gU2VlIGh0dHBzOi8vZ29vLmdsL3htUW54ZiBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgZXhhbXBsZXMgb2YgbGFiZWxzLiAqL1xuICBsYWJlbHM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAvKiogV2VpZ2h0IGZvciBLTCBEaXZlcmdlbmNlIHJlZ3VsYXJpemF0aW9uLCBQcmVmZXJlbmNlIE9wdGltaXphdGlvbiB0dW5pbmcgb25seS4gKi9cbiAgYmV0YT86IG51bWJlcjtcbn1cblxuLyoqIEZpbmUtdHVuaW5nIGpvYiBjcmVhdGlvbiBwYXJhbWV0ZXJzIC0gb3B0aW9uYWwgZmllbGRzLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENyZWF0ZVR1bmluZ0pvYlBhcmFtZXRlcnNQcml2YXRlIHtcbiAgLyoqIFRoZSBiYXNlIG1vZGVsIHRoYXQgaXMgYmVpbmcgdHVuZWQsIGUuZy4sIFwiZ2VtaW5pLTIuNS1mbGFzaFwiLiAqL1xuICBiYXNlTW9kZWw/OiBzdHJpbmc7XG4gIC8qKiBUaGUgUHJlVHVuZWRNb2RlbCB0aGF0IGlzIGJlaW5nIHR1bmVkLiAqL1xuICBwcmVUdW5lZE1vZGVsPzogUHJlVHVuZWRNb2RlbDtcbiAgLyoqIENsb3VkIFN0b3JhZ2UgcGF0aCB0byBmaWxlIGNvbnRhaW5pbmcgdHJhaW5pbmcgZGF0YXNldCBmb3IgdHVuaW5nLiBUaGUgZGF0YXNldCBtdXN0IGJlIGZvcm1hdHRlZCBhcyBhIEpTT05MIGZpbGUuICovXG4gIHRyYWluaW5nRGF0YXNldDogVHVuaW5nRGF0YXNldDtcbiAgLyoqIENvbmZpZ3VyYXRpb24gZm9yIHRoZSB0dW5pbmcgam9iLiAqL1xuICBjb25maWc/OiBDcmVhdGVUdW5pbmdKb2JDb25maWc7XG59XG5cbi8qKiBBIGxvbmctcnVubmluZyBvcGVyYXRpb24uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVHVuaW5nT3BlcmF0aW9uIHtcbiAgLyoqIFVzZWQgdG8gcmV0YWluIHRoZSBmdWxsIEhUVFAgcmVzcG9uc2UuICovXG4gIHNka0h0dHBSZXNwb25zZT86IEh0dHBSZXNwb25zZTtcbiAgLyoqIFRoZSBzZXJ2ZXItYXNzaWduZWQgbmFtZSwgd2hpY2ggaXMgb25seSB1bmlxdWUgd2l0aGluIHRoZSBzYW1lIHNlcnZpY2UgdGhhdCBvcmlnaW5hbGx5IHJldHVybnMgaXQuIElmIHlvdSB1c2UgdGhlIGRlZmF1bHQgSFRUUCBtYXBwaW5nLCB0aGUgYG5hbWVgIHNob3VsZCBiZSBhIHJlc291cmNlIG5hbWUgZW5kaW5nIHdpdGggYG9wZXJhdGlvbnMve3VuaXF1ZV9pZH1gLiAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKiogU2VydmljZS1zcGVjaWZpYyBtZXRhZGF0YSBhc3NvY2lhdGVkIHdpdGggdGhlIG9wZXJhdGlvbi4gSXQgdHlwaWNhbGx5IGNvbnRhaW5zIHByb2dyZXNzIGluZm9ybWF0aW9uIGFuZCBjb21tb24gbWV0YWRhdGEgc3VjaCBhcyBjcmVhdGUgdGltZS4gU29tZSBzZXJ2aWNlcyBtaWdodCBub3QgcHJvdmlkZSBzdWNoIG1ldGFkYXRhLiAgQW55IG1ldGhvZCB0aGF0IHJldHVybnMgYSBsb25nLXJ1bm5pbmcgb3BlcmF0aW9uIHNob3VsZCBkb2N1bWVudCB0aGUgbWV0YWRhdGEgdHlwZSwgaWYgYW55LiAqL1xuICBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAvKiogSWYgdGhlIHZhbHVlIGlzIGBmYWxzZWAsIGl0IG1lYW5zIHRoZSBvcGVyYXRpb24gaXMgc3RpbGwgaW4gcHJvZ3Jlc3MuIElmIGB0cnVlYCwgdGhlIG9wZXJhdGlvbiBpcyBjb21wbGV0ZWQsIGFuZCBlaXRoZXIgYGVycm9yYCBvciBgcmVzcG9uc2VgIGlzIGF2YWlsYWJsZS4gKi9cbiAgZG9uZT86IGJvb2xlYW47XG4gIC8qKiBUaGUgZXJyb3IgcmVzdWx0IG9mIHRoZSBvcGVyYXRpb24gaW4gY2FzZSBvZiBmYWlsdXJlIG9yIGNhbmNlbGxhdGlvbi4gKi9cbiAgZXJyb3I/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbn1cblxuLyoqIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIGNhY2hlZCBjb250ZW50IGNyZWF0aW9uLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENyZWF0ZUNhY2hlZENvbnRlbnRDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIEFib3J0IHNpZ25hbCB3aGljaCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3QuXG5cbiAgTk9URTogQWJvcnRTaWduYWwgaXMgYSBjbGllbnQtb25seSBvcGVyYXRpb24uIFVzaW5nIGl0IHRvIGNhbmNlbCBhblxuICBvcGVyYXRpb24gd2lsbCBub3QgY2FuY2VsIHRoZSByZXF1ZXN0IGluIHRoZSBzZXJ2aWNlLiBZb3Ugd2lsbCBzdGlsbFxuICBiZSBjaGFyZ2VkIHVzYWdlIGZvciBhbnkgYXBwbGljYWJsZSBvcGVyYXRpb25zLlxuICAgICAgICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG4gIC8qKiBUaGUgVFRMIGZvciB0aGlzIHJlc291cmNlLiBUaGUgZXhwaXJhdGlvbiB0aW1lIGlzIGNvbXB1dGVkOiBub3cgKyBUVEwuIEl0IGlzIGEgZHVyYXRpb24gc3RyaW5nLCB3aXRoIHVwIHRvIG5pbmUgZnJhY3Rpb25hbCBkaWdpdHMsIHRlcm1pbmF0ZWQgYnkgJ3MnLiBFeGFtcGxlOiBcIjMuNXNcIi4gKi9cbiAgdHRsPzogc3RyaW5nO1xuICAvKiogVGltZXN0YW1wIG9mIHdoZW4gdGhpcyByZXNvdXJjZSBpcyBjb25zaWRlcmVkIGV4cGlyZWQuIFVzZXMgUkZDIDMzMzkgZm9ybWF0LCBFeGFtcGxlOiAyMDE0LTEwLTAyVDE1OjAxOjIzWi4gKi9cbiAgZXhwaXJlVGltZT86IHN0cmluZztcbiAgLyoqIFRoZSB1c2VyLWdlbmVyYXRlZCBtZWFuaW5nZnVsIGRpc3BsYXkgbmFtZSBvZiB0aGUgY2FjaGVkIGNvbnRlbnQuXG4gICAqL1xuICBkaXNwbGF5TmFtZT86IHN0cmluZztcbiAgLyoqIFRoZSBjb250ZW50IHRvIGNhY2hlLlxuICAgKi9cbiAgY29udGVudHM/OiBDb250ZW50TGlzdFVuaW9uO1xuICAvKiogRGV2ZWxvcGVyIHNldCBzeXN0ZW0gaW5zdHJ1Y3Rpb24uXG4gICAqL1xuICBzeXN0ZW1JbnN0cnVjdGlvbj86IENvbnRlbnRVbmlvbjtcbiAgLyoqIEEgbGlzdCBvZiBgVG9vbHNgIHRoZSBtb2RlbCBtYXkgdXNlIHRvIGdlbmVyYXRlIHRoZSBuZXh0IHJlc3BvbnNlLlxuICAgKi9cbiAgdG9vbHM/OiBUb29sW107XG4gIC8qKiBDb25maWd1cmF0aW9uIGZvciB0aGUgdG9vbHMgdG8gdXNlLiBUaGlzIGNvbmZpZyBpcyBzaGFyZWQgZm9yIGFsbCB0b29scy5cbiAgICovXG4gIHRvb2xDb25maWc/OiBUb29sQ29uZmlnO1xuICAvKiogVGhlIENsb3VkIEtNUyByZXNvdXJjZSBpZGVudGlmaWVyIG9mIHRoZSBjdXN0b21lciBtYW5hZ2VkXG4gICAgICBlbmNyeXB0aW9uIGtleSB1c2VkIHRvIHByb3RlY3QgYSByZXNvdXJjZS5cbiAgICAgIFRoZSBrZXkgbmVlZHMgdG8gYmUgaW4gdGhlIHNhbWUgcmVnaW9uIGFzIHdoZXJlIHRoZSBjb21wdXRlIHJlc291cmNlIGlzXG4gICAgICBjcmVhdGVkLiBTZWVcbiAgICAgIGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZG9jcy9nZW5lcmFsL2NtZWsgZm9yIG1vcmVcbiAgICAgIGRldGFpbHMuIElmIHRoaXMgaXMgc2V0LCB0aGVuIGFsbCBjcmVhdGVkIENhY2hlZENvbnRlbnQgb2JqZWN0c1xuICAgICAgd2lsbCBiZSBlbmNyeXB0ZWQgd2l0aCB0aGUgcHJvdmlkZWQgZW5jcnlwdGlvbiBrZXkuXG4gICAgICBBbGxvd2VkIGZvcm1hdHM6IHByb2plY3RzL3twcm9qZWN0fS9sb2NhdGlvbnMve2xvY2F0aW9ufS9rZXlSaW5ncy97a2V5X3Jpbmd9L2NyeXB0b0tleXMve2NyeXB0b19rZXl9XG4gICAgICAgKi9cbiAga21zS2V5TmFtZT86IHN0cmluZztcbn1cblxuLyoqIFBhcmFtZXRlcnMgZm9yIGNhY2hlcy5jcmVhdGUgbWV0aG9kLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENyZWF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzIHtcbiAgLyoqIElEIG9mIHRoZSBtb2RlbCB0byB1c2UuIEV4YW1wbGU6IGdlbWluaS0yLjAtZmxhc2ggKi9cbiAgbW9kZWw6IHN0cmluZztcbiAgLyoqIENvbmZpZ3VyYXRpb24gdGhhdCBjb250YWlucyBvcHRpb25hbCBwYXJhbWV0ZXJzLlxuICAgKi9cbiAgY29uZmlnPzogQ3JlYXRlQ2FjaGVkQ29udGVudENvbmZpZztcbn1cblxuLyoqIE1ldGFkYXRhIG9uIHRoZSB1c2FnZSBvZiB0aGUgY2FjaGVkIGNvbnRlbnQuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ2FjaGVkQ29udGVudFVzYWdlTWV0YWRhdGEge1xuICAvKiogRHVyYXRpb24gb2YgYXVkaW8gaW4gc2Vjb25kcy4gVGhpcyBmaWVsZCBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG4gIGF1ZGlvRHVyYXRpb25TZWNvbmRzPzogbnVtYmVyO1xuICAvKiogTnVtYmVyIG9mIGltYWdlcy4gVGhpcyBmaWVsZCBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG4gIGltYWdlQ291bnQ/OiBudW1iZXI7XG4gIC8qKiBOdW1iZXIgb2YgdGV4dCBjaGFyYWN0ZXJzLiBUaGlzIGZpZWxkIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4gKi9cbiAgdGV4dENvdW50PzogbnVtYmVyO1xuICAvKiogVG90YWwgbnVtYmVyIG9mIHRva2VucyB0aGF0IHRoZSBjYWNoZWQgY29udGVudCBjb25zdW1lcy4gKi9cbiAgdG90YWxUb2tlbkNvdW50PzogbnVtYmVyO1xuICAvKiogRHVyYXRpb24gb2YgdmlkZW8gaW4gc2Vjb25kcy4gVGhpcyBmaWVsZCBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuICovXG4gIHZpZGVvRHVyYXRpb25TZWNvbmRzPzogbnVtYmVyO1xufVxuXG4vKiogQSByZXNvdXJjZSB1c2VkIGluIExMTSBxdWVyaWVzIGZvciB1c2VycyB0byBleHBsaWNpdGx5IHNwZWNpZnkgd2hhdCB0byBjYWNoZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDYWNoZWRDb250ZW50IHtcbiAgLyoqIFRoZSBzZXJ2ZXItZ2VuZXJhdGVkIHJlc291cmNlIG5hbWUgb2YgdGhlIGNhY2hlZCBjb250ZW50LiAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKiogVGhlIHVzZXItZ2VuZXJhdGVkIG1lYW5pbmdmdWwgZGlzcGxheSBuYW1lIG9mIHRoZSBjYWNoZWQgY29udGVudC4gKi9cbiAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gIC8qKiBUaGUgbmFtZSBvZiB0aGUgcHVibGlzaGVyIG1vZGVsIHRvIHVzZSBmb3IgY2FjaGVkIGNvbnRlbnQuICovXG4gIG1vZGVsPzogc3RyaW5nO1xuICAvKiogQ3JlYXRpb24gdGltZSBvZiB0aGUgY2FjaGUgZW50cnkuICovXG4gIGNyZWF0ZVRpbWU/OiBzdHJpbmc7XG4gIC8qKiBXaGVuIHRoZSBjYWNoZSBlbnRyeSB3YXMgbGFzdCB1cGRhdGVkIGluIFVUQyB0aW1lLiAqL1xuICB1cGRhdGVUaW1lPzogc3RyaW5nO1xuICAvKiogRXhwaXJhdGlvbiB0aW1lIG9mIHRoZSBjYWNoZWQgY29udGVudC4gKi9cbiAgZXhwaXJlVGltZT86IHN0cmluZztcbiAgLyoqIE1ldGFkYXRhIG9uIHRoZSB1c2FnZSBvZiB0aGUgY2FjaGVkIGNvbnRlbnQuICovXG4gIHVzYWdlTWV0YWRhdGE/OiBDYWNoZWRDb250ZW50VXNhZ2VNZXRhZGF0YTtcbn1cblxuLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIGNhY2hlcy5nZXQgbWV0aG9kLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdldENhY2hlZENvbnRlbnRDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIEFib3J0IHNpZ25hbCB3aGljaCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3QuXG5cbiAgTk9URTogQWJvcnRTaWduYWwgaXMgYSBjbGllbnQtb25seSBvcGVyYXRpb24uIFVzaW5nIGl0IHRvIGNhbmNlbCBhblxuICBvcGVyYXRpb24gd2lsbCBub3QgY2FuY2VsIHRoZSByZXF1ZXN0IGluIHRoZSBzZXJ2aWNlLiBZb3Ugd2lsbCBzdGlsbFxuICBiZSBjaGFyZ2VkIHVzYWdlIGZvciBhbnkgYXBwbGljYWJsZSBvcGVyYXRpb25zLlxuICAgICAgICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciBjYWNoZXMuZ2V0IG1ldGhvZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZXRDYWNoZWRDb250ZW50UGFyYW1ldGVycyB7XG4gIC8qKiBUaGUgc2VydmVyLWdlbmVyYXRlZCByZXNvdXJjZSBuYW1lIG9mIHRoZSBjYWNoZWQgY29udGVudC5cbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIHRoZSByZXF1ZXN0LlxuICAgKi9cbiAgY29uZmlnPzogR2V0Q2FjaGVkQ29udGVudENvbmZpZztcbn1cblxuLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIGNhY2hlcy5kZWxldGUgbWV0aG9kLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIERlbGV0ZUNhY2hlZENvbnRlbnRDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIEFib3J0IHNpZ25hbCB3aGljaCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3QuXG5cbiAgTk9URTogQWJvcnRTaWduYWwgaXMgYSBjbGllbnQtb25seSBvcGVyYXRpb24uIFVzaW5nIGl0IHRvIGNhbmNlbCBhblxuICBvcGVyYXRpb24gd2lsbCBub3QgY2FuY2VsIHRoZSByZXF1ZXN0IGluIHRoZSBzZXJ2aWNlLiBZb3Ugd2lsbCBzdGlsbFxuICBiZSBjaGFyZ2VkIHVzYWdlIGZvciBhbnkgYXBwbGljYWJsZSBvcGVyYXRpb25zLlxuICAgICAgICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciBjYWNoZXMuZGVsZXRlIG1ldGhvZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBEZWxldGVDYWNoZWRDb250ZW50UGFyYW1ldGVycyB7XG4gIC8qKiBUaGUgc2VydmVyLWdlbmVyYXRlZCByZXNvdXJjZSBuYW1lIG9mIHRoZSBjYWNoZWQgY29udGVudC5cbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIHRoZSByZXF1ZXN0LlxuICAgKi9cbiAgY29uZmlnPzogRGVsZXRlQ2FjaGVkQ29udGVudENvbmZpZztcbn1cblxuLyoqIEVtcHR5IHJlc3BvbnNlIGZvciBjYWNoZXMuZGVsZXRlIG1ldGhvZC4gKi9cbmV4cG9ydCBjbGFzcyBEZWxldGVDYWNoZWRDb250ZW50UmVzcG9uc2Uge1xuICAvKiogVXNlZCB0byByZXRhaW4gdGhlIGZ1bGwgSFRUUCByZXNwb25zZS4gKi9cbiAgc2RrSHR0cFJlc3BvbnNlPzogSHR0cFJlc3BvbnNlO1xufVxuXG4vKiogT3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgY2FjaGVzLnVwZGF0ZSBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVXBkYXRlQ2FjaGVkQ29udGVudENvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogQWJvcnQgc2lnbmFsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgcmVxdWVzdC5cblxuICBOT1RFOiBBYm9ydFNpZ25hbCBpcyBhIGNsaWVudC1vbmx5IG9wZXJhdGlvbi4gVXNpbmcgaXQgdG8gY2FuY2VsIGFuXG4gIG9wZXJhdGlvbiB3aWxsIG5vdCBjYW5jZWwgdGhlIHJlcXVlc3QgaW4gdGhlIHNlcnZpY2UuIFlvdSB3aWxsIHN0aWxsXG4gIGJlIGNoYXJnZWQgdXNhZ2UgZm9yIGFueSBhcHBsaWNhYmxlIG9wZXJhdGlvbnMuXG4gICAgICAgKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbiAgLyoqIFRoZSBUVEwgZm9yIHRoaXMgcmVzb3VyY2UuIFRoZSBleHBpcmF0aW9uIHRpbWUgaXMgY29tcHV0ZWQ6IG5vdyArIFRUTC4gSXQgaXMgYSBkdXJhdGlvbiBzdHJpbmcsIHdpdGggdXAgdG8gbmluZSBmcmFjdGlvbmFsIGRpZ2l0cywgdGVybWluYXRlZCBieSAncycuIEV4YW1wbGU6IFwiMy41c1wiLiAqL1xuICB0dGw/OiBzdHJpbmc7XG4gIC8qKiBUaW1lc3RhbXAgb2Ygd2hlbiB0aGlzIHJlc291cmNlIGlzIGNvbnNpZGVyZWQgZXhwaXJlZC4gVXNlcyBSRkMgMzMzOSBmb3JtYXQsIEV4YW1wbGU6IDIwMTQtMTAtMDJUMTU6MDE6MjNaLiAqL1xuICBleHBpcmVUaW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVXBkYXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnMge1xuICAvKiogVGhlIHNlcnZlci1nZW5lcmF0ZWQgcmVzb3VyY2UgbmFtZSBvZiB0aGUgY2FjaGVkIGNvbnRlbnQuXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKiBDb25maWd1cmF0aW9uIHRoYXQgY29udGFpbnMgb3B0aW9uYWwgcGFyYW1ldGVycy5cbiAgICovXG4gIGNvbmZpZz86IFVwZGF0ZUNhY2hlZENvbnRlbnRDb25maWc7XG59XG5cbi8qKiBDb25maWcgZm9yIGNhY2hlcy5saXN0IG1ldGhvZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXN0Q2FjaGVkQ29udGVudHNDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIEFib3J0IHNpZ25hbCB3aGljaCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3QuXG5cbiAgTk9URTogQWJvcnRTaWduYWwgaXMgYSBjbGllbnQtb25seSBvcGVyYXRpb24uIFVzaW5nIGl0IHRvIGNhbmNlbCBhblxuICBvcGVyYXRpb24gd2lsbCBub3QgY2FuY2VsIHRoZSByZXF1ZXN0IGluIHRoZSBzZXJ2aWNlLiBZb3Ugd2lsbCBzdGlsbFxuICBiZSBjaGFyZ2VkIHVzYWdlIGZvciBhbnkgYXBwbGljYWJsZSBvcGVyYXRpb25zLlxuICAgICAgICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG4gIHBhZ2VTaXplPzogbnVtYmVyO1xuICBwYWdlVG9rZW4/OiBzdHJpbmc7XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciBjYWNoZXMubGlzdCBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGlzdENhY2hlZENvbnRlbnRzUGFyYW1ldGVycyB7XG4gIC8qKiBDb25maWd1cmF0aW9uIHRoYXQgY29udGFpbnMgb3B0aW9uYWwgcGFyYW1ldGVycy5cbiAgICovXG4gIGNvbmZpZz86IExpc3RDYWNoZWRDb250ZW50c0NvbmZpZztcbn1cblxuZXhwb3J0IGNsYXNzIExpc3RDYWNoZWRDb250ZW50c1Jlc3BvbnNlIHtcbiAgLyoqIFVzZWQgdG8gcmV0YWluIHRoZSBmdWxsIEhUVFAgcmVzcG9uc2UuICovXG4gIHNka0h0dHBSZXNwb25zZT86IEh0dHBSZXNwb25zZTtcbiAgbmV4dFBhZ2VUb2tlbj86IHN0cmluZztcbiAgLyoqIExpc3Qgb2YgY2FjaGVkIGNvbnRlbnRzLlxuICAgKi9cbiAgY2FjaGVkQ29udGVudHM/OiBDYWNoZWRDb250ZW50W107XG59XG5cbi8qKiBPcHRpb25hbCBDb25maWcuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR2V0RG9jdW1lbnRDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIEFib3J0IHNpZ25hbCB3aGljaCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3QuXG5cbiAgTk9URTogQWJvcnRTaWduYWwgaXMgYSBjbGllbnQtb25seSBvcGVyYXRpb24uIFVzaW5nIGl0IHRvIGNhbmNlbCBhblxuICBvcGVyYXRpb24gd2lsbCBub3QgY2FuY2VsIHRoZSByZXF1ZXN0IGluIHRoZSBzZXJ2aWNlLiBZb3Ugd2lsbCBzdGlsbFxuICBiZSBjaGFyZ2VkIHVzYWdlIGZvciBhbnkgYXBwbGljYWJsZSBvcGVyYXRpb25zLlxuICAgICAgICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciBkb2N1bWVudHMuZ2V0LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdldERvY3VtZW50UGFyYW1ldGVycyB7XG4gIC8qKiBUaGUgcmVzb3VyY2UgbmFtZSBvZiB0aGUgRG9jdW1lbnQuXG4gICAgRXhhbXBsZTogZmlsZVNlYXJjaFN0b3Jlcy9maWxlLXNlYXJjaC1zdG9yZS1mb28vZG9jdW1lbnRzL2RvY3VtZW50cy1iYXIgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgdGhlIHJlcXVlc3QuICovXG4gIGNvbmZpZz86IEdldERvY3VtZW50Q29uZmlnO1xufVxuXG4vKiogVXNlciBwcm92aWRlZCBzdHJpbmcgdmFsdWVzIGFzc2lnbmVkIHRvIGEgc2luZ2xlIG1ldGFkYXRhIGtleS4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBWZXJ0ZXggQUkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgU3RyaW5nTGlzdCB7XG4gIC8qKiBUaGUgc3RyaW5nIHZhbHVlcyBvZiB0aGUgbWV0YWRhdGEgdG8gc3RvcmUuICovXG4gIHZhbHVlcz86IHN0cmluZ1tdO1xufVxuXG4vKiogVXNlciBwcm92aWRlZCBtZXRhZGF0YSBzdG9yZWQgYXMga2V5LXZhbHVlIHBhaXJzLiBUaGlzIGRhdGEgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGluIFZlcnRleCBBSS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDdXN0b21NZXRhZGF0YSB7XG4gIC8qKiBSZXF1aXJlZC4gVGhlIGtleSBvZiB0aGUgbWV0YWRhdGEgdG8gc3RvcmUuICovXG4gIGtleT86IHN0cmluZztcbiAgLyoqIFRoZSBudW1lcmljIHZhbHVlIG9mIHRoZSBtZXRhZGF0YSB0byBzdG9yZS4gKi9cbiAgbnVtZXJpY1ZhbHVlPzogbnVtYmVyO1xuICAvKiogVGhlIFN0cmluZ0xpc3QgdmFsdWUgb2YgdGhlIG1ldGFkYXRhIHRvIHN0b3JlLiAqL1xuICBzdHJpbmdMaXN0VmFsdWU/OiBTdHJpbmdMaXN0O1xuICAvKiogVGhlIHN0cmluZyB2YWx1ZSBvZiB0aGUgbWV0YWRhdGEgdG8gc3RvcmUuICovXG4gIHN0cmluZ1ZhbHVlPzogc3RyaW5nO1xufVxuXG4vKiogQSBEb2N1bWVudCBpcyBhIGNvbGxlY3Rpb24gb2YgQ2h1bmtzLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIERvY3VtZW50IHtcbiAgLyoqIFRoZSByZXNvdXJjZSBuYW1lIG9mIHRoZSBEb2N1bWVudC5cbiAgICAgIEV4YW1wbGU6IGZpbGVTZWFyY2hTdG9yZXMvZmlsZS1zZWFyY2gtc3RvcmUtZm9vL2RvY3VtZW50cy9kb2N1bWVudHMtYmFyICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKiBUaGUgaHVtYW4tcmVhZGFibGUgZGlzcGxheSBuYW1lIGZvciB0aGUgRG9jdW1lbnQuICovXG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xuICAvKiogVGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIERvY3VtZW50LiAqL1xuICBzdGF0ZT86IERvY3VtZW50U3RhdGU7XG4gIC8qKiBUaGUgc2l6ZSBvZiB0aGUgRG9jdW1lbnQgaW4gYnl0ZXMuICovXG4gIHNpemVCeXRlcz86IHN0cmluZztcbiAgLyoqIFRoZSBNSU1FIHR5cGUgb2YgdGhlIERvY3VtZW50LiAqL1xuICBtaW1lVHlwZT86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgVGltZXN0YW1wIG9mIHdoZW4gdGhlIGBEb2N1bWVudGAgd2FzIGNyZWF0ZWQuICovXG4gIGNyZWF0ZVRpbWU/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbC4gVXNlciBwcm92aWRlZCBjdXN0b20gbWV0YWRhdGEgc3RvcmVkIGFzIGtleS12YWx1ZSBwYWlycyB1c2VkIGZvciBxdWVyeWluZy4gQSBgRG9jdW1lbnRgIGNhbiBoYXZlIGEgbWF4aW11bSBvZiAyMCBgQ3VzdG9tTWV0YWRhdGFgLiAqL1xuICBjdXN0b21NZXRhZGF0YT86IEN1c3RvbU1ldGFkYXRhW107XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIFRpbWVzdGFtcCBvZiB3aGVuIHRoZSBgRG9jdW1lbnRgIHdhcyBsYXN0IHVwZGF0ZWQuICovXG4gIHVwZGF0ZVRpbWU/OiBzdHJpbmc7XG59XG5cbi8qKiBDb25maWcgZm9yIG9wdGlvbmFsIHBhcmFtZXRlcnMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRGVsZXRlRG9jdW1lbnRDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIEFib3J0IHNpZ25hbCB3aGljaCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3QuXG5cbiAgTk9URTogQWJvcnRTaWduYWwgaXMgYSBjbGllbnQtb25seSBvcGVyYXRpb24uIFVzaW5nIGl0IHRvIGNhbmNlbCBhblxuICBvcGVyYXRpb24gd2lsbCBub3QgY2FuY2VsIHRoZSByZXF1ZXN0IGluIHRoZSBzZXJ2aWNlLiBZb3Ugd2lsbCBzdGlsbFxuICBiZSBjaGFyZ2VkIHVzYWdlIGZvciBhbnkgYXBwbGljYWJsZSBvcGVyYXRpb25zLlxuICAgICAgICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG4gIC8qKiBJZiBzZXQgdG8gdHJ1ZSwgYW55IGBDaHVua2BzIGFuZCBvYmplY3RzIHJlbGF0ZWQgdG8gdGhpcyBgRG9jdW1lbnRgIHdpbGxcbiAgICAgIGFsc28gYmUgZGVsZXRlZC5cbiAgICAgICAqL1xuICBmb3JjZT86IGJvb2xlYW47XG59XG5cbi8qKiBDb25maWcgZm9yIGRvY3VtZW50cy5kZWxldGUgcGFyYW1ldGVycy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBEZWxldGVEb2N1bWVudFBhcmFtZXRlcnMge1xuICAvKiogVGhlIHJlc291cmNlIG5hbWUgb2YgdGhlIERvY3VtZW50LlxuICAgIEV4YW1wbGU6IGZpbGVTZWFyY2hTdG9yZXMvZmlsZS1zZWFyY2gtc3RvcmUtZm9vL2RvY3VtZW50cy9kb2N1bWVudHMtYmFyICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIHRoZSByZXF1ZXN0LiAqL1xuICBjb25maWc/OiBEZWxldGVEb2N1bWVudENvbmZpZztcbn1cblxuLyoqIENvbmZpZyBmb3Igb3B0aW9uYWwgcGFyYW1ldGVycy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXN0RG9jdW1lbnRzQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIC8qKiBBYm9ydCBzaWduYWwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSByZXF1ZXN0LlxuXG4gIE5PVEU6IEFib3J0U2lnbmFsIGlzIGEgY2xpZW50LW9ubHkgb3BlcmF0aW9uLiBVc2luZyBpdCB0byBjYW5jZWwgYW5cbiAgb3BlcmF0aW9uIHdpbGwgbm90IGNhbmNlbCB0aGUgcmVxdWVzdCBpbiB0aGUgc2VydmljZS4gWW91IHdpbGwgc3RpbGxcbiAgYmUgY2hhcmdlZCB1c2FnZSBmb3IgYW55IGFwcGxpY2FibGUgb3BlcmF0aW9ucy5cbiAgICAgICAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuICBwYWdlU2l6ZT86IG51bWJlcjtcbiAgcGFnZVRva2VuPzogc3RyaW5nO1xufVxuXG4vKiogQ29uZmlnIGZvciBkb2N1bWVudHMubGlzdCBwYXJhbWV0ZXJzLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpc3REb2N1bWVudHNQYXJhbWV0ZXJzIHtcbiAgLyoqIFRoZSByZXNvdXJjZSBuYW1lIG9mIHRoZSBGaWxlU2VhcmNoU3RvcmVzLiBFeGFtcGxlOiBgZmlsZVNlYXJjaFN0b3JlL2ZpbGUtc2VhcmNoLXN0b3JlLWZvb2AgKi9cbiAgcGFyZW50OiBzdHJpbmc7XG4gIGNvbmZpZz86IExpc3REb2N1bWVudHNDb25maWc7XG59XG5cbi8qKiBDb25maWcgZm9yIGRvY3VtZW50cy5saXN0IHJldHVybiB2YWx1ZS4gKi9cbmV4cG9ydCBjbGFzcyBMaXN0RG9jdW1lbnRzUmVzcG9uc2Uge1xuICAvKiogVXNlZCB0byByZXRhaW4gdGhlIGZ1bGwgSFRUUCByZXNwb25zZS4gKi9cbiAgc2RrSHR0cFJlc3BvbnNlPzogSHR0cFJlc3BvbnNlO1xuICAvKiogQSB0b2tlbiwgd2hpY2ggY2FuIGJlIHNlbnQgYXMgYHBhZ2VfdG9rZW5gIHRvIHJldHJpZXZlIHRoZSBuZXh0IHBhZ2UuIElmIHRoaXMgZmllbGQgaXMgb21pdHRlZCwgdGhlcmUgYXJlIG5vIG1vcmUgcGFnZXMuICovXG4gIG5leHRQYWdlVG9rZW4/OiBzdHJpbmc7XG4gIC8qKiBUaGUgcmV0dXJuZWQgYERvY3VtZW50YHMuICovXG4gIGRvY3VtZW50cz86IERvY3VtZW50W107XG59XG5cbi8qKiBPcHRpb25hbCBwYXJhbWV0ZXJzIGZvciBjcmVhdGluZyBhIGZpbGUgc2VhcmNoIHN0b3JlLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENyZWF0ZUZpbGVTZWFyY2hTdG9yZUNvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogQWJvcnQgc2lnbmFsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgcmVxdWVzdC5cblxuICBOT1RFOiBBYm9ydFNpZ25hbCBpcyBhIGNsaWVudC1vbmx5IG9wZXJhdGlvbi4gVXNpbmcgaXQgdG8gY2FuY2VsIGFuXG4gIG9wZXJhdGlvbiB3aWxsIG5vdCBjYW5jZWwgdGhlIHJlcXVlc3QgaW4gdGhlIHNlcnZpY2UuIFlvdSB3aWxsIHN0aWxsXG4gIGJlIGNoYXJnZWQgdXNhZ2UgZm9yIGFueSBhcHBsaWNhYmxlIG9wZXJhdGlvbnMuXG4gICAgICAgKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbiAgLyoqIFRoZSBodW1hbi1yZWFkYWJsZSBkaXNwbGF5IG5hbWUgZm9yIHRoZSBmaWxlIHNlYXJjaCBzdG9yZS5cbiAgICovXG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xufVxuXG4vKiogQ29uZmlnIGZvciBmaWxlX3NlYXJjaF9zdG9yZXMuY3JlYXRlIHBhcmFtZXRlcnMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ3JlYXRlRmlsZVNlYXJjaFN0b3JlUGFyYW1ldGVycyB7XG4gIC8qKiBPcHRpb25hbCBwYXJhbWV0ZXJzIGZvciBjcmVhdGluZyBhIGZpbGUgc2VhcmNoIHN0b3JlLlxuICAgKi9cbiAgY29uZmlnPzogQ3JlYXRlRmlsZVNlYXJjaFN0b3JlQ29uZmlnO1xufVxuXG4vKiogQSBjb2xsZWN0aW9uIG9mIERvY3VtZW50cy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBGaWxlU2VhcmNoU3RvcmUge1xuICAvKiogVGhlIHJlc291cmNlIG5hbWUgb2YgdGhlIEZpbGVTZWFyY2hTdG9yZS4gRXhhbXBsZTogYGZpbGVTZWFyY2hTdG9yZXMvbXktZmlsZS1zZWFyY2gtc3RvcmUtMTIzYCAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKiogVGhlIGh1bWFuLXJlYWRhYmxlIGRpc3BsYXkgbmFtZSBmb3IgdGhlIEZpbGVTZWFyY2hTdG9yZS4gKi9cbiAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gIC8qKiBUaGUgVGltZXN0YW1wIG9mIHdoZW4gdGhlIEZpbGVTZWFyY2hTdG9yZSB3YXMgY3JlYXRlZC4gKi9cbiAgY3JlYXRlVGltZT86IHN0cmluZztcbiAgLyoqIFRoZSBUaW1lc3RhbXAgb2Ygd2hlbiB0aGUgRmlsZVNlYXJjaFN0b3JlIHdhcyBsYXN0IHVwZGF0ZWQuICovXG4gIHVwZGF0ZVRpbWU/OiBzdHJpbmc7XG4gIC8qKiBUaGUgbnVtYmVyIG9mIGRvY3VtZW50cyBpbiB0aGUgRmlsZVNlYXJjaFN0b3JlIHRoYXQgYXJlIGFjdGl2ZSBhbmQgcmVhZHkgZm9yIHJldHJpZXZhbC4gKi9cbiAgYWN0aXZlRG9jdW1lbnRzQ291bnQ/OiBzdHJpbmc7XG4gIC8qKiBUaGUgbnVtYmVyIG9mIGRvY3VtZW50cyBpbiB0aGUgRmlsZVNlYXJjaFN0b3JlIHRoYXQgYXJlIGJlaW5nIHByb2Nlc3NlZC4gKi9cbiAgcGVuZGluZ0RvY3VtZW50c0NvdW50Pzogc3RyaW5nO1xuICAvKiogVGhlIG51bWJlciBvZiBkb2N1bWVudHMgaW4gdGhlIEZpbGVTZWFyY2hTdG9yZSB0aGF0IGhhdmUgZmFpbGVkIHByb2Nlc3NpbmcuICovXG4gIGZhaWxlZERvY3VtZW50c0NvdW50Pzogc3RyaW5nO1xuICAvKiogVGhlIHNpemUgb2YgcmF3IGJ5dGVzIGluZ2VzdGVkIGludG8gdGhlIEZpbGVTZWFyY2hTdG9yZS4gVGhpcyBpcyB0aGVcbiAgICAgIHRvdGFsIHNpemUgb2YgYWxsIHRoZSBkb2N1bWVudHMgaW4gdGhlIEZpbGVTZWFyY2hTdG9yZS4gKi9cbiAgc2l6ZUJ5dGVzPzogc3RyaW5nO1xufVxuXG4vKiogT3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgZ2V0dGluZyBhIEZpbGVTZWFyY2hTdG9yZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZXRGaWxlU2VhcmNoU3RvcmVDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIEFib3J0IHNpZ25hbCB3aGljaCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3QuXG5cbiAgTk9URTogQWJvcnRTaWduYWwgaXMgYSBjbGllbnQtb25seSBvcGVyYXRpb24uIFVzaW5nIGl0IHRvIGNhbmNlbCBhblxuICBvcGVyYXRpb24gd2lsbCBub3QgY2FuY2VsIHRoZSByZXF1ZXN0IGluIHRoZSBzZXJ2aWNlLiBZb3Ugd2lsbCBzdGlsbFxuICBiZSBjaGFyZ2VkIHVzYWdlIGZvciBhbnkgYXBwbGljYWJsZSBvcGVyYXRpb25zLlxuICAgICAgICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG59XG5cbi8qKiBDb25maWcgZm9yIGZpbGVfc2VhcmNoX3N0b3Jlcy5nZXQgcGFyYW1ldGVycy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZXRGaWxlU2VhcmNoU3RvcmVQYXJhbWV0ZXJzIHtcbiAgLyoqIFRoZSByZXNvdXJjZSBuYW1lIG9mIHRoZSBGaWxlU2VhcmNoU3RvcmUuIEV4YW1wbGU6IGBmaWxlU2VhcmNoU3RvcmVzL215LWZpbGUtc2VhcmNoLXN0b3JlLTEyM2AgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgdGhlIHJlcXVlc3QuICovXG4gIGNvbmZpZz86IEdldEZpbGVTZWFyY2hTdG9yZUNvbmZpZztcbn1cblxuLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIGRlbGV0aW5nIGEgRmlsZVNlYXJjaFN0b3JlLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIERlbGV0ZUZpbGVTZWFyY2hTdG9yZUNvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogQWJvcnQgc2lnbmFsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgcmVxdWVzdC5cblxuICBOT1RFOiBBYm9ydFNpZ25hbCBpcyBhIGNsaWVudC1vbmx5IG9wZXJhdGlvbi4gVXNpbmcgaXQgdG8gY2FuY2VsIGFuXG4gIG9wZXJhdGlvbiB3aWxsIG5vdCBjYW5jZWwgdGhlIHJlcXVlc3QgaW4gdGhlIHNlcnZpY2UuIFlvdSB3aWxsIHN0aWxsXG4gIGJlIGNoYXJnZWQgdXNhZ2UgZm9yIGFueSBhcHBsaWNhYmxlIG9wZXJhdGlvbnMuXG4gICAgICAgKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbiAgLyoqIElmIHNldCB0byB0cnVlLCBhbnkgRG9jdW1lbnRzIGFuZCBvYmplY3RzIHJlbGF0ZWQgdG8gdGhpcyBGaWxlU2VhcmNoU3RvcmUgd2lsbCBhbHNvIGJlIGRlbGV0ZWQuXG4gICAgICBJZiBmYWxzZSAodGhlIGRlZmF1bHQpLCBhIEZBSUxFRF9QUkVDT05ESVRJT04gZXJyb3Igd2lsbCBiZSByZXR1cm5lZCBpZlxuICAgICAgdGhlIEZpbGVTZWFyY2hTdG9yZSBjb250YWlucyBhbnkgRG9jdW1lbnRzLlxuICAgICAgICovXG4gIGZvcmNlPzogYm9vbGVhbjtcbn1cblxuLyoqIENvbmZpZyBmb3IgZmlsZV9zZWFyY2hfc3RvcmVzLmRlbGV0ZSBwYXJhbWV0ZXJzLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIERlbGV0ZUZpbGVTZWFyY2hTdG9yZVBhcmFtZXRlcnMge1xuICAvKiogVGhlIHJlc291cmNlIG5hbWUgb2YgdGhlIEZpbGVTZWFyY2hTdG9yZS4gRXhhbXBsZTogYGZpbGVTZWFyY2hTdG9yZXMvbXktZmlsZS1zZWFyY2gtc3RvcmUtMTIzYCAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbCBwYXJhbWV0ZXJzIGZvciB0aGUgcmVxdWVzdC4gKi9cbiAgY29uZmlnPzogRGVsZXRlRmlsZVNlYXJjaFN0b3JlQ29uZmlnO1xufVxuXG4vKiogT3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgbGlzdGluZyBGaWxlU2VhcmNoU3RvcmUuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGlzdEZpbGVTZWFyY2hTdG9yZXNDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIEFib3J0IHNpZ25hbCB3aGljaCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3QuXG5cbiAgTk9URTogQWJvcnRTaWduYWwgaXMgYSBjbGllbnQtb25seSBvcGVyYXRpb24uIFVzaW5nIGl0IHRvIGNhbmNlbCBhblxuICBvcGVyYXRpb24gd2lsbCBub3QgY2FuY2VsIHRoZSByZXF1ZXN0IGluIHRoZSBzZXJ2aWNlLiBZb3Ugd2lsbCBzdGlsbFxuICBiZSBjaGFyZ2VkIHVzYWdlIGZvciBhbnkgYXBwbGljYWJsZSBvcGVyYXRpb25zLlxuICAgICAgICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG4gIHBhZ2VTaXplPzogbnVtYmVyO1xuICBwYWdlVG9rZW4/OiBzdHJpbmc7XG59XG5cbi8qKiBDb25maWcgZm9yIGZpbGVfc2VhcmNoX3N0b3Jlcy5saXN0IHBhcmFtZXRlcnMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGlzdEZpbGVTZWFyY2hTdG9yZXNQYXJhbWV0ZXJzIHtcbiAgLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIHRoZSBsaXN0IHJlcXVlc3QuICovXG4gIGNvbmZpZz86IExpc3RGaWxlU2VhcmNoU3RvcmVzQ29uZmlnO1xufVxuXG4vKiogQ29uZmlnIGZvciBmaWxlX3NlYXJjaF9zdG9yZXMubGlzdCByZXR1cm4gdmFsdWUuICovXG5leHBvcnQgY2xhc3MgTGlzdEZpbGVTZWFyY2hTdG9yZXNSZXNwb25zZSB7XG4gIC8qKiBVc2VkIHRvIHJldGFpbiB0aGUgZnVsbCBIVFRQIHJlc3BvbnNlLiAqL1xuICBzZGtIdHRwUmVzcG9uc2U/OiBIdHRwUmVzcG9uc2U7XG4gIG5leHRQYWdlVG9rZW4/OiBzdHJpbmc7XG4gIC8qKiBUaGUgcmV0dXJuZWQgZmlsZSBzZWFyY2ggc3RvcmVzLiAqL1xuICBmaWxlU2VhcmNoU3RvcmVzPzogRmlsZVNlYXJjaFN0b3JlW107XG59XG5cbi8qKiBDb25maWd1cmF0aW9uIGZvciBhIHdoaXRlIHNwYWNlIGNodW5raW5nIGFsZ29yaXRobS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBXaGl0ZVNwYWNlQ29uZmlnIHtcbiAgLyoqIE1heGltdW0gbnVtYmVyIG9mIHRva2VucyBwZXIgY2h1bmsuICovXG4gIG1heFRva2Vuc1BlckNodW5rPzogbnVtYmVyO1xuICAvKiogTWF4aW11bSBudW1iZXIgb2Ygb3ZlcmxhcHBpbmcgdG9rZW5zIGJldHdlZW4gdHdvIGFkamFjZW50IGNodW5rcy4gKi9cbiAgbWF4T3ZlcmxhcFRva2Vucz86IG51bWJlcjtcbn1cblxuLyoqIENvbmZpZyBmb3IgdGVsbGluZyB0aGUgc2VydmljZSBob3cgdG8gY2h1bmsgdGhlIGZpbGUuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ2h1bmtpbmdDb25maWcge1xuICAvKiogV2hpdGUgc3BhY2UgY2h1bmtpbmcgY29uZmlndXJhdGlvbi4gKi9cbiAgd2hpdGVTcGFjZUNvbmZpZz86IFdoaXRlU3BhY2VDb25maWc7XG59XG5cbi8qKiBPcHRpb25hbCBwYXJhbWV0ZXJzIGZvciB1cGxvYWRpbmcgYSBmaWxlIHRvIGEgRmlsZVNlYXJjaFN0b3JlLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIC8qKiBBYm9ydCBzaWduYWwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSByZXF1ZXN0LlxuXG4gIE5PVEU6IEFib3J0U2lnbmFsIGlzIGEgY2xpZW50LW9ubHkgb3BlcmF0aW9uLiBVc2luZyBpdCB0byBjYW5jZWwgYW5cbiAgb3BlcmF0aW9uIHdpbGwgbm90IGNhbmNlbCB0aGUgcmVxdWVzdCBpbiB0aGUgc2VydmljZS4gWW91IHdpbGwgc3RpbGxcbiAgYmUgY2hhcmdlZCB1c2FnZSBmb3IgYW55IGFwcGxpY2FibGUgb3BlcmF0aW9ucy5cbiAgICAgICAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuICAvKiogTUlNRSB0eXBlIG9mIHRoZSBmaWxlIHRvIGJlIHVwbG9hZGVkLiBJZiBub3QgcHJvdmlkZWQsIGl0IHdpbGwgYmUgaW5mZXJyZWQgZnJvbSB0aGUgZmlsZSBleHRlbnNpb24uICovXG4gIG1pbWVUeXBlPzogc3RyaW5nO1xuICAvKiogRGlzcGxheSBuYW1lIG9mIHRoZSBjcmVhdGVkIGRvY3VtZW50LiAqL1xuICBkaXNwbGF5TmFtZT86IHN0cmluZztcbiAgLyoqIFVzZXIgcHJvdmlkZWQgY3VzdG9tIG1ldGFkYXRhIHN0b3JlZCBhcyBrZXktdmFsdWUgcGFpcnMgdXNlZCBmb3IgcXVlcnlpbmcuICovXG4gIGN1c3RvbU1ldGFkYXRhPzogQ3VzdG9tTWV0YWRhdGFbXTtcbiAgLyoqIENvbmZpZyBmb3IgdGVsbGluZyB0aGUgc2VydmljZSBob3cgdG8gY2h1bmsgdGhlIGZpbGUuICovXG4gIGNodW5raW5nQ29uZmlnPzogQ2h1bmtpbmdDb25maWc7XG59XG5cbi8qKiBHZW5lcmF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yIHRoZSBwcml2YXRlIF91cGxvYWRfdG9fZmlsZV9zZWFyY2hfc3RvcmUgbWV0aG9kLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlUGFyYW1ldGVycyB7XG4gIC8qKiBUaGUgcmVzb3VyY2UgbmFtZSBvZiB0aGUgRmlsZVNlYXJjaFN0b3JlLiBFeGFtcGxlOiBgZmlsZVNlYXJjaFN0b3Jlcy9teS1maWxlLXNlYXJjaC1zdG9yZS0xMjNgICovXG4gIGZpbGVTZWFyY2hTdG9yZU5hbWU6IHN0cmluZztcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbi4gKi9cbiAgY29uZmlnPzogVXBsb2FkVG9GaWxlU2VhcmNoU3RvcmVDb25maWc7XG59XG5cbi8qKiBSZXNwb25zZSBmb3IgdGhlIHJlc3VtYWJsZSB1cGxvYWQgbWV0aG9kLiAqL1xuZXhwb3J0IGNsYXNzIFVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlUmVzdW1hYmxlUmVzcG9uc2Uge1xuICAvKiogVXNlZCB0byByZXRhaW4gdGhlIGZ1bGwgSFRUUCByZXNwb25zZS4gKi9cbiAgc2RrSHR0cFJlc3BvbnNlPzogSHR0cFJlc3BvbnNlO1xufVxuXG4vKiogT3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgaW1wb3J0aW5nIGEgZmlsZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBJbXBvcnRGaWxlQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIC8qKiBBYm9ydCBzaWduYWwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSByZXF1ZXN0LlxuXG4gIE5PVEU6IEFib3J0U2lnbmFsIGlzIGEgY2xpZW50LW9ubHkgb3BlcmF0aW9uLiBVc2luZyBpdCB0byBjYW5jZWwgYW5cbiAgb3BlcmF0aW9uIHdpbGwgbm90IGNhbmNlbCB0aGUgcmVxdWVzdCBpbiB0aGUgc2VydmljZS4gWW91IHdpbGwgc3RpbGxcbiAgYmUgY2hhcmdlZCB1c2FnZSBmb3IgYW55IGFwcGxpY2FibGUgb3BlcmF0aW9ucy5cbiAgICAgICAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuICAvKiogVXNlciBwcm92aWRlZCBjdXN0b20gbWV0YWRhdGEgc3RvcmVkIGFzIGtleS12YWx1ZSBwYWlycyB1c2VkIGZvciBxdWVyeWluZy4gKi9cbiAgY3VzdG9tTWV0YWRhdGE/OiBDdXN0b21NZXRhZGF0YVtdO1xuICAvKiogQ29uZmlnIGZvciB0ZWxsaW5nIHRoZSBzZXJ2aWNlIGhvdyB0byBjaHVuayB0aGUgZmlsZS4gKi9cbiAgY2h1bmtpbmdDb25maWc/OiBDaHVua2luZ0NvbmZpZztcbn1cblxuLyoqIENvbmZpZyBmb3IgZmlsZV9zZWFyY2hfc3RvcmVzLmltcG9ydF9maWxlIHBhcmFtZXRlcnMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgSW1wb3J0RmlsZVBhcmFtZXRlcnMge1xuICAvKiogVGhlIHJlc291cmNlIG5hbWUgb2YgdGhlIEZpbGVTZWFyY2hTdG9yZS4gRXhhbXBsZTogYGZpbGVTZWFyY2hTdG9yZXMvbXktZmlsZS1zZWFyY2gtc3RvcmUtMTIzYCAqL1xuICBmaWxlU2VhcmNoU3RvcmVOYW1lOiBzdHJpbmc7XG4gIC8qKiBUaGUgbmFtZSBvZiB0aGUgRmlsZSBBUEkgRmlsZSB0byBpbXBvcnQuIEV4YW1wbGU6IGBmaWxlcy9hYmMtMTIzYCAqL1xuICBmaWxlTmFtZTogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgdGhlIHJlcXVlc3QuICovXG4gIGNvbmZpZz86IEltcG9ydEZpbGVDb25maWc7XG59XG5cbi8qKiBSZXNwb25zZSBmb3IgSW1wb3J0RmlsZSB0byBpbXBvcnQgYSBGaWxlIEFQSSBmaWxlIHdpdGggYSBmaWxlIHNlYXJjaCBzdG9yZS4gKi9cbmV4cG9ydCBjbGFzcyBJbXBvcnRGaWxlUmVzcG9uc2Uge1xuICAvKiogVXNlZCB0byByZXRhaW4gdGhlIGZ1bGwgSFRUUCByZXNwb25zZS4gKi9cbiAgc2RrSHR0cFJlc3BvbnNlPzogSHR0cFJlc3BvbnNlO1xuICAvKiogVGhlIG5hbWUgb2YgdGhlIEZpbGVTZWFyY2hTdG9yZSBjb250YWluaW5nIERvY3VtZW50cy4gKi9cbiAgcGFyZW50Pzogc3RyaW5nO1xuICAvKiogVGhlIGlkZW50aWZpZXIgZm9yIHRoZSBEb2N1bWVudCBpbXBvcnRlZC4gKi9cbiAgZG9jdW1lbnROYW1lPzogc3RyaW5nO1xufVxuXG4vKiogTG9uZy1ydW5uaW5nIG9wZXJhdGlvbiBmb3IgaW1wb3J0aW5nIGEgZmlsZSB0byBhIEZpbGVTZWFyY2hTdG9yZS4gKi9cbmV4cG9ydCBjbGFzcyBJbXBvcnRGaWxlT3BlcmF0aW9uIGltcGxlbWVudHMgT3BlcmF0aW9uPEltcG9ydEZpbGVSZXNwb25zZT4ge1xuICAvKiogVGhlIHNlcnZlci1hc3NpZ25lZCBuYW1lLCB3aGljaCBpcyBvbmx5IHVuaXF1ZSB3aXRoaW4gdGhlIHNhbWUgc2VydmljZSB0aGF0IG9yaWdpbmFsbHkgcmV0dXJucyBpdC4gSWYgeW91IHVzZSB0aGUgZGVmYXVsdCBIVFRQIG1hcHBpbmcsIHRoZSBgbmFtZWAgc2hvdWxkIGJlIGEgcmVzb3VyY2UgbmFtZSBlbmRpbmcgd2l0aCBgb3BlcmF0aW9ucy97dW5pcXVlX2lkfWAuICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKiBTZXJ2aWNlLXNwZWNpZmljIG1ldGFkYXRhIGFzc29jaWF0ZWQgd2l0aCB0aGUgb3BlcmF0aW9uLiBJdCB0eXBpY2FsbHkgY29udGFpbnMgcHJvZ3Jlc3MgaW5mb3JtYXRpb24gYW5kIGNvbW1vbiBtZXRhZGF0YSBzdWNoIGFzIGNyZWF0ZSB0aW1lLiBTb21lIHNlcnZpY2VzIG1pZ2h0IG5vdCBwcm92aWRlIHN1Y2ggbWV0YWRhdGEuICBBbnkgbWV0aG9kIHRoYXQgcmV0dXJucyBhIGxvbmctcnVubmluZyBvcGVyYXRpb24gc2hvdWxkIGRvY3VtZW50IHRoZSBtZXRhZGF0YSB0eXBlLCBpZiBhbnkuICovXG4gIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIC8qKiBJZiB0aGUgdmFsdWUgaXMgYGZhbHNlYCwgaXQgbWVhbnMgdGhlIG9wZXJhdGlvbiBpcyBzdGlsbCBpbiBwcm9ncmVzcy4gSWYgYHRydWVgLCB0aGUgb3BlcmF0aW9uIGlzIGNvbXBsZXRlZCwgYW5kIGVpdGhlciBgZXJyb3JgIG9yIGByZXNwb25zZWAgaXMgYXZhaWxhYmxlLiAqL1xuICBkb25lPzogYm9vbGVhbjtcbiAgLyoqIFRoZSBlcnJvciByZXN1bHQgb2YgdGhlIG9wZXJhdGlvbiBpbiBjYXNlIG9mIGZhaWx1cmUgb3IgY2FuY2VsbGF0aW9uLiAqL1xuICBlcnJvcj86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAvKiogVGhlIHJlc3VsdCBvZiB0aGUgSW1wb3J0RmlsZSBvcGVyYXRpb24sIGF2YWlsYWJsZSB3aGVuIHRoZSBvcGVyYXRpb24gaXMgZG9uZS4gKi9cbiAgcmVzcG9uc2U/OiBJbXBvcnRGaWxlUmVzcG9uc2U7XG5cbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlcyBhbiBPcGVyYXRpb24gb2YgdGhlIHNhbWUgdHlwZSBhcyB0aGUgb25lIGJlaW5nIGNhbGxlZCB3aXRoIHRoZSBmaWVsZHMgc2V0IGZyb20gdGhlIEFQSSByZXNwb25zZS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBfZnJvbUFQSVJlc3BvbnNlKHtcbiAgICBhcGlSZXNwb25zZSxcbiAgICBfaXNWZXJ0ZXhBSSxcbiAgfTogT3BlcmF0aW9uRnJvbUFQSVJlc3BvbnNlUGFyYW1ldGVycyk6IE9wZXJhdGlvbjxJbXBvcnRGaWxlUmVzcG9uc2U+IHtcbiAgICBjb25zdCBvcGVyYXRpb24gPSBuZXcgSW1wb3J0RmlsZU9wZXJhdGlvbigpO1xuXG4gICAgY29uc3Qgb3AgPSBhcGlSZXNwb25zZSBhcyB1bmtub3duIGFzIEltcG9ydEZpbGVPcGVyYXRpb247XG4gICAgY29uc3QgcmVzcG9uc2UgPSBpbXBvcnRGaWxlT3BlcmF0aW9uRnJvbU1sZGV2KG9wKTtcbiAgICBPYmplY3QuYXNzaWduKG9wZXJhdGlvbiwgcmVzcG9uc2UpO1xuICAgIHJldHVybiBvcGVyYXRpb247XG4gIH1cbiAgLyoqIFRoZSBmdWxsIEhUVFAgcmVzcG9uc2UuICovXG4gIHNka0h0dHBSZXNwb25zZT86IEh0dHBSZXNwb25zZTtcbn1cblxuZXhwb3J0IC8qKiBVc2VkIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uICovXG5kZWNsYXJlIGludGVyZmFjZSBMaXN0RmlsZXNDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIEFib3J0IHNpZ25hbCB3aGljaCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3QuXG5cbiAgTk9URTogQWJvcnRTaWduYWwgaXMgYSBjbGllbnQtb25seSBvcGVyYXRpb24uIFVzaW5nIGl0IHRvIGNhbmNlbCBhblxuICBvcGVyYXRpb24gd2lsbCBub3QgY2FuY2VsIHRoZSByZXF1ZXN0IGluIHRoZSBzZXJ2aWNlLiBZb3Ugd2lsbCBzdGlsbFxuICBiZSBjaGFyZ2VkIHVzYWdlIGZvciBhbnkgYXBwbGljYWJsZSBvcGVyYXRpb25zLlxuICAgICAgICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG4gIHBhZ2VTaXplPzogbnVtYmVyO1xuICBwYWdlVG9rZW4/OiBzdHJpbmc7XG59XG5cbi8qKiBHZW5lcmF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yIHRoZSBsaXN0IG1ldGhvZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXN0RmlsZXNQYXJhbWV0ZXJzIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbi4gKi9cbiAgY29uZmlnPzogTGlzdEZpbGVzQ29uZmlnO1xufVxuXG4vKiogU3RhdHVzIG9mIGEgRmlsZSB0aGF0IHVzZXMgYSBjb21tb24gZXJyb3IgbW9kZWwuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRmlsZVN0YXR1cyB7XG4gIC8qKiBBIGxpc3Qgb2YgbWVzc2FnZXMgdGhhdCBjYXJyeSB0aGUgZXJyb3IgZGV0YWlscy4gVGhlcmUgaXMgYSBjb21tb24gc2V0IG9mIG1lc3NhZ2UgdHlwZXMgZm9yIEFQSXMgdG8gdXNlLiAqL1xuICBkZXRhaWxzPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj5bXTtcbiAgLyoqIEEgbGlzdCBvZiBtZXNzYWdlcyB0aGF0IGNhcnJ5IHRoZSBlcnJvciBkZXRhaWxzLiBUaGVyZSBpcyBhIGNvbW1vbiBzZXQgb2YgbWVzc2FnZSB0eXBlcyBmb3IgQVBJcyB0byB1c2UuICovXG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIC8qKiBUaGUgc3RhdHVzIGNvZGUuIDAgZm9yIE9LLCAxIGZvciBDQU5DRUxMRUQgKi9cbiAgY29kZT86IG51bWJlcjtcbn1cblxuLyoqIEEgZmlsZSB1cGxvYWRlZCB0byB0aGUgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEZpbGUge1xuICAvKiogVGhlIGBGaWxlYCByZXNvdXJjZSBuYW1lLiBUaGUgSUQgKG5hbWUgZXhjbHVkaW5nIHRoZSBcImZpbGVzL1wiIHByZWZpeCkgY2FuIGNvbnRhaW4gdXAgdG8gNDAgY2hhcmFjdGVycyB0aGF0IGFyZSBsb3dlcmNhc2UgYWxwaGFudW1lcmljIG9yIGRhc2hlcyAoLSkuIFRoZSBJRCBjYW5ub3Qgc3RhcnQgb3IgZW5kIHdpdGggYSBkYXNoLiBJZiB0aGUgbmFtZSBpcyBlbXB0eSBvbiBjcmVhdGUsIGEgdW5pcXVlIG5hbWUgd2lsbCBiZSBnZW5lcmF0ZWQuIEV4YW1wbGU6IGBmaWxlcy8xMjMtNDU2YCAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwuIFRoZSBodW1hbi1yZWFkYWJsZSBkaXNwbGF5IG5hbWUgZm9yIHRoZSBgRmlsZWAuIFRoZSBkaXNwbGF5IG5hbWUgbXVzdCBiZSBubyBtb3JlIHRoYW4gNTEyIGNoYXJhY3RlcnMgaW4gbGVuZ3RoLCBpbmNsdWRpbmcgc3BhY2VzLiBFeGFtcGxlOiAnV2VsY29tZSBJbWFnZScgKi9cbiAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gTUlNRSB0eXBlIG9mIHRoZSBmaWxlLiAqL1xuICBtaW1lVHlwZT86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBTaXplIG9mIHRoZSBmaWxlIGluIGJ5dGVzLiAqL1xuICBzaXplQnl0ZXM/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIHRpbWVzdGFtcCBvZiB3aGVuIHRoZSBgRmlsZWAgd2FzIGNyZWF0ZWQuICovXG4gIGNyZWF0ZVRpbWU/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIHRpbWVzdGFtcCBvZiB3aGVuIHRoZSBgRmlsZWAgd2lsbCBiZSBkZWxldGVkLiBPbmx5IHNldCBpZiB0aGUgYEZpbGVgIGlzIHNjaGVkdWxlZCB0byBleHBpcmUuICovXG4gIGV4cGlyYXRpb25UaW1lPzogc3RyaW5nO1xuICAvKiogT3V0cHV0IG9ubHkuIFRoZSB0aW1lc3RhbXAgb2Ygd2hlbiB0aGUgYEZpbGVgIHdhcyBsYXN0IHVwZGF0ZWQuICovXG4gIHVwZGF0ZVRpbWU/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gU0hBLTI1NiBoYXNoIG9mIHRoZSB1cGxvYWRlZCBieXRlcy4gVGhlIGhhc2ggdmFsdWUgaXMgZW5jb2RlZCBpbiBiYXNlNjQgZm9ybWF0LiAqL1xuICBzaGEyNTZIYXNoPzogc3RyaW5nO1xuICAvKiogT3V0cHV0IG9ubHkuIFRoZSBVUkkgb2YgdGhlIGBGaWxlYC4gKi9cbiAgdXJpPzogc3RyaW5nO1xuICAvKiogT3V0cHV0IG9ubHkuIFRoZSBVUkkgb2YgdGhlIGBGaWxlYCwgb25seSBzZXQgZm9yIGRvd25sb2FkYWJsZSAoZ2VuZXJhdGVkKSBmaWxlcy4gKi9cbiAgZG93bmxvYWRVcmk/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gUHJvY2Vzc2luZyBzdGF0ZSBvZiB0aGUgRmlsZS4gKi9cbiAgc3RhdGU/OiBGaWxlU3RhdGU7XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIHNvdXJjZSBvZiB0aGUgYEZpbGVgLiAqL1xuICBzb3VyY2U/OiBGaWxlU291cmNlO1xuICAvKiogT3V0cHV0IG9ubHkuIE1ldGFkYXRhIGZvciBhIHZpZGVvLiAqL1xuICB2aWRlb01ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIC8qKiBPdXRwdXQgb25seS4gRXJyb3Igc3RhdHVzIGlmIEZpbGUgcHJvY2Vzc2luZyBmYWlsZWQuICovXG4gIGVycm9yPzogRmlsZVN0YXR1cztcbn1cblxuLyoqIFJlc3BvbnNlIGZvciB0aGUgbGlzdCBmaWxlcyBtZXRob2QuICovXG5leHBvcnQgY2xhc3MgTGlzdEZpbGVzUmVzcG9uc2Uge1xuICAvKiogVXNlZCB0byByZXRhaW4gdGhlIGZ1bGwgSFRUUCByZXNwb25zZS4gKi9cbiAgc2RrSHR0cFJlc3BvbnNlPzogSHR0cFJlc3BvbnNlO1xuICAvKiogQSB0b2tlbiB0aGF0IGNhbiBiZSBzZW50IGFzIGEgYHBhZ2VfdG9rZW5gIGludG8gYSBzdWJzZXF1ZW50IGBMaXN0RmlsZXNgIGNhbGwuICovXG4gIG5leHRQYWdlVG9rZW4/OiBzdHJpbmc7XG4gIC8qKiBUaGUgbGlzdCBvZiBgRmlsZWBzLiAqL1xuICBmaWxlcz86IEZpbGVbXTtcbn1cblxuLyoqIFVzZWQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDcmVhdGVGaWxlQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIC8qKiBBYm9ydCBzaWduYWwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSByZXF1ZXN0LlxuXG4gIE5PVEU6IEFib3J0U2lnbmFsIGlzIGEgY2xpZW50LW9ubHkgb3BlcmF0aW9uLiBVc2luZyBpdCB0byBjYW5jZWwgYW5cbiAgb3BlcmF0aW9uIHdpbGwgbm90IGNhbmNlbCB0aGUgcmVxdWVzdCBpbiB0aGUgc2VydmljZS4gWW91IHdpbGwgc3RpbGxcbiAgYmUgY2hhcmdlZCB1c2FnZSBmb3IgYW55IGFwcGxpY2FibGUgb3BlcmF0aW9ucy5cbiAgICAgICAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xufVxuXG4vKiogR2VuZXJhdGVzIHRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgcHJpdmF0ZSBfY3JlYXRlIG1ldGhvZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDcmVhdGVGaWxlUGFyYW1ldGVycyB7XG4gIC8qKiBUaGUgZmlsZSB0byBiZSB1cGxvYWRlZC5cbiAgICAgICAgICAgIG1pbWVfdHlwZTogKFJlcXVpcmVkKSBUaGUgTUlNRSB0eXBlIG9mIHRoZSBmaWxlLiBNdXN0IGJlIHByb3ZpZGVkLlxuICAgICAgICAgICAgbmFtZTogKE9wdGlvbmFsKSBUaGUgbmFtZSBvZiB0aGUgZmlsZSBpbiB0aGUgZGVzdGluYXRpb24gKGUuZy5cbiAgICAgICAgICAgICdmaWxlcy9zYW1wbGUtaW1hZ2UnKS5cbiAgICAgICAgICAgIGRpc3BsYXlfbmFtZTogKE9wdGlvbmFsKSBUaGUgZGlzcGxheSBuYW1lIG9mIHRoZSBmaWxlLlxuICAgICAgICovXG4gIGZpbGU6IEZpbGU7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uICovXG4gIGNvbmZpZz86IENyZWF0ZUZpbGVDb25maWc7XG59XG5cbi8qKiBSZXNwb25zZSBmb3IgdGhlIGNyZWF0ZSBmaWxlIG1ldGhvZC4gKi9cbmV4cG9ydCBjbGFzcyBDcmVhdGVGaWxlUmVzcG9uc2Uge1xuICAvKiogVXNlZCB0byByZXRhaW4gdGhlIGZ1bGwgSFRUUCByZXNwb25zZS4gKi9cbiAgc2RrSHR0cFJlc3BvbnNlPzogSHR0cFJlc3BvbnNlO1xufVxuXG4vKiogVXNlZCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdldEZpbGVDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIEFib3J0IHNpZ25hbCB3aGljaCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3QuXG5cbiAgTk9URTogQWJvcnRTaWduYWwgaXMgYSBjbGllbnQtb25seSBvcGVyYXRpb24uIFVzaW5nIGl0IHRvIGNhbmNlbCBhblxuICBvcGVyYXRpb24gd2lsbCBub3QgY2FuY2VsIHRoZSByZXF1ZXN0IGluIHRoZSBzZXJ2aWNlLiBZb3Ugd2lsbCBzdGlsbFxuICBiZSBjaGFyZ2VkIHVzYWdlIGZvciBhbnkgYXBwbGljYWJsZSBvcGVyYXRpb25zLlxuICAgICAgICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG59XG5cbi8qKiBHZW5lcmF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yIHRoZSBnZXQgbWV0aG9kLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdldEZpbGVQYXJhbWV0ZXJzIHtcbiAgLyoqIFRoZSBuYW1lIGlkZW50aWZpZXIgZm9yIHRoZSBmaWxlIHRvIHJldHJpZXZlLiAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uICovXG4gIGNvbmZpZz86IEdldEZpbGVDb25maWc7XG59XG5cbi8qKiBVc2VkIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRGVsZXRlRmlsZUNvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogQWJvcnQgc2lnbmFsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgcmVxdWVzdC5cblxuICBOT1RFOiBBYm9ydFNpZ25hbCBpcyBhIGNsaWVudC1vbmx5IG9wZXJhdGlvbi4gVXNpbmcgaXQgdG8gY2FuY2VsIGFuXG4gIG9wZXJhdGlvbiB3aWxsIG5vdCBjYW5jZWwgdGhlIHJlcXVlc3QgaW4gdGhlIHNlcnZpY2UuIFlvdSB3aWxsIHN0aWxsXG4gIGJlIGNoYXJnZWQgdXNhZ2UgZm9yIGFueSBhcHBsaWNhYmxlIG9wZXJhdGlvbnMuXG4gICAgICAgKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbn1cblxuLyoqIEdlbmVyYXRlcyB0aGUgcGFyYW1ldGVycyBmb3IgdGhlIGdldCBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRGVsZXRlRmlsZVBhcmFtZXRlcnMge1xuICAvKiogVGhlIG5hbWUgaWRlbnRpZmllciBmb3IgdGhlIGZpbGUgdG8gYmUgZGVsZXRlZC4gKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKiogVXNlZCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uLiAqL1xuICBjb25maWc/OiBEZWxldGVGaWxlQ29uZmlnO1xufVxuXG4vKiogUmVzcG9uc2UgZm9yIHRoZSBkZWxldGUgZmlsZSBtZXRob2QuICovXG5leHBvcnQgY2xhc3MgRGVsZXRlRmlsZVJlc3BvbnNlIHtcbiAgLyoqIFVzZWQgdG8gcmV0YWluIHRoZSBmdWxsIEhUVFAgcmVzcG9uc2UuICovXG4gIHNka0h0dHBSZXNwb25zZT86IEh0dHBSZXNwb25zZTtcbn1cblxuLyoqIENvbmZpZyBmb3IgaW5saW5lZCByZXF1ZXN0LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIElubGluZWRSZXF1ZXN0IHtcbiAgLyoqIElEIG9mIHRoZSBtb2RlbCB0byB1c2UuIEZvciBhIGxpc3Qgb2YgbW9kZWxzLCBzZWUgYEdvb2dsZSBtb2RlbHNcbiAgICAgIDxodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vdmVydGV4LWFpL2dlbmVyYXRpdmUtYWkvZG9jcy9sZWFybi9tb2RlbHM+YF8uICovXG4gIG1vZGVsPzogc3RyaW5nO1xuICAvKiogQ29udGVudCBvZiB0aGUgcmVxdWVzdC5cbiAgICovXG4gIGNvbnRlbnRzPzogQ29udGVudExpc3RVbmlvbjtcbiAgLyoqIFRoZSBtZXRhZGF0YSB0byBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIHJlcXVlc3QuICovXG4gIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgLyoqIENvbmZpZ3VyYXRpb24gdGhhdCBjb250YWlucyBvcHRpb25hbCBtb2RlbCBwYXJhbWV0ZXJzLlxuICAgKi9cbiAgY29uZmlnPzogR2VuZXJhdGVDb250ZW50Q29uZmlnO1xufVxuXG4vKiogQ29uZmlnIGZvciBgc3JjYCBwYXJhbWV0ZXIuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQmF0Y2hKb2JTb3VyY2Uge1xuICAvKiogU3RvcmFnZSBmb3JtYXQgb2YgdGhlIGlucHV0IGZpbGVzLiBNdXN0IGJlIG9uZSBvZjpcbiAgICAgICdqc29ubCcsICdiaWdxdWVyeScuXG4gICAgICAgKi9cbiAgZm9ybWF0Pzogc3RyaW5nO1xuICAvKiogVGhlIEdvb2dsZSBDbG91ZCBTdG9yYWdlIFVSSXMgdG8gaW5wdXQgZmlsZXMuXG4gICAqL1xuICBnY3NVcmk/OiBzdHJpbmdbXTtcbiAgLyoqIFRoZSBCaWdRdWVyeSBVUkkgdG8gaW5wdXQgdGFibGUuXG4gICAqL1xuICBiaWdxdWVyeVVyaT86IHN0cmluZztcbiAgLyoqIFRoZSBHZW1pbmkgRGV2ZWxvcGVyIEFQSSdzIGZpbGUgcmVzb3VyY2UgbmFtZSBvZiB0aGUgaW5wdXQgZGF0YVxuICAgICAgKGUuZy4gXCJmaWxlcy8xMjM0NVwiKS5cbiAgICAgICAqL1xuICBmaWxlTmFtZT86IHN0cmluZztcbiAgLyoqIFRoZSBHZW1pbmkgRGV2ZWxvcGVyIEFQSSdzIGlubGluZWQgaW5wdXQgZGF0YSB0byBydW4gYmF0Y2ggam9iLlxuICAgKi9cbiAgaW5saW5lZFJlcXVlc3RzPzogSW5saW5lZFJlcXVlc3RbXTtcbn1cblxuLyoqIEpvYiBlcnJvci4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBKb2JFcnJvciB7XG4gIC8qKiBBIGxpc3Qgb2YgbWVzc2FnZXMgdGhhdCBjYXJyeSB0aGUgZXJyb3IgZGV0YWlscy4gVGhlcmUgaXMgYSBjb21tb24gc2V0IG9mIG1lc3NhZ2UgdHlwZXMgZm9yIEFQSXMgdG8gdXNlLiAqL1xuICBkZXRhaWxzPzogc3RyaW5nW107XG4gIC8qKiBUaGUgc3RhdHVzIGNvZGUuICovXG4gIGNvZGU/OiBudW1iZXI7XG4gIC8qKiBBIGRldmVsb3Blci1mYWNpbmcgZXJyb3IgbWVzc2FnZSwgd2hpY2ggc2hvdWxkIGJlIGluIEVuZ2xpc2guIEFueSB1c2VyLWZhY2luZyBlcnJvciBtZXNzYWdlIHNob3VsZCBiZSBsb2NhbGl6ZWQgYW5kIHNlbnQgaW4gdGhlIGBkZXRhaWxzYCBmaWVsZC4gKi9cbiAgbWVzc2FnZT86IHN0cmluZztcbn1cblxuLyoqIENvbmZpZyBmb3IgYGlubGluZWRfcmVzcG9uc2VzYCBwYXJhbWV0ZXIuICovXG5leHBvcnQgY2xhc3MgSW5saW5lZFJlc3BvbnNlIHtcbiAgLyoqIFRoZSByZXNwb25zZSB0byB0aGUgcmVxdWVzdC5cbiAgICovXG4gIHJlc3BvbnNlPzogR2VuZXJhdGVDb250ZW50UmVzcG9uc2U7XG4gIC8qKiBUaGUgZXJyb3IgZW5jb3VudGVyZWQgd2hpbGUgcHJvY2Vzc2luZyB0aGUgcmVxdWVzdC5cbiAgICovXG4gIGVycm9yPzogSm9iRXJyb3I7XG59XG5cbi8qKiBDb25maWcgZm9yIGByZXNwb25zZWAgcGFyYW1ldGVyLiAqL1xuZXhwb3J0IGNsYXNzIFNpbmdsZUVtYmVkQ29udGVudFJlc3BvbnNlIHtcbiAgLyoqIFRoZSByZXNwb25zZSB0byB0aGUgcmVxdWVzdC5cbiAgICovXG4gIGVtYmVkZGluZz86IENvbnRlbnRFbWJlZGRpbmc7XG4gIC8qKiBUaGUgZXJyb3IgZW5jb3VudGVyZWQgd2hpbGUgcHJvY2Vzc2luZyB0aGUgcmVxdWVzdC5cbiAgICovXG4gIHRva2VuQ291bnQ/OiBzdHJpbmc7XG59XG5cbi8qKiBDb25maWcgZm9yIGBpbmxpbmVkX2VtYmVkZGluZ19yZXNwb25zZXNgIHBhcmFtZXRlci4gKi9cbmV4cG9ydCBjbGFzcyBJbmxpbmVkRW1iZWRDb250ZW50UmVzcG9uc2Uge1xuICAvKiogVGhlIHJlc3BvbnNlIHRvIHRoZSByZXF1ZXN0LlxuICAgKi9cbiAgcmVzcG9uc2U/OiBTaW5nbGVFbWJlZENvbnRlbnRSZXNwb25zZTtcbiAgLyoqIFRoZSBlcnJvciBlbmNvdW50ZXJlZCB3aGlsZSBwcm9jZXNzaW5nIHRoZSByZXF1ZXN0LlxuICAgKi9cbiAgZXJyb3I/OiBKb2JFcnJvcjtcbn1cblxuLyoqIENvbmZpZyBmb3IgYGRlc2AgcGFyYW1ldGVyLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEJhdGNoSm9iRGVzdGluYXRpb24ge1xuICAvKiogU3RvcmFnZSBmb3JtYXQgb2YgdGhlIG91dHB1dCBmaWxlcy4gTXVzdCBiZSBvbmUgb2Y6XG4gICAgICAnanNvbmwnLCAnYmlncXVlcnknLlxuICAgICAgICovXG4gIGZvcm1hdD86IHN0cmluZztcbiAgLyoqIFRoZSBHb29nbGUgQ2xvdWQgU3RvcmFnZSBVUkkgdG8gdGhlIG91dHB1dCBmaWxlLlxuICAgKi9cbiAgZ2NzVXJpPzogc3RyaW5nO1xuICAvKiogVGhlIEJpZ1F1ZXJ5IFVSSSB0byB0aGUgb3V0cHV0IHRhYmxlLlxuICAgKi9cbiAgYmlncXVlcnlVcmk/OiBzdHJpbmc7XG4gIC8qKiBUaGUgR2VtaW5pIERldmVsb3BlciBBUEkncyBmaWxlIHJlc291cmNlIG5hbWUgb2YgdGhlIG91dHB1dCBkYXRhXG4gICAgICAoZS5nLiBcImZpbGVzLzEyMzQ1XCIpLiBUaGUgZmlsZSB3aWxsIGJlIGEgSlNPTkwgZmlsZSB3aXRoIGEgc2luZ2xlIHJlc3BvbnNlXG4gICAgICBwZXIgbGluZS4gVGhlIHJlc3BvbnNlcyB3aWxsIGJlIEdlbmVyYXRlQ29udGVudFJlc3BvbnNlIG1lc3NhZ2VzIGZvcm1hdHRlZFxuICAgICAgYXMgSlNPTi4gVGhlIHJlc3BvbnNlcyB3aWxsIGJlIHdyaXR0ZW4gaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlIGlucHV0XG4gICAgICByZXF1ZXN0cy5cbiAgICAgICAqL1xuICBmaWxlTmFtZT86IHN0cmluZztcbiAgLyoqIFRoZSByZXNwb25zZXMgdG8gdGhlIHJlcXVlc3RzIGluIHRoZSBiYXRjaC4gUmV0dXJuZWQgd2hlbiB0aGUgYmF0Y2ggd2FzXG4gICAgICBidWlsdCB1c2luZyBpbmxpbmVkIHJlcXVlc3RzLiBUaGUgcmVzcG9uc2VzIHdpbGwgYmUgaW4gdGhlIHNhbWUgb3JkZXIgYXNcbiAgICAgIHRoZSBpbnB1dCByZXF1ZXN0cy5cbiAgICAgICAqL1xuICBpbmxpbmVkUmVzcG9uc2VzPzogSW5saW5lZFJlc3BvbnNlW107XG4gIC8qKiBUaGUgcmVzcG9uc2VzIHRvIHRoZSByZXF1ZXN0cyBpbiB0aGUgYmF0Y2guIFJldHVybmVkIHdoZW4gdGhlIGJhdGNoIHdhc1xuICAgICAgYnVpbHQgdXNpbmcgaW5saW5lZCByZXF1ZXN0cy4gVGhlIHJlc3BvbnNlcyB3aWxsIGJlIGluIHRoZSBzYW1lIG9yZGVyIGFzXG4gICAgICB0aGUgaW5wdXQgcmVxdWVzdHMuXG4gICAgICAgKi9cbiAgaW5saW5lZEVtYmVkQ29udGVudFJlc3BvbnNlcz86IElubGluZWRFbWJlZENvbnRlbnRSZXNwb25zZVtdO1xufVxuXG4vKiogQ29uZmlnIGZvciBvcHRpb25hbCBwYXJhbWV0ZXJzLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENyZWF0ZUJhdGNoSm9iQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIC8qKiBBYm9ydCBzaWduYWwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSByZXF1ZXN0LlxuXG4gIE5PVEU6IEFib3J0U2lnbmFsIGlzIGEgY2xpZW50LW9ubHkgb3BlcmF0aW9uLiBVc2luZyBpdCB0byBjYW5jZWwgYW5cbiAgb3BlcmF0aW9uIHdpbGwgbm90IGNhbmNlbCB0aGUgcmVxdWVzdCBpbiB0aGUgc2VydmljZS4gWW91IHdpbGwgc3RpbGxcbiAgYmUgY2hhcmdlZCB1c2FnZSBmb3IgYW55IGFwcGxpY2FibGUgb3BlcmF0aW9ucy5cbiAgICAgICAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuICAvKiogVGhlIHVzZXItZGVmaW5lZCBuYW1lIG9mIHRoaXMgQmF0Y2hKb2IuXG4gICAqL1xuICBkaXNwbGF5TmFtZT86IHN0cmluZztcbiAgLyoqIEdDUyBvciBCaWdRdWVyeSBVUkkgcHJlZml4IGZvciB0aGUgb3V0cHV0IHByZWRpY3Rpb25zLiBFeGFtcGxlOlxuICAgICAgXCJnczovL3BhdGgvdG8vb3V0cHV0L2RhdGFcIiBvciBcImJxOi8vcHJvamVjdElkLmJxRGF0YXNldElkLmJxVGFibGVJZFwiLlxuICAgICAgICovXG4gIGRlc3Q/OiBCYXRjaEpvYkRlc3RpbmF0aW9uVW5pb247XG59XG5cbi8qKiBDb25maWcgZm9yIGJhdGNoZXMuY3JlYXRlIHBhcmFtZXRlcnMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ3JlYXRlQmF0Y2hKb2JQYXJhbWV0ZXJzIHtcbiAgLyoqIFRoZSBuYW1lIG9mIHRoZSBtb2RlbCB0byBwcm9kdWNlcyB0aGUgcHJlZGljdGlvbnMgdmlhIHRoZSBCYXRjaEpvYi5cbiAgICovXG4gIG1vZGVsPzogc3RyaW5nO1xuICAvKiogR0NTIFVSSSgtcykgb3IgQmlnUXVlcnkgVVJJIHRvIHlvdXIgaW5wdXQgZGF0YSB0byBydW4gYmF0Y2ggam9iLlxuICAgICAgRXhhbXBsZTogXCJnczovL3BhdGgvdG8vaW5wdXQvZGF0YVwiIG9yIFwiYnE6Ly9wcm9qZWN0SWQuYnFEYXRhc2V0SWQuYnFUYWJsZUlkXCIuXG4gICAgICAgKi9cbiAgc3JjOiBCYXRjaEpvYlNvdXJjZVVuaW9uO1xuICAvKiogT3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgY3JlYXRpbmcgYSBCYXRjaEpvYi5cbiAgICovXG4gIGNvbmZpZz86IENyZWF0ZUJhdGNoSm9iQ29uZmlnO1xufVxuXG4vKiogU3VjY2VzcyBhbmQgZXJyb3Igc3RhdGlzdGljcyBvZiBwcm9jZXNzaW5nIG11bHRpcGxlIGVudGl0aWVzIChmb3IgZXhhbXBsZSwgRGF0YUl0ZW1zIG9yIHN0cnVjdHVyZWQgZGF0YSByb3dzKSBpbiBiYXRjaC4gVGhpcyBkYXRhIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENvbXBsZXRpb25TdGF0cyB7XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIG51bWJlciBvZiBlbnRpdGllcyBmb3Igd2hpY2ggYW55IGVycm9yIHdhcyBlbmNvdW50ZXJlZC4gKi9cbiAgZmFpbGVkQ291bnQ/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gSW4gY2FzZXMgd2hlbiBlbm91Z2ggZXJyb3JzIGFyZSBlbmNvdW50ZXJlZCBhIGpvYiwgcGlwZWxpbmUsIG9yIG9wZXJhdGlvbiBtYXkgYmUgZmFpbGVkIGFzIGEgd2hvbGUuIEJlbG93IGlzIHRoZSBudW1iZXIgb2YgZW50aXRpZXMgZm9yIHdoaWNoIHRoZSBwcm9jZXNzaW5nIGhhZCBub3QgYmVlbiBmaW5pc2hlZCAoZWl0aGVyIGluIHN1Y2Nlc3NmdWwgb3IgZmFpbGVkIHN0YXRlKS4gU2V0IHRvIC0xIGlmIHRoZSBudW1iZXIgaXMgdW5rbm93biAoZm9yIGV4YW1wbGUsIHRoZSBvcGVyYXRpb24gZmFpbGVkIGJlZm9yZSB0aGUgdG90YWwgZW50aXR5IG51bWJlciBjb3VsZCBiZSBjb2xsZWN0ZWQpLiAqL1xuICBpbmNvbXBsZXRlQ291bnQ/OiBzdHJpbmc7XG4gIC8qKiBPdXRwdXQgb25seS4gVGhlIG51bWJlciBvZiBlbnRpdGllcyB0aGF0IGhhZCBiZWVuIHByb2Nlc3NlZCBzdWNjZXNzZnVsbHkuICovXG4gIHN1Y2Nlc3NmdWxDb3VudD86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBUaGUgbnVtYmVyIG9mIHRoZSBzdWNjZXNzZnVsIGZvcmVjYXN0IHBvaW50cyB0aGF0IGFyZSBnZW5lcmF0ZWQgYnkgdGhlIGZvcmVjYXN0aW5nIG1vZGVsLiBUaGlzIGlzIE9OTFkgdXNlZCBieSB0aGUgZm9yZWNhc3RpbmcgYmF0Y2ggcHJlZGljdGlvbi4gKi9cbiAgc3VjY2Vzc2Z1bEZvcmVjYXN0UG9pbnRDb3VudD86IHN0cmluZztcbn1cblxuLyoqIENvbmZpZyBmb3IgYmF0Y2hlcy5jcmVhdGUgcmV0dXJuIHZhbHVlLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEJhdGNoSm9iIHtcbiAgLyoqIFRoZSByZXNvdXJjZSBuYW1lIG9mIHRoZSBCYXRjaEpvYi4gT3V0cHV0IG9ubHkuXCIuXG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKiogVGhlIGRpc3BsYXkgbmFtZSBvZiB0aGUgQmF0Y2hKb2IuXG4gICAqL1xuICBkaXNwbGF5TmFtZT86IHN0cmluZztcbiAgLyoqIFRoZSBzdGF0ZSBvZiB0aGUgQmF0Y2hKb2IuXG4gICAqL1xuICBzdGF0ZT86IEpvYlN0YXRlO1xuICAvKiogT3V0cHV0IG9ubHkuIE9ubHkgcG9wdWxhdGVkIHdoZW4gdGhlIGpvYidzIHN0YXRlIGlzIEpPQl9TVEFURV9GQUlMRUQgb3IgSk9CX1NUQVRFX0NBTkNFTExFRC4gKi9cbiAgZXJyb3I/OiBKb2JFcnJvcjtcbiAgLyoqIFRoZSB0aW1lIHdoZW4gdGhlIEJhdGNoSm9iIHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgY3JlYXRlVGltZT86IHN0cmluZztcbiAgLyoqIE91dHB1dCBvbmx5LiBUaW1lIHdoZW4gdGhlIEpvYiBmb3IgdGhlIGZpcnN0IHRpbWUgZW50ZXJlZCB0aGUgYEpPQl9TVEFURV9SVU5OSU5HYCBzdGF0ZS4gKi9cbiAgc3RhcnRUaW1lPzogc3RyaW5nO1xuICAvKiogVGhlIHRpbWUgd2hlbiB0aGUgQmF0Y2hKb2Igd2FzIGNvbXBsZXRlZC4gVGhpcyBmaWVsZCBpcyBmb3IgVmVydGV4IEFJIG9ubHkuXG4gICAqL1xuICBlbmRUaW1lPzogc3RyaW5nO1xuICAvKiogVGhlIHRpbWUgd2hlbiB0aGUgQmF0Y2hKb2Igd2FzIGxhc3QgdXBkYXRlZC5cbiAgICovXG4gIHVwZGF0ZVRpbWU/OiBzdHJpbmc7XG4gIC8qKiBUaGUgbmFtZSBvZiB0aGUgbW9kZWwgdGhhdCBwcm9kdWNlcyB0aGUgcHJlZGljdGlvbnMgdmlhIHRoZSBCYXRjaEpvYi5cbiAgICovXG4gIG1vZGVsPzogc3RyaW5nO1xuICAvKiogQ29uZmlndXJhdGlvbiBmb3IgdGhlIGlucHV0IGRhdGEuIFRoaXMgZmllbGQgaXMgZm9yIFZlcnRleCBBSSBvbmx5LlxuICAgKi9cbiAgc3JjPzogQmF0Y2hKb2JTb3VyY2U7XG4gIC8qKiBDb25maWd1cmF0aW9uIGZvciB0aGUgb3V0cHV0IGRhdGEuXG4gICAqL1xuICBkZXN0PzogQmF0Y2hKb2JEZXN0aW5hdGlvbjtcbiAgLyoqIFN0YXRpc3RpY3Mgb24gY29tcGxldGVkIGFuZCBmYWlsZWQgcHJlZGljdGlvbiBpbnN0YW5jZXMuIFRoaXMgZmllbGQgaXMgZm9yIFZlcnRleCBBSSBvbmx5LlxuICAgKi9cbiAgY29tcGxldGlvblN0YXRzPzogQ29tcGxldGlvblN0YXRzO1xufVxuXG4vKiogUGFyYW1ldGVycyBmb3IgdGhlIGVtYmVkX2NvbnRlbnQgbWV0aG9kLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEVtYmVkQ29udGVudEJhdGNoIHtcbiAgLyoqIFRoZSBjb250ZW50IHRvIGVtYmVkLiBPbmx5IHRoZSBgcGFydHMudGV4dGAgZmllbGRzIHdpbGwgYmUgY291bnRlZC5cbiAgICovXG4gIGNvbnRlbnRzPzogQ29udGVudExpc3RVbmlvbjtcbiAgLyoqIENvbmZpZ3VyYXRpb24gdGhhdCBjb250YWlucyBvcHRpb25hbCBwYXJhbWV0ZXJzLlxuICAgKi9cbiAgY29uZmlnPzogRW1iZWRDb250ZW50Q29uZmlnO1xufVxuXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRW1iZWRkaW5nc0JhdGNoSm9iU291cmNlIHtcbiAgLyoqIFRoZSBHZW1pbmkgRGV2ZWxvcGVyIEFQSSdzIGZpbGUgcmVzb3VyY2UgbmFtZSBvZiB0aGUgaW5wdXQgZGF0YVxuICAgICAgKGUuZy4gXCJmaWxlcy8xMjM0NVwiKS5cbiAgICAgICAqL1xuICBmaWxlTmFtZT86IHN0cmluZztcbiAgLyoqIFRoZSBHZW1pbmkgRGV2ZWxvcGVyIEFQSSdzIGlubGluZWQgaW5wdXQgZGF0YSB0byBydW4gYmF0Y2ggam9iLlxuICAgKi9cbiAgaW5saW5lZFJlcXVlc3RzPzogRW1iZWRDb250ZW50QmF0Y2g7XG59XG5cbi8qKiBDb25maWcgZm9yIG9wdGlvbmFsIHBhcmFtZXRlcnMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ3JlYXRlRW1iZWRkaW5nc0JhdGNoSm9iQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIC8qKiBBYm9ydCBzaWduYWwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSByZXF1ZXN0LlxuXG4gIE5PVEU6IEFib3J0U2lnbmFsIGlzIGEgY2xpZW50LW9ubHkgb3BlcmF0aW9uLiBVc2luZyBpdCB0byBjYW5jZWwgYW5cbiAgb3BlcmF0aW9uIHdpbGwgbm90IGNhbmNlbCB0aGUgcmVxdWVzdCBpbiB0aGUgc2VydmljZS4gWW91IHdpbGwgc3RpbGxcbiAgYmUgY2hhcmdlZCB1c2FnZSBmb3IgYW55IGFwcGxpY2FibGUgb3BlcmF0aW9ucy5cbiAgICAgICAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuICAvKiogVGhlIHVzZXItZGVmaW5lZCBuYW1lIG9mIHRoaXMgQmF0Y2hKb2IuXG4gICAqL1xuICBkaXNwbGF5TmFtZT86IHN0cmluZztcbn1cblxuLyoqIENvbmZpZyBmb3IgYmF0Y2hlcy5jcmVhdGUgcGFyYW1ldGVycy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDcmVhdGVFbWJlZGRpbmdzQmF0Y2hKb2JQYXJhbWV0ZXJzIHtcbiAgLyoqIFRoZSBuYW1lIG9mIHRoZSBtb2RlbCB0byBwcm9kdWNlcyB0aGUgcHJlZGljdGlvbnMgdmlhIHRoZSBCYXRjaEpvYi5cbiAgICovXG4gIG1vZGVsPzogc3RyaW5nO1xuICAvKiogaW5wdXQgZGF0YSB0byBydW4gYmF0Y2ggam9iXCIuXG4gICAqL1xuICBzcmM6IEVtYmVkZGluZ3NCYXRjaEpvYlNvdXJjZTtcbiAgLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIGNyZWF0aW5nIGEgQmF0Y2hKb2IuXG4gICAqL1xuICBjb25maWc/OiBDcmVhdGVFbWJlZGRpbmdzQmF0Y2hKb2JDb25maWc7XG59XG5cbi8qKiBPcHRpb25hbCBwYXJhbWV0ZXJzLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdldEJhdGNoSm9iQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIC8qKiBBYm9ydCBzaWduYWwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSByZXF1ZXN0LlxuXG4gIE5PVEU6IEFib3J0U2lnbmFsIGlzIGEgY2xpZW50LW9ubHkgb3BlcmF0aW9uLiBVc2luZyBpdCB0byBjYW5jZWwgYW5cbiAgb3BlcmF0aW9uIHdpbGwgbm90IGNhbmNlbCB0aGUgcmVxdWVzdCBpbiB0aGUgc2VydmljZS4gWW91IHdpbGwgc3RpbGxcbiAgYmUgY2hhcmdlZCB1c2FnZSBmb3IgYW55IGFwcGxpY2FibGUgb3BlcmF0aW9ucy5cbiAgICAgICAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xufVxuXG4vKiogQ29uZmlnIGZvciBiYXRjaGVzLmdldCBwYXJhbWV0ZXJzLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdldEJhdGNoSm9iUGFyYW1ldGVycyB7XG4gIC8qKiBBIGZ1bGx5LXF1YWxpZmllZCBCYXRjaEpvYiByZXNvdXJjZSBuYW1lIG9yIElELlxuICAgIEV4YW1wbGU6IFwicHJvamVjdHMvLi4uL2xvY2F0aW9ucy8uLi4vYmF0Y2hQcmVkaWN0aW9uSm9icy80NTZcIlxuICAgIG9yIFwiNDU2XCIgd2hlbiBwcm9qZWN0IGFuZCBsb2NhdGlvbiBhcmUgaW5pdGlhbGl6ZWQgaW4gdGhlIGNsaWVudC5cbiAgICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgdGhlIHJlcXVlc3QuICovXG4gIGNvbmZpZz86IEdldEJhdGNoSm9iQ29uZmlnO1xufVxuXG4vKiogT3B0aW9uYWwgcGFyYW1ldGVycy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDYW5jZWxCYXRjaEpvYkNvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogQWJvcnQgc2lnbmFsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgcmVxdWVzdC5cblxuICBOT1RFOiBBYm9ydFNpZ25hbCBpcyBhIGNsaWVudC1vbmx5IG9wZXJhdGlvbi4gVXNpbmcgaXQgdG8gY2FuY2VsIGFuXG4gIG9wZXJhdGlvbiB3aWxsIG5vdCBjYW5jZWwgdGhlIHJlcXVlc3QgaW4gdGhlIHNlcnZpY2UuIFlvdSB3aWxsIHN0aWxsXG4gIGJlIGNoYXJnZWQgdXNhZ2UgZm9yIGFueSBhcHBsaWNhYmxlIG9wZXJhdGlvbnMuXG4gICAgICAgKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbn1cblxuLyoqIENvbmZpZyBmb3IgYmF0Y2hlcy5jYW5jZWwgcGFyYW1ldGVycy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDYW5jZWxCYXRjaEpvYlBhcmFtZXRlcnMge1xuICAvKiogQSBmdWxseS1xdWFsaWZpZWQgQmF0Y2hKb2IgcmVzb3VyY2UgbmFtZSBvciBJRC5cbiAgICBFeGFtcGxlOiBcInByb2plY3RzLy4uLi9sb2NhdGlvbnMvLi4uL2JhdGNoUHJlZGljdGlvbkpvYnMvNDU2XCJcbiAgICBvciBcIjQ1NlwiIHdoZW4gcHJvamVjdCBhbmQgbG9jYXRpb24gYXJlIGluaXRpYWxpemVkIGluIHRoZSBjbGllbnQuXG4gICAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIHRoZSByZXF1ZXN0LiAqL1xuICBjb25maWc/OiBDYW5jZWxCYXRjaEpvYkNvbmZpZztcbn1cblxuLyoqIENvbmZpZyBmb3Igb3B0aW9uYWwgcGFyYW1ldGVycy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXN0QmF0Y2hKb2JzQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIC8qKiBBYm9ydCBzaWduYWwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSByZXF1ZXN0LlxuXG4gIE5PVEU6IEFib3J0U2lnbmFsIGlzIGEgY2xpZW50LW9ubHkgb3BlcmF0aW9uLiBVc2luZyBpdCB0byBjYW5jZWwgYW5cbiAgb3BlcmF0aW9uIHdpbGwgbm90IGNhbmNlbCB0aGUgcmVxdWVzdCBpbiB0aGUgc2VydmljZS4gWW91IHdpbGwgc3RpbGxcbiAgYmUgY2hhcmdlZCB1c2FnZSBmb3IgYW55IGFwcGxpY2FibGUgb3BlcmF0aW9ucy5cbiAgICAgICAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuICBwYWdlU2l6ZT86IG51bWJlcjtcbiAgcGFnZVRva2VuPzogc3RyaW5nO1xuICBmaWx0ZXI/OiBzdHJpbmc7XG59XG5cbi8qKiBDb25maWcgZm9yIGJhdGNoZXMubGlzdCBwYXJhbWV0ZXJzLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpc3RCYXRjaEpvYnNQYXJhbWV0ZXJzIHtcbiAgY29uZmlnPzogTGlzdEJhdGNoSm9ic0NvbmZpZztcbn1cblxuLyoqIENvbmZpZyBmb3IgYmF0Y2hlcy5saXN0IHJldHVybiB2YWx1ZS4gKi9cbmV4cG9ydCBjbGFzcyBMaXN0QmF0Y2hKb2JzUmVzcG9uc2Uge1xuICAvKiogVXNlZCB0byByZXRhaW4gdGhlIGZ1bGwgSFRUUCByZXNwb25zZS4gKi9cbiAgc2RrSHR0cFJlc3BvbnNlPzogSHR0cFJlc3BvbnNlO1xuICBuZXh0UGFnZVRva2VuPzogc3RyaW5nO1xuICBiYXRjaEpvYnM/OiBCYXRjaEpvYltdO1xufVxuXG4vKiogT3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgbW9kZWxzLmdldCBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRGVsZXRlQmF0Y2hKb2JDb25maWcge1xuICAvKiogVXNlZCB0byBvdmVycmlkZSBIVFRQIHJlcXVlc3Qgb3B0aW9ucy4gKi9cbiAgaHR0cE9wdGlvbnM/OiBIdHRwT3B0aW9ucztcbiAgLyoqIEFib3J0IHNpZ25hbCB3aGljaCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3QuXG5cbiAgTk9URTogQWJvcnRTaWduYWwgaXMgYSBjbGllbnQtb25seSBvcGVyYXRpb24uIFVzaW5nIGl0IHRvIGNhbmNlbCBhblxuICBvcGVyYXRpb24gd2lsbCBub3QgY2FuY2VsIHRoZSByZXF1ZXN0IGluIHRoZSBzZXJ2aWNlLiBZb3Ugd2lsbCBzdGlsbFxuICBiZSBjaGFyZ2VkIHVzYWdlIGZvciBhbnkgYXBwbGljYWJsZSBvcGVyYXRpb25zLlxuICAgICAgICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG59XG5cbi8qKiBDb25maWcgZm9yIGJhdGNoZXMuZGVsZXRlIHBhcmFtZXRlcnMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRGVsZXRlQmF0Y2hKb2JQYXJhbWV0ZXJzIHtcbiAgLyoqIEEgZnVsbHktcXVhbGlmaWVkIEJhdGNoSm9iIHJlc291cmNlIG5hbWUgb3IgSUQuXG4gICAgRXhhbXBsZTogXCJwcm9qZWN0cy8uLi4vbG9jYXRpb25zLy4uLi9iYXRjaFByZWRpY3Rpb25Kb2JzLzQ1NlwiXG4gICAgb3IgXCI0NTZcIiB3aGVuIHByb2plY3QgYW5kIGxvY2F0aW9uIGFyZSBpbml0aWFsaXplZCBpbiB0aGUgY2xpZW50LlxuICAgICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbCBwYXJhbWV0ZXJzIGZvciB0aGUgcmVxdWVzdC4gKi9cbiAgY29uZmlnPzogRGVsZXRlQmF0Y2hKb2JDb25maWc7XG59XG5cbi8qKiBUaGUgcmV0dXJuIHZhbHVlIG9mIGRlbGV0ZSBvcGVyYXRpb24uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRGVsZXRlUmVzb3VyY2VKb2Ige1xuICAvKiogVXNlZCB0byByZXRhaW4gdGhlIGZ1bGwgSFRUUCByZXNwb25zZS4gKi9cbiAgc2RrSHR0cFJlc3BvbnNlPzogSHR0cFJlc3BvbnNlO1xuICBuYW1lPzogc3RyaW5nO1xuICBkb25lPzogYm9vbGVhbjtcbiAgZXJyb3I/OiBKb2JFcnJvcjtcbn1cblxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdldE9wZXJhdGlvbkNvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogQWJvcnQgc2lnbmFsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgcmVxdWVzdC5cblxuICBOT1RFOiBBYm9ydFNpZ25hbCBpcyBhIGNsaWVudC1vbmx5IG9wZXJhdGlvbi4gVXNpbmcgaXQgdG8gY2FuY2VsIGFuXG4gIG9wZXJhdGlvbiB3aWxsIG5vdCBjYW5jZWwgdGhlIHJlcXVlc3QgaW4gdGhlIHNlcnZpY2UuIFlvdSB3aWxsIHN0aWxsXG4gIGJlIGNoYXJnZWQgdXNhZ2UgZm9yIGFueSBhcHBsaWNhYmxlIG9wZXJhdGlvbnMuXG4gICAgICAgKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbn1cblxuLyoqIFBhcmFtZXRlcnMgZm9yIHRoZSBHRVQgbWV0aG9kLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEdldE9wZXJhdGlvblBhcmFtZXRlcnMge1xuICAvKiogVGhlIHNlcnZlci1hc3NpZ25lZCBuYW1lIGZvciB0aGUgb3BlcmF0aW9uLiAqL1xuICBvcGVyYXRpb25OYW1lOiBzdHJpbmc7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uICovXG4gIGNvbmZpZz86IEdldE9wZXJhdGlvbkNvbmZpZztcbn1cblxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEZldGNoUHJlZGljdE9wZXJhdGlvbkNvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogQWJvcnQgc2lnbmFsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgcmVxdWVzdC5cblxuICBOT1RFOiBBYm9ydFNpZ25hbCBpcyBhIGNsaWVudC1vbmx5IG9wZXJhdGlvbi4gVXNpbmcgaXQgdG8gY2FuY2VsIGFuXG4gIG9wZXJhdGlvbiB3aWxsIG5vdCBjYW5jZWwgdGhlIHJlcXVlc3QgaW4gdGhlIHNlcnZpY2UuIFlvdSB3aWxsIHN0aWxsXG4gIGJlIGNoYXJnZWQgdXNhZ2UgZm9yIGFueSBhcHBsaWNhYmxlIG9wZXJhdGlvbnMuXG4gICAgICAgKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbn1cblxuLyoqIFBhcmFtZXRlcnMgZm9yIHRoZSBmZXRjaFByZWRpY3RPcGVyYXRpb24gbWV0aG9kLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEZldGNoUHJlZGljdE9wZXJhdGlvblBhcmFtZXRlcnMge1xuICAvKiogVGhlIHNlcnZlci1hc3NpZ25lZCBuYW1lIGZvciB0aGUgb3BlcmF0aW9uLiAqL1xuICBvcGVyYXRpb25OYW1lOiBzdHJpbmc7XG4gIHJlc291cmNlTmFtZTogc3RyaW5nO1xuICAvKiogVXNlZCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uLiAqL1xuICBjb25maWc/OiBGZXRjaFByZWRpY3RPcGVyYXRpb25Db25maWc7XG59XG5cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBUZXN0VGFibGVJdGVtIHtcbiAgLyoqIFRoZSBuYW1lIG9mIHRoZSB0ZXN0LiBUaGlzIGlzIHVzZWQgdG8gZGVyaXZlIHRoZSByZXBsYXkgaWQuICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKiBUaGUgcGFyYW1ldGVycyB0byB0aGUgdGVzdC4gVXNlIHB5ZGFudGljIG1vZGVscy4gKi9cbiAgcGFyYW1ldGVycz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAvKiogRXhwZWN0cyBhbiBleGNlcHRpb24gZm9yIE1MRGV2IG1hdGNoaW5nIHRoZSBzdHJpbmcuICovXG4gIGV4Y2VwdGlvbklmTWxkZXY/OiBzdHJpbmc7XG4gIC8qKiBFeHBlY3RzIGFuIGV4Y2VwdGlvbiBmb3IgVmVydGV4IG1hdGNoaW5nIHRoZSBzdHJpbmcuICovXG4gIGV4Y2VwdGlvbklmVmVydGV4Pzogc3RyaW5nO1xuICAvKiogVXNlIGlmIHlvdSBkb24ndCB3YW50IHRvIHVzZSB0aGUgZGVmYXVsdCByZXBsYXkgaWQgd2hpY2ggaXMgZGVyaXZlZCBmcm9tIHRoZSB0ZXN0IG5hbWUuICovXG4gIG92ZXJyaWRlUmVwbGF5SWQ/OiBzdHJpbmc7XG4gIC8qKiBUcnVlIGlmIHRoZSBwYXJhbWV0ZXJzIGNvbnRhaW4gYW4gdW5zdXBwb3J0ZWQgdW5pb24gdHlwZS4gVGhpcyB0ZXN0ICB3aWxsIGJlIHNraXBwZWQgZm9yIGxhbmd1YWdlcyB0aGF0IGRvIG5vdCBzdXBwb3J0IHRoZSB1bmlvbiB0eXBlLiAqL1xuICBoYXNVbmlvbj86IGJvb2xlYW47XG4gIC8qKiBXaGVuIHNldCB0byBhIHJlYXNvbiBzdHJpbmcsIHRoaXMgdGVzdCB3aWxsIGJlIHNraXBwZWQgaW4gdGhlIEFQSSBtb2RlLiBVc2UgdGhpcyBmbGFnIGZvciB0ZXN0cyB0aGF0IGNhbiBub3QgYmUgcmVwcm9kdWNlZCB3aXRoIHRoZSByZWFsIEFQSS4gRS5nLiBhIHRlc3QgdGhhdCBkZWxldGVzIGEgcmVzb3VyY2UuICovXG4gIHNraXBJbkFwaU1vZGU/OiBzdHJpbmc7XG4gIC8qKiBLZXlzIHRvIGlnbm9yZSB3aGVuIGNvbXBhcmluZyB0aGUgcmVxdWVzdCBhbmQgcmVzcG9uc2UuIFRoaXMgaXMgdXNlZnVsIGZvciB0ZXN0cyB0aGF0IGFyZSBub3QgZGV0ZXJtaW5pc3RpYy4gKi9cbiAgaWdub3JlS2V5cz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVGVzdFRhYmxlRmlsZSB7XG4gIGNvbW1lbnQ/OiBzdHJpbmc7XG4gIHRlc3RNZXRob2Q/OiBzdHJpbmc7XG4gIHBhcmFtZXRlck5hbWVzPzogc3RyaW5nW107XG4gIHRlc3RUYWJsZT86IFRlc3RUYWJsZUl0ZW1bXTtcbn1cblxuLyoqIFJlcHJlc2VudHMgYSBzaW5nbGUgcmVxdWVzdCBpbiBhIHJlcGxheS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBSZXBsYXlSZXF1ZXN0IHtcbiAgbWV0aG9kPzogc3RyaW5nO1xuICB1cmw/OiBzdHJpbmc7XG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICBib2R5U2VnbWVudHM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPltdO1xufVxuXG4vKiogUmVwcmVzZW50cyBhIHNpbmdsZSByZXNwb25zZSBpbiBhIHJlcGxheS4gKi9cbmV4cG9ydCBjbGFzcyBSZXBsYXlSZXNwb25zZSB7XG4gIHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICBib2R5U2VnbWVudHM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPltdO1xuICBzZGtSZXNwb25zZVNlZ21lbnRzPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj5bXTtcbn1cblxuLyoqIFJlcHJlc2VudHMgYSBzaW5nbGUgaW50ZXJhY3Rpb24sIHJlcXVlc3QgYW5kIHJlc3BvbnNlIGluIGEgcmVwbGF5LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFJlcGxheUludGVyYWN0aW9uIHtcbiAgcmVxdWVzdD86IFJlcGxheVJlcXVlc3Q7XG4gIHJlc3BvbnNlPzogUmVwbGF5UmVzcG9uc2U7XG59XG5cbi8qKiBSZXByZXNlbnRzIGEgcmVjb3JkZWQgc2Vzc2lvbi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBSZXBsYXlGaWxlIHtcbiAgcmVwbGF5SWQ/OiBzdHJpbmc7XG4gIGludGVyYWN0aW9ucz86IFJlcGxheUludGVyYWN0aW9uW107XG59XG5cbi8qKiBVc2VkIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVXBsb2FkRmlsZUNvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogQWJvcnQgc2lnbmFsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgcmVxdWVzdC5cblxuICBOT1RFOiBBYm9ydFNpZ25hbCBpcyBhIGNsaWVudC1vbmx5IG9wZXJhdGlvbi4gVXNpbmcgaXQgdG8gY2FuY2VsIGFuXG4gIG9wZXJhdGlvbiB3aWxsIG5vdCBjYW5jZWwgdGhlIHJlcXVlc3QgaW4gdGhlIHNlcnZpY2UuIFlvdSB3aWxsIHN0aWxsXG4gIGJlIGNoYXJnZWQgdXNhZ2UgZm9yIGFueSBhcHBsaWNhYmxlIG9wZXJhdGlvbnMuXG4gICAgICAgKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbiAgLyoqIFRoZSBuYW1lIG9mIHRoZSBmaWxlIGluIHRoZSBkZXN0aW5hdGlvbiAoZS5nLiwgJ2ZpbGVzL3NhbXBsZS1pbWFnZScuIElmIG5vdCBwcm92aWRlZCBvbmUgd2lsbCBiZSBnZW5lcmF0ZWQuICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKiBtaW1lX3R5cGU6IFRoZSBNSU1FIHR5cGUgb2YgdGhlIGZpbGUuIElmIG5vdCBwcm92aWRlZCwgaXQgd2lsbCBiZSBpbmZlcnJlZCBmcm9tIHRoZSBmaWxlIGV4dGVuc2lvbi4gKi9cbiAgbWltZVR5cGU/OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbCBkaXNwbGF5IG5hbWUgb2YgdGhlIGZpbGUuICovXG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xufVxuXG4vKiogVXNlZCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIERvd25sb2FkRmlsZUNvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogQWJvcnQgc2lnbmFsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgcmVxdWVzdC5cblxuICBOT1RFOiBBYm9ydFNpZ25hbCBpcyBhIGNsaWVudC1vbmx5IG9wZXJhdGlvbi4gVXNpbmcgaXQgdG8gY2FuY2VsIGFuXG4gIG9wZXJhdGlvbiB3aWxsIG5vdCBjYW5jZWwgdGhlIHJlcXVlc3QgaW4gdGhlIHNlcnZpY2UuIFlvdSB3aWxsIHN0aWxsXG4gIGJlIGNoYXJnZWQgdXNhZ2UgZm9yIGFueSBhcHBsaWNhYmxlIG9wZXJhdGlvbnMuXG4gICAgICAgKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbn1cblxuLyoqIFBhcmFtZXRlcnMgdXNlZCB0byBkb3dubG9hZCBhIGZpbGUuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRG93bmxvYWRGaWxlUGFyYW1ldGVycyB7XG4gIC8qKiBUaGUgZmlsZSB0byBkb3dubG9hZC4gSXQgY2FuIGJlIGEgZmlsZSBuYW1lLCBhIGZpbGUgb2JqZWN0IG9yIGEgZ2VuZXJhdGVkIHZpZGVvLiAqL1xuICBmaWxlOiBEb3dubG9hZGFibGVGaWxlVW5pb247XG4gIC8qKiBMb2NhdGlvbiB3aGVyZSB0aGUgZmlsZSBzaG91bGQgYmUgZG93bmxvYWRlZCB0by4gKi9cbiAgZG93bmxvYWRQYXRoOiBzdHJpbmc7XG4gIC8qKiBDb25maWd1cmF0aW9uIHRvIGZvciB0aGUgZG93bmxvYWQgb3BlcmF0aW9uLiAqL1xuICBjb25maWc/OiBEb3dubG9hZEZpbGVDb25maWc7XG59XG5cbi8qKiBDb25maWd1cmF0aW9uIGZvciB1cHNjYWxpbmcgYW4gaW1hZ2UuXG5cbkZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHRoaXMgY29uZmlndXJhdGlvbiwgcmVmZXIgdG9cbnRoZSBgSW1hZ2VuIEFQSSByZWZlcmVuY2UgZG9jdW1lbnRhdGlvblxuPGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS92ZXJ0ZXgtYWkvZ2VuZXJhdGl2ZS1haS9kb2NzL21vZGVsLXJlZmVyZW5jZS9pbWFnZW4tYXBpPmBfLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFVwc2NhbGVJbWFnZUNvbmZpZyB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIEhUVFAgcmVxdWVzdCBvcHRpb25zLiAqL1xuICBodHRwT3B0aW9ucz86IEh0dHBPcHRpb25zO1xuICAvKiogQWJvcnQgc2lnbmFsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgcmVxdWVzdC5cblxuICBOT1RFOiBBYm9ydFNpZ25hbCBpcyBhIGNsaWVudC1vbmx5IG9wZXJhdGlvbi4gVXNpbmcgaXQgdG8gY2FuY2VsIGFuXG4gIG9wZXJhdGlvbiB3aWxsIG5vdCBjYW5jZWwgdGhlIHJlcXVlc3QgaW4gdGhlIHNlcnZpY2UuIFlvdSB3aWxsIHN0aWxsXG4gIGJlIGNoYXJnZWQgdXNhZ2UgZm9yIGFueSBhcHBsaWNhYmxlIG9wZXJhdGlvbnMuXG4gICAgICAgKi9cbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbiAgLyoqIENsb3VkIFN0b3JhZ2UgVVJJIHVzZWQgdG8gc3RvcmUgdGhlIGdlbmVyYXRlZCBpbWFnZXMuICovXG4gIG91dHB1dEdjc1VyaT86IHN0cmluZztcbiAgLyoqIEZpbHRlciBsZXZlbCBmb3Igc2FmZXR5IGZpbHRlcmluZy4gKi9cbiAgc2FmZXR5RmlsdGVyTGV2ZWw/OiBTYWZldHlGaWx0ZXJMZXZlbDtcbiAgLyoqIEFsbG93cyBnZW5lcmF0aW9uIG9mIHBlb3BsZSBieSB0aGUgbW9kZWwuICovXG4gIHBlcnNvbkdlbmVyYXRpb24/OiBQZXJzb25HZW5lcmF0aW9uO1xuICAvKiogV2hldGhlciB0byBpbmNsdWRlIGEgcmVhc29uIGZvciBmaWx0ZXJlZC1vdXQgaW1hZ2VzIGluIHRoZVxuICAgICAgcmVzcG9uc2UuICovXG4gIGluY2x1ZGVSYWlSZWFzb24/OiBib29sZWFuO1xuICAvKiogVGhlIGltYWdlIGZvcm1hdCB0aGF0IHRoZSBvdXRwdXQgc2hvdWxkIGJlIHNhdmVkIGFzLiAqL1xuICBvdXRwdXRNaW1lVHlwZT86IHN0cmluZztcbiAgLyoqIFRoZSBsZXZlbCBvZiBjb21wcmVzc2lvbi4gT25seSBhcHBsaWNhYmxlIGlmIHRoZVxuICAgICAgYGBvdXRwdXRfbWltZV90eXBlYGAgaXMgYGBpbWFnZS9qcGVnYGAuICovXG4gIG91dHB1dENvbXByZXNzaW9uUXVhbGl0eT86IG51bWJlcjtcbiAgLyoqIFdoZXRoZXIgdG8gYWRkIGFuIGltYWdlIGVuaGFuY2luZyBzdGVwIGJlZm9yZSB1cHNjYWxpbmcuXG4gICAgICBJdCBpcyBleHBlY3RlZCB0byBzdXBwcmVzcyB0aGUgbm9pc2UgYW5kIEpQRUcgY29tcHJlc3Npb24gYXJ0aWZhY3RzXG4gICAgICBmcm9tIHRoZSBpbnB1dCBpbWFnZS4gKi9cbiAgZW5oYW5jZUlucHV0SW1hZ2U/OiBib29sZWFuO1xuICAvKiogV2l0aCBhIGhpZ2hlciBpbWFnZSBwcmVzZXJ2YXRpb24gZmFjdG9yLCB0aGUgb3JpZ2luYWwgaW1hZ2VcbiAgICAgIHBpeGVscyBhcmUgbW9yZSByZXNwZWN0ZWQuIFdpdGggYSBsb3dlciBpbWFnZSBwcmVzZXJ2YXRpb24gZmFjdG9yLCB0aGVcbiAgICAgIG91dHB1dCBpbWFnZSB3aWxsIGhhdmUgYmUgbW9yZSBkaWZmZXJlbnQgZnJvbSB0aGUgaW5wdXQgaW1hZ2UsIGJ1dFxuICAgICAgd2l0aCBmaW5lciBkZXRhaWxzIGFuZCBsZXNzIG5vaXNlLiAqL1xuICBpbWFnZVByZXNlcnZhdGlvbkZhY3Rvcj86IG51bWJlcjtcbiAgLyoqIFVzZXIgc3BlY2lmaWVkIGxhYmVscyB0byB0cmFjayBiaWxsaW5nIHVzYWdlLiAqL1xuICBsYWJlbHM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xufVxuXG4vKiogVXNlci1mYWNpbmcgY29uZmlnIFVwc2NhbGVJbWFnZVBhcmFtZXRlcnMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVXBzY2FsZUltYWdlUGFyYW1ldGVycyB7XG4gIC8qKiBUaGUgbW9kZWwgdG8gdXNlLiAqL1xuICBtb2RlbDogc3RyaW5nO1xuICAvKiogVGhlIGlucHV0IGltYWdlIHRvIHVwc2NhbGUuICovXG4gIGltYWdlOiBJbWFnZTtcbiAgLyoqIFRoZSBmYWN0b3IgdG8gdXBzY2FsZSB0aGUgaW1hZ2UgKHgyIG9yIHg0KS4gKi9cbiAgdXBzY2FsZUZhY3Rvcjogc3RyaW5nO1xuICAvKiogQ29uZmlndXJhdGlvbiBmb3IgdXBzY2FsaW5nLiAqL1xuICBjb25maWc/OiBVcHNjYWxlSW1hZ2VDb25maWc7XG59XG5cbi8qKiBBIHJhdyByZWZlcmVuY2UgaW1hZ2UuXG5cbkEgcmF3IHJlZmVyZW5jZSBpbWFnZSByZXByZXNlbnRzIHRoZSBiYXNlIGltYWdlIHRvIGVkaXQsIHByb3ZpZGVkIGJ5IHRoZSB1c2VyLlxuSXQgY2FuIG9wdGlvbmFsbHkgYmUgcHJvdmlkZWQgaW4gYWRkaXRpb24gdG8gYSBtYXNrIHJlZmVyZW5jZSBpbWFnZSBvclxuYSBzdHlsZSByZWZlcmVuY2UgaW1hZ2UuICovXG5leHBvcnQgY2xhc3MgUmF3UmVmZXJlbmNlSW1hZ2Uge1xuICAvKiogVGhlIHJlZmVyZW5jZSBpbWFnZSBmb3IgdGhlIGVkaXRpbmcgb3BlcmF0aW9uLiAqL1xuICByZWZlcmVuY2VJbWFnZT86IEltYWdlO1xuICAvKiogVGhlIGlkIG9mIHRoZSByZWZlcmVuY2UgaW1hZ2UuICovXG4gIHJlZmVyZW5jZUlkPzogbnVtYmVyO1xuICAvKiogVGhlIHR5cGUgb2YgdGhlIHJlZmVyZW5jZSBpbWFnZS4gT25seSBzZXQgYnkgdGhlIFNESy4gKi9cbiAgcmVmZXJlbmNlVHlwZT86IHN0cmluZztcbiAgLyoqIEludGVybmFsIG1ldGhvZCB0byBjb252ZXJ0IHRvIFJlZmVyZW5jZUltYWdlQVBJSW50ZXJuYWwuICovXG4gIHRvUmVmZXJlbmNlSW1hZ2VBUEkoKTogUmVmZXJlbmNlSW1hZ2VBUElJbnRlcm5hbCB7XG4gICAgY29uc3QgcmVmZXJlbmNlSW1hZ2VBUEkgPSB7XG4gICAgICByZWZlcmVuY2VUeXBlOiAnUkVGRVJFTkNFX1RZUEVfUkFXJyxcbiAgICAgIHJlZmVyZW5jZUltYWdlOiB0aGlzLnJlZmVyZW5jZUltYWdlLFxuICAgICAgcmVmZXJlbmNlSWQ6IHRoaXMucmVmZXJlbmNlSWQsXG4gICAgfTtcbiAgICByZXR1cm4gcmVmZXJlbmNlSW1hZ2VBUEk7XG4gIH1cbn1cblxuLyoqIEEgbWFzayByZWZlcmVuY2UgaW1hZ2UuXG5cblRoaXMgZW5jYXBzdWxhdGVzIGVpdGhlciBhIG1hc2sgaW1hZ2UgcHJvdmlkZWQgYnkgdGhlIHVzZXIgYW5kIGNvbmZpZ3MgZm9yXG50aGUgdXNlciBwcm92aWRlZCBtYXNrLCBvciBvbmx5IGNvbmZpZyBwYXJhbWV0ZXJzIGZvciB0aGUgbW9kZWwgdG8gZ2VuZXJhdGVcbmEgbWFzay5cblxuQSBtYXNrIGltYWdlIGlzIGFuIGltYWdlIHdob3NlIG5vbi16ZXJvIHZhbHVlcyBpbmRpY2F0ZSB3aGVyZSB0byBlZGl0IHRoZSBiYXNlXG5pbWFnZS4gSWYgdGhlIHVzZXIgcHJvdmlkZXMgYSBtYXNrIGltYWdlLCB0aGUgbWFzayBtdXN0IGJlIGluIHRoZSBzYW1lXG5kaW1lbnNpb25zIGFzIHRoZSByYXcgaW1hZ2UuICovXG5leHBvcnQgY2xhc3MgTWFza1JlZmVyZW5jZUltYWdlIHtcbiAgLyoqIFRoZSByZWZlcmVuY2UgaW1hZ2UgZm9yIHRoZSBlZGl0aW5nIG9wZXJhdGlvbi4gKi9cbiAgcmVmZXJlbmNlSW1hZ2U/OiBJbWFnZTtcbiAgLyoqIFRoZSBpZCBvZiB0aGUgcmVmZXJlbmNlIGltYWdlLiAqL1xuICByZWZlcmVuY2VJZD86IG51bWJlcjtcbiAgLyoqIFRoZSB0eXBlIG9mIHRoZSByZWZlcmVuY2UgaW1hZ2UuIE9ubHkgc2V0IGJ5IHRoZSBTREsuICovXG4gIHJlZmVyZW5jZVR5cGU/OiBzdHJpbmc7XG4gIC8qKiBDb25maWd1cmF0aW9uIGZvciB0aGUgbWFzayByZWZlcmVuY2UgaW1hZ2UuICovXG4gIGNvbmZpZz86IE1hc2tSZWZlcmVuY2VDb25maWc7XG4gIC8qKiBJbnRlcm5hbCBtZXRob2QgdG8gY29udmVydCB0byBSZWZlcmVuY2VJbWFnZUFQSUludGVybmFsLiAqL1xuICB0b1JlZmVyZW5jZUltYWdlQVBJKCk6IFJlZmVyZW5jZUltYWdlQVBJSW50ZXJuYWwge1xuICAgIGNvbnN0IHJlZmVyZW5jZUltYWdlQVBJID0ge1xuICAgICAgcmVmZXJlbmNlVHlwZTogJ1JFRkVSRU5DRV9UWVBFX01BU0snLFxuICAgICAgcmVmZXJlbmNlSW1hZ2U6IHRoaXMucmVmZXJlbmNlSW1hZ2UsXG4gICAgICByZWZlcmVuY2VJZDogdGhpcy5yZWZlcmVuY2VJZCxcbiAgICAgIG1hc2tJbWFnZUNvbmZpZzogdGhpcy5jb25maWcsXG4gICAgfTtcbiAgICByZXR1cm4gcmVmZXJlbmNlSW1hZ2VBUEk7XG4gIH1cbn1cblxuLyoqIEEgY29udHJvbCByZWZlcmVuY2UgaW1hZ2UuXG5cblRoZSBpbWFnZSBvZiB0aGUgY29udHJvbCByZWZlcmVuY2UgaW1hZ2UgaXMgZWl0aGVyIGEgY29udHJvbCBpbWFnZSBwcm92aWRlZFxuYnkgdGhlIHVzZXIsIG9yIGEgcmVndWxhciBpbWFnZSB3aGljaCB0aGUgYmFja2VuZCB3aWxsIHVzZSB0byBnZW5lcmF0ZSBhXG5jb250cm9sIGltYWdlIG9mLiBJbiB0aGUgY2FzZSBvZiB0aGUgbGF0dGVyLCB0aGVcbmVuYWJsZV9jb250cm9sX2ltYWdlX2NvbXB1dGF0aW9uIGZpZWxkIGluIHRoZSBjb25maWcgc2hvdWxkIGJlIHNldCB0byBUcnVlLlxuXG5BIGNvbnRyb2wgaW1hZ2UgaXMgYW4gaW1hZ2UgdGhhdCByZXByZXNlbnRzIGEgc2tldGNoIGltYWdlIG9mIGFyZWFzIGZvciB0aGVcbm1vZGVsIHRvIGZpbGwgaW4gYmFzZWQgb24gdGhlIHByb21wdC4gKi9cbmV4cG9ydCBjbGFzcyBDb250cm9sUmVmZXJlbmNlSW1hZ2Uge1xuICAvKiogVGhlIHJlZmVyZW5jZSBpbWFnZSBmb3IgdGhlIGVkaXRpbmcgb3BlcmF0aW9uLiAqL1xuICByZWZlcmVuY2VJbWFnZT86IEltYWdlO1xuICAvKiogVGhlIGlkIG9mIHRoZSByZWZlcmVuY2UgaW1hZ2UuICovXG4gIHJlZmVyZW5jZUlkPzogbnVtYmVyO1xuICAvKiogVGhlIHR5cGUgb2YgdGhlIHJlZmVyZW5jZSBpbWFnZS4gT25seSBzZXQgYnkgdGhlIFNESy4gKi9cbiAgcmVmZXJlbmNlVHlwZT86IHN0cmluZztcbiAgLyoqIENvbmZpZ3VyYXRpb24gZm9yIHRoZSBjb250cm9sIHJlZmVyZW5jZSBpbWFnZS4gKi9cbiAgY29uZmlnPzogQ29udHJvbFJlZmVyZW5jZUNvbmZpZztcbiAgLyoqIEludGVybmFsIG1ldGhvZCB0byBjb252ZXJ0IHRvIFJlZmVyZW5jZUltYWdlQVBJSW50ZXJuYWwuICovXG4gIHRvUmVmZXJlbmNlSW1hZ2VBUEkoKTogUmVmZXJlbmNlSW1hZ2VBUElJbnRlcm5hbCB7XG4gICAgY29uc3QgcmVmZXJlbmNlSW1hZ2VBUEkgPSB7XG4gICAgICByZWZlcmVuY2VUeXBlOiAnUkVGRVJFTkNFX1RZUEVfQ09OVFJPTCcsXG4gICAgICByZWZlcmVuY2VJbWFnZTogdGhpcy5yZWZlcmVuY2VJbWFnZSxcbiAgICAgIHJlZmVyZW5jZUlkOiB0aGlzLnJlZmVyZW5jZUlkLFxuICAgICAgY29udHJvbEltYWdlQ29uZmlnOiB0aGlzLmNvbmZpZyxcbiAgICB9O1xuICAgIHJldHVybiByZWZlcmVuY2VJbWFnZUFQSTtcbiAgfVxufVxuXG4vKiogQSBzdHlsZSByZWZlcmVuY2UgaW1hZ2UuXG5cblRoaXMgZW5jYXBzdWxhdGVzIGEgc3R5bGUgcmVmZXJlbmNlIGltYWdlIHByb3ZpZGVkIGJ5IHRoZSB1c2VyLCBhbmRcbmFkZGl0aW9uYWxseSBvcHRpb25hbCBjb25maWcgcGFyYW1ldGVycyBmb3IgdGhlIHN0eWxlIHJlZmVyZW5jZSBpbWFnZS5cblxuQSByYXcgcmVmZXJlbmNlIGltYWdlIGNhbiBhbHNvIGJlIHByb3ZpZGVkIGFzIGEgZGVzdGluYXRpb24gZm9yIHRoZSBzdHlsZSB0b1xuYmUgYXBwbGllZCB0by4gKi9cbmV4cG9ydCBjbGFzcyBTdHlsZVJlZmVyZW5jZUltYWdlIHtcbiAgLyoqIFRoZSByZWZlcmVuY2UgaW1hZ2UgZm9yIHRoZSBlZGl0aW5nIG9wZXJhdGlvbi4gKi9cbiAgcmVmZXJlbmNlSW1hZ2U/OiBJbWFnZTtcbiAgLyoqIFRoZSBpZCBvZiB0aGUgcmVmZXJlbmNlIGltYWdlLiAqL1xuICByZWZlcmVuY2VJZD86IG51bWJlcjtcbiAgLyoqIFRoZSB0eXBlIG9mIHRoZSByZWZlcmVuY2UgaW1hZ2UuIE9ubHkgc2V0IGJ5IHRoZSBTREsuICovXG4gIHJlZmVyZW5jZVR5cGU/OiBzdHJpbmc7XG4gIC8qKiBDb25maWd1cmF0aW9uIGZvciB0aGUgc3R5bGUgcmVmZXJlbmNlIGltYWdlLiAqL1xuICBjb25maWc/OiBTdHlsZVJlZmVyZW5jZUNvbmZpZztcbiAgLyoqIEludGVybmFsIG1ldGhvZCB0byBjb252ZXJ0IHRvIFJlZmVyZW5jZUltYWdlQVBJSW50ZXJuYWwuICovXG4gIHRvUmVmZXJlbmNlSW1hZ2VBUEkoKTogUmVmZXJlbmNlSW1hZ2VBUElJbnRlcm5hbCB7XG4gICAgY29uc3QgcmVmZXJlbmNlSW1hZ2VBUEkgPSB7XG4gICAgICByZWZlcmVuY2VUeXBlOiAnUkVGRVJFTkNFX1RZUEVfU1RZTEUnLFxuICAgICAgcmVmZXJlbmNlSW1hZ2U6IHRoaXMucmVmZXJlbmNlSW1hZ2UsXG4gICAgICByZWZlcmVuY2VJZDogdGhpcy5yZWZlcmVuY2VJZCxcbiAgICAgIHN0eWxlSW1hZ2VDb25maWc6IHRoaXMuY29uZmlnLFxuICAgIH07XG4gICAgcmV0dXJuIHJlZmVyZW5jZUltYWdlQVBJO1xuICB9XG59XG5cbi8qKiBBIHN1YmplY3QgcmVmZXJlbmNlIGltYWdlLlxuXG5UaGlzIGVuY2Fwc3VsYXRlcyBhIHN1YmplY3QgcmVmZXJlbmNlIGltYWdlIHByb3ZpZGVkIGJ5IHRoZSB1c2VyLCBhbmRcbmFkZGl0aW9uYWxseSBvcHRpb25hbCBjb25maWcgcGFyYW1ldGVycyBmb3IgdGhlIHN1YmplY3QgcmVmZXJlbmNlIGltYWdlLlxuXG5BIHJhdyByZWZlcmVuY2UgaW1hZ2UgY2FuIGFsc28gYmUgcHJvdmlkZWQgYXMgYSBkZXN0aW5hdGlvbiBmb3IgdGhlIHN1YmplY3QgdG9cbmJlIGFwcGxpZWQgdG8uICovXG5leHBvcnQgY2xhc3MgU3ViamVjdFJlZmVyZW5jZUltYWdlIHtcbiAgLyoqIFRoZSByZWZlcmVuY2UgaW1hZ2UgZm9yIHRoZSBlZGl0aW5nIG9wZXJhdGlvbi4gKi9cbiAgcmVmZXJlbmNlSW1hZ2U/OiBJbWFnZTtcbiAgLyoqIFRoZSBpZCBvZiB0aGUgcmVmZXJlbmNlIGltYWdlLiAqL1xuICByZWZlcmVuY2VJZD86IG51bWJlcjtcbiAgLyoqIFRoZSB0eXBlIG9mIHRoZSByZWZlcmVuY2UgaW1hZ2UuIE9ubHkgc2V0IGJ5IHRoZSBTREsuICovXG4gIHJlZmVyZW5jZVR5cGU/OiBzdHJpbmc7XG4gIC8qKiBDb25maWd1cmF0aW9uIGZvciB0aGUgc3ViamVjdCByZWZlcmVuY2UgaW1hZ2UuICovXG4gIGNvbmZpZz86IFN1YmplY3RSZWZlcmVuY2VDb25maWc7XG4gIC8qIEludGVybmFsIG1ldGhvZCB0byBjb252ZXJ0IHRvIFJlZmVyZW5jZUltYWdlQVBJSW50ZXJuYWwuICovXG4gIHRvUmVmZXJlbmNlSW1hZ2VBUEkoKTogUmVmZXJlbmNlSW1hZ2VBUElJbnRlcm5hbCB7XG4gICAgY29uc3QgcmVmZXJlbmNlSW1hZ2VBUEkgPSB7XG4gICAgICByZWZlcmVuY2VUeXBlOiAnUkVGRVJFTkNFX1RZUEVfU1VCSkVDVCcsXG4gICAgICByZWZlcmVuY2VJbWFnZTogdGhpcy5yZWZlcmVuY2VJbWFnZSxcbiAgICAgIHJlZmVyZW5jZUlkOiB0aGlzLnJlZmVyZW5jZUlkLFxuICAgICAgc3ViamVjdEltYWdlQ29uZmlnOiB0aGlzLmNvbmZpZyxcbiAgICB9O1xuICAgIHJldHVybiByZWZlcmVuY2VJbWFnZUFQSTtcbiAgfVxufVxuXG4vKiogQSBjb250ZW50IHJlZmVyZW5jZSBpbWFnZS5cblxuQSBjb250ZW50IHJlZmVyZW5jZSBpbWFnZSByZXByZXNlbnRzIGEgc3ViamVjdCB0byByZWZlcmVuY2UgKGV4LiBwZXJzb24sXG5wcm9kdWN0LCBhbmltYWwpIHByb3ZpZGVkIGJ5IHRoZSB1c2VyLiBJdCBjYW4gb3B0aW9uYWxseSBiZSBwcm92aWRlZCBpblxuYWRkaXRpb24gdG8gYSBzdHlsZSByZWZlcmVuY2UgaW1hZ2UgKGV4LiBiYWNrZ3JvdW5kLCBzdHlsZSByZWZlcmVuY2UpLiAqL1xuZXhwb3J0IGNsYXNzIENvbnRlbnRSZWZlcmVuY2VJbWFnZSB7XG4gIC8qKiBUaGUgcmVmZXJlbmNlIGltYWdlIGZvciB0aGUgZWRpdGluZyBvcGVyYXRpb24uICovXG4gIHJlZmVyZW5jZUltYWdlPzogSW1hZ2U7XG4gIC8qKiBUaGUgaWQgb2YgdGhlIHJlZmVyZW5jZSBpbWFnZS4gKi9cbiAgcmVmZXJlbmNlSWQ/OiBudW1iZXI7XG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUgcmVmZXJlbmNlIGltYWdlLiBPbmx5IHNldCBieSB0aGUgU0RLLiAqL1xuICByZWZlcmVuY2VUeXBlPzogc3RyaW5nO1xuICAvKiogSW50ZXJuYWwgbWV0aG9kIHRvIGNvbnZlcnQgdG8gUmVmZXJlbmNlSW1hZ2VBUElJbnRlcm5hbC4gKi9cbiAgdG9SZWZlcmVuY2VJbWFnZUFQSSgpOiBSZWZlcmVuY2VJbWFnZUFQSUludGVybmFsIHtcbiAgICBjb25zdCByZWZlcmVuY2VJbWFnZUFQSSA9IHtcbiAgICAgIHJlZmVyZW5jZVR5cGU6ICdSRUZFUkVOQ0VfVFlQRV9DT05URU5UJyxcbiAgICAgIHJlZmVyZW5jZUltYWdlOiB0aGlzLnJlZmVyZW5jZUltYWdlLFxuICAgICAgcmVmZXJlbmNlSWQ6IHRoaXMucmVmZXJlbmNlSWQsXG4gICAgfTtcbiAgICByZXR1cm4gcmVmZXJlbmNlSW1hZ2VBUEk7XG4gIH1cbn1cblxuLyoqIFNlbnQgaW4gcmVzcG9uc2UgdG8gYSBgTGl2ZUdlbmVyYXRlQ29udGVudFNldHVwYCBtZXNzYWdlIGZyb20gdGhlIGNsaWVudC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlU2VydmVyU2V0dXBDb21wbGV0ZSB7XG4gIC8qKiBUaGUgc2Vzc2lvbiBpZCBvZiB0aGUgbGl2ZSBzZXNzaW9uLiAqL1xuICBzZXNzaW9uSWQ/OiBzdHJpbmc7XG59XG5cbi8qKiBBdWRpbyB0cmFuc2NyaXB0aW9uIGluIFNlcnZlciBDb25lbnQuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVHJhbnNjcmlwdGlvbiB7XG4gIC8qKiBUcmFuc2NyaXB0aW9uIHRleHQuXG4gICAqL1xuICB0ZXh0Pzogc3RyaW5nO1xuICAvKiogVGhlIGJvb2wgaW5kaWNhdGVzIHRoZSBlbmQgb2YgdGhlIHRyYW5zY3JpcHRpb24uXG4gICAqL1xuICBmaW5pc2hlZD86IGJvb2xlYW47XG59XG5cbi8qKiBJbmNyZW1lbnRhbCBzZXJ2ZXIgdXBkYXRlIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgaW4gcmVzcG9uc2UgdG8gY2xpZW50IG1lc3NhZ2VzLlxuXG5Db250ZW50IGlzIGdlbmVyYXRlZCBhcyBxdWlja2x5IGFzIHBvc3NpYmxlLCBhbmQgbm90IGluIHJlYWwgdGltZS4gQ2xpZW50c1xubWF5IGNob29zZSB0byBidWZmZXIgYW5kIHBsYXkgaXQgb3V0IGluIHJlYWwgdGltZS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlU2VydmVyQ29udGVudCB7XG4gIC8qKiBUaGUgY29udGVudCB0aGF0IHRoZSBtb2RlbCBoYXMgZ2VuZXJhdGVkIGFzIHBhcnQgb2YgdGhlIGN1cnJlbnQgY29udmVyc2F0aW9uIHdpdGggdGhlIHVzZXIuICovXG4gIG1vZGVsVHVybj86IENvbnRlbnQ7XG4gIC8qKiBJZiB0cnVlLCBpbmRpY2F0ZXMgdGhhdCB0aGUgbW9kZWwgaXMgZG9uZSBnZW5lcmF0aW5nLiBHZW5lcmF0aW9uIHdpbGwgb25seSBzdGFydCBpbiByZXNwb25zZSB0byBhZGRpdGlvbmFsIGNsaWVudCBtZXNzYWdlcy4gQ2FuIGJlIHNldCBhbG9uZ3NpZGUgYGNvbnRlbnRgLCBpbmRpY2F0aW5nIHRoYXQgdGhlIGBjb250ZW50YCBpcyB0aGUgbGFzdCBpbiB0aGUgdHVybi4gKi9cbiAgdHVybkNvbXBsZXRlPzogYm9vbGVhbjtcbiAgLyoqIElmIHRydWUsIGluZGljYXRlcyB0aGF0IGEgY2xpZW50IG1lc3NhZ2UgaGFzIGludGVycnVwdGVkIGN1cnJlbnQgbW9kZWwgZ2VuZXJhdGlvbi4gSWYgdGhlIGNsaWVudCBpcyBwbGF5aW5nIG91dCB0aGUgY29udGVudCBpbiByZWFsdGltZSwgdGhpcyBpcyBhIGdvb2Qgc2lnbmFsIHRvIHN0b3AgYW5kIGVtcHR5IHRoZSBjdXJyZW50IHF1ZXVlLiAqL1xuICBpbnRlcnJ1cHRlZD86IGJvb2xlYW47XG4gIC8qKiBNZXRhZGF0YSByZXR1cm5lZCB0byBjbGllbnQgd2hlbiBncm91bmRpbmcgaXMgZW5hYmxlZC4gKi9cbiAgZ3JvdW5kaW5nTWV0YWRhdGE/OiBHcm91bmRpbmdNZXRhZGF0YTtcbiAgLyoqIElmIHRydWUsIGluZGljYXRlcyB0aGF0IHRoZSBtb2RlbCBpcyBkb25lIGdlbmVyYXRpbmcuIFdoZW4gbW9kZWwgaXNcbiAgICAgIGludGVycnVwdGVkIHdoaWxlIGdlbmVyYXRpbmcgdGhlcmUgd2lsbCBiZSBubyBnZW5lcmF0aW9uX2NvbXBsZXRlIG1lc3NhZ2VcbiAgICAgIGluIGludGVycnVwdGVkIHR1cm4sIGl0IHdpbGwgZ28gdGhyb3VnaCBpbnRlcnJ1cHRlZCA+IHR1cm5fY29tcGxldGUuXG4gICAgICBXaGVuIG1vZGVsIGFzc3VtZXMgcmVhbHRpbWUgcGxheWJhY2sgdGhlcmUgd2lsbCBiZSBkZWxheSBiZXR3ZWVuXG4gICAgICBnZW5lcmF0aW9uX2NvbXBsZXRlIGFuZCB0dXJuX2NvbXBsZXRlIHRoYXQgaXMgY2F1c2VkIGJ5IG1vZGVsXG4gICAgICB3YWl0aW5nIGZvciBwbGF5YmFjayB0byBmaW5pc2guIElmIHRydWUsIGluZGljYXRlcyB0aGF0IHRoZSBtb2RlbFxuICAgICAgaGFzIGZpbmlzaGVkIGdlbmVyYXRpbmcgYWxsIGNvbnRlbnQuIFRoaXMgaXMgYSBzaWduYWwgdG8gdGhlIGNsaWVudFxuICAgICAgdGhhdCBpdCBjYW4gc3RvcCBzZW5kaW5nIG1lc3NhZ2VzLiAqL1xuICBnZW5lcmF0aW9uQ29tcGxldGU/OiBib29sZWFuO1xuICAvKiogSW5wdXQgdHJhbnNjcmlwdGlvbi4gVGhlIHRyYW5zY3JpcHRpb24gaXMgaW5kZXBlbmRlbnQgdG8gdGhlIG1vZGVsXG4gICAgICB0dXJuIHdoaWNoIG1lYW5zIGl0IGRvZXNu4oCZdCBpbXBseSBhbnkgb3JkZXJpbmcgYmV0d2VlbiB0cmFuc2NyaXB0aW9uIGFuZFxuICAgICAgbW9kZWwgdHVybi4gKi9cbiAgaW5wdXRUcmFuc2NyaXB0aW9uPzogVHJhbnNjcmlwdGlvbjtcbiAgLyoqIE91dHB1dCB0cmFuc2NyaXB0aW9uLiBUaGUgdHJhbnNjcmlwdGlvbiBpcyBpbmRlcGVuZGVudCB0byB0aGUgbW9kZWxcbiAgICAgIHR1cm4gd2hpY2ggbWVhbnMgaXQgZG9lc27igJl0IGltcGx5IGFueSBvcmRlcmluZyBiZXR3ZWVuIHRyYW5zY3JpcHRpb24gYW5kXG4gICAgICBtb2RlbCB0dXJuLlxuICAgICAgICovXG4gIG91dHB1dFRyYW5zY3JpcHRpb24/OiBUcmFuc2NyaXB0aW9uO1xuICAvKiogTWV0YWRhdGEgcmVsYXRlZCB0byB1cmwgY29udGV4dCByZXRyaWV2YWwgdG9vbC4gKi9cbiAgdXJsQ29udGV4dE1ldGFkYXRhPzogVXJsQ29udGV4dE1ldGFkYXRhO1xuICAvKiogUmVhc29uIGZvciB0aGUgdHVybiBpcyBjb21wbGV0ZS4gKi9cbiAgdHVybkNvbXBsZXRlUmVhc29uPzogVHVybkNvbXBsZXRlUmVhc29uO1xuICAvKiogSWYgdHJ1ZSwgaW5kaWNhdGVzIHRoYXQgdGhlIG1vZGVsIGlzIG5vdCBnZW5lcmF0aW5nIGNvbnRlbnQgYmVjYXVzZVxuICAgICAgaXQgaXMgd2FpdGluZyBmb3IgbW9yZSBpbnB1dCBmcm9tIHRoZSB1c2VyLCBlLmcuIGJlY2F1c2UgaXQgZXhwZWN0cyB0aGVcbiAgICAgIHVzZXIgdG8gY29udGludWUgdGFsa2luZy4gKi9cbiAgd2FpdGluZ0ZvcklucHV0PzogYm9vbGVhbjtcbn1cblxuLyoqIFJlcXVlc3QgZm9yIHRoZSBjbGllbnQgdG8gZXhlY3V0ZSB0aGUgYGZ1bmN0aW9uX2NhbGxzYCBhbmQgcmV0dXJuIHRoZSByZXNwb25zZXMgd2l0aCB0aGUgbWF0Y2hpbmcgYGlkYHMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGl2ZVNlcnZlclRvb2xDYWxsIHtcbiAgLyoqIFRoZSBmdW5jdGlvbiBjYWxsIHRvIGJlIGV4ZWN1dGVkLiAqL1xuICBmdW5jdGlvbkNhbGxzPzogRnVuY3Rpb25DYWxsW107XG59XG5cbi8qKiBOb3RpZmljYXRpb24gZm9yIHRoZSBjbGllbnQgdGhhdCBhIHByZXZpb3VzbHkgaXNzdWVkIGBUb29sQ2FsbE1lc3NhZ2VgIHdpdGggdGhlIHNwZWNpZmllZCBgaWRgcyBzaG91bGQgaGF2ZSBiZWVuIG5vdCBleGVjdXRlZCBhbmQgc2hvdWxkIGJlIGNhbmNlbGxlZC5cblxuSWYgdGhlcmUgd2VyZSBzaWRlLWVmZmVjdHMgdG8gdGhvc2UgdG9vbCBjYWxscywgY2xpZW50cyBtYXkgYXR0ZW1wdCB0byB1bmRvXG50aGUgdG9vbCBjYWxscy4gVGhpcyBtZXNzYWdlIG9jY3VycyBvbmx5IGluIGNhc2VzIHdoZXJlIHRoZSBjbGllbnRzIGludGVycnVwdFxuc2VydmVyIHR1cm5zLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVTZXJ2ZXJUb29sQ2FsbENhbmNlbGxhdGlvbiB7XG4gIC8qKiBUaGUgaWRzIG9mIHRoZSB0b29sIGNhbGxzIHRvIGJlIGNhbmNlbGxlZC4gKi9cbiAgaWRzPzogc3RyaW5nW107XG59XG5cbi8qKiBVc2FnZSBtZXRhZGF0YSBhYm91dCByZXNwb25zZShzKS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBVc2FnZU1ldGFkYXRhIHtcbiAgLyoqIE51bWJlciBvZiB0b2tlbnMgaW4gdGhlIHByb21wdC4gV2hlbiBgY2FjaGVkX2NvbnRlbnRgIGlzIHNldCwgdGhpcyBpcyBzdGlsbCB0aGUgdG90YWwgZWZmZWN0aXZlIHByb21wdCBzaXplIG1lYW5pbmcgdGhpcyBpbmNsdWRlcyB0aGUgbnVtYmVyIG9mIHRva2VucyBpbiB0aGUgY2FjaGVkIGNvbnRlbnQuICovXG4gIHByb21wdFRva2VuQ291bnQ/OiBudW1iZXI7XG4gIC8qKiBOdW1iZXIgb2YgdG9rZW5zIGluIHRoZSBjYWNoZWQgcGFydCBvZiB0aGUgcHJvbXB0ICh0aGUgY2FjaGVkIGNvbnRlbnQpLiAqL1xuICBjYWNoZWRDb250ZW50VG9rZW5Db3VudD86IG51bWJlcjtcbiAgLyoqIFRvdGFsIG51bWJlciBvZiB0b2tlbnMgYWNyb3NzIGFsbCB0aGUgZ2VuZXJhdGVkIHJlc3BvbnNlIGNhbmRpZGF0ZXMuICovXG4gIHJlc3BvbnNlVG9rZW5Db3VudD86IG51bWJlcjtcbiAgLyoqIE51bWJlciBvZiB0b2tlbnMgcHJlc2VudCBpbiB0b29sLXVzZSBwcm9tcHQocykuICovXG4gIHRvb2xVc2VQcm9tcHRUb2tlbkNvdW50PzogbnVtYmVyO1xuICAvKiogTnVtYmVyIG9mIHRva2VucyBvZiB0aG91Z2h0cyBmb3IgdGhpbmtpbmcgbW9kZWxzLiAqL1xuICB0aG91Z2h0c1Rva2VuQ291bnQ/OiBudW1iZXI7XG4gIC8qKiBUb3RhbCB0b2tlbiBjb3VudCBmb3IgcHJvbXB0LCByZXNwb25zZSBjYW5kaWRhdGVzLCBhbmQgdG9vbC11c2UgcHJvbXB0cyhpZiBwcmVzZW50KS4gKi9cbiAgdG90YWxUb2tlbkNvdW50PzogbnVtYmVyO1xuICAvKiogTGlzdCBvZiBtb2RhbGl0aWVzIHRoYXQgd2VyZSBwcm9jZXNzZWQgaW4gdGhlIHJlcXVlc3QgaW5wdXQuICovXG4gIHByb21wdFRva2Vuc0RldGFpbHM/OiBNb2RhbGl0eVRva2VuQ291bnRbXTtcbiAgLyoqIExpc3Qgb2YgbW9kYWxpdGllcyB0aGF0IHdlcmUgcHJvY2Vzc2VkIGluIHRoZSBjYWNoZSBpbnB1dC4gKi9cbiAgY2FjaGVUb2tlbnNEZXRhaWxzPzogTW9kYWxpdHlUb2tlbkNvdW50W107XG4gIC8qKiBMaXN0IG9mIG1vZGFsaXRpZXMgdGhhdCB3ZXJlIHJldHVybmVkIGluIHRoZSByZXNwb25zZS4gKi9cbiAgcmVzcG9uc2VUb2tlbnNEZXRhaWxzPzogTW9kYWxpdHlUb2tlbkNvdW50W107XG4gIC8qKiBMaXN0IG9mIG1vZGFsaXRpZXMgdGhhdCB3ZXJlIHByb2Nlc3NlZCBpbiB0aGUgdG9vbC11c2UgcHJvbXB0LiAqL1xuICB0b29sVXNlUHJvbXB0VG9rZW5zRGV0YWlscz86IE1vZGFsaXR5VG9rZW5Db3VudFtdO1xuICAvKiogVHJhZmZpYyB0eXBlLiBUaGlzIHNob3dzIHdoZXRoZXIgYSByZXF1ZXN0IGNvbnN1bWVzIFBheS1Bcy1Zb3UtR29cbiBvciBQcm92aXNpb25lZCBUaHJvdWdocHV0IHF1b3RhLiAqL1xuICB0cmFmZmljVHlwZT86IFRyYWZmaWNUeXBlO1xufVxuXG4vKiogU2VydmVyIHdpbGwgbm90IGJlIGFibGUgdG8gc2VydmljZSBjbGllbnQgc29vbi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlU2VydmVyR29Bd2F5IHtcbiAgLyoqIFRoZSByZW1haW5pbmcgdGltZSBiZWZvcmUgdGhlIGNvbm5lY3Rpb24gd2lsbCBiZSB0ZXJtaW5hdGVkIGFzIEFCT1JURUQuIFRoZSBtaW5pbWFsIHRpbWUgcmV0dXJuZWQgaGVyZSBpcyBzcGVjaWZpZWQgZGlmZmVyZW50bHkgdG9nZXRoZXIgd2l0aCB0aGUgcmF0ZSBsaW1pdHMgZm9yIGEgZ2l2ZW4gbW9kZWwuICovXG4gIHRpbWVMZWZ0Pzogc3RyaW5nO1xufVxuXG4vKiogVXBkYXRlIG9mIHRoZSBzZXNzaW9uIHJlc3VtcHRpb24gc3RhdGUuXG5cbk9ubHkgc2VudCBpZiBgc2Vzc2lvbl9yZXN1bXB0aW9uYCB3YXMgc2V0IGluIHRoZSBjb25uZWN0aW9uIGNvbmZpZy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlU2VydmVyU2Vzc2lvblJlc3VtcHRpb25VcGRhdGUge1xuICAvKiogTmV3IGhhbmRsZSB0aGF0IHJlcHJlc2VudHMgc3RhdGUgdGhhdCBjYW4gYmUgcmVzdW1lZC4gRW1wdHkgaWYgYHJlc3VtYWJsZWA9ZmFsc2UuICovXG4gIG5ld0hhbmRsZT86IHN0cmluZztcbiAgLyoqIFRydWUgaWYgc2Vzc2lvbiBjYW4gYmUgcmVzdW1lZCBhdCB0aGlzIHBvaW50LiBJdCBtaWdodCBiZSBub3QgcG9zc2libGUgdG8gcmVzdW1lIHNlc3Npb24gYXQgc29tZSBwb2ludHMuIEluIHRoYXQgY2FzZSB3ZSBzZW5kIHVwZGF0ZSBlbXB0eSBuZXdfaGFuZGxlIGFuZCByZXN1bWFibGU9ZmFsc2UuIEV4YW1wbGUgb2Ygc3VjaCBjYXNlIGNvdWxkIGJlIG1vZGVsIGV4ZWN1dGluZyBmdW5jdGlvbiBjYWxscyBvciBqdXN0IGdlbmVyYXRpbmcuIFJlc3VtaW5nIHNlc3Npb24gKHVzaW5nIHByZXZpb3VzIHNlc3Npb24gdG9rZW4pIGluIHN1Y2ggc3RhdGUgd2lsbCByZXN1bHQgaW4gc29tZSBkYXRhIGxvc3MuICovXG4gIHJlc3VtYWJsZT86IGJvb2xlYW47XG4gIC8qKiBJbmRleCBvZiBsYXN0IG1lc3NhZ2Ugc2VudCBieSBjbGllbnQgdGhhdCBpcyBpbmNsdWRlZCBpbiBzdGF0ZSByZXByZXNlbnRlZCBieSB0aGlzIFNlc3Npb25SZXN1bXB0aW9uVG9rZW4uIE9ubHkgc2VudCB3aGVuIGBTZXNzaW9uUmVzdW1wdGlvbkNvbmZpZy50cmFuc3BhcmVudGAgaXMgc2V0LlxuXG5QcmVzZW5jZSBvZiB0aGlzIGluZGV4IGFsbG93cyB1c2VycyB0byB0cmFuc3BhcmVudGx5IHJlY29ubmVjdCBhbmQgYXZvaWQgaXNzdWUgb2YgbG9zaW5nIHNvbWUgcGFydCBvZiByZWFsdGltZSBhdWRpbyBpbnB1dC92aWRlby4gSWYgY2xpZW50IHdpc2hlcyB0byB0ZW1wb3JhcmlseSBkaXNjb25uZWN0IChmb3IgZXhhbXBsZSBhcyByZXN1bHQgb2YgcmVjZWl2aW5nIEdvQXdheSkgdGhleSBjYW4gZG8gaXQgd2l0aG91dCBsb3Npbmcgc3RhdGUgYnkgYnVmZmVyaW5nIG1lc3NhZ2VzIHNlbnQgc2luY2UgbGFzdCBgU2Vzc2lvblJlc211bXB0aW9uVG9rZW5VcGRhdGVgLiBUaGlzIGZpZWxkIHdpbGwgZW5hYmxlIHRoZW0gdG8gbGltaXQgYnVmZmVyaW5nIChhdm9pZCBrZWVwaW5nIGFsbCByZXF1ZXN0cyBpbiBSQU0pLlxuXG5Ob3RlOiBUaGlzIHNob3VsZCBub3QgYmUgdXNlZCBmb3Igd2hlbiByZXN1bWluZyBhIHNlc3Npb24gYXQgc29tZSB0aW1lIGxhdGVyIC0tIGluIHRob3NlIGNhc2VzIHBhcnRpYWwgYXVkaW8gYW5kIHZpZGVvIGZyYW1lcyBhcmVsaWtlbHkgbm90IG5lZWRlZC4gKi9cbiAgbGFzdENvbnN1bWVkQ2xpZW50TWVzc2FnZUluZGV4Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVm9pY2VBY3Rpdml0eURldGVjdGlvblNpZ25hbCB7XG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUgVkFEIHNpZ25hbC4gKi9cbiAgdmFkU2lnbmFsVHlwZT86IFZhZFNpZ25hbFR5cGU7XG59XG5cbi8qKiBSZXNwb25zZSBtZXNzYWdlIGZvciBBUEkgY2FsbC4gKi9cbmV4cG9ydCBjbGFzcyBMaXZlU2VydmVyTWVzc2FnZSB7XG4gIC8qKiBTZW50IGluIHJlc3BvbnNlIHRvIGEgYExpdmVDbGllbnRTZXR1cGAgbWVzc2FnZSBmcm9tIHRoZSBjbGllbnQuICovXG4gIHNldHVwQ29tcGxldGU/OiBMaXZlU2VydmVyU2V0dXBDb21wbGV0ZTtcbiAgLyoqIENvbnRlbnQgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCBpbiByZXNwb25zZSB0byBjbGllbnQgbWVzc2FnZXMuICovXG4gIHNlcnZlckNvbnRlbnQ/OiBMaXZlU2VydmVyQ29udGVudDtcbiAgLyoqIFJlcXVlc3QgZm9yIHRoZSBjbGllbnQgdG8gZXhlY3V0ZSB0aGUgYGZ1bmN0aW9uX2NhbGxzYCBhbmQgcmV0dXJuIHRoZSByZXNwb25zZXMgd2l0aCB0aGUgbWF0Y2hpbmcgYGlkYHMuICovXG4gIHRvb2xDYWxsPzogTGl2ZVNlcnZlclRvb2xDYWxsO1xuICAvKiogTm90aWZpY2F0aW9uIGZvciB0aGUgY2xpZW50IHRoYXQgYSBwcmV2aW91c2x5IGlzc3VlZCBgVG9vbENhbGxNZXNzYWdlYCB3aXRoIHRoZSBzcGVjaWZpZWQgYGlkYHMgc2hvdWxkIGhhdmUgYmVlbiBub3QgZXhlY3V0ZWQgYW5kIHNob3VsZCBiZSBjYW5jZWxsZWQuICovXG4gIHRvb2xDYWxsQ2FuY2VsbGF0aW9uPzogTGl2ZVNlcnZlclRvb2xDYWxsQ2FuY2VsbGF0aW9uO1xuICAvKiogVXNhZ2UgbWV0YWRhdGEgYWJvdXQgbW9kZWwgcmVzcG9uc2UocykuICovXG4gIHVzYWdlTWV0YWRhdGE/OiBVc2FnZU1ldGFkYXRhO1xuICAvKiogU2VydmVyIHdpbGwgZGlzY29ubmVjdCBzb29uLiAqL1xuICBnb0F3YXk/OiBMaXZlU2VydmVyR29Bd2F5O1xuICAvKiogVXBkYXRlIG9mIHRoZSBzZXNzaW9uIHJlc3VtcHRpb24gc3RhdGUuICovXG4gIHNlc3Npb25SZXN1bXB0aW9uVXBkYXRlPzogTGl2ZVNlcnZlclNlc3Npb25SZXN1bXB0aW9uVXBkYXRlO1xuICAvKiogVm9pY2UgYWN0aXZpdHkgZGV0ZWN0aW9uIHNpZ25hbC4gKi9cbiAgdm9pY2VBY3Rpdml0eURldGVjdGlvblNpZ25hbD86IFZvaWNlQWN0aXZpdHlEZXRlY3Rpb25TaWduYWw7XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjb25jYXRlbmF0aW9uIG9mIGFsbCB0ZXh0IHBhcnRzIGZyb20gdGhlIHNlcnZlciBjb250ZW50IGlmIHByZXNlbnQuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIElmIHRoZXJlIGFyZSBub24tdGV4dCBwYXJ0cyBpbiB0aGUgcmVzcG9uc2UsIHRoZSBjb25jYXRlbmF0aW9uIG9mIGFsbCB0ZXh0XG4gICAqIHBhcnRzIHdpbGwgYmUgcmV0dXJuZWQsIGFuZCBhIHdhcm5pbmcgd2lsbCBiZSBsb2dnZWQuXG4gICAqL1xuICBnZXQgdGV4dCgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIGxldCB0ZXh0ID0gJyc7XG4gICAgbGV0IGFueVRleHRQYXJ0Rm91bmQgPSBmYWxzZTtcbiAgICBjb25zdCBub25UZXh0UGFydHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHBhcnQgb2YgdGhpcy5zZXJ2ZXJDb250ZW50Py5tb2RlbFR1cm4/LnBhcnRzID8/IFtdKSB7XG4gICAgICBmb3IgKGNvbnN0IFtmaWVsZE5hbWUsIGZpZWxkVmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHBhcnQpKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBmaWVsZE5hbWUgIT09ICd0ZXh0JyAmJlxuICAgICAgICAgIGZpZWxkTmFtZSAhPT0gJ3Rob3VnaHQnICYmXG4gICAgICAgICAgZmllbGRWYWx1ZSAhPT0gbnVsbFxuICAgICAgICApIHtcbiAgICAgICAgICBub25UZXh0UGFydHMucHVzaChmaWVsZE5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHBhcnQudGV4dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJ0LnRob3VnaHQgPT09ICdib29sZWFuJyAmJiBwYXJ0LnRob3VnaHQpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBhbnlUZXh0UGFydEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgdGV4dCArPSBwYXJ0LnRleHQ7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChub25UZXh0UGFydHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgdGhlcmUgYXJlIG5vbi10ZXh0IHBhcnRzICR7bm9uVGV4dFBhcnRzfSBpbiB0aGUgcmVzcG9uc2UsIHJldHVybmluZyBjb25jYXRlbmF0aW9uIG9mIGFsbCB0ZXh0IHBhcnRzLiBQbGVhc2UgcmVmZXIgdG8gdGhlIG5vbiB0ZXh0IHBhcnRzIGZvciBhIGZ1bGwgcmVzcG9uc2UgZnJvbSBtb2RlbC5gLFxuICAgICAgKTtcbiAgICB9XG4gICAgLy8gcGFydC50ZXh0ID09PSAnJyBpcyBkaWZmZXJlbnQgZnJvbSBwYXJ0LnRleHQgaXMgbnVsbFxuICAgIHJldHVybiBhbnlUZXh0UGFydEZvdW5kID8gdGV4dCA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjb25jYXRlbmF0aW9uIG9mIGFsbCBpbmxpbmUgZGF0YSBwYXJ0cyBmcm9tIHRoZSBzZXJ2ZXIgY29udGVudCBpZiBwcmVzZW50LlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBJZiB0aGVyZSBhcmUgbm9uLWlubGluZSBkYXRhIHBhcnRzIGluIHRoZVxuICAgKiByZXNwb25zZSwgdGhlIGNvbmNhdGVuYXRpb24gb2YgYWxsIGlubGluZSBkYXRhIHBhcnRzIHdpbGwgYmUgcmV0dXJuZWQsIGFuZFxuICAgKiBhIHdhcm5pbmcgd2lsbCBiZSBsb2dnZWQuXG4gICAqL1xuICBnZXQgZGF0YSgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIGxldCBkYXRhID0gJyc7XG4gICAgY29uc3Qgbm9uRGF0YVBhcnRzID0gW107XG4gICAgZm9yIChjb25zdCBwYXJ0IG9mIHRoaXMuc2VydmVyQ29udGVudD8ubW9kZWxUdXJuPy5wYXJ0cyA/PyBbXSkge1xuICAgICAgZm9yIChjb25zdCBbZmllbGROYW1lLCBmaWVsZFZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwYXJ0KSkge1xuICAgICAgICBpZiAoZmllbGROYW1lICE9PSAnaW5saW5lRGF0YScgJiYgZmllbGRWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgIG5vbkRhdGFQYXJ0cy5wdXNoKGZpZWxkTmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwYXJ0LmlubGluZURhdGEgJiYgdHlwZW9mIHBhcnQuaW5saW5lRGF0YS5kYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICBkYXRhICs9IGF0b2IocGFydC5pbmxpbmVEYXRhLmRhdGEpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobm9uRGF0YVBhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYHRoZXJlIGFyZSBub24tZGF0YSBwYXJ0cyAke25vbkRhdGFQYXJ0c30gaW4gdGhlIHJlc3BvbnNlLCByZXR1cm5pbmcgY29uY2F0ZW5hdGlvbiBvZiBhbGwgZGF0YSBwYXJ0cy4gUGxlYXNlIHJlZmVyIHRvIHRoZSBub24gZGF0YSBwYXJ0cyBmb3IgYSBmdWxsIHJlc3BvbnNlIGZyb20gbW9kZWwuYCxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBkYXRhLmxlbmd0aCA+IDAgPyBidG9hKGRhdGEpIDogdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKiBQYXJhbWV0ZXJzIG9mIHRoZSBmcm9tQVBJUmVzcG9uc2UgbWV0aG9kIG9mIHRoZSBPcGVyYXRpb24gY2xhc3MuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgT3BlcmF0aW9uRnJvbUFQSVJlc3BvbnNlUGFyYW1ldGVycyB7XG4gIC8qKiBUaGUgQVBJIHJlc3BvbnNlIHRvIGJlIGNvbnZlcnRlZCB0byBhbiBPcGVyYXRpb24uICovXG4gIGFwaVJlc3BvbnNlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgLyoqIFdoZXRoZXIgdGhlIEFQSSByZXNwb25zZSBpcyBmcm9tIFZlcnRleCBBSS4gKi9cbiAgX2lzVmVydGV4QUk6IGJvb2xlYW47XG59XG5cbi8qKlxuICogQ29uZmlnIGZvciB0aGlua2luZyBmZWF0dXJlLlxuICpcbiAqIEBkZXByZWNhdGVkIFRoaXMgaW50ZXJmYWNlIHdpbGwgYmUgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBgVGhpbmtpbmdDb25maWdgIGluc3RlYWQuXG4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBHZW5lcmF0aW9uQ29uZmlnVGhpbmtpbmdDb25maWdcbiAgZXh0ZW5kcyBUaGlua2luZ0NvbmZpZyB7fVxuXG4vKiogQ29uZmlndXJlcyBhdXRvbWF0aWMgZGV0ZWN0aW9uIG9mIGFjdGl2aXR5LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEF1dG9tYXRpY0FjdGl2aXR5RGV0ZWN0aW9uIHtcbiAgLyoqIElmIGVuYWJsZWQsIGRldGVjdGVkIHZvaWNlIGFuZCB0ZXh0IGlucHV0IGNvdW50IGFzIGFjdGl2aXR5LiBJZiBkaXNhYmxlZCwgdGhlIGNsaWVudCBtdXN0IHNlbmQgYWN0aXZpdHkgc2lnbmFscy4gKi9cbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICAvKiogRGV0ZXJtaW5lcyBob3cgbGlrZWx5IHNwZWVjaCBpcyB0byBiZSBkZXRlY3RlZC4gKi9cbiAgc3RhcnRPZlNwZWVjaFNlbnNpdGl2aXR5PzogU3RhcnRTZW5zaXRpdml0eTtcbiAgLyoqIERldGVybWluZXMgaG93IGxpa2VseSBkZXRlY3RlZCBzcGVlY2ggaXMgZW5kZWQuICovXG4gIGVuZE9mU3BlZWNoU2Vuc2l0aXZpdHk/OiBFbmRTZW5zaXRpdml0eTtcbiAgLyoqIFRoZSByZXF1aXJlZCBkdXJhdGlvbiBvZiBkZXRlY3RlZCBzcGVlY2ggYmVmb3JlIHN0YXJ0LW9mLXNwZWVjaCBpcyBjb21taXR0ZWQuIFRoZSBsb3dlciB0aGlzIHZhbHVlIHRoZSBtb3JlIHNlbnNpdGl2ZSB0aGUgc3RhcnQtb2Ytc3BlZWNoIGRldGVjdGlvbiBpcyBhbmQgdGhlIHNob3J0ZXIgc3BlZWNoIGNhbiBiZSByZWNvZ25pemVkLiBIb3dldmVyLCB0aGlzIGFsc28gaW5jcmVhc2VzIHRoZSBwcm9iYWJpbGl0eSBvZiBmYWxzZSBwb3NpdGl2ZXMuICovXG4gIHByZWZpeFBhZGRpbmdNcz86IG51bWJlcjtcbiAgLyoqIFRoZSByZXF1aXJlZCBkdXJhdGlvbiBvZiBkZXRlY3RlZCBub24tc3BlZWNoIChlLmcuIHNpbGVuY2UpIGJlZm9yZSBlbmQtb2Ytc3BlZWNoIGlzIGNvbW1pdHRlZC4gVGhlIGxhcmdlciB0aGlzIHZhbHVlLCB0aGUgbG9uZ2VyIHNwZWVjaCBnYXBzIGNhbiBiZSB3aXRob3V0IGludGVycnVwdGluZyB0aGUgdXNlcidzIGFjdGl2aXR5IGJ1dCB0aGlzIHdpbGwgaW5jcmVhc2UgdGhlIG1vZGVsJ3MgbGF0ZW5jeS4gKi9cbiAgc2lsZW5jZUR1cmF0aW9uTXM/OiBudW1iZXI7XG59XG5cbi8qKiBNYXJrcyB0aGUgZW5kIG9mIHVzZXIgYWN0aXZpdHkuXG5cblRoaXMgY2FuIG9ubHkgYmUgc2VudCBpZiBhdXRvbWF0aWMgKGkuZS4gc2VydmVyLXNpZGUpIGFjdGl2aXR5IGRldGVjdGlvbiBpc1xuZGlzYWJsZWQuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgUmVhbHRpbWVJbnB1dENvbmZpZyB7XG4gIC8qKiBJZiBub3Qgc2V0LCBhdXRvbWF0aWMgYWN0aXZpdHkgZGV0ZWN0aW9uIGlzIGVuYWJsZWQgYnkgZGVmYXVsdC4gSWYgYXV0b21hdGljIHZvaWNlIGRldGVjdGlvbiBpcyBkaXNhYmxlZCwgdGhlIGNsaWVudCBtdXN0IHNlbmQgYWN0aXZpdHkgc2lnbmFscy4gKi9cbiAgYXV0b21hdGljQWN0aXZpdHlEZXRlY3Rpb24/OiBBdXRvbWF0aWNBY3Rpdml0eURldGVjdGlvbjtcbiAgLyoqIERlZmluZXMgd2hhdCBlZmZlY3QgYWN0aXZpdHkgaGFzLiAqL1xuICBhY3Rpdml0eUhhbmRsaW5nPzogQWN0aXZpdHlIYW5kbGluZztcbiAgLyoqIERlZmluZXMgd2hpY2ggaW5wdXQgaXMgaW5jbHVkZWQgaW4gdGhlIHVzZXIncyB0dXJuLiAqL1xuICB0dXJuQ292ZXJhZ2U/OiBUdXJuQ292ZXJhZ2U7XG59XG5cbi8qKiBDb25maWd1cmF0aW9uIG9mIHNlc3Npb24gcmVzdW1wdGlvbiBtZWNoYW5pc20uXG5cbkluY2x1ZGVkIGluIGBMaXZlQ29ubmVjdENvbmZpZy5zZXNzaW9uX3Jlc3VtcHRpb25gLiBJZiBpbmNsdWRlZCBzZXJ2ZXJcbndpbGwgc2VuZCBgTGl2ZVNlcnZlclNlc3Npb25SZXN1bXB0aW9uVXBkYXRlYCBtZXNzYWdlcy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBTZXNzaW9uUmVzdW1wdGlvbkNvbmZpZyB7XG4gIC8qKiBTZXNzaW9uIHJlc3VtcHRpb24gaGFuZGxlIG9mIHByZXZpb3VzIHNlc3Npb24gKHNlc3Npb24gdG8gcmVzdG9yZSkuXG5cbklmIG5vdCBwcmVzZW50IG5ldyBzZXNzaW9uIHdpbGwgYmUgc3RhcnRlZC4gKi9cbiAgaGFuZGxlPzogc3RyaW5nO1xuICAvKiogSWYgc2V0IHRoZSBzZXJ2ZXIgd2lsbCBzZW5kIGBsYXN0X2NvbnN1bWVkX2NsaWVudF9tZXNzYWdlX2luZGV4YCBpbiB0aGUgYHNlc3Npb25fcmVzdW1wdGlvbl91cGRhdGVgIG1lc3NhZ2VzIHRvIGFsbG93IGZvciB0cmFuc3BhcmVudCByZWNvbm5lY3Rpb25zLiAqL1xuICB0cmFuc3BhcmVudD86IGJvb2xlYW47XG59XG5cbi8qKiBDb250ZXh0IHdpbmRvdyB3aWxsIGJlIHRydW5jYXRlZCBieSBrZWVwaW5nIG9ubHkgc3VmZml4IG9mIGl0LlxuXG5Db250ZXh0IHdpbmRvdyB3aWxsIGFsd2F5cyBiZSBjdXQgYXQgc3RhcnQgb2YgVVNFUiByb2xlIHR1cm4uIFN5c3RlbVxuaW5zdHJ1Y3Rpb25zIGFuZCBgQmlkaUdlbmVyYXRlQ29udGVudFNldHVwLnByZWZpeF90dXJuc2Agd2lsbCBub3QgYmVcbnN1YmplY3QgdG8gdGhlIHNsaWRpbmcgd2luZG93IG1lY2hhbmlzbSwgdGhleSB3aWxsIGFsd2F5cyBzdGF5IGF0IHRoZVxuYmVnaW5uaW5nIG9mIGNvbnRleHQgd2luZG93LiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFNsaWRpbmdXaW5kb3cge1xuICAvKiogU2Vzc2lvbiByZWR1Y3Rpb24gdGFyZ2V0IC0tIGhvdyBtYW55IHRva2VucyB3ZSBzaG91bGQga2VlcC4gV2luZG93IHNob3J0ZW5pbmcgb3BlcmF0aW9uIGhhcyBzb21lIGxhdGVuY3kgY29zdHMsIHNvIHdlIHNob3VsZCBhdm9pZCBydW5uaW5nIGl0IG9uIGV2ZXJ5IHR1cm4uIFNob3VsZCBiZSA8IHRyaWdnZXJfdG9rZW5zLiBJZiBub3Qgc2V0LCB0cmlnZ2VyX3Rva2Vucy8yIGlzIGFzc3VtZWQuICovXG4gIHRhcmdldFRva2Vucz86IHN0cmluZztcbn1cblxuLyoqIEVuYWJsZXMgY29udGV4dCB3aW5kb3cgY29tcHJlc3Npb24gLS0gbWVjaGFuaXNtIG1hbmFnaW5nIG1vZGVsIGNvbnRleHQgd2luZG93IHNvIGl0IGRvZXMgbm90IGV4Y2VlZCBnaXZlbiBsZW5ndGguICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ29udGV4dFdpbmRvd0NvbXByZXNzaW9uQ29uZmlnIHtcbiAgLyoqIE51bWJlciBvZiB0b2tlbnMgKGJlZm9yZSBydW5uaW5nIHR1cm4pIHRoYXQgdHJpZ2dlcnMgY29udGV4dCB3aW5kb3cgY29tcHJlc3Npb24gbWVjaGFuaXNtLiAqL1xuICB0cmlnZ2VyVG9rZW5zPzogc3RyaW5nO1xuICAvKiogU2xpZGluZyB3aW5kb3cgY29tcHJlc3Npb24gbWVjaGFuaXNtLiAqL1xuICBzbGlkaW5nV2luZG93PzogU2xpZGluZ1dpbmRvdztcbn1cblxuLyoqIFRoZSBhdWRpbyB0cmFuc2NyaXB0aW9uIGNvbmZpZ3VyYXRpb24gaW4gU2V0dXAuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQXVkaW9UcmFuc2NyaXB0aW9uQ29uZmlnIHt9XG5cbi8qKiBDb25maWcgZm9yIHByb2FjdGl2aXR5IGZlYXR1cmVzLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFByb2FjdGl2aXR5Q29uZmlnIHtcbiAgLyoqIElmIGVuYWJsZWQsIHRoZSBtb2RlbCBjYW4gcmVqZWN0IHJlc3BvbmRpbmcgdG8gdGhlIGxhc3QgcHJvbXB0LiBGb3JcbiAgICAgICAgZXhhbXBsZSwgdGhpcyBhbGxvd3MgdGhlIG1vZGVsIHRvIGlnbm9yZSBvdXQgb2YgY29udGV4dCBzcGVlY2ggb3IgdG8gc3RheVxuICAgICAgICBzaWxlbnQgaWYgdGhlIHVzZXIgZGlkIG5vdCBtYWtlIGEgcmVxdWVzdCwgeWV0LiAqL1xuICBwcm9hY3RpdmVBdWRpbz86IGJvb2xlYW47XG59XG5cbi8qKiBNZXNzYWdlIGNvbnRhaW5zIGNvbmZpZ3VyYXRpb24gdGhhdCB3aWxsIGFwcGx5IGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIHN0cmVhbWluZyBzZXNzaW9uLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVDbGllbnRTZXR1cCB7XG4gIC8qKiBcbiAgICAgIFRoZSBmdWxseSBxdWFsaWZpZWQgbmFtZSBvZiB0aGUgcHVibGlzaGVyIG1vZGVsIG9yIHR1bmVkIG1vZGVsIGVuZHBvaW50IHRvXG4gICAgICB1c2UuXG4gICAgICAgKi9cbiAgbW9kZWw/OiBzdHJpbmc7XG4gIC8qKiBUaGUgZ2VuZXJhdGlvbiBjb25maWd1cmF0aW9uIGZvciB0aGUgc2Vzc2lvbi5cbiAgICAgIE5vdGU6IG9ubHkgYSBzdWJzZXQgb2YgZmllbGRzIGFyZSBzdXBwb3J0ZWQuXG4gICAgICAgKi9cbiAgZ2VuZXJhdGlvbkNvbmZpZz86IEdlbmVyYXRpb25Db25maWc7XG4gIC8qKiBUaGUgdXNlciBwcm92aWRlZCBzeXN0ZW0gaW5zdHJ1Y3Rpb25zIGZvciB0aGUgbW9kZWwuXG4gICAgICBOb3RlOiBvbmx5IHRleHQgc2hvdWxkIGJlIHVzZWQgaW4gcGFydHMgYW5kIGNvbnRlbnQgaW4gZWFjaCBwYXJ0IHdpbGwgYmVcbiAgICAgIGluIGEgc2VwYXJhdGUgcGFyYWdyYXBoLiAqL1xuICBzeXN0ZW1JbnN0cnVjdGlvbj86IENvbnRlbnRVbmlvbjtcbiAgLyoqICBBIGxpc3Qgb2YgYFRvb2xzYCB0aGUgbW9kZWwgbWF5IHVzZSB0byBnZW5lcmF0ZSB0aGUgbmV4dCByZXNwb25zZS5cblxuICAgICAgQSBgVG9vbGAgaXMgYSBwaWVjZSBvZiBjb2RlIHRoYXQgZW5hYmxlcyB0aGUgc3lzdGVtIHRvIGludGVyYWN0IHdpdGhcbiAgICAgIGV4dGVybmFsIHN5c3RlbXMgdG8gcGVyZm9ybSBhbiBhY3Rpb24sIG9yIHNldCBvZiBhY3Rpb25zLCBvdXRzaWRlIG9mXG4gICAgICBrbm93bGVkZ2UgYW5kIHNjb3BlIG9mIHRoZSBtb2RlbC4gKi9cbiAgdG9vbHM/OiBUb29sTGlzdFVuaW9uO1xuICAvKiogQ29uZmlndXJlcyB0aGUgcmVhbHRpbWUgaW5wdXQgYmVoYXZpb3IgaW4gQmlkaUdlbmVyYXRlQ29udGVudC4gKi9cbiAgcmVhbHRpbWVJbnB1dENvbmZpZz86IFJlYWx0aW1lSW5wdXRDb25maWc7XG4gIC8qKiBDb25maWd1cmVzIHNlc3Npb24gcmVzdW1wdGlvbiBtZWNoYW5pc20uXG5cbiAgICAgICAgICBJZiBpbmNsdWRlZCBzZXJ2ZXIgd2lsbCBzZW5kIFNlc3Npb25SZXN1bXB0aW9uVXBkYXRlIG1lc3NhZ2VzLiAqL1xuICBzZXNzaW9uUmVzdW1wdGlvbj86IFNlc3Npb25SZXN1bXB0aW9uQ29uZmlnO1xuICAvKiogQ29uZmlndXJlcyBjb250ZXh0IHdpbmRvdyBjb21wcmVzc2lvbiBtZWNoYW5pc20uXG5cbiAgICAgIElmIGluY2x1ZGVkLCBzZXJ2ZXIgd2lsbCBjb21wcmVzcyBjb250ZXh0IHdpbmRvdyB0byBmaXQgaW50byBnaXZlbiBsZW5ndGguICovXG4gIGNvbnRleHRXaW5kb3dDb21wcmVzc2lvbj86IENvbnRleHRXaW5kb3dDb21wcmVzc2lvbkNvbmZpZztcbiAgLyoqIFRoZSB0cmFuc2NyaXB0aW9uIG9mIHRoZSBpbnB1dCBhbGlnbnMgd2l0aCB0aGUgaW5wdXQgYXVkaW8gbGFuZ3VhZ2UuXG4gICAqL1xuICBpbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbj86IEF1ZGlvVHJhbnNjcmlwdGlvbkNvbmZpZztcbiAgLyoqIFRoZSB0cmFuc2NyaXB0aW9uIG9mIHRoZSBvdXRwdXQgYWxpZ25zIHdpdGggdGhlIGxhbmd1YWdlIGNvZGVcbiAgICAgIHNwZWNpZmllZCBmb3IgdGhlIG91dHB1dCBhdWRpby5cbiAgICAgICAqL1xuICBvdXRwdXRBdWRpb1RyYW5zY3JpcHRpb24/OiBBdWRpb1RyYW5zY3JpcHRpb25Db25maWc7XG4gIC8qKiBDb25maWd1cmVzIHRoZSBwcm9hY3Rpdml0eSBvZiB0aGUgbW9kZWwuIFRoaXMgYWxsb3dzIHRoZSBtb2RlbCB0byByZXNwb25kIHByb2FjdGl2ZWx5IHRvXG4gICAgdGhlIGlucHV0IGFuZCB0byBpZ25vcmUgaXJyZWxldmFudCBpbnB1dC4gKi9cbiAgcHJvYWN0aXZpdHk/OiBQcm9hY3Rpdml0eUNvbmZpZztcbiAgLyoqIENvbmZpZ3VyZXMgdGhlIGV4cGxpY2l0IFZBRCBzaWduYWwuIElmIGVuYWJsZWQsIHRoZSBjbGllbnQgd2lsbCBzZW5kXG4gICAgICB2YWRfc2lnbmFsIHRvIGluZGljYXRlIHRoZSBzdGFydCBhbmQgZW5kIG9mIHNwZWVjaC4gVGhpcyBhbGxvd3MgdGhlIHNlcnZlclxuICAgICAgdG8gcHJvY2VzcyB0aGUgYXVkaW8gbW9yZSBlZmZpY2llbnRseS4gKi9cbiAgZXhwbGljaXRWYWRTaWduYWw/OiBib29sZWFuO1xufVxuXG4vKiogSW5jcmVtZW50YWwgdXBkYXRlIG9mIHRoZSBjdXJyZW50IGNvbnZlcnNhdGlvbiBkZWxpdmVyZWQgZnJvbSB0aGUgY2xpZW50LlxuXG5BbGwgdGhlIGNvbnRlbnQgaGVyZSB3aWxsIHVuY29uZGl0aW9uYWxseSBiZSBhcHBlbmRlZCB0byB0aGUgY29udmVyc2F0aW9uXG5oaXN0b3J5IGFuZCB1c2VkIGFzIHBhcnQgb2YgdGhlIHByb21wdCB0byB0aGUgbW9kZWwgdG8gZ2VuZXJhdGUgY29udGVudC5cblxuQSBtZXNzYWdlIGhlcmUgd2lsbCBpbnRlcnJ1cHQgYW55IGN1cnJlbnQgbW9kZWwgZ2VuZXJhdGlvbi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlQ2xpZW50Q29udGVudCB7XG4gIC8qKiBUaGUgY29udGVudCBhcHBlbmRlZCB0byB0aGUgY3VycmVudCBjb252ZXJzYXRpb24gd2l0aCB0aGUgbW9kZWwuXG5cbiAgICAgIEZvciBzaW5nbGUtdHVybiBxdWVyaWVzLCB0aGlzIGlzIGEgc2luZ2xlIGluc3RhbmNlLiBGb3IgbXVsdGktdHVyblxuICAgICAgcXVlcmllcywgdGhpcyBpcyBhIHJlcGVhdGVkIGZpZWxkIHRoYXQgY29udGFpbnMgY29udmVyc2F0aW9uIGhpc3RvcnkgYW5kXG4gICAgICBsYXRlc3QgcmVxdWVzdC5cbiAgICAgICAqL1xuICB0dXJucz86IENvbnRlbnRbXTtcbiAgLyoqIElmIHRydWUsIGluZGljYXRlcyB0aGF0IHRoZSBzZXJ2ZXIgY29udGVudCBnZW5lcmF0aW9uIHNob3VsZCBzdGFydCB3aXRoXG4gIHRoZSBjdXJyZW50bHkgYWNjdW11bGF0ZWQgcHJvbXB0LiBPdGhlcndpc2UsIHRoZSBzZXJ2ZXIgd2lsbCBhd2FpdFxuICBhZGRpdGlvbmFsIG1lc3NhZ2VzIGJlZm9yZSBzdGFydGluZyBnZW5lcmF0aW9uLiAqL1xuICB0dXJuQ29tcGxldGU/OiBib29sZWFuO1xufVxuXG4vKiogTWFya3MgdGhlIHN0YXJ0IG9mIHVzZXIgYWN0aXZpdHkuXG5cblRoaXMgY2FuIG9ubHkgYmUgc2VudCBpZiBhdXRvbWF0aWMgKGkuZS4gc2VydmVyLXNpZGUpIGFjdGl2aXR5IGRldGVjdGlvbiBpc1xuZGlzYWJsZWQuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQWN0aXZpdHlTdGFydCB7fVxuXG4vKiogTWFya3MgdGhlIGVuZCBvZiB1c2VyIGFjdGl2aXR5LlxuXG5UaGlzIGNhbiBvbmx5IGJlIHNlbnQgaWYgYXV0b21hdGljIChpLmUuIHNlcnZlci1zaWRlKSBhY3Rpdml0eSBkZXRlY3Rpb24gaXNcbmRpc2FibGVkLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEFjdGl2aXR5RW5kIHt9XG5cbi8qKiBVc2VyIGlucHV0IHRoYXQgaXMgc2VudCBpbiByZWFsIHRpbWUuXG5cblRoaXMgaXMgZGlmZmVyZW50IGZyb20gYExpdmVDbGllbnRDb250ZW50YCBpbiBhIGZldyB3YXlzOlxuXG4gIC0gQ2FuIGJlIHNlbnQgY29udGludW91c2x5IHdpdGhvdXQgaW50ZXJydXB0aW9uIHRvIG1vZGVsIGdlbmVyYXRpb24uXG4gIC0gSWYgdGhlcmUgaXMgYSBuZWVkIHRvIG1peCBkYXRhIGludGVybGVhdmVkIGFjcm9zcyB0aGVcbiAgICBgTGl2ZUNsaWVudENvbnRlbnRgIGFuZCB0aGUgYExpdmVDbGllbnRSZWFsdGltZUlucHV0YCwgc2VydmVyIGF0dGVtcHRzIHRvXG4gICAgb3B0aW1pemUgZm9yIGJlc3QgcmVzcG9uc2UsIGJ1dCB0aGVyZSBhcmUgbm8gZ3VhcmFudGVlcy5cbiAgLSBFbmQgb2YgdHVybiBpcyBub3QgZXhwbGljaXRseSBzcGVjaWZpZWQsIGJ1dCBpcyByYXRoZXIgZGVyaXZlZCBmcm9tIHVzZXJcbiAgICBhY3Rpdml0eSAoZm9yIGV4YW1wbGUsIGVuZCBvZiBzcGVlY2gpLlxuICAtIEV2ZW4gYmVmb3JlIHRoZSBlbmQgb2YgdHVybiwgdGhlIGRhdGEgaXMgcHJvY2Vzc2VkIGluY3JlbWVudGFsbHlcbiAgICB0byBvcHRpbWl6ZSBmb3IgYSBmYXN0IHN0YXJ0IG9mIHRoZSByZXNwb25zZSBmcm9tIHRoZSBtb2RlbC5cbiAgLSBJcyBhbHdheXMgYXNzdW1lZCB0byBiZSB0aGUgdXNlcidzIGlucHV0IChjYW5ub3QgYmUgdXNlZCB0byBwb3B1bGF0ZVxuICAgIGNvbnZlcnNhdGlvbiBoaXN0b3J5KS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlQ2xpZW50UmVhbHRpbWVJbnB1dCB7XG4gIC8qKiBJbmxpbmVkIGJ5dGVzIGRhdGEgZm9yIG1lZGlhIGlucHV0LiAqL1xuICBtZWRpYUNodW5rcz86IEJsb2JbXTtcbiAgLyoqIFRoZSByZWFsdGltZSBhdWRpbyBpbnB1dCBzdHJlYW0uICovXG4gIGF1ZGlvPzogQmxvYjtcbiAgLyoqIFxuSW5kaWNhdGVzIHRoYXQgdGhlIGF1ZGlvIHN0cmVhbSBoYXMgZW5kZWQsIGUuZy4gYmVjYXVzZSB0aGUgbWljcm9waG9uZSB3YXNcbnR1cm5lZCBvZmYuXG5cblRoaXMgc2hvdWxkIG9ubHkgYmUgc2VudCB3aGVuIGF1dG9tYXRpYyBhY3Rpdml0eSBkZXRlY3Rpb24gaXMgZW5hYmxlZFxuKHdoaWNoIGlzIHRoZSBkZWZhdWx0KS5cblxuVGhlIGNsaWVudCBjYW4gcmVvcGVuIHRoZSBzdHJlYW0gYnkgc2VuZGluZyBhbiBhdWRpbyBtZXNzYWdlLlxuICovXG4gIGF1ZGlvU3RyZWFtRW5kPzogYm9vbGVhbjtcbiAgLyoqIFRoZSByZWFsdGltZSB2aWRlbyBpbnB1dCBzdHJlYW0uICovXG4gIHZpZGVvPzogQmxvYjtcbiAgLyoqIFRoZSByZWFsdGltZSB0ZXh0IGlucHV0IHN0cmVhbS4gKi9cbiAgdGV4dD86IHN0cmluZztcbiAgLyoqIE1hcmtzIHRoZSBzdGFydCBvZiB1c2VyIGFjdGl2aXR5LiAqL1xuICBhY3Rpdml0eVN0YXJ0PzogQWN0aXZpdHlTdGFydDtcbiAgLyoqIE1hcmtzIHRoZSBlbmQgb2YgdXNlciBhY3Rpdml0eS4gKi9cbiAgYWN0aXZpdHlFbmQ/OiBBY3Rpdml0eUVuZDtcbn1cblxuLyoqIENsaWVudCBnZW5lcmF0ZWQgcmVzcG9uc2UgdG8gYSBgVG9vbENhbGxgIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlci5cblxuSW5kaXZpZHVhbCBgRnVuY3Rpb25SZXNwb25zZWAgb2JqZWN0cyBhcmUgbWF0Y2hlZCB0byB0aGUgcmVzcGVjdGl2ZVxuYEZ1bmN0aW9uQ2FsbGAgb2JqZWN0cyBieSB0aGUgYGlkYCBmaWVsZC5cblxuTm90ZSB0aGF0IGluIHRoZSB1bmFyeSBhbmQgc2VydmVyLXN0cmVhbWluZyBHZW5lcmF0ZUNvbnRlbnQgQVBJcyBmdW5jdGlvblxuY2FsbGluZyBoYXBwZW5zIGJ5IGV4Y2hhbmdpbmcgdGhlIGBDb250ZW50YCBwYXJ0cywgd2hpbGUgaW4gdGhlIGJpZGlcbkdlbmVyYXRlQ29udGVudCBBUElzIGZ1bmN0aW9uIGNhbGxpbmcgaGFwcGVucyBvdmVyIHRoaXMgZGVkaWNhdGVkIHNldCBvZlxubWVzc2FnZXMuICovXG5leHBvcnQgY2xhc3MgTGl2ZUNsaWVudFRvb2xSZXNwb25zZSB7XG4gIC8qKiBUaGUgcmVzcG9uc2UgdG8gdGhlIGZ1bmN0aW9uIGNhbGxzLiAqL1xuICBmdW5jdGlvblJlc3BvbnNlcz86IEZ1bmN0aW9uUmVzcG9uc2VbXTtcbn1cblxuLyoqIFBhcmFtZXRlcnMgZm9yIHNlbmRpbmcgcmVhbHRpbWUgaW5wdXQgdG8gdGhlIGxpdmUgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVTZW5kUmVhbHRpbWVJbnB1dFBhcmFtZXRlcnMge1xuICAvKiogUmVhbHRpbWUgaW5wdXQgdG8gc2VuZCB0byB0aGUgc2Vzc2lvbi4gKi9cbiAgbWVkaWE/OiBCbG9iSW1hZ2VVbmlvbjtcbiAgLyoqIFRoZSByZWFsdGltZSBhdWRpbyBpbnB1dCBzdHJlYW0uICovXG4gIGF1ZGlvPzogQmxvYjtcbiAgLyoqIFxuSW5kaWNhdGVzIHRoYXQgdGhlIGF1ZGlvIHN0cmVhbSBoYXMgZW5kZWQsIGUuZy4gYmVjYXVzZSB0aGUgbWljcm9waG9uZSB3YXNcbnR1cm5lZCBvZmYuXG5cblRoaXMgc2hvdWxkIG9ubHkgYmUgc2VudCB3aGVuIGF1dG9tYXRpYyBhY3Rpdml0eSBkZXRlY3Rpb24gaXMgZW5hYmxlZFxuKHdoaWNoIGlzIHRoZSBkZWZhdWx0KS5cblxuVGhlIGNsaWVudCBjYW4gcmVvcGVuIHRoZSBzdHJlYW0gYnkgc2VuZGluZyBhbiBhdWRpbyBtZXNzYWdlLlxuICovXG4gIGF1ZGlvU3RyZWFtRW5kPzogYm9vbGVhbjtcbiAgLyoqIFRoZSByZWFsdGltZSB2aWRlbyBpbnB1dCBzdHJlYW0uICovXG4gIHZpZGVvPzogQmxvYkltYWdlVW5pb247XG4gIC8qKiBUaGUgcmVhbHRpbWUgdGV4dCBpbnB1dCBzdHJlYW0uICovXG4gIHRleHQ/OiBzdHJpbmc7XG4gIC8qKiBNYXJrcyB0aGUgc3RhcnQgb2YgdXNlciBhY3Rpdml0eS4gKi9cbiAgYWN0aXZpdHlTdGFydD86IEFjdGl2aXR5U3RhcnQ7XG4gIC8qKiBNYXJrcyB0aGUgZW5kIG9mIHVzZXIgYWN0aXZpdHkuICovXG4gIGFjdGl2aXR5RW5kPzogQWN0aXZpdHlFbmQ7XG59XG5cbi8qKiBNZXNzYWdlcyBzZW50IGJ5IHRoZSBjbGllbnQgaW4gdGhlIEFQSSBjYWxsLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVDbGllbnRNZXNzYWdlIHtcbiAgLyoqIE1lc3NhZ2UgdG8gYmUgc2VudCBieSB0aGUgc3lzdGVtIHdoZW4gY29ubmVjdGluZyB0byB0aGUgQVBJLiBTREsgdXNlcnMgc2hvdWxkIG5vdCBzZW5kIHRoaXMgbWVzc2FnZS4gKi9cbiAgc2V0dXA/OiBMaXZlQ2xpZW50U2V0dXA7XG4gIC8qKiBJbmNyZW1lbnRhbCB1cGRhdGUgb2YgdGhlIGN1cnJlbnQgY29udmVyc2F0aW9uIGRlbGl2ZXJlZCBmcm9tIHRoZSBjbGllbnQuICovXG4gIGNsaWVudENvbnRlbnQ/OiBMaXZlQ2xpZW50Q29udGVudDtcbiAgLyoqIFVzZXIgaW5wdXQgdGhhdCBpcyBzZW50IGluIHJlYWwgdGltZS4gKi9cbiAgcmVhbHRpbWVJbnB1dD86IExpdmVDbGllbnRSZWFsdGltZUlucHV0O1xuICAvKiogUmVzcG9uc2UgdG8gYSBgVG9vbENhbGxNZXNzYWdlYCByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXIuICovXG4gIHRvb2xSZXNwb25zZT86IExpdmVDbGllbnRUb29sUmVzcG9uc2U7XG59XG5cbi8qKiBTZXNzaW9uIGNvbmZpZyBmb3IgdGhlIEFQSSBjb25uZWN0aW9uLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVDb25uZWN0Q29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIC8qKiBBYm9ydCBzaWduYWwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSByZXF1ZXN0LlxuXG4gIE5PVEU6IEFib3J0U2lnbmFsIGlzIGEgY2xpZW50LW9ubHkgb3BlcmF0aW9uLiBVc2luZyBpdCB0byBjYW5jZWwgYW5cbiAgb3BlcmF0aW9uIHdpbGwgbm90IGNhbmNlbCB0aGUgcmVxdWVzdCBpbiB0aGUgc2VydmljZS4gWW91IHdpbGwgc3RpbGxcbiAgYmUgY2hhcmdlZCB1c2FnZSBmb3IgYW55IGFwcGxpY2FibGUgb3BlcmF0aW9ucy5cbiAgICAgICAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuICAvKiogVGhlIGdlbmVyYXRpb24gY29uZmlndXJhdGlvbiBmb3IgdGhlIHNlc3Npb24uICovXG4gIGdlbmVyYXRpb25Db25maWc/OiBHZW5lcmF0aW9uQ29uZmlnO1xuICAvKiogVGhlIHJlcXVlc3RlZCBtb2RhbGl0aWVzIG9mIHRoZSByZXNwb25zZS4gUmVwcmVzZW50cyB0aGUgc2V0IG9mXG4gICAgICBtb2RhbGl0aWVzIHRoYXQgdGhlIG1vZGVsIGNhbiByZXR1cm4uIERlZmF1bHRzIHRvIEFVRElPIGlmIG5vdCBzcGVjaWZpZWQuXG4gICAgICAgKi9cbiAgcmVzcG9uc2VNb2RhbGl0aWVzPzogTW9kYWxpdHlbXTtcbiAgLyoqIFZhbHVlIHRoYXQgY29udHJvbHMgdGhlIGRlZ3JlZSBvZiByYW5kb21uZXNzIGluIHRva2VuIHNlbGVjdGlvbi5cbiAgICAgIExvd2VyIHRlbXBlcmF0dXJlcyBhcmUgZ29vZCBmb3IgcHJvbXB0cyB0aGF0IHJlcXVpcmUgYSBsZXNzIG9wZW4tZW5kZWQgb3JcbiAgICAgIGNyZWF0aXZlIHJlc3BvbnNlLCB3aGlsZSBoaWdoZXIgdGVtcGVyYXR1cmVzIGNhbiBsZWFkIHRvIG1vcmUgZGl2ZXJzZSBvclxuICAgICAgY3JlYXRpdmUgcmVzdWx0cy5cbiAgICAgICAqL1xuICB0ZW1wZXJhdHVyZT86IG51bWJlcjtcbiAgLyoqIFRva2VucyBhcmUgc2VsZWN0ZWQgZnJvbSB0aGUgbW9zdCB0byBsZWFzdCBwcm9iYWJsZSB1bnRpbCB0aGUgc3VtXG4gICAgICBvZiB0aGVpciBwcm9iYWJpbGl0aWVzIGVxdWFscyB0aGlzIHZhbHVlLiBVc2UgYSBsb3dlciB2YWx1ZSBmb3IgbGVzc1xuICAgICAgcmFuZG9tIHJlc3BvbnNlcyBhbmQgYSBoaWdoZXIgdmFsdWUgZm9yIG1vcmUgcmFuZG9tIHJlc3BvbnNlcy5cbiAgICAgICAqL1xuICB0b3BQPzogbnVtYmVyO1xuICAvKiogRm9yIGVhY2ggdG9rZW4gc2VsZWN0aW9uIHN0ZXAsIHRoZSBgYHRvcF9rYGAgdG9rZW5zIHdpdGggdGhlXG4gICAgICBoaWdoZXN0IHByb2JhYmlsaXRpZXMgYXJlIHNhbXBsZWQuIFRoZW4gdG9rZW5zIGFyZSBmdXJ0aGVyIGZpbHRlcmVkIGJhc2VkXG4gICAgICBvbiBgYHRvcF9wYGAgd2l0aCB0aGUgZmluYWwgdG9rZW4gc2VsZWN0ZWQgdXNpbmcgdGVtcGVyYXR1cmUgc2FtcGxpbmcuIFVzZVxuICAgICAgYSBsb3dlciBudW1iZXIgZm9yIGxlc3MgcmFuZG9tIHJlc3BvbnNlcyBhbmQgYSBoaWdoZXIgbnVtYmVyIGZvciBtb3JlXG4gICAgICByYW5kb20gcmVzcG9uc2VzLlxuICAgICAgICovXG4gIHRvcEs/OiBudW1iZXI7XG4gIC8qKiBNYXhpbXVtIG51bWJlciBvZiB0b2tlbnMgdGhhdCBjYW4gYmUgZ2VuZXJhdGVkIGluIHRoZSByZXNwb25zZS5cbiAgICovXG4gIG1heE91dHB1dFRva2Vucz86IG51bWJlcjtcbiAgLyoqIElmIHNwZWNpZmllZCwgdGhlIG1lZGlhIHJlc29sdXRpb24gc3BlY2lmaWVkIHdpbGwgYmUgdXNlZC5cbiAgICovXG4gIG1lZGlhUmVzb2x1dGlvbj86IE1lZGlhUmVzb2x1dGlvbjtcbiAgLyoqIFdoZW4gYGBzZWVkYGAgaXMgZml4ZWQgdG8gYSBzcGVjaWZpYyBudW1iZXIsIHRoZSBtb2RlbCBtYWtlcyBhIGJlc3RcbiAgICAgIGVmZm9ydCB0byBwcm92aWRlIHRoZSBzYW1lIHJlc3BvbnNlIGZvciByZXBlYXRlZCByZXF1ZXN0cy4gQnkgZGVmYXVsdCwgYVxuICAgICAgcmFuZG9tIG51bWJlciBpcyB1c2VkLlxuICAgICAgICovXG4gIHNlZWQ/OiBudW1iZXI7XG4gIC8qKiBUaGUgc3BlZWNoIGdlbmVyYXRpb24gY29uZmlndXJhdGlvbi5cbiAgICovXG4gIHNwZWVjaENvbmZpZz86IFNwZWVjaENvbmZpZztcbiAgLyoqIENvbmZpZyBmb3IgdGhpbmtpbmcgZmVhdHVyZXMuXG4gICAgICBBbiBlcnJvciB3aWxsIGJlIHJldHVybmVkIGlmIHRoaXMgZmllbGQgaXMgc2V0IGZvciBtb2RlbHMgdGhhdCBkb24ndFxuICAgICAgc3VwcG9ydCB0aGlua2luZy5cbiAgICAgICAqL1xuICB0aGlua2luZ0NvbmZpZz86IFRoaW5raW5nQ29uZmlnO1xuICAvKiogSWYgZW5hYmxlZCwgdGhlIG1vZGVsIHdpbGwgZGV0ZWN0IGVtb3Rpb25zIGFuZCBhZGFwdCBpdHMgcmVzcG9uc2VzIGFjY29yZGluZ2x5LiAqL1xuICBlbmFibGVBZmZlY3RpdmVEaWFsb2c/OiBib29sZWFuO1xuICAvKiogVGhlIHVzZXIgcHJvdmlkZWQgc3lzdGVtIGluc3RydWN0aW9ucyBmb3IgdGhlIG1vZGVsLlxuICAgICAgTm90ZTogb25seSB0ZXh0IHNob3VsZCBiZSB1c2VkIGluIHBhcnRzIGFuZCBjb250ZW50IGluIGVhY2ggcGFydCB3aWxsIGJlXG4gICAgICBpbiBhIHNlcGFyYXRlIHBhcmFncmFwaC4gKi9cbiAgc3lzdGVtSW5zdHJ1Y3Rpb24/OiBDb250ZW50VW5pb247XG4gIC8qKiBBIGxpc3Qgb2YgYFRvb2xzYCB0aGUgbW9kZWwgbWF5IHVzZSB0byBnZW5lcmF0ZSB0aGUgbmV4dCByZXNwb25zZS5cblxuICAgICAgQSBgVG9vbGAgaXMgYSBwaWVjZSBvZiBjb2RlIHRoYXQgZW5hYmxlcyB0aGUgc3lzdGVtIHRvIGludGVyYWN0IHdpdGhcbiAgICAgIGV4dGVybmFsIHN5c3RlbXMgdG8gcGVyZm9ybSBhbiBhY3Rpb24sIG9yIHNldCBvZiBhY3Rpb25zLCBvdXRzaWRlIG9mXG4gICAgICBrbm93bGVkZ2UgYW5kIHNjb3BlIG9mIHRoZSBtb2RlbC4gKi9cbiAgdG9vbHM/OiBUb29sTGlzdFVuaW9uO1xuICAvKiogQ29uZmlndXJlcyBzZXNzaW9uIHJlc3VtcHRpb24gbWVjaGFuaXNtLlxuXG5JZiBpbmNsdWRlZCB0aGUgc2VydmVyIHdpbGwgc2VuZCBTZXNzaW9uUmVzdW1wdGlvblVwZGF0ZSBtZXNzYWdlcy4gKi9cbiAgc2Vzc2lvblJlc3VtcHRpb24/OiBTZXNzaW9uUmVzdW1wdGlvbkNvbmZpZztcbiAgLyoqIFRoZSB0cmFuc2NyaXB0aW9uIG9mIHRoZSBpbnB1dCBhbGlnbnMgd2l0aCB0aGUgaW5wdXQgYXVkaW8gbGFuZ3VhZ2UuXG4gICAqL1xuICBpbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbj86IEF1ZGlvVHJhbnNjcmlwdGlvbkNvbmZpZztcbiAgLyoqIFRoZSB0cmFuc2NyaXB0aW9uIG9mIHRoZSBvdXRwdXQgYWxpZ25zIHdpdGggdGhlIGxhbmd1YWdlIGNvZGVcbiAgICAgIHNwZWNpZmllZCBmb3IgdGhlIG91dHB1dCBhdWRpby5cbiAgICAgICAqL1xuICBvdXRwdXRBdWRpb1RyYW5zY3JpcHRpb24/OiBBdWRpb1RyYW5zY3JpcHRpb25Db25maWc7XG4gIC8qKiBDb25maWd1cmVzIHRoZSByZWFsdGltZSBpbnB1dCBiZWhhdmlvciBpbiBCaWRpR2VuZXJhdGVDb250ZW50LiAqL1xuICByZWFsdGltZUlucHV0Q29uZmlnPzogUmVhbHRpbWVJbnB1dENvbmZpZztcbiAgLyoqIENvbmZpZ3VyZXMgY29udGV4dCB3aW5kb3cgY29tcHJlc3Npb24gbWVjaGFuaXNtLlxuXG4gICAgICBJZiBpbmNsdWRlZCwgc2VydmVyIHdpbGwgY29tcHJlc3MgY29udGV4dCB3aW5kb3cgdG8gZml0IGludG8gZ2l2ZW4gbGVuZ3RoLiAqL1xuICBjb250ZXh0V2luZG93Q29tcHJlc3Npb24/OiBDb250ZXh0V2luZG93Q29tcHJlc3Npb25Db25maWc7XG4gIC8qKiBDb25maWd1cmVzIHRoZSBwcm9hY3Rpdml0eSBvZiB0aGUgbW9kZWwuIFRoaXMgYWxsb3dzIHRoZSBtb2RlbCB0byByZXNwb25kIHByb2FjdGl2ZWx5IHRvXG4gICAgdGhlIGlucHV0IGFuZCB0byBpZ25vcmUgaXJyZWxldmFudCBpbnB1dC4gKi9cbiAgcHJvYWN0aXZpdHk/OiBQcm9hY3Rpdml0eUNvbmZpZztcbiAgLyoqIENvbmZpZ3VyZXMgdGhlIGV4cGxpY2l0IFZBRCBzaWduYWwuIElmIGVuYWJsZWQsIHRoZSBjbGllbnQgd2lsbCBzZW5kXG4gICAgICB2YWRfc2lnbmFsIHRvIGluZGljYXRlIHRoZSBzdGFydCBhbmQgZW5kIG9mIHNwZWVjaC4gVGhpcyBhbGxvd3MgdGhlIHNlcnZlclxuICAgICAgdG8gcHJvY2VzcyB0aGUgYXVkaW8gbW9yZSBlZmZpY2llbnRseS4gKi9cbiAgZXhwbGljaXRWYWRTaWduYWw/OiBib29sZWFuO1xufVxuXG4vKiogUGFyYW1ldGVycyBmb3IgY29ubmVjdGluZyB0byB0aGUgbGl2ZSBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGl2ZUNvbm5lY3RQYXJhbWV0ZXJzIHtcbiAgLyoqIElEIG9mIHRoZSBtb2RlbCB0byB1c2UuIEZvciBhIGxpc3Qgb2YgbW9kZWxzLCBzZWUgYEdvb2dsZSBtb2RlbHNcbiAgICA8aHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL3ZlcnRleC1haS9nZW5lcmF0aXZlLWFpL2RvY3MvbGVhcm4vbW9kZWxzPmBfLiAqL1xuICBtb2RlbDogc3RyaW5nO1xuICAvKiogY2FsbGJhY2tzICovXG4gIGNhbGxiYWNrczogTGl2ZUNhbGxiYWNrcztcbiAgLyoqIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyBmb3IgdGhlIHJlcXVlc3QuXG4gICAqL1xuICBjb25maWc/OiBMaXZlQ29ubmVjdENvbmZpZztcbn1cblxuLyoqIFBhcmFtZXRlcnMgZm9yIGluaXRpYWxpemluZyBhIG5ldyBjaGF0IHNlc3Npb24uXG5cblRoZXNlIHBhcmFtZXRlcnMgYXJlIHVzZWQgd2hlbiBjcmVhdGluZyBhIGNoYXQgc2Vzc2lvbiB3aXRoIHRoZVxuYGNoYXRzLmNyZWF0ZSgpYCBtZXRob2QuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ3JlYXRlQ2hhdFBhcmFtZXRlcnMge1xuICAvKiogVGhlIG5hbWUgb2YgdGhlIG1vZGVsIHRvIHVzZSBmb3IgdGhlIGNoYXQgc2Vzc2lvbi5cblxuICAgICAgRm9yIGV4YW1wbGU6ICdnZW1pbmktMi4wLWZsYXNoJywgJ2dlbWluaS0yLjAtZmxhc2gtbGl0ZScsIGV0Yy4gU2VlIEdlbWluaSBBUElcbiAgICAgIGRvY3MgdG8gZmluZCB0aGUgYXZhaWxhYmxlIG1vZGVscy5cbiAgICAgICAqL1xuICBtb2RlbDogc3RyaW5nO1xuICAvKiogQ29uZmlnIGZvciB0aGUgZW50aXJlIGNoYXQgc2Vzc2lvbi5cblxuICAgICAgVGhpcyBjb25maWcgYXBwbGllcyB0byBhbGwgcmVxdWVzdHMgd2l0aGluIHRoZSBzZXNzaW9uXG4gICAgICB1bmxlc3Mgb3ZlcnJpZGRlbiBieSBhIHBlci1yZXF1ZXN0IGBjb25maWdgIGluIGBTZW5kTWVzc2FnZVBhcmFtZXRlcnNgLlxuICAgICAgICovXG4gIGNvbmZpZz86IEdlbmVyYXRlQ29udGVudENvbmZpZztcbiAgLyoqIFRoZSBpbml0aWFsIGNvbnZlcnNhdGlvbiBoaXN0b3J5IGZvciB0aGUgY2hhdCBzZXNzaW9uLlxuXG4gICAgICBUaGlzIGFsbG93cyB5b3UgdG8gc3RhcnQgdGhlIGNoYXQgd2l0aCBhIHByZS1leGlzdGluZyBoaXN0b3J5LiBUaGUgaGlzdG9yeVxuICAgICAgbXVzdCBiZSBhIGxpc3Qgb2YgYENvbnRlbnRgIGFsdGVybmF0aW5nIGJldHdlZW4gJ3VzZXInIGFuZCAnbW9kZWwnIHJvbGVzLlxuICAgICAgSXQgc2hvdWxkIHN0YXJ0IHdpdGggYSAndXNlcicgbWVzc2FnZS5cbiAgICAgICAqL1xuICBoaXN0b3J5PzogQ29udGVudFtdO1xufVxuXG4vKiogUGFyYW1ldGVycyBmb3Igc2VuZGluZyBhIG1lc3NhZ2Ugd2l0aGluIGEgY2hhdCBzZXNzaW9uLlxuXG5UaGVzZSBwYXJhbWV0ZXJzIGFyZSB1c2VkIHdpdGggdGhlIGBjaGF0LnNlbmRNZXNzYWdlKClgIG1ldGhvZC4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBTZW5kTWVzc2FnZVBhcmFtZXRlcnMge1xuICAvKiogVGhlIG1lc3NhZ2UgdG8gc2VuZCB0byB0aGUgbW9kZWwuXG5cbiAgICAgIFRoZSBTREsgd2lsbCBjb21iaW5lIGFsbCBwYXJ0cyBpbnRvIGEgc2luZ2xlICd1c2VyJyBjb250ZW50IHRvIHNlbmQgdG9cbiAgICAgIHRoZSBtb2RlbC5cbiAgICAgICAqL1xuICBtZXNzYWdlOiBQYXJ0TGlzdFVuaW9uO1xuICAvKiogIENvbmZpZyBmb3IgdGhpcyBzcGVjaWZpYyByZXF1ZXN0LlxuXG4gICAgICBQbGVhc2Ugbm90ZSB0aGF0IHRoZSBwZXItcmVxdWVzdCBjb25maWcgZG9lcyBub3QgY2hhbmdlIHRoZSBjaGF0IGxldmVsXG4gICAgICBjb25maWcsIG5vciBpbmhlcml0IGZyb20gaXQuIElmIHlvdSBpbnRlbmQgdG8gdXNlIHNvbWUgdmFsdWVzIGZyb20gdGhlXG4gICAgICBjaGF0J3MgZGVmYXVsdCBjb25maWcsIHlvdSBtdXN0IGV4cGxpY2l0bHkgY29weSB0aGVtIGludG8gdGhpcyBwZXItcmVxdWVzdFxuICAgICAgY29uZmlnLlxuICAgICAgICovXG4gIGNvbmZpZz86IEdlbmVyYXRlQ29udGVudENvbmZpZztcbn1cblxuLyoqIFBhcmFtZXRlcnMgZm9yIHNlbmRpbmcgY2xpZW50IGNvbnRlbnQgdG8gdGhlIGxpdmUgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVTZW5kQ2xpZW50Q29udGVudFBhcmFtZXRlcnMge1xuICAvKiogQ2xpZW50IGNvbnRlbnQgdG8gc2VuZCB0byB0aGUgc2Vzc2lvbi4gKi9cbiAgdHVybnM/OiBDb250ZW50TGlzdFVuaW9uO1xuICAvKiogSWYgdHJ1ZSwgaW5kaWNhdGVzIHRoYXQgdGhlIHNlcnZlciBjb250ZW50IGdlbmVyYXRpb24gc2hvdWxkIHN0YXJ0IHdpdGhcbiAgdGhlIGN1cnJlbnRseSBhY2N1bXVsYXRlZCBwcm9tcHQuIE90aGVyd2lzZSwgdGhlIHNlcnZlciB3aWxsIGF3YWl0XG4gIGFkZGl0aW9uYWwgbWVzc2FnZXMgYmVmb3JlIHN0YXJ0aW5nIGdlbmVyYXRpb24uICovXG4gIHR1cm5Db21wbGV0ZT86IGJvb2xlYW47XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciBzZW5kaW5nIHRvb2wgcmVzcG9uc2VzIHRvIHRoZSBsaXZlIEFQSS4gKi9cbmV4cG9ydCBjbGFzcyBMaXZlU2VuZFRvb2xSZXNwb25zZVBhcmFtZXRlcnMge1xuICAvKiogVG9vbCByZXNwb25zZXMgdG8gc2VuZCB0byB0aGUgc2Vzc2lvbi4gKi9cbiAgZnVuY3Rpb25SZXNwb25zZXM6IEZ1bmN0aW9uUmVzcG9uc2VbXSB8IEZ1bmN0aW9uUmVzcG9uc2UgPSBbXTtcbn1cblxuLyoqIE1lc3NhZ2UgdG8gYmUgc2VudCBieSB0aGUgc3lzdGVtIHdoZW4gY29ubmVjdGluZyB0byB0aGUgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVNdXNpY0NsaWVudFNldHVwIHtcbiAgLyoqIFRoZSBtb2RlbCdzIHJlc291cmNlIG5hbWUuIEZvcm1hdDogYG1vZGVscy97bW9kZWx9YC4gKi9cbiAgbW9kZWw/OiBzdHJpbmc7XG59XG5cbi8qKiBNYXBzIGEgcHJvbXB0IHRvIGEgcmVsYXRpdmUgd2VpZ2h0IHRvIHN0ZWVyIG11c2ljIGdlbmVyYXRpb24uICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgV2VpZ2h0ZWRQcm9tcHQge1xuICAvKiogVGV4dCBwcm9tcHQuICovXG4gIHRleHQ/OiBzdHJpbmc7XG4gIC8qKiBXZWlnaHQgb2YgdGhlIHByb21wdC4gVGhlIHdlaWdodCBpcyB1c2VkIHRvIGNvbnRyb2wgdGhlIHJlbGF0aXZlXG4gICAgICBpbXBvcnRhbmNlIG9mIHRoZSBwcm9tcHQuIEhpZ2hlciB3ZWlnaHRzIGFyZSBtb3JlIGltcG9ydGFudCB0aGFuIGxvd2VyXG4gICAgICB3ZWlnaHRzLlxuXG4gICAgICBXZWlnaHQgbXVzdCBub3QgYmUgMC4gV2VpZ2h0cyBvZiBhbGwgd2VpZ2h0ZWRfcHJvbXB0cyBpbiB0aGlzXG4gICAgICBMaXZlTXVzaWNDbGllbnRDb250ZW50IG1lc3NhZ2Ugd2lsbCBiZSBub3JtYWxpemVkLiAqL1xuICB3ZWlnaHQ/OiBudW1iZXI7XG59XG5cbi8qKiBVc2VyIGlucHV0IHRvIHN0YXJ0IG9yIHN0ZWVyIHRoZSBtdXNpYy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlTXVzaWNDbGllbnRDb250ZW50IHtcbiAgLyoqIFdlaWdodGVkIHByb21wdHMgYXMgdGhlIG1vZGVsIGlucHV0LiAqL1xuICB3ZWlnaHRlZFByb21wdHM/OiBXZWlnaHRlZFByb21wdFtdO1xufVxuXG4vKiogQ29uZmlndXJhdGlvbiBmb3IgbXVzaWMgZ2VuZXJhdGlvbi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlTXVzaWNHZW5lcmF0aW9uQ29uZmlnIHtcbiAgLyoqIENvbnRyb2xzIHRoZSB2YXJpYW5jZSBpbiBhdWRpbyBnZW5lcmF0aW9uLiBIaWdoZXIgdmFsdWVzIHByb2R1Y2VcbiAgICAgIGhpZ2hlciB2YXJpYW5jZS4gUmFuZ2UgaXMgWzAuMCwgMy4wXS4gKi9cbiAgdGVtcGVyYXR1cmU/OiBudW1iZXI7XG4gIC8qKiBDb250cm9scyBob3cgdGhlIG1vZGVsIHNlbGVjdHMgdG9rZW5zIGZvciBvdXRwdXQuIFNhbXBsZXMgdGhlIHRvcEtcbiAgICAgIHRva2VucyB3aXRoIHRoZSBoaWdoZXN0IHByb2JhYmlsaXRpZXMuIFJhbmdlIGlzIFsxLCAxMDAwXS4gKi9cbiAgdG9wSz86IG51bWJlcjtcbiAgLyoqIFNlZWRzIGF1ZGlvIGdlbmVyYXRpb24uIElmIG5vdCBzZXQsIHRoZSByZXF1ZXN0IHVzZXMgYSByYW5kb21seVxuICAgICAgZ2VuZXJhdGVkIHNlZWQuICovXG4gIHNlZWQ/OiBudW1iZXI7XG4gIC8qKiBDb250cm9scyBob3cgY2xvc2VseSB0aGUgbW9kZWwgZm9sbG93cyBwcm9tcHRzLlxuICAgICAgSGlnaGVyIGd1aWRhbmNlIGZvbGxvd3MgbW9yZSBjbG9zZWx5LCBidXQgd2lsbCBtYWtlIHRyYW5zaXRpb25zIG1vcmVcbiAgICAgIGFicnVwdC4gUmFuZ2UgaXMgWzAuMCwgNi4wXS4gKi9cbiAgZ3VpZGFuY2U/OiBudW1iZXI7XG4gIC8qKiBCZWF0cyBwZXIgbWludXRlLiBSYW5nZSBpcyBbNjAsIDIwMF0uICovXG4gIGJwbT86IG51bWJlcjtcbiAgLyoqIERlbnNpdHkgb2Ygc291bmRzLiBSYW5nZSBpcyBbMC4wLCAxLjBdLiAqL1xuICBkZW5zaXR5PzogbnVtYmVyO1xuICAvKiogQnJpZ2h0bmVzcyBvZiB0aGUgbXVzaWMuIFJhbmdlIGlzIFswLjAsIDEuMF0uICovXG4gIGJyaWdodG5lc3M/OiBudW1iZXI7XG4gIC8qKiBTY2FsZSBvZiB0aGUgZ2VuZXJhdGVkIG11c2ljLiAqL1xuICBzY2FsZT86IFNjYWxlO1xuICAvKiogV2hldGhlciB0aGUgYXVkaW8gb3V0cHV0IHNob3VsZCBjb250YWluIGJhc3MuICovXG4gIG11dGVCYXNzPzogYm9vbGVhbjtcbiAgLyoqIFdoZXRoZXIgdGhlIGF1ZGlvIG91dHB1dCBzaG91bGQgY29udGFpbiBkcnVtcy4gKi9cbiAgbXV0ZURydW1zPzogYm9vbGVhbjtcbiAgLyoqIFdoZXRoZXIgdGhlIGF1ZGlvIG91dHB1dCBzaG91bGQgY29udGFpbiBvbmx5IGJhc3MgYW5kIGRydW1zLiAqL1xuICBvbmx5QmFzc0FuZERydW1zPzogYm9vbGVhbjtcbiAgLyoqIFRoZSBtb2RlIG9mIG11c2ljIGdlbmVyYXRpb24uIERlZmF1bHQgbW9kZSBpcyBRVUFMSVRZLiAqL1xuICBtdXNpY0dlbmVyYXRpb25Nb2RlPzogTXVzaWNHZW5lcmF0aW9uTW9kZTtcbn1cblxuLyoqIE1lc3NhZ2VzIHNlbnQgYnkgdGhlIGNsaWVudCBpbiB0aGUgTGl2ZU11c2ljQ2xpZW50TWVzc2FnZSBjYWxsLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVNdXNpY0NsaWVudE1lc3NhZ2Uge1xuICAvKiogTWVzc2FnZSB0byBiZSBzZW50IGluIHRoZSBmaXJzdCAoYW5kIG9ubHkgaW4gdGhlIGZpcnN0KSBgTGl2ZU11c2ljQ2xpZW50TWVzc2FnZWAuXG4gICAgICBDbGllbnRzIHNob3VsZCB3YWl0IGZvciBhIGBMaXZlTXVzaWNTZXR1cENvbXBsZXRlYCBtZXNzYWdlIGJlZm9yZVxuICAgICAgc2VuZGluZyBhbnkgYWRkaXRpb25hbCBtZXNzYWdlcy4gKi9cbiAgc2V0dXA/OiBMaXZlTXVzaWNDbGllbnRTZXR1cDtcbiAgLyoqIFVzZXIgaW5wdXQgdG8gaW5mbHVlbmNlIG11c2ljIGdlbmVyYXRpb24uICovXG4gIGNsaWVudENvbnRlbnQ/OiBMaXZlTXVzaWNDbGllbnRDb250ZW50O1xuICAvKiogQ29uZmlndXJhdGlvbiBmb3IgbXVzaWMgZ2VuZXJhdGlvbi4gKi9cbiAgbXVzaWNHZW5lcmF0aW9uQ29uZmlnPzogTGl2ZU11c2ljR2VuZXJhdGlvbkNvbmZpZztcbiAgLyoqIFBsYXliYWNrIGNvbnRyb2wgc2lnbmFsIGZvciB0aGUgbXVzaWMgZ2VuZXJhdGlvbi4gKi9cbiAgcGxheWJhY2tDb250cm9sPzogTGl2ZU11c2ljUGxheWJhY2tDb250cm9sO1xufVxuXG4vKiogU2VudCBpbiByZXNwb25zZSB0byBhIGBMaXZlTXVzaWNDbGllbnRTZXR1cGAgbWVzc2FnZSBmcm9tIHRoZSBjbGllbnQuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGl2ZU11c2ljU2VydmVyU2V0dXBDb21wbGV0ZSB7fVxuXG4vKiogUHJvbXB0cyBhbmQgY29uZmlnIHVzZWQgZm9yIGdlbmVyYXRpbmcgdGhpcyBhdWRpbyBjaHVuay4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlTXVzaWNTb3VyY2VNZXRhZGF0YSB7XG4gIC8qKiBXZWlnaHRlZCBwcm9tcHRzIGZvciBnZW5lcmF0aW5nIHRoaXMgYXVkaW8gY2h1bmsuICovXG4gIGNsaWVudENvbnRlbnQ/OiBMaXZlTXVzaWNDbGllbnRDb250ZW50O1xuICAvKiogTXVzaWMgZ2VuZXJhdGlvbiBjb25maWcgZm9yIGdlbmVyYXRpbmcgdGhpcyBhdWRpbyBjaHVuay4gKi9cbiAgbXVzaWNHZW5lcmF0aW9uQ29uZmlnPzogTGl2ZU11c2ljR2VuZXJhdGlvbkNvbmZpZztcbn1cblxuLyoqIFJlcHJlc2VudGF0aW9uIG9mIGFuIGF1ZGlvIGNodW5rLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEF1ZGlvQ2h1bmsge1xuICAvKiogUmF3IGJ5dGVzIG9mIGF1ZGlvIGRhdGEuXG4gICAqIEByZW1hcmtzIEVuY29kZWQgYXMgYmFzZTY0IHN0cmluZy4gKi9cbiAgZGF0YT86IHN0cmluZztcbiAgLyoqIE1JTUUgdHlwZSBvZiB0aGUgYXVkaW8gY2h1bmsuICovXG4gIG1pbWVUeXBlPzogc3RyaW5nO1xuICAvKiogUHJvbXB0cyBhbmQgY29uZmlnIHVzZWQgZm9yIGdlbmVyYXRpbmcgdGhpcyBhdWRpbyBjaHVuay4gKi9cbiAgc291cmNlTWV0YWRhdGE/OiBMaXZlTXVzaWNTb3VyY2VNZXRhZGF0YTtcbn1cblxuLyoqIFNlcnZlciB1cGRhdGUgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCBpbiByZXNwb25zZSB0byBjbGllbnQgbWVzc2FnZXMuXG5cbkNvbnRlbnQgaXMgZ2VuZXJhdGVkIGFzIHF1aWNrbHkgYXMgcG9zc2libGUsIGFuZCBub3QgaW4gcmVhbCB0aW1lLlxuQ2xpZW50cyBtYXkgY2hvb3NlIHRvIGJ1ZmZlciBhbmQgcGxheSBpdCBvdXQgaW4gcmVhbCB0aW1lLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVNdXNpY1NlcnZlckNvbnRlbnQge1xuICAvKiogVGhlIGF1ZGlvIGNodW5rcyB0aGF0IHRoZSBtb2RlbCBoYXMgZ2VuZXJhdGVkLiAqL1xuICBhdWRpb0NodW5rcz86IEF1ZGlvQ2h1bmtbXTtcbn1cblxuLyoqIEEgcHJvbXB0IHRoYXQgd2FzIGZpbHRlcmVkIHdpdGggdGhlIHJlYXNvbi4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlTXVzaWNGaWx0ZXJlZFByb21wdCB7XG4gIC8qKiBUaGUgdGV4dCBwcm9tcHQgdGhhdCB3YXMgZmlsdGVyZWQuICovXG4gIHRleHQ/OiBzdHJpbmc7XG4gIC8qKiBUaGUgcmVhc29uIHRoZSBwcm9tcHQgd2FzIGZpbHRlcmVkLiAqL1xuICBmaWx0ZXJlZFJlYXNvbj86IHN0cmluZztcbn1cblxuLyoqIFJlc3BvbnNlIG1lc3NhZ2UgZm9yIHRoZSBMaXZlTXVzaWNDbGllbnRNZXNzYWdlIGNhbGwuICovXG5leHBvcnQgY2xhc3MgTGl2ZU11c2ljU2VydmVyTWVzc2FnZSB7XG4gIC8qKiBNZXNzYWdlIHNlbnQgaW4gcmVzcG9uc2UgdG8gYSBgTGl2ZU11c2ljQ2xpZW50U2V0dXBgIG1lc3NhZ2UgZnJvbSB0aGUgY2xpZW50LlxuICAgICAgQ2xpZW50cyBzaG91bGQgd2FpdCBmb3IgdGhpcyBtZXNzYWdlIGJlZm9yZSBzZW5kaW5nIGFueSBhZGRpdGlvbmFsIG1lc3NhZ2VzLiAqL1xuICBzZXR1cENvbXBsZXRlPzogTGl2ZU11c2ljU2VydmVyU2V0dXBDb21wbGV0ZTtcbiAgLyoqIENvbnRlbnQgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCBpbiByZXNwb25zZSB0byBjbGllbnQgbWVzc2FnZXMuICovXG4gIHNlcnZlckNvbnRlbnQ/OiBMaXZlTXVzaWNTZXJ2ZXJDb250ZW50O1xuICAvKiogQSBwcm9tcHQgdGhhdCB3YXMgZmlsdGVyZWQgd2l0aCB0aGUgcmVhc29uLiAqL1xuICBmaWx0ZXJlZFByb21wdD86IExpdmVNdXNpY0ZpbHRlcmVkUHJvbXB0O1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgZmlyc3QgYXVkaW8gY2h1bmsgZnJvbSB0aGUgc2VydmVyIGNvbnRlbnQsIGlmIHByZXNlbnQuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIElmIHRoZXJlIGFyZSBubyBhdWRpbyBjaHVua3MgaW4gdGhlIHJlc3BvbnNlLCB1bmRlZmluZWQgd2lsbCBiZSByZXR1cm5lZC5cbiAgICovXG4gIGdldCBhdWRpb0NodW5rKCk6IEF1ZGlvQ2h1bmsgfCB1bmRlZmluZWQge1xuICAgIGlmIChcbiAgICAgIHRoaXMuc2VydmVyQ29udGVudCAmJlxuICAgICAgdGhpcy5zZXJ2ZXJDb250ZW50LmF1ZGlvQ2h1bmtzICYmXG4gICAgICB0aGlzLnNlcnZlckNvbnRlbnQuYXVkaW9DaHVua3MubGVuZ3RoID4gMFxuICAgICkge1xuICAgICAgcmV0dXJuIHRoaXMuc2VydmVyQ29udGVudC5hdWRpb0NodW5rc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKiogQ2FsbGJhY2tzIGZvciB0aGUgcmVhbHRpbWUgbXVzaWMgQVBJLiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXZlTXVzaWNDYWxsYmFja3Mge1xuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSBtZXNzYWdlIGlzIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlci5cbiAgICovXG4gIG9ubWVzc2FnZTogKGU6IExpdmVNdXNpY1NlcnZlck1lc3NhZ2UpID0+IHZvaWQ7XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMuXG4gICAqL1xuICBvbmVycm9yPzogKChlOiBFcnJvckV2ZW50KSA9PiB2b2lkKSB8IG51bGw7XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgd2Vic29ja2V0IGNvbm5lY3Rpb24gaXMgY2xvc2VkLlxuICAgKi9cbiAgb25jbG9zZT86ICgoZTogQ2xvc2VFdmVudCkgPT4gdm9pZCkgfCBudWxsO1xufVxuXG4vKiogUGFyYW1ldGVycyBmb3IgdGhlIHVwbG9hZCBmaWxlIG1ldGhvZC4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBsb2FkRmlsZVBhcmFtZXRlcnMge1xuICAvKiogVGhlIHN0cmluZyBwYXRoIHRvIHRoZSBmaWxlIHRvIGJlIHVwbG9hZGVkIG9yIGEgQmxvYiBvYmplY3QuICovXG4gIGZpbGU6IHN0cmluZyB8IGdsb2JhbFRoaXMuQmxvYjtcbiAgLyoqIENvbmZpZ3VyYXRpb24gdGhhdCBjb250YWlucyBvcHRpb25hbCBwYXJhbWV0ZXJzLiAqL1xuICBjb25maWc/OiBVcGxvYWRGaWxlQ29uZmlnO1xufVxuXG4vKiogUGFyYW1ldGVycyBmb3IgdGhlIHVwbG9hZCBmaWxlIHRvIGZpbGUgc2VhcmNoIHN0b3JlIG1ldGhvZC4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBsb2FkVG9GaWxlU2VhcmNoU3RvcmVQYXJhbWV0ZXJzIHtcbiAgLyoqIFRoZSBuYW1lIG9mIHRoZSBmaWxlIHNlYXJjaCBzdG9yZSB0byB1cGxvYWQuICovXG4gIGZpbGVTZWFyY2hTdG9yZU5hbWU6IHN0cmluZztcbiAgLyoqIFRoZSBzdHJpbmcgcGF0aCB0byB0aGUgZmlsZSB0byBiZSB1cGxvYWRlZCBvciBhIEJsb2Igb2JqZWN0LiAqL1xuICBmaWxlOiBzdHJpbmcgfCBnbG9iYWxUaGlzLkJsb2I7XG4gIC8qKiBDb25maWd1cmF0aW9uIHRoYXQgY29udGFpbnMgb3B0aW9uYWwgcGFyYW1ldGVycy4gKi9cbiAgY29uZmlnPzogVXBsb2FkVG9GaWxlU2VhcmNoU3RvcmVDb25maWc7XG59XG5cbi8qKlxuICogQ2FsbGFibGVUb29sIGlzIGFuIGludm9rYWJsZSB0b29sIHRoYXQgY2FuIGJlIGV4ZWN1dGVkIHdpdGggZXh0ZXJuYWxcbiAqIGFwcGxpY2F0aW9uIChlLmcuLCB2aWEgTW9kZWwgQ29udGV4dCBQcm90b2NvbCkgb3IgbG9jYWwgZnVuY3Rpb25zIHdpdGhcbiAqIGZ1bmN0aW9uIGNhbGxpbmcuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbGFibGVUb29sIHtcbiAgLyoqXG4gICAqIFJldHVybnMgdG9vbCB0aGF0IGNhbiBiZSBjYWxsZWQgYnkgR2VtaW5pLlxuICAgKi9cbiAgdG9vbCgpOiBQcm9taXNlPFRvb2w+O1xuICAvKipcbiAgICogRXhlY3V0ZXMgdGhlIGNhbGxhYmxlIHRvb2wgd2l0aCB0aGUgZ2l2ZW4gZnVuY3Rpb24gY2FsbCBhcmd1bWVudHMgYW5kXG4gICAqIHJldHVybnMgdGhlIHJlc3BvbnNlIHBhcnRzIGZyb20gdGhlIHRvb2wgZXhlY3V0aW9uLlxuICAgKi9cbiAgY2FsbFRvb2woZnVuY3Rpb25DYWxsczogRnVuY3Rpb25DYWxsW10pOiBQcm9taXNlPFBhcnRbXT47XG59XG5cbi8qKlxuICogQ2FsbGFibGVUb29sQ29uZmlnIGlzIHRoZSBjb25maWd1cmF0aW9uIGZvciBhIGNhbGxhYmxlIHRvb2wuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbGFibGVUb29sQ29uZmlnIHtcbiAgLyoqXG4gICAqIFNwZWNpZmllcyB0aGUgbW9kZWwncyBiZWhhdmlvciBhZnRlciBpbnZva2luZyB0aGlzIHRvb2wuXG4gICAqL1xuICBiZWhhdmlvcj86IEJlaGF2aW9yO1xuICAvKipcbiAgICogVGltZW91dCBmb3IgcmVtb3RlIGNhbGxzIGluIG1pbGxpc2Vjb25kcy4gTm90ZSB0aGlzIHRpbWVvdXQgYXBwbGllcyBvbmx5IHRvXG4gICAqIHRvb2wgcmVtb3RlIGNhbGxzLCBhbmQgbm90IG1ha2luZyBIVFRQIHJlcXVlc3RzIHRvIHRoZSBBUEkuICovXG4gIHRpbWVvdXQ/OiBudW1iZXI7XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciBjb25uZWN0aW5nIHRvIHRoZSBsaXZlIEFQSS4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMaXZlTXVzaWNDb25uZWN0UGFyYW1ldGVycyB7XG4gIC8qKiBUaGUgbW9kZWwncyByZXNvdXJjZSBuYW1lLiAqL1xuICBtb2RlbDogc3RyaW5nO1xuICAvKiogQ2FsbGJhY2tzIGludm9rZWQgb24gc2VydmVyIGV2ZW50cy4gKi9cbiAgY2FsbGJhY2tzOiBMaXZlTXVzaWNDYWxsYmFja3M7XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciBzZXR0aW5nIGNvbmZpZyBmb3IgdGhlIGxpdmUgbXVzaWMgQVBJLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVNdXNpY1NldENvbmZpZ1BhcmFtZXRlcnMge1xuICAvKiogQ29uZmlndXJhdGlvbiBmb3IgbXVzaWMgZ2VuZXJhdGlvbi4gKi9cbiAgbXVzaWNHZW5lcmF0aW9uQ29uZmlnOiBMaXZlTXVzaWNHZW5lcmF0aW9uQ29uZmlnO1xufVxuXG4vKiogUGFyYW1ldGVycyBmb3Igc2V0dGluZyB3ZWlnaHRlZCBwcm9tcHRzIGZvciB0aGUgbGl2ZSBtdXNpYyBBUEkuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGl2ZU11c2ljU2V0V2VpZ2h0ZWRQcm9tcHRzUGFyYW1ldGVycyB7XG4gIC8qKiBBIG1hcCBvZiB0ZXh0IHByb21wdHMgdG8gd2VpZ2h0cyB0byB1c2UgZm9yIHRoZSBnZW5lcmF0aW9uIHJlcXVlc3QuICovXG4gIHdlaWdodGVkUHJvbXB0czogV2VpZ2h0ZWRQcm9tcHRbXTtcbn1cblxuLyoqIENvbmZpZyBmb3IgYXV0aF90b2tlbnMuY3JlYXRlIHBhcmFtZXRlcnMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQXV0aFRva2VuIHtcbiAgLyoqIFRoZSBuYW1lIG9mIHRoZSBhdXRoIHRva2VuLiAqL1xuICBuYW1lPzogc3RyaW5nO1xufVxuXG4vKiogQ29uZmlnIGZvciBMaXZlQ29ubmVjdENvbnN0cmFpbnRzIGZvciBBdXRoIFRva2VuIGNyZWF0aW9uLiAqL1xuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExpdmVDb25uZWN0Q29uc3RyYWludHMge1xuICAvKiogSUQgb2YgdGhlIG1vZGVsIHRvIGNvbmZpZ3VyZSBpbiB0aGUgZXBoZW1lcmFsIHRva2VuIGZvciBMaXZlIEFQSS5cbiAgICAgIEZvciBhIGxpc3Qgb2YgbW9kZWxzLCBzZWUgYEdlbWluaSBtb2RlbHNcbiAgICAgIDxodHRwczovL2FpLmdvb2dsZS5kZXYvZ2VtaW5pLWFwaS9kb2NzL21vZGVscz5gLiAqL1xuICBtb2RlbD86IHN0cmluZztcbiAgLyoqIENvbmZpZ3VyYXRpb24gc3BlY2lmaWMgdG8gTGl2ZSBBUEkgY29ubmVjdGlvbnMgY3JlYXRlZCB1c2luZyB0aGlzIHRva2VuLiAqL1xuICBjb25maWc/OiBMaXZlQ29ubmVjdENvbmZpZztcbn1cblxuLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ3JlYXRlQXV0aFRva2VuQ29uZmlnIHtcbiAgLyoqIFVzZWQgdG8gb3ZlcnJpZGUgSFRUUCByZXF1ZXN0IG9wdGlvbnMuICovXG4gIGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIC8qKiBBYm9ydCBzaWduYWwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSByZXF1ZXN0LlxuXG4gIE5PVEU6IEFib3J0U2lnbmFsIGlzIGEgY2xpZW50LW9ubHkgb3BlcmF0aW9uLiBVc2luZyBpdCB0byBjYW5jZWwgYW5cbiAgb3BlcmF0aW9uIHdpbGwgbm90IGNhbmNlbCB0aGUgcmVxdWVzdCBpbiB0aGUgc2VydmljZS4gWW91IHdpbGwgc3RpbGxcbiAgYmUgY2hhcmdlZCB1c2FnZSBmb3IgYW55IGFwcGxpY2FibGUgb3BlcmF0aW9ucy5cbiAgICAgICAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuICAvKiogQW4gb3B0aW9uYWwgdGltZSBhZnRlciB3aGljaCwgd2hlbiB1c2luZyB0aGUgcmVzdWx0aW5nIHRva2VuLFxuICAgICAgbWVzc2FnZXMgaW4gTGl2ZSBBUEkgc2Vzc2lvbnMgd2lsbCBiZSByZWplY3RlZC4gKEdlbWluaSBtYXlcbiAgICAgIHByZWVtcHRpdmVseSBjbG9zZSB0aGUgc2Vzc2lvbiBhZnRlciB0aGlzIHRpbWUuKVxuXG4gICAgICBJZiBub3Qgc2V0IHRoZW4gdGhpcyBkZWZhdWx0cyB0byAzMCBtaW51dGVzIGluIHRoZSBmdXR1cmUuIElmIHNldCwgdGhpc1xuICAgICAgdmFsdWUgbXVzdCBiZSBsZXNzIHRoYW4gMjAgaG91cnMgaW4gdGhlIGZ1dHVyZS4gKi9cbiAgZXhwaXJlVGltZT86IHN0cmluZztcbiAgLyoqIFRoZSB0aW1lIGFmdGVyIHdoaWNoIG5ldyBMaXZlIEFQSSBzZXNzaW9ucyB1c2luZyB0aGUgdG9rZW5cbiAgICAgIHJlc3VsdGluZyBmcm9tIHRoaXMgcmVxdWVzdCB3aWxsIGJlIHJlamVjdGVkLlxuXG4gICAgICBJZiBub3Qgc2V0IHRoaXMgZGVmYXVsdHMgdG8gNjAgc2Vjb25kcyBpbiB0aGUgZnV0dXJlLiBJZiBzZXQsIHRoaXMgdmFsdWVcbiAgICAgIG11c3QgYmUgbGVzcyB0aGFuIDIwIGhvdXJzIGluIHRoZSBmdXR1cmUuICovXG4gIG5ld1Nlc3Npb25FeHBpcmVUaW1lPzogc3RyaW5nO1xuICAvKiogVGhlIG51bWJlciBvZiB0aW1lcyB0aGUgdG9rZW4gY2FuIGJlIHVzZWQuIElmIHRoaXMgdmFsdWUgaXMgemVyb1xuICAgICAgdGhlbiBubyBsaW1pdCBpcyBhcHBsaWVkLiBEZWZhdWx0IGlzIDEuIFJlc3VtaW5nIGEgTGl2ZSBBUEkgc2Vzc2lvbiBkb2VzXG4gICAgICBub3QgY291bnQgYXMgYSB1c2UuICovXG4gIHVzZXM/OiBudW1iZXI7XG4gIC8qKiBDb25maWd1cmF0aW9uIHNwZWNpZmljIHRvIExpdmUgQVBJIGNvbm5lY3Rpb25zIGNyZWF0ZWQgdXNpbmcgdGhpcyB0b2tlbi4gKi9cbiAgbGl2ZUNvbm5lY3RDb25zdHJhaW50cz86IExpdmVDb25uZWN0Q29uc3RyYWludHM7XG4gIC8qKiBBZGRpdGlvbmFsIGZpZWxkcyB0byBsb2NrIGluIHRoZSBlZmZlY3RpdmUgTGl2ZUNvbm5lY3RQYXJhbWV0ZXJzLiAqL1xuICBsb2NrQWRkaXRpb25hbEZpZWxkcz86IHN0cmluZ1tdO1xufVxuXG4vKiogQ29uZmlnIGZvciBhdXRoX3Rva2Vucy5jcmVhdGUgcGFyYW1ldGVycy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDcmVhdGVBdXRoVG9rZW5QYXJhbWV0ZXJzIHtcbiAgLyoqIE9wdGlvbmFsIHBhcmFtZXRlcnMgZm9yIHRoZSByZXF1ZXN0LiAqL1xuICBjb25maWc/OiBDcmVhdGVBdXRoVG9rZW5Db25maWc7XG59XG5cbi8qKiBQYXJhbWV0ZXJzIGZvciB0aGUgZ2V0IG1ldGhvZCBvZiB0aGUgb3BlcmF0aW9ucyBtb2R1bGUuICovXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgT3BlcmF0aW9uR2V0UGFyYW1ldGVyczxULCBVIGV4dGVuZHMgT3BlcmF0aW9uPFQ+PiB7XG4gIC8qKiBVc2VkIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uICovXG4gIGNvbmZpZz86IEdldE9wZXJhdGlvbkNvbmZpZztcbiAgLyoqIFRoZSBvcGVyYXRpb24gdG8gYmUgcmV0cmlldmVkLiAqL1xuICBvcGVyYXRpb246IFU7XG59XG5cbi8qKiBGaW5lLXR1bmluZyBqb2IgY3JlYXRpb24gcGFyYW1ldGVycyAtIG9wdGlvbmFsIGZpZWxkcy4gKi9cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDcmVhdGVUdW5pbmdKb2JQYXJhbWV0ZXJzIHtcbiAgLyoqIFRoZSBiYXNlIG1vZGVsIHRoYXQgaXMgYmVpbmcgdHVuZWQsIGUuZy4sIFwiZ2VtaW5pLTIuNS1mbGFzaFwiLiAqL1xuICBiYXNlTW9kZWw6IHN0cmluZztcbiAgLyoqIENsb3VkIFN0b3JhZ2UgcGF0aCB0byBmaWxlIGNvbnRhaW5pbmcgdHJhaW5pbmcgZGF0YXNldCBmb3IgdHVuaW5nLiBUaGUgZGF0YXNldCBtdXN0IGJlIGZvcm1hdHRlZCBhcyBhIEpTT05MIGZpbGUuICovXG4gIHRyYWluaW5nRGF0YXNldDogVHVuaW5nRGF0YXNldDtcbiAgLyoqIENvbmZpZ3VyYXRpb24gZm9yIHRoZSB0dW5pbmcgam9iLiAqL1xuICBjb25maWc/OiBDcmVhdGVUdW5pbmdKb2JDb25maWc7XG59XG5cbi8qKiBUaGUgcmVzcG9uc2Ugd2hlbiBsb25nLXJ1bm5pbmcgb3BlcmF0aW9uIGZvciB1cGxvYWRpbmcgYSBmaWxlIHRvIGEgRmlsZVNlYXJjaFN0b3JlIGNvbXBsZXRlLiAqL1xuZXhwb3J0IGNsYXNzIFVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlUmVzcG9uc2Uge1xuICAvKiogVXNlZCB0byByZXRhaW4gdGhlIGZ1bGwgSFRUUCByZXNwb25zZS4gKi9cbiAgc2RrSHR0cFJlc3BvbnNlPzogSHR0cFJlc3BvbnNlO1xuICAvKiogVGhlIG5hbWUgb2YgdGhlIEZpbGVTZWFyY2hTdG9yZSBjb250YWluaW5nIERvY3VtZW50cy4gKi9cbiAgcGFyZW50Pzogc3RyaW5nO1xuICAvKiogVGhlIGlkZW50aWZpZXIgZm9yIHRoZSBEb2N1bWVudCBpbXBvcnRlZC4gKi9cbiAgZG9jdW1lbnROYW1lPzogc3RyaW5nO1xufVxuXG4vKiogTG9uZy1ydW5uaW5nIG9wZXJhdGlvbiBmb3IgdXBsb2FkaW5nIGEgZmlsZSB0byBhIEZpbGVTZWFyY2hTdG9yZS4gKi9cbmV4cG9ydCBjbGFzcyBVcGxvYWRUb0ZpbGVTZWFyY2hTdG9yZU9wZXJhdGlvblxuICBpbXBsZW1lbnRzIE9wZXJhdGlvbjxVcGxvYWRUb0ZpbGVTZWFyY2hTdG9yZVJlc3BvbnNlPlxue1xuICAvKiogVGhlIHNlcnZlci1hc3NpZ25lZCBuYW1lLCB3aGljaCBpcyBvbmx5IHVuaXF1ZSB3aXRoaW4gdGhlIHNhbWUgc2VydmljZSB0aGF0IG9yaWdpbmFsbHkgcmV0dXJucyBpdC4gSWYgeW91IHVzZSB0aGUgZGVmYXVsdCBIVFRQIG1hcHBpbmcsIHRoZSBgbmFtZWAgc2hvdWxkIGJlIGEgcmVzb3VyY2UgbmFtZSBlbmRpbmcgd2l0aCBgb3BlcmF0aW9ucy97dW5pcXVlX2lkfWAuICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKiBTZXJ2aWNlLXNwZWNpZmljIG1ldGFkYXRhIGFzc29jaWF0ZWQgd2l0aCB0aGUgb3BlcmF0aW9uLiBJdCB0eXBpY2FsbHkgY29udGFpbnMgcHJvZ3Jlc3MgaW5mb3JtYXRpb24gYW5kIGNvbW1vbiBtZXRhZGF0YSBzdWNoIGFzIGNyZWF0ZSB0aW1lLiBTb21lIHNlcnZpY2VzIG1pZ2h0IG5vdCBwcm92aWRlIHN1Y2ggbWV0YWRhdGEuICBBbnkgbWV0aG9kIHRoYXQgcmV0dXJucyBhIGxvbmctcnVubmluZyBvcGVyYXRpb24gc2hvdWxkIGRvY3VtZW50IHRoZSBtZXRhZGF0YSB0eXBlLCBpZiBhbnkuICovXG4gIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIC8qKiBJZiB0aGUgdmFsdWUgaXMgYGZhbHNlYCwgaXQgbWVhbnMgdGhlIG9wZXJhdGlvbiBpcyBzdGlsbCBpbiBwcm9ncmVzcy4gSWYgYHRydWVgLCB0aGUgb3BlcmF0aW9uIGlzIGNvbXBsZXRlZCwgYW5kIGVpdGhlciBgZXJyb3JgIG9yIGByZXNwb25zZWAgaXMgYXZhaWxhYmxlLiAqL1xuICBkb25lPzogYm9vbGVhbjtcbiAgLyoqIFRoZSBlcnJvciByZXN1bHQgb2YgdGhlIG9wZXJhdGlvbiBpbiBjYXNlIG9mIGZhaWx1cmUgb3IgY2FuY2VsbGF0aW9uLiAqL1xuICBlcnJvcj86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAvKiogVGhlIHJlc3VsdCBvZiB0aGUgVXBsb2FkVG9GaWxlU2VhcmNoU3RvcmUgb3BlcmF0aW9uLCBhdmFpbGFibGUgd2hlbiB0aGUgb3BlcmF0aW9uIGlzIGRvbmUuICovXG4gIHJlc3BvbnNlPzogVXBsb2FkVG9GaWxlU2VhcmNoU3RvcmVSZXNwb25zZTtcblxuICAvKipcbiAgICogSW5zdGFudGlhdGVzIGFuIE9wZXJhdGlvbiBvZiB0aGUgc2FtZSB0eXBlIGFzIHRoZSBvbmUgYmVpbmcgY2FsbGVkIHdpdGggdGhlIGZpZWxkcyBzZXQgZnJvbSB0aGUgQVBJIHJlc3BvbnNlLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9mcm9tQVBJUmVzcG9uc2Uoe1xuICAgIGFwaVJlc3BvbnNlLFxuICAgIF9pc1ZlcnRleEFJLFxuICB9OiBPcGVyYXRpb25Gcm9tQVBJUmVzcG9uc2VQYXJhbWV0ZXJzKTogT3BlcmF0aW9uPFVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlUmVzcG9uc2U+IHtcbiAgICBjb25zdCBvcGVyYXRpb24gPSBuZXcgVXBsb2FkVG9GaWxlU2VhcmNoU3RvcmVPcGVyYXRpb24oKTtcblxuICAgIGNvbnN0IG9wID0gYXBpUmVzcG9uc2UgYXMgdW5rbm93biBhcyBVcGxvYWRUb0ZpbGVTZWFyY2hTdG9yZU9wZXJhdGlvbjtcbiAgICBjb25zdCByZXNwb25zZSA9IHVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlT3BlcmF0aW9uRnJvbU1sZGV2KG9wKTtcbiAgICBPYmplY3QuYXNzaWduKG9wZXJhdGlvbiwgcmVzcG9uc2UpO1xuICAgIHJldHVybiBvcGVyYXRpb247XG4gIH1cbiAgLyoqIFRoZSBmdWxsIEhUVFAgcmVzcG9uc2UuICovXG4gIHNka0h0dHBSZXNwb25zZT86IEh0dHBSZXNwb25zZTtcbn1cblxuZXhwb3J0IHR5cGUgQmxvYkltYWdlVW5pb24gPSBCbG9iO1xuXG5leHBvcnQgdHlwZSBQYXJ0VW5pb24gPSBQYXJ0IHwgc3RyaW5nO1xuXG5leHBvcnQgdHlwZSBQYXJ0TGlzdFVuaW9uID0gUGFydFVuaW9uW10gfCBQYXJ0VW5pb247XG5cbmV4cG9ydCB0eXBlIENvbnRlbnRVbmlvbiA9IENvbnRlbnQgfCBQYXJ0VW5pb25bXSB8IFBhcnRVbmlvbjtcblxuZXhwb3J0IHR5cGUgQ29udGVudExpc3RVbmlvbiA9IENvbnRlbnQgfCBDb250ZW50W10gfCBQYXJ0VW5pb24gfCBQYXJ0VW5pb25bXTtcblxuZXhwb3J0IHR5cGUgU2NoZW1hVW5pb24gPSBTY2hlbWEgfCB1bmtub3duO1xuXG5leHBvcnQgdHlwZSBTcGVlY2hDb25maWdVbmlvbiA9IFNwZWVjaENvbmZpZyB8IHN0cmluZztcblxuZXhwb3J0IHR5cGUgVG9vbFVuaW9uID0gVG9vbCB8IENhbGxhYmxlVG9vbDtcblxuZXhwb3J0IHR5cGUgVG9vbExpc3RVbmlvbiA9IFRvb2xVbmlvbltdO1xuXG5leHBvcnQgdHlwZSBEb3dubG9hZGFibGVGaWxlVW5pb24gPSBzdHJpbmcgfCBGaWxlIHwgR2VuZXJhdGVkVmlkZW8gfCBWaWRlbztcblxuZXhwb3J0IHR5cGUgQmF0Y2hKb2JTb3VyY2VVbmlvbiA9IEJhdGNoSm9iU291cmNlIHwgSW5saW5lZFJlcXVlc3RbXSB8IHN0cmluZztcblxuZXhwb3J0IHR5cGUgQmF0Y2hKb2JEZXN0aW5hdGlvblVuaW9uID0gQmF0Y2hKb2JEZXN0aW5hdGlvbiB8IHN0cmluZztcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB0eXBlIHtUb29sIGFzIE1jcFRvb2x9IGZyb20gJ0Btb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvdHlwZXMnO1xuXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi9fYXBpX2NsaWVudC5qcyc7XG5pbXBvcnQgKiBhcyBiYXNlVHJhbnNmb3JtZXJzIGZyb20gJy4vX2Jhc2VfdHJhbnNmb3JtZXJzLmpzJztcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4vdHlwZXMuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gdE1vZGVsKGFwaUNsaWVudDogQXBpQ2xpZW50LCBtb2RlbDogc3RyaW5nIHwgdW5rbm93bik6IHN0cmluZyB7XG4gIGlmICghbW9kZWwgfHwgdHlwZW9mIG1vZGVsICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcignbW9kZWwgaXMgcmVxdWlyZWQgYW5kIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgfVxuICBpZiAobW9kZWwuaW5jbHVkZXMoJy4uJykgfHwgbW9kZWwuaW5jbHVkZXMoJz8nKSB8fCBtb2RlbC5pbmNsdWRlcygnJicpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIG1vZGVsIHBhcmFtZXRlcicpO1xuICB9XG5cbiAgaWYgKGFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICBpZiAoXG4gICAgICBtb2RlbC5zdGFydHNXaXRoKCdwdWJsaXNoZXJzLycpIHx8XG4gICAgICBtb2RlbC5zdGFydHNXaXRoKCdwcm9qZWN0cy8nKSB8fFxuICAgICAgbW9kZWwuc3RhcnRzV2l0aCgnbW9kZWxzLycpXG4gICAgKSB7XG4gICAgICByZXR1cm4gbW9kZWw7XG4gICAgfSBlbHNlIGlmIChtb2RlbC5pbmRleE9mKCcvJykgPj0gMCkge1xuICAgICAgY29uc3QgcGFydHMgPSBtb2RlbC5zcGxpdCgnLycsIDIpO1xuICAgICAgcmV0dXJuIGBwdWJsaXNoZXJzLyR7cGFydHNbMF19L21vZGVscy8ke3BhcnRzWzFdfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBgcHVibGlzaGVycy9nb29nbGUvbW9kZWxzLyR7bW9kZWx9YDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKG1vZGVsLnN0YXJ0c1dpdGgoJ21vZGVscy8nKSB8fCBtb2RlbC5zdGFydHNXaXRoKCd0dW5lZE1vZGVscy8nKSkge1xuICAgICAgcmV0dXJuIG1vZGVsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYG1vZGVscy8ke21vZGVsfWA7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0Q2FjaGVzTW9kZWwoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBtb2RlbDogc3RyaW5nIHwgdW5rbm93bixcbik6IHN0cmluZyB7XG4gIGNvbnN0IHRyYW5zZm9ybWVkTW9kZWwgPSB0TW9kZWwoYXBpQ2xpZW50LCBtb2RlbCBhcyBzdHJpbmcpO1xuICBpZiAoIXRyYW5zZm9ybWVkTW9kZWwpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBpZiAodHJhbnNmb3JtZWRNb2RlbC5zdGFydHNXaXRoKCdwdWJsaXNoZXJzLycpICYmIGFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAvLyB2ZXJ0ZXggY2FjaGVzIG9ubHkgc3VwcG9ydCBtb2RlbCBuYW1lIHN0YXJ0IHdpdGggcHJvamVjdHMuXG4gICAgcmV0dXJuIGBwcm9qZWN0cy8ke2FwaUNsaWVudC5nZXRQcm9qZWN0KCl9L2xvY2F0aW9ucy8ke2FwaUNsaWVudC5nZXRMb2NhdGlvbigpfS8ke3RyYW5zZm9ybWVkTW9kZWx9YDtcbiAgfSBlbHNlIGlmICh0cmFuc2Zvcm1lZE1vZGVsLnN0YXJ0c1dpdGgoJ21vZGVscy8nKSAmJiBhcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgcmV0dXJuIGBwcm9qZWN0cy8ke2FwaUNsaWVudC5nZXRQcm9qZWN0KCl9L2xvY2F0aW9ucy8ke2FwaUNsaWVudC5nZXRMb2NhdGlvbigpfS9wdWJsaXNoZXJzL2dvb2dsZS8ke3RyYW5zZm9ybWVkTW9kZWx9YDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdHJhbnNmb3JtZWRNb2RlbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdEJsb2JzKFxuICBibG9iczogdHlwZXMuQmxvYkltYWdlVW5pb24gfCB0eXBlcy5CbG9iSW1hZ2VVbmlvbltdLFxuKTogdHlwZXMuQmxvYltdIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYmxvYnMpKSB7XG4gICAgcmV0dXJuIGJsb2JzLm1hcCgoYmxvYikgPT4gdEJsb2IoYmxvYikpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBbdEJsb2IoYmxvYnMpXTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdEJsb2IoYmxvYjogdHlwZXMuQmxvYkltYWdlVW5pb24pOiB0eXBlcy5CbG9iIHtcbiAgaWYgKHR5cGVvZiBibG9iID09PSAnb2JqZWN0JyAmJiBibG9iICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIGJsb2I7XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgYENvdWxkIG5vdCBwYXJzZSBpbnB1dCBhcyBCbG9iLiBVbnN1cHBvcnRlZCBibG9iIHR5cGU6ICR7dHlwZW9mIGJsb2J9YCxcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRJbWFnZUJsb2IoYmxvYjogdHlwZXMuQmxvYkltYWdlVW5pb24pOiB0eXBlcy5CbG9iIHtcbiAgY29uc3QgdHJhbnNmb3JtZWRCbG9iID0gdEJsb2IoYmxvYik7XG4gIGlmIChcbiAgICB0cmFuc2Zvcm1lZEJsb2IubWltZVR5cGUgJiZcbiAgICB0cmFuc2Zvcm1lZEJsb2IubWltZVR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJylcbiAgKSB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybWVkQmxvYjtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIG1pbWUgdHlwZTogJHt0cmFuc2Zvcm1lZEJsb2IubWltZVR5cGUhfWApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdEF1ZGlvQmxvYihibG9iOiB0eXBlcy5CbG9iKTogdHlwZXMuQmxvYiB7XG4gIGNvbnN0IHRyYW5zZm9ybWVkQmxvYiA9IHRCbG9iKGJsb2IpO1xuICBpZiAoXG4gICAgdHJhbnNmb3JtZWRCbG9iLm1pbWVUeXBlICYmXG4gICAgdHJhbnNmb3JtZWRCbG9iLm1pbWVUeXBlLnN0YXJ0c1dpdGgoJ2F1ZGlvLycpXG4gICkge1xuICAgIHJldHVybiB0cmFuc2Zvcm1lZEJsb2I7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBtaW1lIHR5cGU6ICR7dHJhbnNmb3JtZWRCbG9iLm1pbWVUeXBlIX1gKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRQYXJ0KG9yaWdpbj86IHR5cGVzLlBhcnRVbmlvbiB8IG51bGwpOiB0eXBlcy5QYXJ0IHtcbiAgaWYgKG9yaWdpbiA9PT0gbnVsbCB8fCBvcmlnaW4gPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignUGFydFVuaW9uIGlzIHJlcXVpcmVkJyk7XG4gIH1cbiAgaWYgKHR5cGVvZiBvcmlnaW4gPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG9yaWdpbjtcbiAgfVxuICBpZiAodHlwZW9mIG9yaWdpbiA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4ge3RleHQ6IG9yaWdpbn07XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBwYXJ0IHR5cGU6ICR7dHlwZW9mIG9yaWdpbn1gKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRQYXJ0cyhvcmlnaW4/OiB0eXBlcy5QYXJ0TGlzdFVuaW9uIHwgbnVsbCk6IHR5cGVzLlBhcnRbXSB7XG4gIGlmIChcbiAgICBvcmlnaW4gPT09IG51bGwgfHxcbiAgICBvcmlnaW4gPT09IHVuZGVmaW5lZCB8fFxuICAgIChBcnJheS5pc0FycmF5KG9yaWdpbikgJiYgb3JpZ2luLmxlbmd0aCA9PT0gMClcbiAgKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdQYXJ0TGlzdFVuaW9uIGlzIHJlcXVpcmVkJyk7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkob3JpZ2luKSkge1xuICAgIHJldHVybiBvcmlnaW4ubWFwKChpdGVtKSA9PiB0UGFydChpdGVtIGFzIHR5cGVzLlBhcnRVbmlvbikhKTtcbiAgfVxuICByZXR1cm4gW3RQYXJ0KG9yaWdpbikhXTtcbn1cblxuZnVuY3Rpb24gX2lzQ29udGVudChvcmlnaW46IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBvcmlnaW4gIT09IG51bGwgJiZcbiAgICBvcmlnaW4gIT09IHVuZGVmaW5lZCAmJlxuICAgIHR5cGVvZiBvcmlnaW4gPT09ICdvYmplY3QnICYmXG4gICAgJ3BhcnRzJyBpbiBvcmlnaW4gJiZcbiAgICBBcnJheS5pc0FycmF5KG9yaWdpbi5wYXJ0cylcbiAgKTtcbn1cblxuZnVuY3Rpb24gX2lzRnVuY3Rpb25DYWxsUGFydChvcmlnaW46IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBvcmlnaW4gIT09IG51bGwgJiZcbiAgICBvcmlnaW4gIT09IHVuZGVmaW5lZCAmJlxuICAgIHR5cGVvZiBvcmlnaW4gPT09ICdvYmplY3QnICYmXG4gICAgJ2Z1bmN0aW9uQ2FsbCcgaW4gb3JpZ2luXG4gICk7XG59XG5cbmZ1bmN0aW9uIF9pc0Z1bmN0aW9uUmVzcG9uc2VQYXJ0KG9yaWdpbjogdW5rbm93bik6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIG9yaWdpbiAhPT0gbnVsbCAmJlxuICAgIG9yaWdpbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgdHlwZW9mIG9yaWdpbiA9PT0gJ29iamVjdCcgJiZcbiAgICAnZnVuY3Rpb25SZXNwb25zZScgaW4gb3JpZ2luXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0Q29udGVudChvcmlnaW4/OiB0eXBlcy5Db250ZW50VW5pb24pOiB0eXBlcy5Db250ZW50IHtcbiAgaWYgKG9yaWdpbiA9PT0gbnVsbCB8fCBvcmlnaW4gPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ29udGVudFVuaW9uIGlzIHJlcXVpcmVkJyk7XG4gIH1cbiAgaWYgKF9pc0NvbnRlbnQob3JpZ2luKSkge1xuICAgIC8vIF9pc0NvbnRlbnQgaXMgYSB1dGlsaXR5IGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmIHRoZVxuICAgIC8vIG9yaWdpbiBpcyBhIENvbnRlbnQuXG4gICAgcmV0dXJuIG9yaWdpbiBhcyB0eXBlcy5Db250ZW50O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByb2xlOiAndXNlcicsXG4gICAgcGFydHM6IHRQYXJ0cyhvcmlnaW4gYXMgdHlwZXMuUGFydExpc3RVbmlvbikhLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdENvbnRlbnRzRm9yRW1iZWQoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBvcmlnaW46IHR5cGVzLkNvbnRlbnRMaXN0VW5pb24sXG4pOiB0eXBlcy5Db250ZW50VW5pb25bXSB7XG4gIGlmICghb3JpZ2luKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGlmIChhcGlDbGllbnQuaXNWZXJ0ZXhBSSgpICYmIEFycmF5LmlzQXJyYXkob3JpZ2luKSkge1xuICAgIHJldHVybiBvcmlnaW4uZmxhdE1hcCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgY29udGVudCA9IHRDb250ZW50KGl0ZW0gYXMgdHlwZXMuQ29udGVudFVuaW9uKTtcbiAgICAgIGlmIChcbiAgICAgICAgY29udGVudC5wYXJ0cyAmJlxuICAgICAgICBjb250ZW50LnBhcnRzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgY29udGVudC5wYXJ0c1swXS50ZXh0ICE9PSB1bmRlZmluZWRcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gW2NvbnRlbnQucGFydHNbMF0udGV4dF07XG4gICAgICB9XG4gICAgICByZXR1cm4gW107XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgIGNvbnN0IGNvbnRlbnQgPSB0Q29udGVudChvcmlnaW4gYXMgdHlwZXMuQ29udGVudFVuaW9uKTtcbiAgICBpZiAoXG4gICAgICBjb250ZW50LnBhcnRzICYmXG4gICAgICBjb250ZW50LnBhcnRzLmxlbmd0aCA+IDAgJiZcbiAgICAgIGNvbnRlbnQucGFydHNbMF0udGV4dCAhPT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICByZXR1cm4gW2NvbnRlbnQucGFydHNbMF0udGV4dF07XG4gICAgfVxuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShvcmlnaW4pKSB7XG4gICAgcmV0dXJuIG9yaWdpbi5tYXAoKGl0ZW0pID0+IHRDb250ZW50KGl0ZW0gYXMgdHlwZXMuQ29udGVudFVuaW9uKSEpO1xuICB9XG4gIHJldHVybiBbdENvbnRlbnQob3JpZ2luIGFzIHR5cGVzLkNvbnRlbnRVbmlvbikhXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRDb250ZW50cyhvcmlnaW4/OiB0eXBlcy5Db250ZW50TGlzdFVuaW9uKTogdHlwZXMuQ29udGVudFtdIHtcbiAgaWYgKFxuICAgIG9yaWdpbiA9PT0gbnVsbCB8fFxuICAgIG9yaWdpbiA9PT0gdW5kZWZpbmVkIHx8XG4gICAgKEFycmF5LmlzQXJyYXkob3JpZ2luKSAmJiBvcmlnaW4ubGVuZ3RoID09PSAwKVxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbnRlbnRzIGFyZSByZXF1aXJlZCcpO1xuICB9XG4gIGlmICghQXJyYXkuaXNBcnJheShvcmlnaW4pKSB7XG4gICAgLy8gSWYgaXQncyBub3QgYW4gYXJyYXksIGl0J3MgYSBzaW5nbGUgY29udGVudCBvciBhIHNpbmdsZSBQYXJ0VW5pb24uXG4gICAgaWYgKF9pc0Z1bmN0aW9uQ2FsbFBhcnQob3JpZ2luKSB8fCBfaXNGdW5jdGlvblJlc3BvbnNlUGFydChvcmlnaW4pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUbyBzcGVjaWZ5IGZ1bmN0aW9uQ2FsbCBvciBmdW5jdGlvblJlc3BvbnNlIHBhcnRzLCBwbGVhc2Ugd3JhcCB0aGVtIGluIGEgQ29udGVudCBvYmplY3QsIHNwZWNpZnlpbmcgdGhlIHJvbGUgZm9yIHRoZW0nLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIFt0Q29udGVudChvcmlnaW4gYXMgdHlwZXMuQ29udGVudFVuaW9uKV07XG4gIH1cblxuICBjb25zdCByZXN1bHQ6IHR5cGVzLkNvbnRlbnRbXSA9IFtdO1xuICBjb25zdCBhY2N1bXVsYXRlZFBhcnRzOiB0eXBlcy5QYXJ0VW5pb25bXSA9IFtdO1xuICBjb25zdCBpc0NvbnRlbnRBcnJheSA9IF9pc0NvbnRlbnQob3JpZ2luWzBdKTtcblxuICBmb3IgKGNvbnN0IGl0ZW0gb2Ygb3JpZ2luKSB7XG4gICAgY29uc3QgaXNDb250ZW50ID0gX2lzQ29udGVudChpdGVtKTtcblxuICAgIGlmIChpc0NvbnRlbnQgIT0gaXNDb250ZW50QXJyYXkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ01peGluZyBDb250ZW50IGFuZCBQYXJ0cyBpcyBub3Qgc3VwcG9ydGVkLCBwbGVhc2UgZ3JvdXAgdGhlIHBhcnRzIGludG8gYSB0aGUgYXBwcm9wcmlhdGUgQ29udGVudCBvYmplY3RzIGFuZCBzcGVjaWZ5IHRoZSByb2xlcyBmb3IgdGhlbScsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChpc0NvbnRlbnQpIHtcbiAgICAgIC8vIGBpc0NvbnRlbnRgIGNvbnRhaW5zIHRoZSByZXN1bHQgb2YgX2lzQ29udGVudCwgd2hpY2ggaXMgYSB1dGlsaXR5XG4gICAgICAvLyBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiB0aGUgaXRlbSBpcyBhIENvbnRlbnQuXG4gICAgICByZXN1bHQucHVzaChpdGVtIGFzIHR5cGVzLkNvbnRlbnQpO1xuICAgIH0gZWxzZSBpZiAoX2lzRnVuY3Rpb25DYWxsUGFydChpdGVtKSB8fCBfaXNGdW5jdGlvblJlc3BvbnNlUGFydChpdGVtKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVG8gc3BlY2lmeSBmdW5jdGlvbkNhbGwgb3IgZnVuY3Rpb25SZXNwb25zZSBwYXJ0cywgcGxlYXNlIHdyYXAgdGhlbSwgYW5kIGFueSBvdGhlciBwYXJ0cywgaW4gQ29udGVudCBvYmplY3RzIGFzIGFwcHJvcHJpYXRlLCBzcGVjaWZ5aW5nIHRoZSByb2xlIGZvciB0aGVtJyxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjY3VtdWxhdGVkUGFydHMucHVzaChpdGVtIGFzIHR5cGVzLlBhcnRVbmlvbik7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFpc0NvbnRlbnRBcnJheSkge1xuICAgIHJlc3VsdC5wdXNoKHtyb2xlOiAndXNlcicsIHBhcnRzOiB0UGFydHMoYWNjdW11bGF0ZWRQYXJ0cyl9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKlxuVHJhbnNmb3JtIHRoZSB0eXBlIGZpZWxkIGZyb20gYW4gYXJyYXkgb2YgdHlwZXMgdG8gYW4gYXJyYXkgb2YgYW55T2YgZmllbGRzLlxuRXhhbXBsZTpcbiAge3R5cGU6IFsnU1RSSU5HJywgJ05VTUJFUiddfVxud2lsbCBiZSB0cmFuc2Zvcm1lZCB0b1xuICB7YW55T2Y6IFt7dHlwZTogJ1NUUklORyd9LCB7dHlwZTogJ05VTUJFUid9XX1cbiovXG5mdW5jdGlvbiBmbGF0dGVuVHlwZUFycmF5VG9BbnlPZihcbiAgdHlwZUxpc3Q6IHN0cmluZ1tdLFxuICByZXN1bHRpbmdTY2hlbWE6IHR5cGVzLlNjaGVtYSxcbikge1xuICBpZiAodHlwZUxpc3QuaW5jbHVkZXMoJ251bGwnKSkge1xuICAgIHJlc3VsdGluZ1NjaGVtYVsnbnVsbGFibGUnXSA9IHRydWU7XG4gIH1cbiAgY29uc3QgbGlzdFdpdGhvdXROdWxsID0gdHlwZUxpc3QuZmlsdGVyKCh0eXBlKSA9PiB0eXBlICE9PSAnbnVsbCcpO1xuXG4gIGlmIChsaXN0V2l0aG91dE51bGwubGVuZ3RoID09PSAxKSB7XG4gICAgcmVzdWx0aW5nU2NoZW1hWyd0eXBlJ10gPSBPYmplY3QudmFsdWVzKHR5cGVzLlR5cGUpLmluY2x1ZGVzKFxuICAgICAgbGlzdFdpdGhvdXROdWxsWzBdLnRvVXBwZXJDYXNlKCkgYXMgdHlwZXMuVHlwZSxcbiAgICApXG4gICAgICA/IChsaXN0V2l0aG91dE51bGxbMF0udG9VcHBlckNhc2UoKSBhcyB0eXBlcy5UeXBlKVxuICAgICAgOiB0eXBlcy5UeXBlLlRZUEVfVU5TUEVDSUZJRUQ7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0aW5nU2NoZW1hWydhbnlPZiddID0gW107XG4gICAgZm9yIChjb25zdCBpIG9mIGxpc3RXaXRob3V0TnVsbCkge1xuICAgICAgcmVzdWx0aW5nU2NoZW1hWydhbnlPZiddLnB1c2goe1xuICAgICAgICAndHlwZSc6IE9iamVjdC52YWx1ZXModHlwZXMuVHlwZSkuaW5jbHVkZXMoXG4gICAgICAgICAgaS50b1VwcGVyQ2FzZSgpIGFzIHR5cGVzLlR5cGUsXG4gICAgICAgIClcbiAgICAgICAgICA/IChpLnRvVXBwZXJDYXNlKCkgYXMgdHlwZXMuVHlwZSlcbiAgICAgICAgICA6IHR5cGVzLlR5cGUuVFlQRV9VTlNQRUNJRklFRCxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc0pzb25TY2hlbWEoXG4gIF9qc29uU2NoZW1hOiB0eXBlcy5TY2hlbWEgfCBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IHR5cGVzLlNjaGVtYSB7XG4gIGNvbnN0IGdlbkFJU2NoZW1hOiB0eXBlcy5TY2hlbWEgPSB7fTtcbiAgY29uc3Qgc2NoZW1hRmllbGROYW1lcyA9IFsnaXRlbXMnXTtcbiAgY29uc3QgbGlzdFNjaGVtYUZpZWxkTmFtZXMgPSBbJ2FueU9mJ107XG4gIGNvbnN0IGRpY3RTY2hlbWFGaWVsZE5hbWVzID0gWydwcm9wZXJ0aWVzJ107XG5cbiAgaWYgKF9qc29uU2NoZW1hWyd0eXBlJ10gJiYgX2pzb25TY2hlbWFbJ2FueU9mJ10pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3R5cGUgYW5kIGFueU9mIGNhbm5vdCBiZSBib3RoIHBvcHVsYXRlZC4nKTtcbiAgfVxuXG4gIC8qXG4gIFRoaXMgaXMgdG8gaGFuZGxlIHRoZSBudWxsYWJsZSBhcnJheSBvciBvYmplY3QuIFRoZSBfanNvblNjaGVtYSB3aWxsXG4gIGJlIGluIHRoZSBmb3JtYXQgb2Yge2FueU9mOiBbe3R5cGU6ICdudWxsJ30sIHt0eXBlOiAnb2JqZWN0J31dfS4gVGhlXG4gIGxvZ2ljIGlzIHRvIGNoZWNrIGlmIGFueU9mIGhhcyAyIGVsZW1lbnRzIGFuZCBvbmUgb2YgdGhlIGVsZW1lbnQgaXMgbnVsbCxcbiAgaWYgc28sIHRoZSBhbnlPZiBmaWVsZCBpcyB1bm5lY2Vzc2FyeSwgc28gd2UgbmVlZCB0byBnZXQgcmlkIG9mIHRoZSBhbnlPZlxuICBmaWVsZCBhbmQgbWFrZSB0aGUgc2NoZW1hIG51bGxhYmxlLiBUaGVuIHVzZSB0aGUgb3RoZXIgZWxlbWVudCBhcyB0aGUgbmV3XG4gIF9qc29uU2NoZW1hIGZvciBwcm9jZXNzaW5nLiBUaGlzIGlzIGJlY2F1c2UgdGhlIGJhY2tlbmQgZG9lc24ndCBoYXZlIGEgbnVsbFxuICB0eXBlLlxuICBUaGlzIGhhcyB0byBiZSBjaGVja2VkIGJlZm9yZSB3ZSBwcm9jZXNzIGFueSBvdGhlciBmaWVsZHMuXG4gIEZvciBleGFtcGxlOlxuICAgIGNvbnN0IG9iamVjdE51bGxhYmxlID0gei5vYmplY3Qoe1xuICAgICAgbnVsbGFibGVBcnJheTogei5hcnJheSh6LnN0cmluZygpKS5udWxsYWJsZSgpLFxuICAgIH0pO1xuICBXaWxsIGhhdmUgdGhlIHJhdyBfanNvblNjaGVtYSBhczpcbiAge1xuICAgIHR5cGU6ICdPQkpFQ1QnLFxuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgbnVsbGFibGVBcnJheToge1xuICAgICAgICAgICBhbnlPZjogW1xuICAgICAgICAgICAgICB7dHlwZTogJ251bGwnfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICAgICAgICAgICAgaXRlbXM6IHt0eXBlOiAnc3RyaW5nJ30sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9XG4gICAgfSxcbiAgICByZXF1aXJlZDogWyAnbnVsbGFibGVBcnJheScgXSxcbiAgfVxuICBXaWxsIHJlc3VsdCBpbiBmb2xsb3dpbmcgc2NoZW1hIGNvbXBhdGlibGUgd2l0aCBHZW1pbmkgQVBJOlxuICAgIHtcbiAgICAgIHR5cGU6ICdPQkpFQ1QnLFxuICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgbnVsbGFibGVBcnJheToge1xuICAgICAgICAgICAgbnVsbGFibGU6IHRydWUsXG4gICAgICAgICAgICB0eXBlOiAnQVJSQVknLFxuICAgICAgICAgICAgaXRlbXM6IHt0eXBlOiAnc3RyaW5nJ30sXG4gICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVxdWlyZWQ6IFsgJ251bGxhYmxlQXJyYXknIF0sXG4gICAgfVxuICAqL1xuICBjb25zdCBpbmNvbWluZ0FueU9mID0gX2pzb25TY2hlbWFbJ2FueU9mJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj5bXTtcbiAgaWYgKGluY29taW5nQW55T2YgIT0gbnVsbCAmJiBpbmNvbWluZ0FueU9mLmxlbmd0aCA9PSAyKSB7XG4gICAgaWYgKGluY29taW5nQW55T2ZbMF0hWyd0eXBlJ10gPT09ICdudWxsJykge1xuICAgICAgZ2VuQUlTY2hlbWFbJ251bGxhYmxlJ10gPSB0cnVlO1xuICAgICAgX2pzb25TY2hlbWEgPSBpbmNvbWluZ0FueU9mIVsxXTtcbiAgICB9IGVsc2UgaWYgKGluY29taW5nQW55T2ZbMV0hWyd0eXBlJ10gPT09ICdudWxsJykge1xuICAgICAgZ2VuQUlTY2hlbWFbJ251bGxhYmxlJ10gPSB0cnVlO1xuICAgICAgX2pzb25TY2hlbWEgPSBpbmNvbWluZ0FueU9mIVswXTtcbiAgICB9XG4gIH1cblxuICBpZiAoX2pzb25TY2hlbWFbJ3R5cGUnXSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgZmxhdHRlblR5cGVBcnJheVRvQW55T2YoX2pzb25TY2hlbWFbJ3R5cGUnXSwgZ2VuQUlTY2hlbWEpO1xuICB9XG5cbiAgZm9yIChjb25zdCBbZmllbGROYW1lLCBmaWVsZFZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhfanNvblNjaGVtYSkpIHtcbiAgICAvLyBTa2lwIGlmIHRoZSBmaWVsZHZhbHVlIGlzIHVuZGVmaW5lZCBvciBudWxsLlxuICAgIGlmIChmaWVsZFZhbHVlID09IG51bGwpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChmaWVsZE5hbWUgPT0gJ3R5cGUnKSB7XG4gICAgICBpZiAoZmllbGRWYWx1ZSA9PT0gJ251bGwnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAndHlwZTogbnVsbCBjYW4gbm90IGJlIHRoZSBvbmx5IHBvc3NpYmxlIHR5cGUgZm9yIHRoZSBmaWVsZC4nLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGZpZWxkVmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAvLyB3ZSBoYXZlIGFscmVhZHkgaGFuZGxlZCB0aGUgdHlwZSBmaWVsZCB3aXRoIGFycmF5IG9mIHR5cGVzIGluIHRoZVxuICAgICAgICAvLyBiZWdpbm5pbmcgb2YgdGhpcyBmdW5jdGlvbi5cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBnZW5BSVNjaGVtYVsndHlwZSddID0gT2JqZWN0LnZhbHVlcyh0eXBlcy5UeXBlKS5pbmNsdWRlcyhcbiAgICAgICAgZmllbGRWYWx1ZS50b1VwcGVyQ2FzZSgpIGFzIHR5cGVzLlR5cGUsXG4gICAgICApXG4gICAgICAgID8gZmllbGRWYWx1ZS50b1VwcGVyQ2FzZSgpXG4gICAgICAgIDogdHlwZXMuVHlwZS5UWVBFX1VOU1BFQ0lGSUVEO1xuICAgIH0gZWxzZSBpZiAoc2NoZW1hRmllbGROYW1lcy5pbmNsdWRlcyhmaWVsZE5hbWUpKSB7XG4gICAgICAoZ2VuQUlTY2hlbWEgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW2ZpZWxkTmFtZV0gPVxuICAgICAgICBwcm9jZXNzSnNvblNjaGVtYShmaWVsZFZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKGxpc3RTY2hlbWFGaWVsZE5hbWVzLmluY2x1ZGVzKGZpZWxkTmFtZSkpIHtcbiAgICAgIGNvbnN0IGxpc3RTY2hlbWFGaWVsZFZhbHVlOiBBcnJheTx0eXBlcy5TY2hlbWE+ID0gW107XG4gICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZmllbGRWYWx1ZSkge1xuICAgICAgICBpZiAoaXRlbVsndHlwZSddID09ICdudWxsJykge1xuICAgICAgICAgIGdlbkFJU2NoZW1hWydudWxsYWJsZSddID0gdHJ1ZTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsaXN0U2NoZW1hRmllbGRWYWx1ZS5wdXNoKFxuICAgICAgICAgIHByb2Nlc3NKc29uU2NoZW1hKGl0ZW0gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgKGdlbkFJU2NoZW1hIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVtmaWVsZE5hbWVdID1cbiAgICAgICAgbGlzdFNjaGVtYUZpZWxkVmFsdWU7XG4gICAgfSBlbHNlIGlmIChkaWN0U2NoZW1hRmllbGROYW1lcy5pbmNsdWRlcyhmaWVsZE5hbWUpKSB7XG4gICAgICBjb25zdCBkaWN0U2NoZW1hRmllbGRWYWx1ZTogUmVjb3JkPHN0cmluZywgdHlwZXMuU2NoZW1hPiA9IHt9O1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgICAgIGZpZWxkVmFsdWUgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApKSB7XG4gICAgICAgIGRpY3RTY2hlbWFGaWVsZFZhbHVlW2tleV0gPSBwcm9jZXNzSnNvblNjaGVtYShcbiAgICAgICAgICB2YWx1ZSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIChnZW5BSVNjaGVtYSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilbZmllbGROYW1lXSA9XG4gICAgICAgIGRpY3RTY2hlbWFGaWVsZFZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhZGRpdGlvbmFsUHJvcGVydGllcyBpcyBub3QgaW5jbHVkZWQgaW4gSlNPTlNjaGVtYSwgc2tpcHBpbmcgaXQuXG4gICAgICBpZiAoZmllbGROYW1lID09PSAnYWRkaXRpb25hbFByb3BlcnRpZXMnKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgKGdlbkFJU2NoZW1hIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVtmaWVsZE5hbWVdID0gZmllbGRWYWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGdlbkFJU2NoZW1hO1xufVxuXG4vLyB3ZSB0YWtlIHRoZSB1bmtub3duIGluIHRoZSBzY2hlbWEgZmllbGQgYmVjYXVzZSB3ZSB3YW50IGVuYWJsZSB1c2VyIHRvIHBhc3Ncbi8vIHRoZSBvdXRwdXQgb2YgbWFqb3Igc2NoZW1hIGRlY2xhcmF0aW9uIHRvb2xzIHdpdGhvdXQgY2FzdGluZy4gVG9vbHMgc3VjaCBhc1xuLy8gem9kVG9Kc29uU2NoZW1hLCB0eXBlYm94LCB6b2RUb0pzb25TY2hlbWEgZnVuY3Rpb24gY2FuIHJldHVybiBKc29uU2NoZW1hN1R5cGVcbi8vIG9yIG9iamVjdCwgc2VlIGRldGFpbHMgaW5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9TdGVmYW5UZXJkZWxsL3pvZC10by1qc29uLXNjaGVtYS9ibG9iLzcwNTI1ZWZlNTU1Y2QyMjY2OTFlMDkzZDE3MTM3MGEzYjEwOTIxZDEvc3JjL3pvZFRvSnNvblNjaGVtYS50cyNMN1xuLy8gdHlwZWJveCBjYW4gcmV0dXJuIHVua25vd24sIHNlZSBkZXRhaWxzIGluXG4vLyBodHRwczovL2dpdGh1Yi5jb20vc2luY2xhaXJ6eDgxL3R5cGVib3gvYmxvYi81YTU0MzE0MzlmN2Q1Y2E2YjQ5NGQwZDE4ZmJmZDdiMWEzNTZkNjdjL3NyYy90eXBlL2NyZWF0ZS90eXBlLnRzI0wzNVxuLy8gTm90ZTogcHJvcGVyIGpzb24gc2NoZW1hcyB3aXRoIHRoZSAkc2NoZW1hIGZpZWxkIHNldCBuZXZlciBhcnJpdmUgdG8gdGhpc1xuLy8gdHJhbnNmb3JtZXIuIFNjaGVtYXMgd2l0aCAkc2NoZW1hIGFyZSByb3V0ZWQgdG8gdGhlIGVxdWl2YWxlbnQgQVBJIGpzb25cbi8vIHNjaGVtYSBmaWVsZC5cbmV4cG9ydCBmdW5jdGlvbiB0U2NoZW1hKHNjaGVtYTogdHlwZXMuU2NoZW1hIHwgdW5rbm93bik6IHR5cGVzLlNjaGVtYSB7XG4gIHJldHVybiBwcm9jZXNzSnNvblNjaGVtYShzY2hlbWEgYXMgdHlwZXMuU2NoZW1hKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRTcGVlY2hDb25maWcoXG4gIHNwZWVjaENvbmZpZzogdHlwZXMuU3BlZWNoQ29uZmlnVW5pb24sXG4pOiB0eXBlcy5TcGVlY2hDb25maWcge1xuICBpZiAodHlwZW9mIHNwZWVjaENvbmZpZyA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gc3BlZWNoQ29uZmlnO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBzcGVlY2hDb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZvaWNlQ29uZmlnOiB7XG4gICAgICAgIHByZWJ1aWx0Vm9pY2VDb25maWc6IHtcbiAgICAgICAgICB2b2ljZU5hbWU6IHNwZWVjaENvbmZpZyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHNwZWVjaENvbmZpZyB0eXBlOiAke3R5cGVvZiBzcGVlY2hDb25maWd9YCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRMaXZlU3BlZWNoQ29uZmlnKFxuICBzcGVlY2hDb25maWc6IHR5cGVzLlNwZWVjaENvbmZpZyB8IG9iamVjdCxcbik6IHR5cGVzLlNwZWVjaENvbmZpZyB7XG4gIGlmICgnbXVsdGlTcGVha2VyVm9pY2VDb25maWcnIGluIHNwZWVjaENvbmZpZykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdtdWx0aVNwZWFrZXJWb2ljZUNvbmZpZyBpcyBub3Qgc3VwcG9ydGVkIGluIHRoZSBsaXZlIEFQSS4nLFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHNwZWVjaENvbmZpZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRUb29sKHRvb2w6IHR5cGVzLlRvb2wpOiB0eXBlcy5Ub29sIHtcbiAgaWYgKHRvb2wuZnVuY3Rpb25EZWNsYXJhdGlvbnMpIHtcbiAgICBmb3IgKGNvbnN0IGZ1bmN0aW9uRGVjbGFyYXRpb24gb2YgdG9vbC5mdW5jdGlvbkRlY2xhcmF0aW9ucykge1xuICAgICAgaWYgKGZ1bmN0aW9uRGVjbGFyYXRpb24ucGFyYW1ldGVycykge1xuICAgICAgICBpZiAoIU9iamVjdC5rZXlzKGZ1bmN0aW9uRGVjbGFyYXRpb24ucGFyYW1ldGVycykuaW5jbHVkZXMoJyRzY2hlbWEnKSkge1xuICAgICAgICAgIGZ1bmN0aW9uRGVjbGFyYXRpb24ucGFyYW1ldGVycyA9IHByb2Nlc3NKc29uU2NoZW1hKFxuICAgICAgICAgICAgZnVuY3Rpb25EZWNsYXJhdGlvbi5wYXJhbWV0ZXJzLFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFmdW5jdGlvbkRlY2xhcmF0aW9uLnBhcmFtZXRlcnNKc29uU2NoZW1hKSB7XG4gICAgICAgICAgICBmdW5jdGlvbkRlY2xhcmF0aW9uLnBhcmFtZXRlcnNKc29uU2NoZW1hID1cbiAgICAgICAgICAgICAgZnVuY3Rpb25EZWNsYXJhdGlvbi5wYXJhbWV0ZXJzO1xuICAgICAgICAgICAgZGVsZXRlIGZ1bmN0aW9uRGVjbGFyYXRpb24ucGFyYW1ldGVycztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmdW5jdGlvbkRlY2xhcmF0aW9uLnJlc3BvbnNlKSB7XG4gICAgICAgIGlmICghT2JqZWN0LmtleXMoZnVuY3Rpb25EZWNsYXJhdGlvbi5yZXNwb25zZSkuaW5jbHVkZXMoJyRzY2hlbWEnKSkge1xuICAgICAgICAgIGZ1bmN0aW9uRGVjbGFyYXRpb24ucmVzcG9uc2UgPSBwcm9jZXNzSnNvblNjaGVtYShcbiAgICAgICAgICAgIGZ1bmN0aW9uRGVjbGFyYXRpb24ucmVzcG9uc2UsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIWZ1bmN0aW9uRGVjbGFyYXRpb24ucmVzcG9uc2VKc29uU2NoZW1hKSB7XG4gICAgICAgICAgICBmdW5jdGlvbkRlY2xhcmF0aW9uLnJlc3BvbnNlSnNvblNjaGVtYSA9XG4gICAgICAgICAgICAgIGZ1bmN0aW9uRGVjbGFyYXRpb24ucmVzcG9uc2U7XG4gICAgICAgICAgICBkZWxldGUgZnVuY3Rpb25EZWNsYXJhdGlvbi5yZXNwb25zZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvb2w7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0VG9vbHModG9vbHM6IHR5cGVzLlRvb2xMaXN0VW5pb24gfCB1bmtub3duKTogdHlwZXMuVG9vbFtdIHtcbiAgLy8gQ2hlY2sgaWYgdGhlIGluY29taW5nIHR5cGUgaXMgZGVmaW5lZC5cbiAgaWYgKHRvb2xzID09PSB1bmRlZmluZWQgfHwgdG9vbHMgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Rvb2xzIGlzIHJlcXVpcmVkJyk7XG4gIH1cbiAgaWYgKCFBcnJheS5pc0FycmF5KHRvb2xzKSkge1xuICAgIHRocm93IG5ldyBFcnJvcigndG9vbHMgaXMgcmVxdWlyZWQgYW5kIG11c3QgYmUgYW4gYXJyYXkgb2YgVG9vbHMnKTtcbiAgfVxuICBjb25zdCByZXN1bHQ6IHR5cGVzLlRvb2xbXSA9IFtdO1xuICBmb3IgKGNvbnN0IHRvb2wgb2YgdG9vbHMpIHtcbiAgICByZXN1bHQucHVzaCh0b29sIGFzIHR5cGVzLlRvb2wpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogUHJlcGVuZHMgcmVzb3VyY2UgbmFtZSB3aXRoIHByb2plY3QsIGxvY2F0aW9uLCByZXNvdXJjZV9wcmVmaXggaWYgbmVlZGVkLlxuICpcbiAqIEBwYXJhbSBjbGllbnQgVGhlIEFQSSBjbGllbnQuXG4gKiBAcGFyYW0gcmVzb3VyY2VOYW1lIFRoZSByZXNvdXJjZSBuYW1lLlxuICogQHBhcmFtIHJlc291cmNlUHJlZml4IFRoZSByZXNvdXJjZSBwcmVmaXguXG4gKiBAcGFyYW0gc3BsaXRzQWZ0ZXJQcmVmaXggVGhlIG51bWJlciBvZiBzcGxpdHMgYWZ0ZXIgdGhlIHByZWZpeC5cbiAqIEByZXR1cm5zIFRoZSBjb21wbGV0ZWQgcmVzb3VyY2UgbmFtZS5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiBgYGBcbiAqIHJlc291cmNlX25hbWUgPSAnMTIzJ1xuICogcmVzb3VyY2VfcHJlZml4ID0gJ2NhY2hlZENvbnRlbnRzJ1xuICogc3BsaXRzX2FmdGVyX3ByZWZpeCA9IDFcbiAqIGNsaWVudC52ZXJ0ZXhhaSA9IFRydWVcbiAqIGNsaWVudC5wcm9qZWN0ID0gJ2JhcidcbiAqIGNsaWVudC5sb2NhdGlvbiA9ICd1cy13ZXN0MSdcbiAqIF9yZXNvdXJjZV9uYW1lKGNsaWVudCwgcmVzb3VyY2VfbmFtZSwgcmVzb3VyY2VfcHJlZml4LCBzcGxpdHNfYWZ0ZXJfcHJlZml4KVxuICogcmV0dXJuczogJ3Byb2plY3RzL2Jhci9sb2NhdGlvbnMvdXMtd2VzdDEvY2FjaGVkQ29udGVudHMvMTIzJ1xuICogYGBgXG4gKlxuICogYGBgXG4gKiByZXNvdXJjZV9uYW1lID0gJ3Byb2plY3RzL2Zvby9sb2NhdGlvbnMvdXMtY2VudHJhbDEvY2FjaGVkQ29udGVudHMvMTIzJ1xuICogcmVzb3VyY2VfcHJlZml4ID0gJ2NhY2hlZENvbnRlbnRzJ1xuICogc3BsaXRzX2FmdGVyX3ByZWZpeCA9IDFcbiAqIGNsaWVudC52ZXJ0ZXhhaSA9IFRydWVcbiAqIGNsaWVudC5wcm9qZWN0ID0gJ2JhcidcbiAqIGNsaWVudC5sb2NhdGlvbiA9ICd1cy13ZXN0MSdcbiAqIF9yZXNvdXJjZV9uYW1lKGNsaWVudCwgcmVzb3VyY2VfbmFtZSwgcmVzb3VyY2VfcHJlZml4LCBzcGxpdHNfYWZ0ZXJfcHJlZml4KVxuICogcmV0dXJuczogJ3Byb2plY3RzL2Zvby9sb2NhdGlvbnMvdXMtY2VudHJhbDEvY2FjaGVkQ29udGVudHMvMTIzJ1xuICogYGBgXG4gKlxuICogYGBgXG4gKiByZXNvdXJjZV9uYW1lID0gJzEyMydcbiAqIHJlc291cmNlX3ByZWZpeCA9ICdjYWNoZWRDb250ZW50cydcbiAqIHNwbGl0c19hZnRlcl9wcmVmaXggPSAxXG4gKiBjbGllbnQudmVydGV4YWkgPSBGYWxzZVxuICogX3Jlc291cmNlX25hbWUoY2xpZW50LCByZXNvdXJjZV9uYW1lLCByZXNvdXJjZV9wcmVmaXgsIHNwbGl0c19hZnRlcl9wcmVmaXgpXG4gKiByZXR1cm5zICdjYWNoZWRDb250ZW50cy8xMjMnXG4gKiBgYGBcbiAqXG4gKiBgYGBcbiAqIHJlc291cmNlX25hbWUgPSAnc29tZS93cm9uZy9jYWNoZWRDb250ZW50cy9yZXNvdXJjZS9uYW1lLzEyMydcbiAqIHJlc291cmNlX3ByZWZpeCA9ICdjYWNoZWRDb250ZW50cydcbiAqIHNwbGl0c19hZnRlcl9wcmVmaXggPSAxXG4gKiBjbGllbnQudmVydGV4YWkgPSBGYWxzZVxuICogIyBjbGllbnQudmVydGV4YWkgPSBUcnVlXG4gKiBfcmVzb3VyY2VfbmFtZShjbGllbnQsIHJlc291cmNlX25hbWUsIHJlc291cmNlX3ByZWZpeCwgc3BsaXRzX2FmdGVyX3ByZWZpeClcbiAqIC0+ICdzb21lL3dyb25nL3Jlc291cmNlL25hbWUvMTIzJ1xuICogYGBgXG4gKi9cbmZ1bmN0aW9uIHJlc291cmNlTmFtZShcbiAgY2xpZW50OiBBcGlDbGllbnQsXG4gIHJlc291cmNlTmFtZTogc3RyaW5nLFxuICByZXNvdXJjZVByZWZpeDogc3RyaW5nLFxuICBzcGxpdHNBZnRlclByZWZpeDogbnVtYmVyID0gMSxcbik6IHN0cmluZyB7XG4gIGNvbnN0IHNob3VsZEFwcGVuZFByZWZpeCA9XG4gICAgIXJlc291cmNlTmFtZS5zdGFydHNXaXRoKGAke3Jlc291cmNlUHJlZml4fS9gKSAmJlxuICAgIHJlc291cmNlTmFtZS5zcGxpdCgnLycpLmxlbmd0aCA9PT0gc3BsaXRzQWZ0ZXJQcmVmaXg7XG4gIGlmIChjbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgaWYgKHJlc291cmNlTmFtZS5zdGFydHNXaXRoKCdwcm9qZWN0cy8nKSkge1xuICAgICAgcmV0dXJuIHJlc291cmNlTmFtZTtcbiAgICB9IGVsc2UgaWYgKHJlc291cmNlTmFtZS5zdGFydHNXaXRoKCdsb2NhdGlvbnMvJykpIHtcbiAgICAgIHJldHVybiBgcHJvamVjdHMvJHtjbGllbnQuZ2V0UHJvamVjdCgpfS8ke3Jlc291cmNlTmFtZX1gO1xuICAgIH0gZWxzZSBpZiAocmVzb3VyY2VOYW1lLnN0YXJ0c1dpdGgoYCR7cmVzb3VyY2VQcmVmaXh9L2ApKSB7XG4gICAgICByZXR1cm4gYHByb2plY3RzLyR7Y2xpZW50LmdldFByb2plY3QoKX0vbG9jYXRpb25zLyR7Y2xpZW50LmdldExvY2F0aW9uKCl9LyR7cmVzb3VyY2VOYW1lfWA7XG4gICAgfSBlbHNlIGlmIChzaG91bGRBcHBlbmRQcmVmaXgpIHtcbiAgICAgIHJldHVybiBgcHJvamVjdHMvJHtjbGllbnQuZ2V0UHJvamVjdCgpfS9sb2NhdGlvbnMvJHtjbGllbnQuZ2V0TG9jYXRpb24oKX0vJHtyZXNvdXJjZVByZWZpeH0vJHtyZXNvdXJjZU5hbWV9YDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlc291cmNlTmFtZTtcbiAgICB9XG4gIH1cbiAgaWYgKHNob3VsZEFwcGVuZFByZWZpeCkge1xuICAgIHJldHVybiBgJHtyZXNvdXJjZVByZWZpeH0vJHtyZXNvdXJjZU5hbWV9YDtcbiAgfVxuICByZXR1cm4gcmVzb3VyY2VOYW1lO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdENhY2hlZENvbnRlbnROYW1lKFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgbmFtZTogc3RyaW5nIHwgdW5rbm93bixcbik6IHN0cmluZyB7XG4gIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ25hbWUgbXVzdCBiZSBhIHN0cmluZycpO1xuICB9XG4gIHJldHVybiByZXNvdXJjZU5hbWUoYXBpQ2xpZW50LCBuYW1lLCAnY2FjaGVkQ29udGVudHMnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRUdW5pbmdKb2JTdGF0dXMoc3RhdHVzOiBzdHJpbmcgfCB1bmtub3duKTogc3RyaW5nIHtcbiAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICBjYXNlICdTVEFURV9VTlNQRUNJRklFRCc6XG4gICAgICByZXR1cm4gJ0pPQl9TVEFURV9VTlNQRUNJRklFRCc7XG4gICAgY2FzZSAnQ1JFQVRJTkcnOlxuICAgICAgcmV0dXJuICdKT0JfU1RBVEVfUlVOTklORyc7XG4gICAgY2FzZSAnQUNUSVZFJzpcbiAgICAgIHJldHVybiAnSk9CX1NUQVRFX1NVQ0NFRURFRCc7XG4gICAgY2FzZSAnRkFJTEVEJzpcbiAgICAgIHJldHVybiAnSk9CX1NUQVRFX0ZBSUxFRCc7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0dXMgYXMgc3RyaW5nO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0Qnl0ZXMoZnJvbUltYWdlQnl0ZXM6IHN0cmluZyB8IHVua25vd24pOiBzdHJpbmcge1xuICByZXR1cm4gYmFzZVRyYW5zZm9ybWVycy50Qnl0ZXMoZnJvbUltYWdlQnl0ZXMpO1xufVxuXG5mdW5jdGlvbiBfaXNGaWxlKG9yaWdpbjogdW5rbm93bik6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIG9yaWdpbiAhPT0gbnVsbCAmJlxuICAgIG9yaWdpbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgdHlwZW9mIG9yaWdpbiA9PT0gJ29iamVjdCcgJiZcbiAgICAnbmFtZScgaW4gb3JpZ2luXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0dlbmVyYXRlZFZpZGVvKG9yaWdpbjogdW5rbm93bik6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIG9yaWdpbiAhPT0gbnVsbCAmJlxuICAgIG9yaWdpbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgdHlwZW9mIG9yaWdpbiA9PT0gJ29iamVjdCcgJiZcbiAgICAndmlkZW8nIGluIG9yaWdpblxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWaWRlbyhvcmlnaW46IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBvcmlnaW4gIT09IG51bGwgJiZcbiAgICBvcmlnaW4gIT09IHVuZGVmaW5lZCAmJlxuICAgIHR5cGVvZiBvcmlnaW4gPT09ICdvYmplY3QnICYmXG4gICAgJ3VyaScgaW4gb3JpZ2luXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0RmlsZU5hbWUoXG4gIGZyb21OYW1lOiBzdHJpbmcgfCB0eXBlcy5GaWxlIHwgdHlwZXMuR2VuZXJhdGVkVmlkZW8gfCB0eXBlcy5WaWRlbyxcbik6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIGxldCBuYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgaWYgKF9pc0ZpbGUoZnJvbU5hbWUpKSB7XG4gICAgbmFtZSA9IChmcm9tTmFtZSBhcyB0eXBlcy5GaWxlKS5uYW1lO1xuICB9XG4gIGlmIChpc1ZpZGVvKGZyb21OYW1lKSkge1xuICAgIG5hbWUgPSAoZnJvbU5hbWUgYXMgdHlwZXMuVmlkZW8pLnVyaTtcbiAgICBpZiAobmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuICBpZiAoaXNHZW5lcmF0ZWRWaWRlbyhmcm9tTmFtZSkpIHtcbiAgICBuYW1lID0gKGZyb21OYW1lIGFzIHR5cGVzLkdlbmVyYXRlZFZpZGVvKS52aWRlbz8udXJpO1xuICAgIGlmIChuYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG4gIGlmICh0eXBlb2YgZnJvbU5hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgbmFtZSA9IGZyb21OYW1lO1xuICB9XG5cbiAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGV4dHJhY3QgZmlsZSBuYW1lIGZyb20gdGhlIHByb3ZpZGVkIGlucHV0LicpO1xuICB9XG5cbiAgaWYgKG5hbWUuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKSkge1xuICAgIGNvbnN0IHN1ZmZpeCA9IG5hbWUuc3BsaXQoJ2ZpbGVzLycpWzFdO1xuICAgIGNvbnN0IG1hdGNoID0gc3VmZml4Lm1hdGNoKC9bYS16MC05XSsvKTtcbiAgICBpZiAobWF0Y2ggPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGV4dHJhY3QgZmlsZSBuYW1lIGZyb20gVVJJICR7bmFtZX1gKTtcbiAgICB9XG4gICAgbmFtZSA9IG1hdGNoWzBdO1xuICB9IGVsc2UgaWYgKG5hbWUuc3RhcnRzV2l0aCgnZmlsZXMvJykpIHtcbiAgICBuYW1lID0gbmFtZS5zcGxpdCgnZmlsZXMvJylbMV07XG4gIH1cbiAgcmV0dXJuIG5hbWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0TW9kZWxzVXJsKFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgYmFzZU1vZGVsczogYm9vbGVhbiB8IHVua25vd24sXG4pOiBzdHJpbmcge1xuICBsZXQgcmVzOiBzdHJpbmc7XG4gIGlmIChhcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgcmVzID0gYmFzZU1vZGVscyA/ICdwdWJsaXNoZXJzL2dvb2dsZS9tb2RlbHMnIDogJ21vZGVscyc7XG4gIH0gZWxzZSB7XG4gICAgcmVzID0gYmFzZU1vZGVscyA/ICdtb2RlbHMnIDogJ3R1bmVkTW9kZWxzJztcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdEV4dHJhY3RNb2RlbHMocmVzcG9uc2U6IHVua25vd24pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPltdIHtcbiAgZm9yIChjb25zdCBrZXkgb2YgWydtb2RlbHMnLCAndHVuZWRNb2RlbHMnLCAncHVibGlzaGVyTW9kZWxzJ10pIHtcbiAgICBpZiAoaGFzRmllbGQocmVzcG9uc2UsIGtleSkpIHtcbiAgICAgIHJldHVybiAocmVzcG9uc2UgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW2tleV0gYXMgUmVjb3JkPFxuICAgICAgICBzdHJpbmcsXG4gICAgICAgIHVua25vd25cbiAgICAgID5bXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFtdO1xufVxuXG5mdW5jdGlvbiBoYXNGaWVsZChkYXRhOiB1bmtub3duLCBmaWVsZE5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gZGF0YSAhPT0gbnVsbCAmJiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiYgZmllbGROYW1lIGluIGRhdGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtY3BUb0dlbWluaVRvb2woXG4gIG1jcFRvb2w6IE1jcFRvb2wsXG4gIGNvbmZpZzogdHlwZXMuQ2FsbGFibGVUb29sQ29uZmlnID0ge30sXG4pOiB0eXBlcy5Ub29sIHtcbiAgY29uc3QgbWNwVG9vbFNjaGVtYSA9IG1jcFRvb2wgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIGNvbnN0IGZ1bmN0aW9uRGVjbGFyYXRpb246IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge1xuICAgIG5hbWU6IG1jcFRvb2xTY2hlbWFbJ25hbWUnXSxcbiAgICBkZXNjcmlwdGlvbjogbWNwVG9vbFNjaGVtYVsnZGVzY3JpcHRpb24nXSxcbiAgICBwYXJhbWV0ZXJzSnNvblNjaGVtYTogbWNwVG9vbFNjaGVtYVsnaW5wdXRTY2hlbWEnXSxcbiAgfTtcbiAgaWYgKG1jcFRvb2xTY2hlbWFbJ291dHB1dFNjaGVtYSddKSB7XG4gICAgZnVuY3Rpb25EZWNsYXJhdGlvblsncmVzcG9uc2VKc29uU2NoZW1hJ10gPSBtY3BUb29sU2NoZW1hWydvdXRwdXRTY2hlbWEnXTtcbiAgfVxuICBpZiAoY29uZmlnLmJlaGF2aW9yKSB7XG4gICAgZnVuY3Rpb25EZWNsYXJhdGlvblsnYmVoYXZpb3InXSA9IGNvbmZpZy5iZWhhdmlvcjtcbiAgfVxuXG4gIGNvbnN0IGdlbWluaVRvb2wgPSB7XG4gICAgZnVuY3Rpb25EZWNsYXJhdGlvbnM6IFtcbiAgICAgIGZ1bmN0aW9uRGVjbGFyYXRpb24gYXMgdW5rbm93biBhcyB0eXBlcy5GdW5jdGlvbkRlY2xhcmF0aW9uLFxuICAgIF0sXG4gIH07XG5cbiAgcmV0dXJuIGdlbWluaVRvb2w7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBsaXN0IG9mIE1DUCB0b29scyB0byBhIHNpbmdsZSBHZW1pbmkgdG9vbCB3aXRoIGEgbGlzdCBvZiBmdW5jdGlvblxuICogZGVjbGFyYXRpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWNwVG9vbHNUb0dlbWluaVRvb2woXG4gIG1jcFRvb2xzOiBNY3BUb29sW10sXG4gIGNvbmZpZzogdHlwZXMuQ2FsbGFibGVUb29sQ29uZmlnID0ge30sXG4pOiB0eXBlcy5Ub29sIHtcbiAgY29uc3QgZnVuY3Rpb25EZWNsYXJhdGlvbnM6IHR5cGVzLkZ1bmN0aW9uRGVjbGFyYXRpb25bXSA9IFtdO1xuICBjb25zdCB0b29sTmFtZXMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgZm9yIChjb25zdCBtY3BUb29sIG9mIG1jcFRvb2xzKSB7XG4gICAgY29uc3QgbWNwVG9vbE5hbWUgPSBtY3BUb29sLm5hbWUgYXMgc3RyaW5nO1xuICAgIGlmICh0b29sTmFtZXMuaGFzKG1jcFRvb2xOYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgRHVwbGljYXRlIGZ1bmN0aW9uIG5hbWUgJHtcbiAgICAgICAgICBtY3BUb29sTmFtZVxuICAgICAgICB9IGZvdW5kIGluIE1DUCB0b29scy4gUGxlYXNlIGVuc3VyZSBmdW5jdGlvbiBuYW1lcyBhcmUgdW5pcXVlLmAsXG4gICAgICApO1xuICAgIH1cbiAgICB0b29sTmFtZXMuYWRkKG1jcFRvb2xOYW1lKTtcbiAgICBjb25zdCBnZW1pbmlUb29sID0gbWNwVG9HZW1pbmlUb29sKG1jcFRvb2wsIGNvbmZpZyk7XG4gICAgaWYgKGdlbWluaVRvb2wuZnVuY3Rpb25EZWNsYXJhdGlvbnMpIHtcbiAgICAgIGZ1bmN0aW9uRGVjbGFyYXRpb25zLnB1c2goLi4uZ2VtaW5pVG9vbC5mdW5jdGlvbkRlY2xhcmF0aW9ucyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtmdW5jdGlvbkRlY2xhcmF0aW9uczogZnVuY3Rpb25EZWNsYXJhdGlvbnN9O1xufVxuXG4vLyBUcmFuc2Zvcm1zIGEgc291cmNlIGlucHV0IGludG8gYSBCYXRjaEpvYlNvdXJjZSBvYmplY3Qgd2l0aCB2YWxpZGF0aW9uLlxuZXhwb3J0IGZ1bmN0aW9uIHRCYXRjaEpvYlNvdXJjZShcbiAgY2xpZW50OiBBcGlDbGllbnQsXG4gIHNyYzogc3RyaW5nIHwgdHlwZXMuSW5saW5lZFJlcXVlc3RbXSB8IHR5cGVzLkJhdGNoSm9iU291cmNlLFxuKTogdHlwZXMuQmF0Y2hKb2JTb3VyY2Uge1xuICBsZXQgc291cmNlT2JqOiB0eXBlcy5CYXRjaEpvYlNvdXJjZTtcblxuICBpZiAodHlwZW9mIHNyYyA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAoY2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgaWYgKHNyYy5zdGFydHNXaXRoKCdnczovLycpKSB7XG4gICAgICAgIHNvdXJjZU9iaiA9IHtmb3JtYXQ6ICdqc29ubCcsIGdjc1VyaTogW3NyY119O1xuICAgICAgfSBlbHNlIGlmIChzcmMuc3RhcnRzV2l0aCgnYnE6Ly8nKSkge1xuICAgICAgICBzb3VyY2VPYmogPSB7Zm9ybWF0OiAnYmlncXVlcnknLCBiaWdxdWVyeVVyaTogc3JjfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgc3RyaW5nIHNvdXJjZSBmb3IgVmVydGV4IEFJOiAke3NyY31gKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTUxERVZcbiAgICAgIGlmIChzcmMuc3RhcnRzV2l0aCgnZmlsZXMvJykpIHtcbiAgICAgICAgc291cmNlT2JqID0ge2ZpbGVOYW1lOiBzcmN9OyAvLyBEZWZhdWx0IHRvIGZpbGVOYW1lIGZvciBzdHJpbmcgaW5wdXRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgc3RyaW5nIHNvdXJjZSBmb3IgR2VtaW5pIEFQSTogJHtzcmN9YCk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc3JjKSkge1xuICAgIGlmIChjbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lubGluZWRSZXF1ZXN0W10gaXMgbm90IHN1cHBvcnRlZCBpbiBWZXJ0ZXggQUkuJyk7XG4gICAgfVxuICAgIHNvdXJjZU9iaiA9IHtpbmxpbmVkUmVxdWVzdHM6IHNyY307XG4gIH0gZWxzZSB7XG4gICAgLy8gSXQncyBhbHJlYWR5IGEgQmF0Y2hKb2JTb3VyY2Ugb2JqZWN0XG4gICAgc291cmNlT2JqID0gc3JjO1xuICB9XG5cbiAgLy8gVmFsaWRhdGlvbiBsb2dpY1xuICBjb25zdCB2ZXJ0ZXhTb3VyY2VzQ291bnQgPSBbc291cmNlT2JqLmdjc1VyaSwgc291cmNlT2JqLmJpZ3F1ZXJ5VXJpXS5maWx0ZXIoXG4gICAgQm9vbGVhbixcbiAgKS5sZW5ndGg7XG5cbiAgY29uc3QgbWxkZXZTb3VyY2VzQ291bnQgPSBbXG4gICAgc291cmNlT2JqLmlubGluZWRSZXF1ZXN0cyxcbiAgICBzb3VyY2VPYmouZmlsZU5hbWUsXG4gIF0uZmlsdGVyKEJvb2xlYW4pLmxlbmd0aDtcblxuICBpZiAoY2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgIGlmIChtbGRldlNvdXJjZXNDb3VudCA+IDAgfHwgdmVydGV4U291cmNlc0NvdW50ICE9PSAxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdFeGFjdGx5IG9uZSBvZiBgZ2NzVXJpYCBvciBgYmlncXVlcnlVcmlgIG11c3QgYmUgc2V0IGZvciBWZXJ0ZXggQUkuJyxcbiAgICAgICk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIE1MREVWXG4gICAgaWYgKHZlcnRleFNvdXJjZXNDb3VudCA+IDAgfHwgbWxkZXZTb3VyY2VzQ291bnQgIT09IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0V4YWN0bHkgb25lIG9mIGBpbmxpbmVkUmVxdWVzdHNgLCBgZmlsZU5hbWVgLCAnICtcbiAgICAgICAgICAnbXVzdCBiZSBzZXQgZm9yIEdlbWluaSBBUEkuJyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHNvdXJjZU9iajtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRFbWJlZGRpbmdCYXRjaEpvYlNvdXJjZShcbiAgY2xpZW50OiBBcGlDbGllbnQsXG4gIHNyYzogdHlwZXMuRW1iZWRkaW5nc0JhdGNoSm9iU291cmNlLFxuKTogdHlwZXMuRW1iZWRkaW5nc0JhdGNoSm9iU291cmNlIHtcbiAgaWYgKGNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0VtYmVkZGluZyBiYXRjaCBqb2JzIGFyZSBub3Qgc3VwcG9ydGVkIGluIFZlcnRleCBBSS4nKTtcbiAgfVxuXG4gIGNvbnN0IHNvdXJjZU9iajogdHlwZXMuRW1iZWRkaW5nc0JhdGNoSm9iU291cmNlID0gey4uLnNyY307XG5cbiAgY29uc3QgbWxkZXZTb3VyY2VzID1cbiAgICBOdW1iZXIoISFzb3VyY2VPYmouaW5saW5lZFJlcXVlc3RzKSArIE51bWJlcighIXNvdXJjZU9iai5maWxlTmFtZSk7XG5cbiAgaWYgKG1sZGV2U291cmNlcyAhPT0gMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdFeGFjdGx5IG9uZSBvZiBgaW5saW5lZFJlcXVlc3RzYCBvciBgZmlsZU5hbWVgIG11c3QgYmUgc2V0IGZvciBFbWJlZGRpbmcgQmF0Y2ggSm9icyBpbiB0aGUgR2VtaW5pIEFQSS4nLFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHNvdXJjZU9iajtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRCYXRjaEpvYkRlc3RpbmF0aW9uKFxuICBkZXN0OiBzdHJpbmcgfCB0eXBlcy5CYXRjaEpvYkRlc3RpbmF0aW9uLFxuKTogdHlwZXMuQmF0Y2hKb2JEZXN0aW5hdGlvbiB7XG4gIGlmICh0eXBlb2YgZGVzdCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZGVzdCBhcyB0eXBlcy5CYXRjaEpvYkRlc3RpbmF0aW9uO1xuICB9XG4gIGNvbnN0IGRlc3RTdHJpbmcgPSBkZXN0IGFzIHN0cmluZztcbiAgaWYgKGRlc3RTdHJpbmcuc3RhcnRzV2l0aCgnZ3M6Ly8nKSkge1xuICAgIHJldHVybiB7XG4gICAgICBmb3JtYXQ6ICdqc29ubCcsXG4gICAgICBnY3NVcmk6IGRlc3RTdHJpbmcsXG4gICAgfTtcbiAgfSBlbHNlIGlmIChkZXN0U3RyaW5nLnN0YXJ0c1dpdGgoJ2JxOi8vJykpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZm9ybWF0OiAnYmlncXVlcnknLFxuICAgICAgYmlncXVlcnlVcmk6IGRlc3RTdHJpbmcsXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGRlc3RpbmF0aW9uOiAke2Rlc3RTdHJpbmd9YCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRSZWN2QmF0Y2hKb2JEZXN0aW5hdGlvbihcbiAgZGVzdDogdW5rbm93bixcbik6IHR5cGVzLkJhdGNoSm9iRGVzdGluYXRpb24ge1xuICAvLyBFbnN1cmUgZGVzdCBpcyBhIG5vbi1udWxsIG9iamVjdCBiZWZvcmUgcHJvY2VlZGluZy5cbiAgaWYgKHR5cGVvZiBkZXN0ICE9PSAnb2JqZWN0JyB8fCBkZXN0ID09PSBudWxsKSB7XG4gICAgLy8gSWYgdGhlIGlucHV0IGlzIG5vdCBhbiBvYmplY3QsIGl0IGNhbm5vdCBiZSBhIHZhbGlkIEJhdGNoSm9iRGVzdGluYXRpb25cbiAgICAvLyBiYXNlZCBvbiB0aGUgb3BlcmF0aW9ucyBwZXJmb3JtZWQuIFJldHVybiBpdCBjYXN0LCBvciBoYW5kbGUgYXMgYW4gZXJyb3IuXG4gICAgLy8gQ2FzdGluZyBhbiBlbXB0eSBvYmplY3QgbWlnaHQgYmUgYSBzYWZlIGRlZmF1bHQuXG4gICAgcmV0dXJuIHt9IGFzIHR5cGVzLkJhdGNoSm9iRGVzdGluYXRpb247XG4gIH1cblxuICAvLyBDYXN0IHRvIFJlY29yZDxzdHJpbmcsIHVua25vd24+IHRvIGFsbG93IHN0cmluZyBwcm9wZXJ0eSBhY2Nlc3MuXG4gIGNvbnN0IG9iaiA9IGRlc3QgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cbiAgLy8gU2FmZWx5IGFjY2VzcyBuZXN0ZWQgcHJvcGVydGllcy5cbiAgY29uc3QgaW5saW5lUmVzcG9uc2VzVmFsID0gb2JqWydpbmxpbmVkUmVzcG9uc2VzJ107XG4gIGlmICh0eXBlb2YgaW5saW5lUmVzcG9uc2VzVmFsICE9PSAnb2JqZWN0JyB8fCBpbmxpbmVSZXNwb25zZXNWYWwgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZGVzdCBhcyB0eXBlcy5CYXRjaEpvYkRlc3RpbmF0aW9uO1xuICB9XG4gIGNvbnN0IGlubGluZVJlc3BvbnNlc09iaiA9IGlubGluZVJlc3BvbnNlc1ZhbCBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblxuICBjb25zdCByZXNwb25zZXNBcnJheSA9IGlubGluZVJlc3BvbnNlc09ialsnaW5saW5lZFJlc3BvbnNlcyddO1xuICBpZiAoIUFycmF5LmlzQXJyYXkocmVzcG9uc2VzQXJyYXkpIHx8IHJlc3BvbnNlc0FycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBkZXN0IGFzIHR5cGVzLkJhdGNoSm9iRGVzdGluYXRpb247XG4gIH1cblxuICAvLyBDaGVjayBpZiBhbnkgcmVzcG9uc2UgaGFzIHRoZSAnZW1iZWRkaW5nJyBwcm9wZXJ0eS5cbiAgbGV0IGhhc0VtYmVkZGluZyA9IGZhbHNlO1xuICBmb3IgKGNvbnN0IHJlc3BvbnNlSXRlbSBvZiByZXNwb25zZXNBcnJheSkge1xuICAgIGlmICh0eXBlb2YgcmVzcG9uc2VJdGVtICE9PSAnb2JqZWN0JyB8fCByZXNwb25zZUl0ZW0gPT09IG51bGwpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCByZXNwb25zZUl0ZW1PYmogPSByZXNwb25zZUl0ZW0gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cbiAgICBjb25zdCByZXNwb25zZVZhbCA9IHJlc3BvbnNlSXRlbU9ialsncmVzcG9uc2UnXTtcbiAgICBpZiAodHlwZW9mIHJlc3BvbnNlVmFsICE9PSAnb2JqZWN0JyB8fCByZXNwb25zZVZhbCA9PT0gbnVsbCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlT2JqID0gcmVzcG9uc2VWYWwgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cbiAgICAvLyBDaGVjayBmb3IgdGhlIGV4aXN0ZW5jZSBvZiB0aGUgJ2VtYmVkZGluZycga2V5LlxuICAgIGlmIChyZXNwb25zZU9ialsnZW1iZWRkaW5nJ10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgaGFzRW1iZWRkaW5nID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8vIFBlcmZvcm0gdGhlIHRyYW5zZm9ybWF0aW9uIGlmIGFuIGVtYmVkZGluZyB3YXMgZm91bmQuXG4gIGlmIChoYXNFbWJlZGRpbmcpIHtcbiAgICBvYmpbJ2lubGluZWRFbWJlZENvbnRlbnRSZXNwb25zZXMnXSA9IG9ialsnaW5saW5lZFJlc3BvbnNlcyddO1xuICAgIGRlbGV0ZSBvYmpbJ2lubGluZWRSZXNwb25zZXMnXTtcbiAgfVxuXG4gIC8vIENhc3QgdGhlIChwb3RlbnRpYWxseSkgbW9kaWZpZWQgb2JqZWN0IHRvIHRoZSB0YXJnZXQgdHlwZS5cbiAgcmV0dXJuIGRlc3QgYXMgdHlwZXMuQmF0Y2hKb2JEZXN0aW5hdGlvbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRCYXRjaEpvYk5hbWUoYXBpQ2xpZW50OiBBcGlDbGllbnQsIG5hbWU6IHVua25vd24pOiBzdHJpbmcge1xuICBjb25zdCBuYW1lU3RyaW5nID0gbmFtZSBhcyBzdHJpbmc7XG4gIGlmICghYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgIGNvbnN0IG1sZGV2UGF0dGVybiA9IC9iYXRjaGVzXFwvW14vXSskLztcblxuICAgIGlmIChtbGRldlBhdHRlcm4udGVzdChuYW1lU3RyaW5nKSkge1xuICAgICAgcmV0dXJuIG5hbWVTdHJpbmcuc3BsaXQoJy8nKS5wb3AoKSBhcyBzdHJpbmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBiYXRjaCBqb2IgbmFtZTogJHtuYW1lU3RyaW5nfS5gKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCB2ZXJ0ZXhQYXR0ZXJuID1cbiAgICAvXnByb2plY3RzXFwvW14vXStcXC9sb2NhdGlvbnNcXC9bXi9dK1xcL2JhdGNoUHJlZGljdGlvbkpvYnNcXC9bXi9dKyQvO1xuXG4gIGlmICh2ZXJ0ZXhQYXR0ZXJuLnRlc3QobmFtZVN0cmluZykpIHtcbiAgICByZXR1cm4gbmFtZVN0cmluZy5zcGxpdCgnLycpLnBvcCgpIGFzIHN0cmluZztcbiAgfSBlbHNlIGlmICgvXlxcZCskLy50ZXN0KG5hbWVTdHJpbmcpKSB7XG4gICAgcmV0dXJuIG5hbWVTdHJpbmc7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGJhdGNoIGpvYiBuYW1lOiAke25hbWVTdHJpbmd9LmApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0Sm9iU3RhdGUoc3RhdGU6IHVua25vd24pOiBzdHJpbmcge1xuICBjb25zdCBzdGF0ZVN0cmluZyA9IHN0YXRlIGFzIHN0cmluZztcbiAgaWYgKHN0YXRlU3RyaW5nID09PSAnQkFUQ0hfU1RBVEVfVU5TUEVDSUZJRUQnKSB7XG4gICAgcmV0dXJuICdKT0JfU1RBVEVfVU5TUEVDSUZJRUQnO1xuICB9IGVsc2UgaWYgKHN0YXRlU3RyaW5nID09PSAnQkFUQ0hfU1RBVEVfUEVORElORycpIHtcbiAgICByZXR1cm4gJ0pPQl9TVEFURV9QRU5ESU5HJztcbiAgfSBlbHNlIGlmIChzdGF0ZVN0cmluZyA9PT0gJ0JBVENIX1NUQVRFX1JVTk5JTkcnKSB7XG4gICAgcmV0dXJuICdKT0JfU1RBVEVfUlVOTklORyc7XG4gIH0gZWxzZSBpZiAoc3RhdGVTdHJpbmcgPT09ICdCQVRDSF9TVEFURV9TVUNDRUVERUQnKSB7XG4gICAgcmV0dXJuICdKT0JfU1RBVEVfU1VDQ0VFREVEJztcbiAgfSBlbHNlIGlmIChzdGF0ZVN0cmluZyA9PT0gJ0JBVENIX1NUQVRFX0ZBSUxFRCcpIHtcbiAgICByZXR1cm4gJ0pPQl9TVEFURV9GQUlMRUQnO1xuICB9IGVsc2UgaWYgKHN0YXRlU3RyaW5nID09PSAnQkFUQ0hfU1RBVEVfQ0FOQ0VMTEVEJykge1xuICAgIHJldHVybiAnSk9CX1NUQVRFX0NBTkNFTExFRCc7XG4gIH0gZWxzZSBpZiAoc3RhdGVTdHJpbmcgPT09ICdCQVRDSF9TVEFURV9FWFBJUkVEJykge1xuICAgIHJldHVybiAnSk9CX1NUQVRFX0VYUElSRUQnO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdGF0ZVN0cmluZztcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gQ29kZSBnZW5lcmF0ZWQgYnkgdGhlIEdvb2dsZSBHZW4gQUkgU0RLIGdlbmVyYXRvciBETyBOT1QgRURJVC5cblxuaW1wb3J0IHtBcGlDbGllbnR9IGZyb20gJy4uL19hcGlfY2xpZW50LmpzJztcbmltcG9ydCAqIGFzIGNvbW1vbiBmcm9tICcuLi9fY29tbW9uLmpzJztcbmltcG9ydCAqIGFzIHQgZnJvbSAnLi4vX3RyYW5zZm9ybWVycy5qcyc7XG5pbXBvcnQgdHlwZSAqIGFzIHR5cGVzIGZyb20gJy4uL3R5cGVzLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGJhdGNoSm9iRGVzdGluYXRpb25Gcm9tTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkJhdGNoSm9iRGVzdGluYXRpb24sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21GaWxlTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Jlc3BvbnNlc0ZpbGUnXSk7XG4gIGlmIChmcm9tRmlsZU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmaWxlTmFtZSddLCBmcm9tRmlsZU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUlubGluZWRSZXNwb25zZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdpbmxpbmVkUmVzcG9uc2VzJyxcbiAgICAnaW5saW5lZFJlc3BvbnNlcycsXG4gIF0pO1xuICBpZiAoZnJvbUlubGluZWRSZXNwb25zZXMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tSW5saW5lZFJlc3BvbnNlcztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBpbmxpbmVkUmVzcG9uc2VGcm9tTWxkZXYoaXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2lubGluZWRSZXNwb25zZXMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbmxpbmVkRW1iZWRDb250ZW50UmVzcG9uc2VzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnaW5saW5lZEVtYmVkQ29udGVudFJlc3BvbnNlcycsXG4gICAgJ2lubGluZWRSZXNwb25zZXMnLFxuICBdKTtcbiAgaWYgKGZyb21JbmxpbmVkRW1iZWRDb250ZW50UmVzcG9uc2VzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbUlubGluZWRFbWJlZENvbnRlbnRSZXNwb25zZXM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnaW5saW5lZEVtYmVkQ29udGVudFJlc3BvbnNlcyddLFxuICAgICAgdHJhbnNmb3JtZWRMaXN0LFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiYXRjaEpvYkRlc3RpbmF0aW9uRnJvbVZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuQmF0Y2hKb2JEZXN0aW5hdGlvbixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUZvcm1hdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3ByZWRpY3Rpb25zRm9ybWF0J10pO1xuICBpZiAoZnJvbUZvcm1hdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Zvcm1hdCddLCBmcm9tRm9ybWF0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21HY3NVcmkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdnY3NEZXN0aW5hdGlvbicsXG4gICAgJ291dHB1dFVyaVByZWZpeCcsXG4gIF0pO1xuICBpZiAoZnJvbUdjc1VyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2djc1VyaSddLCBmcm9tR2NzVXJpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21CaWdxdWVyeVVyaSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2JpZ3F1ZXJ5RGVzdGluYXRpb24nLFxuICAgICdvdXRwdXRVcmknLFxuICBdKTtcbiAgaWYgKGZyb21CaWdxdWVyeVVyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2JpZ3F1ZXJ5VXJpJ10sIGZyb21CaWdxdWVyeVVyaSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiYXRjaEpvYkRlc3RpbmF0aW9uVG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkJhdGNoSm9iRGVzdGluYXRpb24sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Gb3JtYXQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmb3JtYXQnXSk7XG4gIGlmIChmcm9tRm9ybWF0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncHJlZGljdGlvbnNGb3JtYXQnXSwgZnJvbUZvcm1hdCk7XG4gIH1cblxuICBjb25zdCBmcm9tR2NzVXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ2NzVXJpJ10pO1xuICBpZiAoZnJvbUdjc1VyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2djc0Rlc3RpbmF0aW9uJywgJ291dHB1dFVyaVByZWZpeCddLFxuICAgICAgZnJvbUdjc1VyaSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUJpZ3F1ZXJ5VXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYmlncXVlcnlVcmknXSk7XG4gIGlmIChmcm9tQmlncXVlcnlVcmkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydiaWdxdWVyeURlc3RpbmF0aW9uJywgJ291dHB1dFVyaSddLFxuICAgICAgZnJvbUJpZ3F1ZXJ5VXJpLFxuICAgICk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZmlsZU5hbWUnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignZmlsZU5hbWUgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gVmVydGV4IEFJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2lubGluZWRSZXNwb25zZXMnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdpbmxpbmVkUmVzcG9uc2VzIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIFZlcnRleCBBSS4nLFxuICAgICk7XG4gIH1cblxuICBpZiAoXG4gICAgY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW5saW5lZEVtYmVkQ29udGVudFJlc3BvbnNlcyddKSAhPT1cbiAgICB1bmRlZmluZWRcbiAgKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ2lubGluZWRFbWJlZENvbnRlbnRSZXNwb25zZXMgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gVmVydGV4IEFJLicsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJhdGNoSm9iRnJvbU1sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5CYXRjaEpvYixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EaXNwbGF5TmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ21ldGFkYXRhJyxcbiAgICAnZGlzcGxheU5hbWUnLFxuICBdKTtcbiAgaWYgKGZyb21EaXNwbGF5TmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10sIGZyb21EaXNwbGF5TmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tU3RhdGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtZXRhZGF0YScsICdzdGF0ZSddKTtcbiAgaWYgKGZyb21TdGF0ZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3N0YXRlJ10sIHQudEpvYlN0YXRlKGZyb21TdGF0ZSkpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNyZWF0ZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdtZXRhZGF0YScsXG4gICAgJ2NyZWF0ZVRpbWUnLFxuICBdKTtcbiAgaWYgKGZyb21DcmVhdGVUaW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY3JlYXRlVGltZSddLCBmcm9tQ3JlYXRlVGltZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRW5kVGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ21ldGFkYXRhJyxcbiAgICAnZW5kVGltZScsXG4gIF0pO1xuICBpZiAoZnJvbUVuZFRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydlbmRUaW1lJ10sIGZyb21FbmRUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21VcGRhdGVUaW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbWV0YWRhdGEnLFxuICAgICd1cGRhdGVUaW1lJyxcbiAgXSk7XG4gIGlmIChmcm9tVXBkYXRlVGltZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3VwZGF0ZVRpbWUnXSwgZnJvbVVwZGF0ZVRpbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWV0YWRhdGEnLCAnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtb2RlbCddLCBmcm9tTW9kZWwpO1xuICB9XG5cbiAgY29uc3QgZnJvbURlc3QgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtZXRhZGF0YScsICdvdXRwdXQnXSk7XG4gIGlmIChmcm9tRGVzdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2Rlc3QnXSxcbiAgICAgIGJhdGNoSm9iRGVzdGluYXRpb25Gcm9tTWxkZXYodC50UmVjdkJhdGNoSm9iRGVzdGluYXRpb24oZnJvbURlc3QpKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmF0Y2hKb2JGcm9tVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5CYXRjaEpvYixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EaXNwbGF5TmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10pO1xuICBpZiAoZnJvbURpc3BsYXlOYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGlzcGxheU5hbWUnXSwgZnJvbURpc3BsYXlOYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TdGF0ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3N0YXRlJ10pO1xuICBpZiAoZnJvbVN0YXRlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc3RhdGUnXSwgdC50Sm9iU3RhdGUoZnJvbVN0YXRlKSk7XG4gIH1cblxuICBjb25zdCBmcm9tRXJyb3IgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlcnJvciddKTtcbiAgaWYgKGZyb21FcnJvciAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Vycm9yJ10sIGZyb21FcnJvcik7XG4gIH1cblxuICBjb25zdCBmcm9tQ3JlYXRlVGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NyZWF0ZVRpbWUnXSk7XG4gIGlmIChmcm9tQ3JlYXRlVGltZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NyZWF0ZVRpbWUnXSwgZnJvbUNyZWF0ZVRpbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVN0YXJ0VGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3N0YXJ0VGltZSddKTtcbiAgaWYgKGZyb21TdGFydFRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzdGFydFRpbWUnXSwgZnJvbVN0YXJ0VGltZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRW5kVGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2VuZFRpbWUnXSk7XG4gIGlmIChmcm9tRW5kVGltZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2VuZFRpbWUnXSwgZnJvbUVuZFRpbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVVwZGF0ZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd1cGRhdGVUaW1lJ10pO1xuICBpZiAoZnJvbVVwZGF0ZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd1cGRhdGVUaW1lJ10sIGZyb21VcGRhdGVUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbW9kZWwnXSwgZnJvbU1vZGVsKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TcmMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpbnB1dENvbmZpZyddKTtcbiAgaWYgKGZyb21TcmMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzcmMnXSwgYmF0Y2hKb2JTb3VyY2VGcm9tVmVydGV4KGZyb21TcmMpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EZXN0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnb3V0cHV0Q29uZmlnJ10pO1xuICBpZiAoZnJvbURlc3QgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydkZXN0J10sXG4gICAgICBiYXRjaEpvYkRlc3RpbmF0aW9uRnJvbVZlcnRleCh0LnRSZWN2QmF0Y2hKb2JEZXN0aW5hdGlvbihmcm9tRGVzdCkpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29tcGxldGlvblN0YXRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY29tcGxldGlvblN0YXRzJyxcbiAgXSk7XG4gIGlmIChmcm9tQ29tcGxldGlvblN0YXRzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29tcGxldGlvblN0YXRzJ10sIGZyb21Db21wbGV0aW9uU3RhdHMpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmF0Y2hKb2JTb3VyY2VGcm9tVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5CYXRjaEpvYlNvdXJjZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUZvcm1hdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2luc3RhbmNlc0Zvcm1hdCddKTtcbiAgaWYgKGZyb21Gb3JtYXQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmb3JtYXQnXSwgZnJvbUZvcm1hdCk7XG4gIH1cblxuICBjb25zdCBmcm9tR2NzVXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ2NzU291cmNlJywgJ3VyaXMnXSk7XG4gIGlmIChmcm9tR2NzVXJpICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZ2NzVXJpJ10sIGZyb21HY3NVcmkpO1xuICB9XG5cbiAgY29uc3QgZnJvbUJpZ3F1ZXJ5VXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnYmlncXVlcnlTb3VyY2UnLFxuICAgICdpbnB1dFVyaScsXG4gIF0pO1xuICBpZiAoZnJvbUJpZ3F1ZXJ5VXJpICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnYmlncXVlcnlVcmknXSwgZnJvbUJpZ3F1ZXJ5VXJpKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJhdGNoSm9iU291cmNlVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkJhdGNoSm9iU291cmNlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZm9ybWF0J10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2Zvcm1hdCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2djc1VyaSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdnY3NVcmkgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydiaWdxdWVyeVVyaSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdiaWdxdWVyeVVyaSBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZpbGVOYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZmlsZU5hbWUnXSk7XG4gIGlmIChmcm9tRmlsZU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmaWxlTmFtZSddLCBmcm9tRmlsZU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUlubGluZWRSZXF1ZXN0cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2lubGluZWRSZXF1ZXN0cycsXG4gIF0pO1xuICBpZiAoZnJvbUlubGluZWRSZXF1ZXN0cyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IGZyb21JbmxpbmVkUmVxdWVzdHM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gaW5saW5lZFJlcXVlc3RUb01sZGV2KGFwaUNsaWVudCwgaXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3JlcXVlc3RzJywgJ3JlcXVlc3RzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiYXRjaEpvYlNvdXJjZVRvVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5CYXRjaEpvYlNvdXJjZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUZvcm1hdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Zvcm1hdCddKTtcbiAgaWYgKGZyb21Gb3JtYXQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpbnN0YW5jZXNGb3JtYXQnXSwgZnJvbUZvcm1hdCk7XG4gIH1cblxuICBjb25zdCBmcm9tR2NzVXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ2NzVXJpJ10pO1xuICBpZiAoZnJvbUdjc1VyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2djc1NvdXJjZScsICd1cmlzJ10sIGZyb21HY3NVcmkpO1xuICB9XG5cbiAgY29uc3QgZnJvbUJpZ3F1ZXJ5VXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYmlncXVlcnlVcmknXSk7XG4gIGlmIChmcm9tQmlncXVlcnlVcmkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydiaWdxdWVyeVNvdXJjZScsICdpbnB1dFVyaSddLFxuICAgICAgZnJvbUJpZ3F1ZXJ5VXJpLFxuICAgICk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZmlsZU5hbWUnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignZmlsZU5hbWUgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gVmVydGV4IEFJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2lubGluZWRSZXF1ZXN0cyddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbmxpbmVkUmVxdWVzdHMgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gVmVydGV4IEFJLicpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmxvYlRvTWxkZXYoZnJvbU9iamVjdDogdHlwZXMuQmxvYik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbURhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkYXRhJ10pO1xuICBpZiAoZnJvbURhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkYXRhJ10sIGZyb21EYXRhKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkaXNwbGF5TmFtZSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdkaXNwbGF5TmFtZSBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1pbWVUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWltZVR5cGUnXSk7XG4gIGlmIChmcm9tTWltZVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtaW1lVHlwZSddLCBmcm9tTWltZVR5cGUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FuY2VsQmF0Y2hKb2JQYXJhbWV0ZXJzVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNhbmNlbEJhdGNoSm9iUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ25hbWUnXSxcbiAgICAgIHQudEJhdGNoSm9iTmFtZShhcGlDbGllbnQsIGZyb21OYW1lKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FuY2VsQmF0Y2hKb2JQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5DYW5jZWxCYXRjaEpvYlBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICduYW1lJ10sXG4gICAgICB0LnRCYXRjaEpvYk5hbWUoYXBpQ2xpZW50LCBmcm9tTmFtZSksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbmRpZGF0ZUZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuQ2FuZGlkYXRlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQ29udGVudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbnRlbnQnXSk7XG4gIGlmIChmcm9tQ29udGVudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NvbnRlbnQnXSwgZnJvbUNvbnRlbnQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNpdGF0aW9uTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjaXRhdGlvbk1ldGFkYXRhJyxcbiAgXSk7XG4gIGlmIChmcm9tQ2l0YXRpb25NZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NpdGF0aW9uTWV0YWRhdGEnXSxcbiAgICAgIGNpdGF0aW9uTWV0YWRhdGFGcm9tTWxkZXYoZnJvbUNpdGF0aW9uTWV0YWRhdGEpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9rZW5Db3VudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rva2VuQ291bnQnXSk7XG4gIGlmIChmcm9tVG9rZW5Db3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Rva2VuQ291bnQnXSwgZnJvbVRva2VuQ291bnQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZpbmlzaFJlYXNvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ZpbmlzaFJlYXNvbiddKTtcbiAgaWYgKGZyb21GaW5pc2hSZWFzb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmaW5pc2hSZWFzb24nXSwgZnJvbUZpbmlzaFJlYXNvbik7XG4gIH1cblxuICBjb25zdCBmcm9tQXZnTG9ncHJvYnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhdmdMb2dwcm9icyddKTtcbiAgaWYgKGZyb21BdmdMb2dwcm9icyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2F2Z0xvZ3Byb2JzJ10sIGZyb21BdmdMb2dwcm9icyk7XG4gIH1cblxuICBjb25zdCBmcm9tR3JvdW5kaW5nTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdncm91bmRpbmdNZXRhZGF0YScsXG4gIF0pO1xuICBpZiAoZnJvbUdyb3VuZGluZ01ldGFkYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZ3JvdW5kaW5nTWV0YWRhdGEnXSxcbiAgICAgIGZyb21Hcm91bmRpbmdNZXRhZGF0YSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUluZGV4ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW5kZXgnXSk7XG4gIGlmIChmcm9tSW5kZXggIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpbmRleCddLCBmcm9tSW5kZXgpO1xuICB9XG5cbiAgY29uc3QgZnJvbUxvZ3Byb2JzUmVzdWx0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbG9ncHJvYnNSZXN1bHQnLFxuICBdKTtcbiAgaWYgKGZyb21Mb2dwcm9ic1Jlc3VsdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2xvZ3Byb2JzUmVzdWx0J10sIGZyb21Mb2dwcm9ic1Jlc3VsdCk7XG4gIH1cblxuICBjb25zdCBmcm9tU2FmZXR5UmF0aW5ncyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3NhZmV0eVJhdGluZ3MnLFxuICBdKTtcbiAgaWYgKGZyb21TYWZldHlSYXRpbmdzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbVNhZmV0eVJhdGluZ3M7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2FmZXR5UmF0aW5ncyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbVVybENvbnRleHRNZXRhZGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3VybENvbnRleHRNZXRhZGF0YScsXG4gIF0pO1xuICBpZiAoZnJvbVVybENvbnRleHRNZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3VybENvbnRleHRNZXRhZGF0YSddLFxuICAgICAgZnJvbVVybENvbnRleHRNZXRhZGF0YSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2l0YXRpb25NZXRhZGF0YUZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuQ2l0YXRpb25NZXRhZGF0YSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUNpdGF0aW9ucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NpdGF0aW9uU291cmNlcyddKTtcbiAgaWYgKGZyb21DaXRhdGlvbnMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tQ2l0YXRpb25zO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NpdGF0aW9ucyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udGVudFRvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNvbnRlbnQsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21QYXJ0cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhcnRzJ10pO1xuICBpZiAoZnJvbVBhcnRzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbVBhcnRzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIHBhcnRUb01sZGV2KGl0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwYXJ0cyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJvbGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyb2xlJ10pO1xuICBpZiAoZnJvbVJvbGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyb2xlJ10sIGZyb21Sb2xlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUJhdGNoSm9iQ29uZmlnVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuQ3JlYXRlQmF0Y2hKb2JDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21EaXNwbGF5TmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbURpc3BsYXlOYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ2JhdGNoJywgJ2Rpc3BsYXlOYW1lJ10sXG4gICAgICBmcm9tRGlzcGxheU5hbWUsXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkZXN0J10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2Rlc3QgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUJhdGNoSm9iQ29uZmlnVG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNyZWF0ZUJhdGNoSm9iQ29uZmlnLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRGlzcGxheU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkaXNwbGF5TmFtZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21EaXNwbGF5TmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydkaXNwbGF5TmFtZSddLCBmcm9tRGlzcGxheU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbURlc3QgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkZXN0J10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbURlc3QgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnb3V0cHV0Q29uZmlnJ10sXG4gICAgICBiYXRjaEpvYkRlc3RpbmF0aW9uVG9WZXJ0ZXgodC50QmF0Y2hKb2JEZXN0aW5hdGlvbihmcm9tRGVzdCkpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCYXRjaEpvYlBhcmFtZXRlcnNUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ3JlYXRlQmF0Y2hKb2JQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbW9kZWwnXSxcbiAgICAgIHQudE1vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVNyYyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NyYyddKTtcbiAgaWYgKGZyb21TcmMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydiYXRjaCcsICdpbnB1dENvbmZpZyddLFxuICAgICAgYmF0Y2hKb2JTb3VyY2VUb01sZGV2KGFwaUNsaWVudCwgdC50QmF0Y2hKb2JTb3VyY2UoYXBpQ2xpZW50LCBmcm9tU3JjKSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjcmVhdGVCYXRjaEpvYkNvbmZpZ1RvTWxkZXYoZnJvbUNvbmZpZywgdG9PYmplY3QpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQmF0Y2hKb2JQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5DcmVhdGVCYXRjaEpvYlBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbW9kZWwnXSwgdC50TW9kZWwoYXBpQ2xpZW50LCBmcm9tTW9kZWwpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TcmMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzcmMnXSk7XG4gIGlmIChmcm9tU3JjICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnaW5wdXRDb25maWcnXSxcbiAgICAgIGJhdGNoSm9iU291cmNlVG9WZXJ0ZXgodC50QmF0Y2hKb2JTb3VyY2UoYXBpQ2xpZW50LCBmcm9tU3JjKSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjcmVhdGVCYXRjaEpvYkNvbmZpZ1RvVmVydGV4KGZyb21Db25maWcsIHRvT2JqZWN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVtYmVkZGluZ3NCYXRjaEpvYkNvbmZpZ1RvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNyZWF0ZUVtYmVkZGluZ3NCYXRjaEpvYkNvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbURpc3BsYXlOYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGlzcGxheU5hbWUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tRGlzcGxheU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnYmF0Y2gnLCAnZGlzcGxheU5hbWUnXSxcbiAgICAgIGZyb21EaXNwbGF5TmFtZSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRW1iZWRkaW5nc0JhdGNoSm9iUGFyYW1ldGVyc1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5DcmVhdGVFbWJlZGRpbmdzQmF0Y2hKb2JQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbW9kZWwnXSxcbiAgICAgIHQudE1vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVNyYyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NyYyddKTtcbiAgaWYgKGZyb21TcmMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydiYXRjaCcsICdpbnB1dENvbmZpZyddLFxuICAgICAgZW1iZWRkaW5nc0JhdGNoSm9iU291cmNlVG9NbGRldihhcGlDbGllbnQsIGZyb21TcmMpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY3JlYXRlRW1iZWRkaW5nc0JhdGNoSm9iQ29uZmlnVG9NbGRldihmcm9tQ29uZmlnLCB0b09iamVjdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVCYXRjaEpvYlBhcmFtZXRlcnNUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRGVsZXRlQmF0Y2hKb2JQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbmFtZSddLFxuICAgICAgdC50QmF0Y2hKb2JOYW1lKGFwaUNsaWVudCwgZnJvbU5hbWUpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVCYXRjaEpvYlBhcmFtZXRlcnNUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkRlbGV0ZUJhdGNoSm9iUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ25hbWUnXSxcbiAgICAgIHQudEJhdGNoSm9iTmFtZShhcGlDbGllbnQsIGZyb21OYW1lKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlUmVzb3VyY2VKb2JGcm9tTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkRlbGV0ZVJlc291cmNlSm9iLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tU2RrSHR0cFJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2RrSHR0cFJlc3BvbnNlJyxcbiAgXSk7XG4gIGlmIChmcm9tU2RrSHR0cFJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2RrSHR0cFJlc3BvbnNlJ10sIGZyb21TZGtIdHRwUmVzcG9uc2UpO1xuICB9XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Eb25lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZG9uZSddKTtcbiAgaWYgKGZyb21Eb25lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZG9uZSddLCBmcm9tRG9uZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRXJyb3IgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlcnJvciddKTtcbiAgaWYgKGZyb21FcnJvciAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Vycm9yJ10sIGZyb21FcnJvcik7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVSZXNvdXJjZUpvYkZyb21WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkRlbGV0ZVJlc291cmNlSm9iLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tU2RrSHR0cFJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2RrSHR0cFJlc3BvbnNlJyxcbiAgXSk7XG4gIGlmIChmcm9tU2RrSHR0cFJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2RrSHR0cFJlc3BvbnNlJ10sIGZyb21TZGtIdHRwUmVzcG9uc2UpO1xuICB9XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Eb25lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZG9uZSddKTtcbiAgaWYgKGZyb21Eb25lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZG9uZSddLCBmcm9tRG9uZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRXJyb3IgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlcnJvciddKTtcbiAgaWYgKGZyb21FcnJvciAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Vycm9yJ10sIGZyb21FcnJvcik7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWJlZENvbnRlbnRCYXRjaFRvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5FbWJlZENvbnRlbnRCYXRjaCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUNvbnRlbnRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29udGVudHMnXSk7XG4gIGlmIChmcm9tQ29udGVudHMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSB0LnRDb250ZW50c0ZvckVtYmVkKGFwaUNsaWVudCwgZnJvbUNvbnRlbnRzKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXF1ZXN0c1tdJywgJ3JlcXVlc3QnLCAnY29udGVudCddLFxuICAgICAgdHJhbnNmb3JtZWRMaXN0LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ19zZWxmJ10sXG4gICAgICBlbWJlZENvbnRlbnRDb25maWdUb01sZGV2KGZyb21Db25maWcsIHRvT2JqZWN0KSxcbiAgICApO1xuICAgIGNvbW1vbi5tb3ZlVmFsdWVCeVBhdGgodG9PYmplY3QsIHsncmVxdWVzdHNbXS4qJzogJ3JlcXVlc3RzW10ucmVxdWVzdC4qJ30pO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW1iZWRDb250ZW50Q29uZmlnVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuRW1iZWRDb250ZW50Q29uZmlnLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVGFza1R5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0YXNrVHlwZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21UYXNrVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydyZXF1ZXN0c1tdJywgJ3Rhc2tUeXBlJ10sXG4gICAgICBmcm9tVGFza1R5cGUsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaXRsZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RpdGxlJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRpdGxlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ3JlcXVlc3RzW10nLCAndGl0bGUnXSwgZnJvbVRpdGxlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21PdXRwdXREaW1lbnNpb25hbGl0eSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ291dHB1dERpbWVuc2lvbmFsaXR5JyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tT3V0cHV0RGltZW5zaW9uYWxpdHkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncmVxdWVzdHNbXScsICdvdXRwdXREaW1lbnNpb25hbGl0eSddLFxuICAgICAgZnJvbU91dHB1dERpbWVuc2lvbmFsaXR5LFxuICAgICk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWltZVR5cGUnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWltZVR5cGUgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhdXRvVHJ1bmNhdGUnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignYXV0b1RydW5jYXRlIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWJlZGRpbmdzQmF0Y2hKb2JTb3VyY2VUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRW1iZWRkaW5nc0JhdGNoSm9iU291cmNlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRmlsZU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmaWxlTmFtZSddKTtcbiAgaWYgKGZyb21GaWxlTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2ZpbGVfbmFtZSddLCBmcm9tRmlsZU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUlubGluZWRSZXF1ZXN0cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2lubGluZWRSZXF1ZXN0cycsXG4gIF0pO1xuICBpZiAoZnJvbUlubGluZWRSZXF1ZXN0cyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3JlcXVlc3RzJ10sXG4gICAgICBlbWJlZENvbnRlbnRCYXRjaFRvTWxkZXYoYXBpQ2xpZW50LCBmcm9tSW5saW5lZFJlcXVlc3RzKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsZURhdGFUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5GaWxlRGF0YSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2Rpc3BsYXlOYW1lIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBjb25zdCBmcm9tRmlsZVVyaSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ZpbGVVcmknXSk7XG4gIGlmIChmcm9tRmlsZVVyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2ZpbGVVcmknXSwgZnJvbUZpbGVVcmkpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1pbWVUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWltZVR5cGUnXSk7XG4gIGlmIChmcm9tTWltZVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtaW1lVHlwZSddLCBmcm9tTWltZVR5cGUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZnVuY3Rpb25DYWxsVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuRnVuY3Rpb25DYWxsLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tSWQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpZCddKTtcbiAgaWYgKGZyb21JZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2lkJ10sIGZyb21JZCk7XG4gIH1cblxuICBjb25zdCBmcm9tQXJncyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2FyZ3MnXSk7XG4gIGlmIChmcm9tQXJncyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2FyZ3MnXSwgZnJvbUFyZ3MpO1xuICB9XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYXJ0aWFsQXJncyddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwYXJ0aWFsQXJncyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3dpbGxDb250aW51ZSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd3aWxsQ29udGludWUgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZ1bmN0aW9uQ2FsbGluZ0NvbmZpZ1RvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkZ1bmN0aW9uQ2FsbGluZ0NvbmZpZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlJ10pO1xuICBpZiAoZnJvbU1vZGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtb2RlJ10sIGZyb21Nb2RlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21BbGxvd2VkRnVuY3Rpb25OYW1lcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2FsbG93ZWRGdW5jdGlvbk5hbWVzJyxcbiAgXSk7XG4gIGlmIChmcm9tQWxsb3dlZEZ1bmN0aW9uTmFtZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydhbGxvd2VkRnVuY3Rpb25OYW1lcyddLFxuICAgICAgZnJvbUFsbG93ZWRGdW5jdGlvbk5hbWVzLFxuICAgICk7XG4gIH1cblxuICBpZiAoXG4gICAgY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc3RyZWFtRnVuY3Rpb25DYWxsQXJndW1lbnRzJ10pICE9PVxuICAgIHVuZGVmaW5lZFxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnc3RyZWFtRnVuY3Rpb25DYWxsQXJndW1lbnRzIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDb250ZW50Q29uZmlnVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlQ29udGVudENvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVN5c3RlbUluc3RydWN0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc3lzdGVtSW5zdHJ1Y3Rpb24nLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21TeXN0ZW1JbnN0cnVjdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzeXN0ZW1JbnN0cnVjdGlvbiddLFxuICAgICAgY29udGVudFRvTWxkZXYodC50Q29udGVudChmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24pKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRlbXBlcmF0dXJlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGVtcGVyYXR1cmUnXSk7XG4gIGlmIChmcm9tVGVtcGVyYXR1cmUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0ZW1wZXJhdHVyZSddLCBmcm9tVGVtcGVyYXR1cmUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvcFAgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b3BQJ10pO1xuICBpZiAoZnJvbVRvcFAgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0b3BQJ10sIGZyb21Ub3BQKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub3BLID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9wSyddKTtcbiAgaWYgKGZyb21Ub3BLICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndG9wSyddLCBmcm9tVG9wSyk7XG4gIH1cblxuICBjb25zdCBmcm9tQ2FuZGlkYXRlQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjYW5kaWRhdGVDb3VudCcsXG4gIF0pO1xuICBpZiAoZnJvbUNhbmRpZGF0ZUNvdW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY2FuZGlkYXRlQ291bnQnXSwgZnJvbUNhbmRpZGF0ZUNvdW50KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NYXhPdXRwdXRUb2tlbnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdtYXhPdXRwdXRUb2tlbnMnLFxuICBdKTtcbiAgaWYgKGZyb21NYXhPdXRwdXRUb2tlbnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtYXhPdXRwdXRUb2tlbnMnXSwgZnJvbU1heE91dHB1dFRva2Vucyk7XG4gIH1cblxuICBjb25zdCBmcm9tU3RvcFNlcXVlbmNlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3N0b3BTZXF1ZW5jZXMnLFxuICBdKTtcbiAgaWYgKGZyb21TdG9wU2VxdWVuY2VzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc3RvcFNlcXVlbmNlcyddLCBmcm9tU3RvcFNlcXVlbmNlcyk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VMb2dwcm9icyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlTG9ncHJvYnMnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZUxvZ3Byb2JzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmVzcG9uc2VMb2dwcm9icyddLCBmcm9tUmVzcG9uc2VMb2dwcm9icyk7XG4gIH1cblxuICBjb25zdCBmcm9tTG9ncHJvYnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydsb2dwcm9icyddKTtcbiAgaWYgKGZyb21Mb2dwcm9icyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2xvZ3Byb2JzJ10sIGZyb21Mb2dwcm9icyk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJlc2VuY2VQZW5hbHR5ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncHJlc2VuY2VQZW5hbHR5JyxcbiAgXSk7XG4gIGlmIChmcm9tUHJlc2VuY2VQZW5hbHR5ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncHJlc2VuY2VQZW5hbHR5J10sIGZyb21QcmVzZW5jZVBlbmFsdHkpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZyZXF1ZW5jeVBlbmFsdHkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdmcmVxdWVuY3lQZW5hbHR5JyxcbiAgXSk7XG4gIGlmIChmcm9tRnJlcXVlbmN5UGVuYWx0eSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2ZyZXF1ZW5jeVBlbmFsdHknXSwgZnJvbUZyZXF1ZW5jeVBlbmFsdHkpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNlZWQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzZWVkJ10pO1xuICBpZiAoZnJvbVNlZWQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzZWVkJ10sIGZyb21TZWVkKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZU1pbWVUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVzcG9uc2VNaW1lVHlwZScsXG4gIF0pO1xuICBpZiAoZnJvbVJlc3BvbnNlTWltZVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyZXNwb25zZU1pbWVUeXBlJ10sIGZyb21SZXNwb25zZU1pbWVUeXBlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZVNjaGVtYSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlU2NoZW1hJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzcG9uc2VTY2hlbWEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXNwb25zZVNjaGVtYSddLFxuICAgICAgdC50U2NoZW1hKGZyb21SZXNwb25zZVNjaGVtYSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZUpzb25TY2hlbWEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZUpzb25TY2hlbWEnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZUpzb25TY2hlbWEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXNwb25zZUpzb25TY2hlbWEnXSxcbiAgICAgIGZyb21SZXNwb25zZUpzb25TY2hlbWEsXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyb3V0aW5nQ29uZmlnJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3JvdXRpbmdDb25maWcgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChcbiAgICBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbFNlbGVjdGlvbkNvbmZpZyddKSAhPT0gdW5kZWZpbmVkXG4gICkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdtb2RlbFNlbGVjdGlvbkNvbmZpZyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TYWZldHlTZXR0aW5ncyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3NhZmV0eVNldHRpbmdzJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tU2FmZXR5U2V0dGluZ3MgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tU2FmZXR5U2V0dGluZ3M7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gc2FmZXR5U2V0dGluZ1RvTWxkZXYoaXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydzYWZldHlTZXR0aW5ncyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9vbHMnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVG9vbHMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSB0LnRUb29scyhmcm9tVG9vbHMpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2xUb01sZGV2KHQudFRvb2woaXRlbSkpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsndG9vbHMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub29sQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9vbENvbmZpZyddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21Ub29sQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3Rvb2xDb25maWcnXSxcbiAgICAgIHRvb2xDb25maWdUb01sZGV2KGZyb21Ub29sQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2xhYmVscyddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdsYWJlbHMgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21DYWNoZWRDb250ZW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY2FjaGVkQ29udGVudCcsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUNhY2hlZENvbnRlbnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnY2FjaGVkQ29udGVudCddLFxuICAgICAgdC50Q2FjaGVkQ29udGVudE5hbWUoYXBpQ2xpZW50LCBmcm9tQ2FjaGVkQ29udGVudCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZU1vZGFsaXRpZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZU1vZGFsaXRpZXMnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZU1vZGFsaXRpZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXNwb25zZU1vZGFsaXRpZXMnXSxcbiAgICAgIGZyb21SZXNwb25zZU1vZGFsaXRpZXMsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NZWRpYVJlc29sdXRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdtZWRpYVJlc29sdXRpb24nLFxuICBdKTtcbiAgaWYgKGZyb21NZWRpYVJlc29sdXRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtZWRpYVJlc29sdXRpb24nXSwgZnJvbU1lZGlhUmVzb2x1dGlvbik7XG4gIH1cblxuICBjb25zdCBmcm9tU3BlZWNoQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc3BlZWNoQ29uZmlnJ10pO1xuICBpZiAoZnJvbVNwZWVjaENvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3NwZWVjaENvbmZpZyddLFxuICAgICAgdC50U3BlZWNoQ29uZmlnKGZyb21TcGVlY2hDb25maWcpLFxuICAgICk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYXVkaW9UaW1lc3RhbXAnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignYXVkaW9UaW1lc3RhbXAgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaGlua2luZ0NvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3RoaW5raW5nQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tVGhpbmtpbmdDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aGlua2luZ0NvbmZpZyddLCBmcm9tVGhpbmtpbmdDb25maWcpO1xuICB9XG5cbiAgY29uc3QgZnJvbUltYWdlQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW1hZ2VDb25maWcnXSk7XG4gIGlmIChmcm9tSW1hZ2VDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydpbWFnZUNvbmZpZyddLFxuICAgICAgaW1hZ2VDb25maWdUb01sZGV2KGZyb21JbWFnZUNvbmZpZyksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FbmFibGVFbmhhbmNlZENpdmljQW5zd2VycyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2VuYWJsZUVuaGFuY2VkQ2l2aWNBbnN3ZXJzJyxcbiAgXSk7XG4gIGlmIChmcm9tRW5hYmxlRW5oYW5jZWRDaXZpY0Fuc3dlcnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydlbmFibGVFbmhhbmNlZENpdmljQW5zd2VycyddLFxuICAgICAgZnJvbUVuYWJsZUVuaGFuY2VkQ2l2aWNBbnN3ZXJzLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUNvbnRlbnRSZXNwb25zZUZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21TZGtIdHRwUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZGtIdHRwUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21TZGtIdHRwUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzZGtIdHRwUmVzcG9uc2UnXSwgZnJvbVNka0h0dHBSZXNwb25zZSk7XG4gIH1cblxuICBjb25zdCBmcm9tQ2FuZGlkYXRlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NhbmRpZGF0ZXMnXSk7XG4gIGlmIChmcm9tQ2FuZGlkYXRlcyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IGZyb21DYW5kaWRhdGVzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZUZyb21NbGRldihpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY2FuZGlkYXRlcyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1vZGVsVmVyc2lvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsVmVyc2lvbiddKTtcbiAgaWYgKGZyb21Nb2RlbFZlcnNpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtb2RlbFZlcnNpb24nXSwgZnJvbU1vZGVsVmVyc2lvbik7XG4gIH1cblxuICBjb25zdCBmcm9tUHJvbXB0RmVlZGJhY2sgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwcm9tcHRGZWVkYmFjaycsXG4gIF0pO1xuICBpZiAoZnJvbVByb21wdEZlZWRiYWNrICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncHJvbXB0RmVlZGJhY2snXSwgZnJvbVByb21wdEZlZWRiYWNrKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZUlkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncmVzcG9uc2VJZCddKTtcbiAgaWYgKGZyb21SZXNwb25zZUlkICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmVzcG9uc2VJZCddLCBmcm9tUmVzcG9uc2VJZCk7XG4gIH1cblxuICBjb25zdCBmcm9tVXNhZ2VNZXRhZGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3VzYWdlTWV0YWRhdGEnLFxuICBdKTtcbiAgaWYgKGZyb21Vc2FnZU1ldGFkYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndXNhZ2VNZXRhZGF0YSddLCBmcm9tVXNhZ2VNZXRhZGF0YSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRCYXRjaEpvYlBhcmFtZXRlcnNUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2V0QmF0Y2hKb2JQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbmFtZSddLFxuICAgICAgdC50QmF0Y2hKb2JOYW1lKGFwaUNsaWVudCwgZnJvbU5hbWUpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRCYXRjaEpvYlBhcmFtZXRlcnNUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdldEJhdGNoSm9iUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ25hbWUnXSxcbiAgICAgIHQudEJhdGNoSm9iTmFtZShhcGlDbGllbnQsIGZyb21OYW1lKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ29vZ2xlTWFwc1RvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdvb2dsZU1hcHMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhdXRoQ29uZmlnJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2F1dGhDb25maWcgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FbmFibGVXaWRnZXQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlbmFibGVXaWRnZXQnXSk7XG4gIGlmIChmcm9tRW5hYmxlV2lkZ2V0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZW5hYmxlV2lkZ2V0J10sIGZyb21FbmFibGVXaWRnZXQpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ29vZ2xlU2VhcmNoVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuR29vZ2xlU2VhcmNoLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXhjbHVkZURvbWFpbnMnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignZXhjbHVkZURvbWFpbnMgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydibG9ja2luZ0NvbmZpZGVuY2UnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdibG9ja2luZ0NvbmZpZGVuY2UgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVGltZVJhbmdlRmlsdGVyID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndGltZVJhbmdlRmlsdGVyJyxcbiAgXSk7XG4gIGlmIChmcm9tVGltZVJhbmdlRmlsdGVyICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGltZVJhbmdlRmlsdGVyJ10sIGZyb21UaW1lUmFuZ2VGaWx0ZXIpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW1hZ2VDb25maWdUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5JbWFnZUNvbmZpZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUFzcGVjdFJhdGlvID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYXNwZWN0UmF0aW8nXSk7XG4gIGlmIChmcm9tQXNwZWN0UmF0aW8gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydhc3BlY3RSYXRpbyddLCBmcm9tQXNwZWN0UmF0aW8pO1xuICB9XG5cbiAgY29uc3QgZnJvbUltYWdlU2l6ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ltYWdlU2l6ZSddKTtcbiAgaWYgKGZyb21JbWFnZVNpemUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpbWFnZVNpemUnXSwgZnJvbUltYWdlU2l6ZSk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnb3V0cHV0TWltZVR5cGUnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignb3V0cHV0TWltZVR5cGUgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChcbiAgICBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydvdXRwdXRDb21wcmVzc2lvblF1YWxpdHknXSkgIT09XG4gICAgdW5kZWZpbmVkXG4gICkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdvdXRwdXRDb21wcmVzc2lvblF1YWxpdHkgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmxpbmVkUmVxdWVzdFRvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5JbmxpbmVkUmVxdWVzdCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXF1ZXN0JywgJ21vZGVsJ10sXG4gICAgICB0LnRNb2RlbChhcGlDbGllbnQsIGZyb21Nb2RlbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db250ZW50cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbnRlbnRzJ10pO1xuICBpZiAoZnJvbUNvbnRlbnRzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gdC50Q29udGVudHMoZnJvbUNvbnRlbnRzKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBjb250ZW50VG9NbGRldihpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmVxdWVzdCcsICdjb250ZW50cyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWV0YWRhdGEnXSk7XG4gIGlmIChmcm9tTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtZXRhZGF0YSddLCBmcm9tTWV0YWRhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXF1ZXN0JywgJ2dlbmVyYXRpb25Db25maWcnXSxcbiAgICAgIGdlbmVyYXRlQ29udGVudENvbmZpZ1RvTWxkZXYoXG4gICAgICAgIGFwaUNsaWVudCxcbiAgICAgICAgZnJvbUNvbmZpZyxcbiAgICAgICAgY29tbW9uLmdldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3JlcXVlc3QnXSwge30pIGFzIFJlY29yZDxcbiAgICAgICAgICBzdHJpbmcsXG4gICAgICAgICAgdW5rbm93blxuICAgICAgICA+LFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5saW5lZFJlc3BvbnNlRnJvbU1sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5JbmxpbmVkUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21SZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Jlc3BvbnNlJ10pO1xuICBpZiAoZnJvbVJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmVzcG9uc2UnXSxcbiAgICAgIGdlbmVyYXRlQ29udGVudFJlc3BvbnNlRnJvbU1sZGV2KFxuICAgICAgICBmcm9tUmVzcG9uc2UgYXMgdHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2UsXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tRXJyb3IgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlcnJvciddKTtcbiAgaWYgKGZyb21FcnJvciAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Vycm9yJ10sIGZyb21FcnJvcik7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0QmF0Y2hKb2JzQ29uZmlnVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuTGlzdEJhdGNoSm9ic0NvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVBhZ2VTaXplID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFnZVNpemUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUGFnZVNpemUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnX3F1ZXJ5JywgJ3BhZ2VTaXplJ10sIGZyb21QYWdlU2l6ZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUGFnZVRva2VuID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFnZVRva2VuJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVBhZ2VUb2tlbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydfcXVlcnknLCAncGFnZVRva2VuJ10sIGZyb21QYWdlVG9rZW4pO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ZpbHRlciddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdmaWx0ZXIgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RCYXRjaEpvYnNDb25maWdUb1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuTGlzdEJhdGNoSm9ic0NvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVBhZ2VTaXplID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFnZVNpemUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUGFnZVNpemUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnX3F1ZXJ5JywgJ3BhZ2VTaXplJ10sIGZyb21QYWdlU2l6ZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUGFnZVRva2VuID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFnZVRva2VuJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVBhZ2VUb2tlbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydfcXVlcnknLCAncGFnZVRva2VuJ10sIGZyb21QYWdlVG9rZW4pO1xuICB9XG5cbiAgY29uc3QgZnJvbUZpbHRlciA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ZpbHRlciddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21GaWx0ZXIgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnX3F1ZXJ5JywgJ2ZpbHRlciddLCBmcm9tRmlsdGVyKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RCYXRjaEpvYnNQYXJhbWV0ZXJzVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuTGlzdEJhdGNoSm9ic1BhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBsaXN0QmF0Y2hKb2JzQ29uZmlnVG9NbGRldihmcm9tQ29uZmlnLCB0b09iamVjdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0QmF0Y2hKb2JzUGFyYW1ldGVyc1RvVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXN0QmF0Y2hKb2JzUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGxpc3RCYXRjaEpvYnNDb25maWdUb1ZlcnRleChmcm9tQ29uZmlnLCB0b09iamVjdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0QmF0Y2hKb2JzUmVzcG9uc2VGcm9tTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpc3RCYXRjaEpvYnNSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVNka0h0dHBSZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Nka0h0dHBSZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbVNka0h0dHBSZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Nka0h0dHBSZXNwb25zZSddLCBmcm9tU2RrSHR0cFJlc3BvbnNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21OZXh0UGFnZVRva2VuID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbmV4dFBhZ2VUb2tlbicsXG4gIF0pO1xuICBpZiAoZnJvbU5leHRQYWdlVG9rZW4gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduZXh0UGFnZVRva2VuJ10sIGZyb21OZXh0UGFnZVRva2VuKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21CYXRjaEpvYnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydvcGVyYXRpb25zJ10pO1xuICBpZiAoZnJvbUJhdGNoSm9icyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IGZyb21CYXRjaEpvYnM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gYmF0Y2hKb2JGcm9tTWxkZXYoaXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2JhdGNoSm9icyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGlzdEJhdGNoSm9ic1Jlc3BvbnNlRnJvbVZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuTGlzdEJhdGNoSm9ic1Jlc3BvbnNlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tU2RrSHR0cFJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2RrSHR0cFJlc3BvbnNlJyxcbiAgXSk7XG4gIGlmIChmcm9tU2RrSHR0cFJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2RrSHR0cFJlc3BvbnNlJ10sIGZyb21TZGtIdHRwUmVzcG9uc2UpO1xuICB9XG5cbiAgY29uc3QgZnJvbU5leHRQYWdlVG9rZW4gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICduZXh0UGFnZVRva2VuJyxcbiAgXSk7XG4gIGlmIChmcm9tTmV4dFBhZ2VUb2tlbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25leHRQYWdlVG9rZW4nXSwgZnJvbU5leHRQYWdlVG9rZW4pO1xuICB9XG5cbiAgY29uc3QgZnJvbUJhdGNoSm9icyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2JhdGNoUHJlZGljdGlvbkpvYnMnLFxuICBdKTtcbiAgaWYgKGZyb21CYXRjaEpvYnMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tQmF0Y2hKb2JzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGJhdGNoSm9iRnJvbVZlcnRleChpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnYmF0Y2hKb2JzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJ0VG9NbGRldihmcm9tT2JqZWN0OiB0eXBlcy5QYXJ0KTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTWVkaWFSZXNvbHV0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbWVkaWFSZXNvbHV0aW9uJyxcbiAgXSk7XG4gIGlmIChmcm9tTWVkaWFSZXNvbHV0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWVkaWFSZXNvbHV0aW9uJ10sIGZyb21NZWRpYVJlc29sdXRpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvZGVFeGVjdXRpb25SZXN1bHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjb2RlRXhlY3V0aW9uUmVzdWx0JyxcbiAgXSk7XG4gIGlmIChmcm9tQ29kZUV4ZWN1dGlvblJlc3VsdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NvZGVFeGVjdXRpb25SZXN1bHQnXSxcbiAgICAgIGZyb21Db2RlRXhlY3V0aW9uUmVzdWx0LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tRXhlY3V0YWJsZUNvZGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdleGVjdXRhYmxlQ29kZScsXG4gIF0pO1xuICBpZiAoZnJvbUV4ZWN1dGFibGVDb2RlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZXhlY3V0YWJsZUNvZGUnXSwgZnJvbUV4ZWN1dGFibGVDb2RlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GaWxlRGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ZpbGVEYXRhJ10pO1xuICBpZiAoZnJvbUZpbGVEYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZmlsZURhdGEnXSxcbiAgICAgIGZpbGVEYXRhVG9NbGRldihmcm9tRmlsZURhdGEpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tRnVuY3Rpb25DYWxsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZnVuY3Rpb25DYWxsJ10pO1xuICBpZiAoZnJvbUZ1bmN0aW9uQ2FsbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2Z1bmN0aW9uQ2FsbCddLFxuICAgICAgZnVuY3Rpb25DYWxsVG9NbGRldihmcm9tRnVuY3Rpb25DYWxsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdmdW5jdGlvblJlc3BvbnNlJyxcbiAgXSk7XG4gIGlmIChmcm9tRnVuY3Rpb25SZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Z1bmN0aW9uUmVzcG9uc2UnXSwgZnJvbUZ1bmN0aW9uUmVzcG9uc2UpO1xuICB9XG5cbiAgY29uc3QgZnJvbUlubGluZURhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpbmxpbmVEYXRhJ10pO1xuICBpZiAoZnJvbUlubGluZURhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydpbmxpbmVEYXRhJ10sXG4gICAgICBibG9iVG9NbGRldihmcm9tSW5saW5lRGF0YSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UZXh0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGV4dCddKTtcbiAgaWYgKGZyb21UZXh0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGV4dCddLCBmcm9tVGV4dCk7XG4gIH1cblxuICBjb25zdCBmcm9tVGhvdWdodCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rob3VnaHQnXSk7XG4gIGlmIChmcm9tVGhvdWdodCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Rob3VnaHQnXSwgZnJvbVRob3VnaHQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRob3VnaHRTaWduYXR1cmUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0aG91Z2h0U2lnbmF0dXJlJyxcbiAgXSk7XG4gIGlmIChmcm9tVGhvdWdodFNpZ25hdHVyZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Rob3VnaHRTaWduYXR1cmUnXSwgZnJvbVRob3VnaHRTaWduYXR1cmUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVZpZGVvTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd2aWRlb01ldGFkYXRhJyxcbiAgXSk7XG4gIGlmIChmcm9tVmlkZW9NZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3ZpZGVvTWV0YWRhdGEnXSwgZnJvbVZpZGVvTWV0YWRhdGEpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2FmZXR5U2V0dGluZ1RvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLlNhZmV0eVNldHRpbmcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21DYXRlZ29yeSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NhdGVnb3J5J10pO1xuICBpZiAoZnJvbUNhdGVnb3J5ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY2F0ZWdvcnknXSwgZnJvbUNhdGVnb3J5KTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtZXRob2QnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWV0aG9kIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBjb25zdCBmcm9tVGhyZXNob2xkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGhyZXNob2xkJ10pO1xuICBpZiAoZnJvbVRocmVzaG9sZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RocmVzaG9sZCddLCBmcm9tVGhyZXNob2xkKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvb2xDb25maWdUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Ub29sQ29uZmlnLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRnVuY3Rpb25DYWxsaW5nQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZnVuY3Rpb25DYWxsaW5nQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tRnVuY3Rpb25DYWxsaW5nQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZnVuY3Rpb25DYWxsaW5nQ29uZmlnJ10sXG4gICAgICBmdW5jdGlvbkNhbGxpbmdDb25maWdUb01sZGV2KGZyb21GdW5jdGlvbkNhbGxpbmdDb25maWcpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmV0cmlldmFsQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmV0cmlldmFsQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tUmV0cmlldmFsQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmV0cmlldmFsQ29uZmlnJ10sIGZyb21SZXRyaWV2YWxDb25maWcpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9vbFRvTWxkZXYoZnJvbU9iamVjdDogdHlwZXMuVG9vbCk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZnVuY3Rpb25EZWNsYXJhdGlvbnMnLFxuICBdKTtcbiAgaWYgKGZyb21GdW5jdGlvbkRlY2xhcmF0aW9ucyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IGZyb21GdW5jdGlvbkRlY2xhcmF0aW9ucztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmdW5jdGlvbkRlY2xhcmF0aW9ucyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3JldHJpZXZhbCddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdyZXRyaWV2YWwgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Hb29nbGVTZWFyY2hSZXRyaWV2YWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdnb29nbGVTZWFyY2hSZXRyaWV2YWwnLFxuICBdKTtcbiAgaWYgKGZyb21Hb29nbGVTZWFyY2hSZXRyaWV2YWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydnb29nbGVTZWFyY2hSZXRyaWV2YWwnXSxcbiAgICAgIGZyb21Hb29nbGVTZWFyY2hSZXRyaWV2YWwsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db21wdXRlclVzZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbXB1dGVyVXNlJ10pO1xuICBpZiAoZnJvbUNvbXB1dGVyVXNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29tcHV0ZXJVc2UnXSwgZnJvbUNvbXB1dGVyVXNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GaWxlU2VhcmNoID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZmlsZVNlYXJjaCddKTtcbiAgaWYgKGZyb21GaWxlU2VhcmNoICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZmlsZVNlYXJjaCddLCBmcm9tRmlsZVNlYXJjaCk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29kZUV4ZWN1dGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NvZGVFeGVjdXRpb24nLFxuICBdKTtcbiAgaWYgKGZyb21Db2RlRXhlY3V0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29kZUV4ZWN1dGlvbiddLCBmcm9tQ29kZUV4ZWN1dGlvbik7XG4gIH1cblxuICBpZiAoXG4gICAgY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZW50ZXJwcmlzZVdlYlNlYXJjaCddKSAhPT0gdW5kZWZpbmVkXG4gICkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdlbnRlcnByaXNlV2ViU2VhcmNoIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUdvb2dsZU1hcHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydnb29nbGVNYXBzJ10pO1xuICBpZiAoZnJvbUdvb2dsZU1hcHMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydnb29nbGVNYXBzJ10sXG4gICAgICBnb29nbGVNYXBzVG9NbGRldihmcm9tR29vZ2xlTWFwcyksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Hb29nbGVTZWFyY2ggPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydnb29nbGVTZWFyY2gnXSk7XG4gIGlmIChmcm9tR29vZ2xlU2VhcmNoICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZ29vZ2xlU2VhcmNoJ10sXG4gICAgICBnb29nbGVTZWFyY2hUb01sZGV2KGZyb21Hb29nbGVTZWFyY2gpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVXJsQ29udGV4dCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3VybENvbnRleHQnXSk7XG4gIGlmIChmcm9tVXJsQ29udGV4dCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3VybENvbnRleHQnXSwgZnJvbVVybENvbnRleHQpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBQYWdlcnMgZm9yIHRoZSBHZW5BSSBMaXN0IEFQSXMuXG4gKi9cblxuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi4vc3JjL3R5cGVzJztcblxuZXhwb3J0IGVudW0gUGFnZWRJdGVtIHtcbiAgUEFHRURfSVRFTV9CQVRDSF9KT0JTID0gJ2JhdGNoSm9icycsXG4gIFBBR0VEX0lURU1fTU9ERUxTID0gJ21vZGVscycsXG4gIFBBR0VEX0lURU1fVFVOSU5HX0pPQlMgPSAndHVuaW5nSm9icycsXG4gIFBBR0VEX0lURU1fRklMRVMgPSAnZmlsZXMnLFxuICBQQUdFRF9JVEVNX0NBQ0hFRF9DT05URU5UUyA9ICdjYWNoZWRDb250ZW50cycsXG4gIFBBR0VEX0lURU1fRklMRV9TRUFSQ0hfU1RPUkVTID0gJ2ZpbGVTZWFyY2hTdG9yZXMnLFxuICBQQUdFRF9JVEVNX0RPQ1VNRU5UUyA9ICdkb2N1bWVudHMnLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhZ2VkSXRlbUNvbmZpZyB7XG4gIHBhcmVudD86IHN0cmluZztcbiAgY29uZmlnPzoge1xuICAgIHBhZ2VUb2tlbj86IHN0cmluZztcbiAgICBwYWdlU2l6ZT86IG51bWJlcjtcbiAgfTtcbn1cblxuaW50ZXJmYWNlIFBhZ2VkSXRlbVJlc3BvbnNlPFQ+IHtcbiAgbmV4dFBhZ2VUb2tlbj86IHN0cmluZztcbiAgc2RrSHR0cFJlc3BvbnNlPzogdHlwZXMuSHR0cFJlc3BvbnNlO1xuICBiYXRjaEpvYnM/OiBUW107XG4gIG1vZGVscz86IFRbXTtcbiAgdHVuaW5nSm9icz86IFRbXTtcbiAgZmlsZXM/OiBUW107XG4gIGNhY2hlZENvbnRlbnRzPzogVFtdO1xuICBmaWxlU2VhcmNoU3RvcmVzPzogVFtdO1xuICBkb2N1bWVudHM/OiBUW107XG59XG5cbi8qKlxuICogUGFnZXIgY2xhc3MgZm9yIGl0ZXJhdGluZyB0aHJvdWdoIHBhZ2luYXRlZCByZXN1bHRzLlxuICovXG5leHBvcnQgY2xhc3MgUGFnZXI8VD4gaW1wbGVtZW50cyBBc3luY0l0ZXJhYmxlPFQ+IHtcbiAgcHJpdmF0ZSBuYW1lSW50ZXJuYWwhOiBQYWdlZEl0ZW07XG4gIHByaXZhdGUgcGFnZUludGVybmFsOiBUW10gPSBbXTtcbiAgcHJpdmF0ZSBwYXJhbXNJbnRlcm5hbDogUGFnZWRJdGVtQ29uZmlnID0ge307XG4gIHByaXZhdGUgcGFnZUludGVybmFsU2l6ZSE6IG51bWJlcjtcbiAgcHJpdmF0ZSBzZGtIdHRwUmVzcG9uc2VJbnRlcm5hbD86IHR5cGVzLkh0dHBSZXNwb25zZTtcbiAgcHJvdGVjdGVkIHJlcXVlc3RJbnRlcm5hbCE6IChcbiAgICBwYXJhbXM6IFBhZ2VkSXRlbUNvbmZpZyxcbiAgKSA9PiBQcm9taXNlPFBhZ2VkSXRlbVJlc3BvbnNlPFQ+PjtcbiAgcHJvdGVjdGVkIGlkeEludGVybmFsITogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIG5hbWU6IFBhZ2VkSXRlbSxcbiAgICByZXF1ZXN0OiAocGFyYW1zOiBQYWdlZEl0ZW1Db25maWcpID0+IFByb21pc2U8UGFnZWRJdGVtUmVzcG9uc2U8VD4+LFxuICAgIHJlc3BvbnNlOiBQYWdlZEl0ZW1SZXNwb25zZTxUPixcbiAgICBwYXJhbXM6IFBhZ2VkSXRlbUNvbmZpZyxcbiAgKSB7XG4gICAgdGhpcy5yZXF1ZXN0SW50ZXJuYWwgPSByZXF1ZXN0O1xuICAgIHRoaXMuaW5pdChuYW1lLCByZXNwb25zZSwgcGFyYW1zKTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdChcbiAgICBuYW1lOiBQYWdlZEl0ZW0sXG4gICAgcmVzcG9uc2U6IFBhZ2VkSXRlbVJlc3BvbnNlPFQ+LFxuICAgIHBhcmFtczogUGFnZWRJdGVtQ29uZmlnLFxuICApIHtcbiAgICB0aGlzLm5hbWVJbnRlcm5hbCA9IG5hbWU7XG4gICAgdGhpcy5wYWdlSW50ZXJuYWwgPSByZXNwb25zZVt0aGlzLm5hbWVJbnRlcm5hbF0gfHwgW107XG5cbiAgICB0aGlzLnNka0h0dHBSZXNwb25zZUludGVybmFsID0gcmVzcG9uc2U/LnNka0h0dHBSZXNwb25zZTtcbiAgICB0aGlzLmlkeEludGVybmFsID0gMDtcbiAgICBsZXQgcmVxdWVzdFBhcmFtczogUGFnZWRJdGVtQ29uZmlnID0ge2NvbmZpZzoge319O1xuICAgIGlmICghcGFyYW1zIHx8IE9iamVjdC5rZXlzKHBhcmFtcykubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXF1ZXN0UGFyYW1zID0ge2NvbmZpZzoge319O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhcmFtcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlcXVlc3RQYXJhbXMgPSB7Li4ucGFyYW1zfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVxdWVzdFBhcmFtcyA9IHBhcmFtcztcbiAgICB9XG4gICAgaWYgKHJlcXVlc3RQYXJhbXNbJ2NvbmZpZyddKSB7XG4gICAgICByZXF1ZXN0UGFyYW1zWydjb25maWcnXVsncGFnZVRva2VuJ10gPSByZXNwb25zZVsnbmV4dFBhZ2VUb2tlbiddO1xuICAgIH1cbiAgICB0aGlzLnBhcmFtc0ludGVybmFsID0gcmVxdWVzdFBhcmFtcztcbiAgICB0aGlzLnBhZ2VJbnRlcm5hbFNpemUgPVxuICAgICAgcmVxdWVzdFBhcmFtc1snY29uZmlnJ10/LlsncGFnZVNpemUnXSA/PyB0aGlzLnBhZ2VJbnRlcm5hbC5sZW5ndGg7XG4gIH1cblxuICBwcml2YXRlIGluaXROZXh0UGFnZShyZXNwb25zZTogUGFnZWRJdGVtUmVzcG9uc2U8VD4pOiB2b2lkIHtcbiAgICB0aGlzLmluaXQodGhpcy5uYW1lSW50ZXJuYWwsIHJlc3BvbnNlLCB0aGlzLnBhcmFtc0ludGVybmFsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHBhZ2UsIHdoaWNoIGlzIGEgbGlzdCBvZiBpdGVtcy5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogVGhlIGZpcnN0IHBhZ2UgaXMgcmV0cmlldmVkIHdoZW4gdGhlIHBhZ2VyIGlzIGNyZWF0ZWQuIFRoZSByZXR1cm5lZCBsaXN0IG9mXG4gICAqIGl0ZW1zIGNvdWxkIGJlIGEgc3Vic2V0IG9mIHRoZSBlbnRpcmUgbGlzdC5cbiAgICovXG4gIGdldCBwYWdlKCk6IFRbXSB7XG4gICAgcmV0dXJuIHRoaXMucGFnZUludGVybmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHR5cGUgb2YgcGFnZWQgaXRlbSAoZm9yIGV4YW1wbGUsIGBgYmF0Y2hfam9ic2BgKS5cbiAgICovXG4gIGdldCBuYW1lKCk6IFBhZ2VkSXRlbSB7XG4gICAgcmV0dXJuIHRoaXMubmFtZUludGVybmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGxlbmd0aCBvZiB0aGUgcGFnZSBmZXRjaGVkIGVhY2ggdGltZSBieSB0aGlzIHBhZ2VyLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBUaGUgbnVtYmVyIG9mIGl0ZW1zIGluIHRoZSBwYWdlIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgcGFnZSBsZW5ndGguXG4gICAqL1xuICBnZXQgcGFnZVNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5wYWdlSW50ZXJuYWxTaXplO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGhlYWRlcnMgb2YgdGhlIEFQSSByZXNwb25zZS5cbiAgICovXG4gIGdldCBzZGtIdHRwUmVzcG9uc2UoKTogdHlwZXMuSHR0cFJlc3BvbnNlIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5zZGtIdHRwUmVzcG9uc2VJbnRlcm5hbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBwYXJhbWV0ZXJzIHdoZW4gbWFraW5nIHRoZSBBUEkgcmVxdWVzdCBmb3IgdGhlIG5leHQgcGFnZS5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogUGFyYW1ldGVycyBjb250YWluIGEgc2V0IG9mIG9wdGlvbmFsIGNvbmZpZ3MgdGhhdCBjYW4gYmVcbiAgICogdXNlZCB0byBjdXN0b21pemUgdGhlIEFQSSByZXF1ZXN0LiBGb3IgZXhhbXBsZSwgdGhlIGBwYWdlVG9rZW5gIHBhcmFtZXRlclxuICAgKiBjb250YWlucyB0aGUgdG9rZW4gdG8gcmVxdWVzdCB0aGUgbmV4dCBwYWdlLlxuICAgKi9cbiAgZ2V0IHBhcmFtcygpOiBQYWdlZEl0ZW1Db25maWcge1xuICAgIHJldHVybiB0aGlzLnBhcmFtc0ludGVybmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHRvdGFsIG51bWJlciBvZiBpdGVtcyBpbiB0aGUgY3VycmVudCBwYWdlLlxuICAgKi9cbiAgZ2V0IHBhZ2VMZW5ndGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5wYWdlSW50ZXJuYWwubGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGl0ZW0gYXQgdGhlIGdpdmVuIGluZGV4LlxuICAgKi9cbiAgZ2V0SXRlbShpbmRleDogbnVtYmVyKTogVCB7XG4gICAgcmV0dXJuIHRoaXMucGFnZUludGVybmFsW2luZGV4XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGFzeW5jIGl0ZXJhdG9yIHRoYXQgc3VwcG9ydCBpdGVyYXRpbmcgdGhyb3VnaCBhbGwgaXRlbXNcbiAgICogcmV0cmlldmVkIGZyb20gdGhlIEFQSS5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogVGhlIGl0ZXJhdG9yIHdpbGwgYXV0b21hdGljYWxseSBmZXRjaCB0aGUgbmV4dCBwYWdlIGlmIHRoZXJlIGFyZSBtb3JlIGl0ZW1zXG4gICAqIHRvIGZldGNoIGZyb20gdGhlIEFQSS5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogYGBgdHNcbiAgICogY29uc3QgcGFnZXIgPSBhd2FpdCBhaS5maWxlcy5saXN0KHtjb25maWc6IHtwYWdlU2l6ZTogMTB9fSk7XG4gICAqIGZvciBhd2FpdCAoY29uc3QgZmlsZSBvZiBwYWdlcikge1xuICAgKiAgIGNvbnNvbGUubG9nKGZpbGUubmFtZSk7XG4gICAqIH1cbiAgICogYGBgXG4gICAqL1xuICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk6IEFzeW5jSXRlcmF0b3I8VD4ge1xuICAgIHJldHVybiB7XG4gICAgICBuZXh0OiBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmlkeEludGVybmFsID49IHRoaXMucGFnZUxlbmd0aCkge1xuICAgICAgICAgIGlmICh0aGlzLmhhc05leHRQYWdlKCkpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMubmV4dFBhZ2UoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuZ2V0SXRlbSh0aGlzLmlkeEludGVybmFsKTtcbiAgICAgICAgdGhpcy5pZHhJbnRlcm5hbCArPSAxO1xuICAgICAgICByZXR1cm4ge3ZhbHVlOiBpdGVtLCBkb25lOiBmYWxzZX07XG4gICAgICB9LFxuICAgICAgcmV0dXJuOiBhc3luYyAoKSA9PiB7XG4gICAgICAgIHJldHVybiB7dmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZX07XG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2hlcyB0aGUgbmV4dCBwYWdlIG9mIGl0ZW1zLiBUaGlzIG1ha2VzIGEgbmV3IEFQSSByZXF1ZXN0LlxuICAgKlxuICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlcmUgYXJlIG5vIG1vcmUgcGFnZXMgdG8gZmV0Y2guXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHBhZ2VyID0gYXdhaXQgYWkuZmlsZXMubGlzdCh7Y29uZmlnOiB7cGFnZVNpemU6IDEwfX0pO1xuICAgKiBsZXQgcGFnZSA9IHBhZ2VyLnBhZ2U7XG4gICAqIHdoaWxlICh0cnVlKSB7XG4gICAqICAgZm9yIChjb25zdCBmaWxlIG9mIHBhZ2UpIHtcbiAgICogICAgIGNvbnNvbGUubG9nKGZpbGUubmFtZSk7XG4gICAqICAgfVxuICAgKiAgIGlmICghcGFnZXIuaGFzTmV4dFBhZ2UoKSkge1xuICAgKiAgICAgYnJlYWs7XG4gICAqICAgfVxuICAgKiAgIHBhZ2UgPSBhd2FpdCBwYWdlci5uZXh0UGFnZSgpO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKi9cbiAgYXN5bmMgbmV4dFBhZ2UoKTogUHJvbWlzZTxUW10+IHtcbiAgICBpZiAoIXRoaXMuaGFzTmV4dFBhZ2UoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBtb3JlIHBhZ2VzIHRvIGZldGNoLicpO1xuICAgIH1cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucmVxdWVzdEludGVybmFsKHRoaXMucGFyYW1zKTtcbiAgICB0aGlzLmluaXROZXh0UGFnZShyZXNwb25zZSk7XG4gICAgcmV0dXJuIHRoaXMucGFnZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlcmUgYXJlIG1vcmUgcGFnZXMgdG8gZmV0Y2ggZnJvbSB0aGUgQVBJLlxuICAgKi9cbiAgaGFzTmV4dFBhZ2UoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMucGFyYW1zWydjb25maWcnXT8uWydwYWdlVG9rZW4nXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vLyBDb2RlIGdlbmVyYXRlZCBieSB0aGUgR29vZ2xlIEdlbiBBSSBTREsgZ2VuZXJhdG9yIERPIE5PVCBFRElULlxuXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi9fYXBpX2NsaWVudC5qcyc7XG5pbXBvcnQgKiBhcyBjb21tb24gZnJvbSAnLi9fY29tbW9uLmpzJztcbmltcG9ydCB7QmFzZU1vZHVsZX0gZnJvbSAnLi9fY29tbW9uLmpzJztcbmltcG9ydCAqIGFzIGNvbnZlcnRlcnMgZnJvbSAnLi9jb252ZXJ0ZXJzL19iYXRjaGVzX2NvbnZlcnRlcnMuanMnO1xuaW1wb3J0IHtQYWdlZEl0ZW0sIFBhZ2VyfSBmcm9tICcuL3BhZ2Vycy5qcyc7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuL3R5cGVzLmpzJztcblxuZXhwb3J0IGNsYXNzIEJhdGNoZXMgZXh0ZW5kcyBCYXNlTW9kdWxlIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBhcGlDbGllbnQ6IEFwaUNsaWVudCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogTGlzdHMgYmF0Y2ggam9icy5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgbGlzdCByZXF1ZXN0LlxuICAgKiBAcmV0dXJuIC0gQSBwYWdlciBvZiBiYXRjaCBqb2JzLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBiYXRjaEpvYnMgPSBhd2FpdCBhaS5iYXRjaGVzLmxpc3Qoe2NvbmZpZzogeydwYWdlU2l6ZSc6IDJ9fSk7XG4gICAqIGZvciBhd2FpdCAoY29uc3QgYmF0Y2hKb2Igb2YgYmF0Y2hKb2JzKSB7XG4gICAqICAgY29uc29sZS5sb2coYmF0Y2hKb2IpO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKi9cbiAgbGlzdCA9IGFzeW5jIChcbiAgICBwYXJhbXM6IHR5cGVzLkxpc3RCYXRjaEpvYnNQYXJhbWV0ZXJzID0ge30sXG4gICk6IFByb21pc2U8UGFnZXI8dHlwZXMuQmF0Y2hKb2I+PiA9PiB7XG4gICAgcmV0dXJuIG5ldyBQYWdlcjx0eXBlcy5CYXRjaEpvYj4oXG4gICAgICBQYWdlZEl0ZW0uUEFHRURfSVRFTV9CQVRDSF9KT0JTLFxuICAgICAgKHg6IHR5cGVzLkxpc3RCYXRjaEpvYnNQYXJhbWV0ZXJzKSA9PiB0aGlzLmxpc3RJbnRlcm5hbCh4KSxcbiAgICAgIGF3YWl0IHRoaXMubGlzdEludGVybmFsKHBhcmFtcyksXG4gICAgICBwYXJhbXMsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlIGJhdGNoIGpvYi5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBjcmVhdGUgYmF0Y2ggam9iIHJlcXVlc3QuXG4gICAqIEByZXR1cm4gVGhlIGNyZWF0ZWQgYmF0Y2ggam9iLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFpLmJhdGNoZXMuY3JlYXRlKHtcbiAgICogICBtb2RlbDogJ2dlbWluaS0yLjAtZmxhc2gnLFxuICAgKiAgIHNyYzoge2djc1VyaTogJ2dzOi8vYnVja2V0L3BhdGgvdG8vZmlsZS5qc29ubCcsIGZvcm1hdDogJ2pzb25sJ30sXG4gICAqICAgY29uZmlnOiB7XG4gICAqICAgICBkZXN0OiB7Z2NzVXJpOiAnZ3M6Ly9idWNrZXQvcGF0aC9vdXRwdXQvZGlyZWN0b3J5JywgZm9ybWF0OiAnanNvbmwnfSxcbiAgICogICB9XG4gICAqIH0pO1xuICAgKiBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAqIGBgYFxuICAgKi9cbiAgY3JlYXRlID0gYXN5bmMgKFxuICAgIHBhcmFtczogdHlwZXMuQ3JlYXRlQmF0Y2hKb2JQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkJhdGNoSm9iPiA9PiB7XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgLy8gRm9ybWF0IGRlc3RpbmF0aW9uIGlmIG5vdCBwcm92aWRlZFxuICAgICAgLy8gQ2FzdCBwYXJhbXMuc3JjIGFzIFZlcnRleCBBSSBwYXRoIGRvZXMgbm90IGhhbmRsZSBJbmxpbmVkUmVxdWVzdFtdXG4gICAgICBwYXJhbXMuY29uZmlnID0gdGhpcy5mb3JtYXREZXN0aW5hdGlvbihcbiAgICAgICAgcGFyYW1zLnNyYyBhcyBzdHJpbmcgfCB0eXBlcy5CYXRjaEpvYlNvdXJjZSxcbiAgICAgICAgcGFyYW1zLmNvbmZpZyxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNyZWF0ZUludGVybmFsKHBhcmFtcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqICoqRXhwZXJpbWVudGFsKiogQ3JlYXRlcyBhbiBlbWJlZGRpbmcgYmF0Y2ggam9iLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIGNyZWF0ZSBlbWJlZGRpbmcgYmF0Y2ggam9iIHJlcXVlc3QuXG4gICAqIEByZXR1cm4gVGhlIGNyZWF0ZWQgYmF0Y2ggam9iLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFpLmJhdGNoZXMuY3JlYXRlRW1iZWRkaW5ncyh7XG4gICAqICAgbW9kZWw6ICd0ZXh0LWVtYmVkZGluZy0wMDQnLFxuICAgKiAgIHNyYzoge2ZpbGVOYW1lOiAnZmlsZXMvbXlfZW1iZWRkaW5nX2lucHV0J30sXG4gICAqIH0pO1xuICAgKiBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAqIGBgYFxuICAgKi9cbiAgY3JlYXRlRW1iZWRkaW5ncyA9IGFzeW5jIChcbiAgICBwYXJhbXM6IHR5cGVzLkNyZWF0ZUVtYmVkZGluZ3NCYXRjaEpvYlBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuQmF0Y2hKb2I+ID0+IHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICAnYmF0Y2hlcy5jcmVhdGVFbWJlZGRpbmdzKCkgaXMgZXhwZXJpbWVudGFsIGFuZCBtYXkgY2hhbmdlIHdpdGhvdXQgbm90aWNlLicsXG4gICAgKTtcblxuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVmVydGV4IEFJIGRvZXMgbm90IHN1cHBvcnQgYmF0Y2hlcy5jcmVhdGVFbWJlZGRpbmdzLicpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNyZWF0ZUVtYmVkZGluZ3NJbnRlcm5hbChwYXJhbXMpO1xuICB9O1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBoYW5kbGUgaW5saW5lZCBnZW5lcmF0ZSBjb250ZW50IHJlcXVlc3RzXG4gIHByaXZhdGUgY3JlYXRlSW5saW5lZEdlbmVyYXRlQ29udGVudFJlcXVlc3QoXG4gICAgcGFyYW1zOiB0eXBlcy5DcmVhdGVCYXRjaEpvYlBhcmFtZXRlcnMsXG4gICk6IHtwYXRoOiBzdHJpbmc7IGJvZHk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+fSB7XG4gICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuY3JlYXRlQmF0Y2hKb2JQYXJhbWV0ZXJzVG9NbGRldihcbiAgICAgIHRoaXMuYXBpQ2xpZW50LCAvLyBVc2UgaW5zdGFuY2UgYXBpQ2xpZW50XG4gICAgICBwYXJhbXMsXG4gICAgKTtcblxuICAgIGNvbnN0IHVybFBhcmFtcyA9IGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICBjb25zdCBwYXRoID0gY29tbW9uLmZvcm1hdE1hcCgne21vZGVsfTpiYXRjaEdlbmVyYXRlQ29udGVudCcsIHVybFBhcmFtcyk7XG5cbiAgICBjb25zdCBiYXRjaCA9IGJvZHlbJ2JhdGNoJ10gYXMge1trZXk6IHN0cmluZ106IHVua25vd259O1xuICAgIGNvbnN0IGlucHV0Q29uZmlnID0gYmF0Y2hbJ2lucHV0Q29uZmlnJ10gYXMge1trZXk6IHN0cmluZ106IHVua25vd259O1xuICAgIGNvbnN0IHJlcXVlc3RzV3JhcHBlciA9IGlucHV0Q29uZmlnWydyZXF1ZXN0cyddIGFzIHtcbiAgICAgIFtrZXk6IHN0cmluZ106IHVua25vd247XG4gICAgfTtcbiAgICBjb25zdCByZXF1ZXN0cyA9IHJlcXVlc3RzV3JhcHBlclsncmVxdWVzdHMnXSBhcyBBcnJheTx7XG4gICAgICBba2V5OiBzdHJpbmddOiB1bmtub3duO1xuICAgIH0+O1xuICAgIGNvbnN0IG5ld1JlcXVlc3RzID0gW107XG5cbiAgICBmb3IgKGNvbnN0IHJlcXVlc3Qgb2YgcmVxdWVzdHMpIHtcbiAgICAgIGNvbnN0IHJlcXVlc3REaWN0ID0gey4uLnJlcXVlc3R9OyAvLyBDbG9uZVxuICAgICAgaWYgKHJlcXVlc3REaWN0WydzeXN0ZW1JbnN0cnVjdGlvbiddKSB7XG4gICAgICAgIGNvbnN0IHN5c3RlbUluc3RydWN0aW9uVmFsdWUgPSByZXF1ZXN0RGljdFsnc3lzdGVtSW5zdHJ1Y3Rpb24nXTtcbiAgICAgICAgZGVsZXRlIHJlcXVlc3REaWN0WydzeXN0ZW1JbnN0cnVjdGlvbiddO1xuICAgICAgICBjb25zdCByZXF1ZXN0Q29udGVudCA9IHJlcXVlc3REaWN0WydyZXF1ZXN0J10gYXMge1xuICAgICAgICAgIFtrZXk6IHN0cmluZ106IHVua25vd247XG4gICAgICAgIH07XG4gICAgICAgIHJlcXVlc3RDb250ZW50WydzeXN0ZW1JbnN0cnVjdGlvbiddID0gc3lzdGVtSW5zdHJ1Y3Rpb25WYWx1ZTtcbiAgICAgICAgcmVxdWVzdERpY3RbJ3JlcXVlc3QnXSA9IHJlcXVlc3RDb250ZW50O1xuICAgICAgfVxuICAgICAgbmV3UmVxdWVzdHMucHVzaChyZXF1ZXN0RGljdCk7XG4gICAgfVxuICAgIHJlcXVlc3RzV3JhcHBlclsncmVxdWVzdHMnXSA9IG5ld1JlcXVlc3RzO1xuXG4gICAgZGVsZXRlIGJvZHlbJ2NvbmZpZyddO1xuICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgcmV0dXJuIHtwYXRoLCBib2R5fTtcbiAgfVxuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgdGhlIGZpcnN0IEdDUyBVUklcbiAgcHJpdmF0ZSBnZXRHY3NVcmkoc3JjOiBzdHJpbmcgfCB0eXBlcy5CYXRjaEpvYlNvdXJjZSk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHR5cGVvZiBzcmMgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gc3JjLnN0YXJ0c1dpdGgoJ2dzOi8vJykgPyBzcmMgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheShzcmMpICYmIHNyYy5nY3NVcmkgJiYgc3JjLmdjc1VyaS5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gc3JjLmdjc1VyaVswXTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgdGhlIEJpZ1F1ZXJ5IFVSSVxuICBwcml2YXRlIGdldEJpZ3F1ZXJ5VXJpKFxuICAgIHNyYzogc3RyaW5nIHwgdHlwZXMuQmF0Y2hKb2JTb3VyY2UsXG4gICk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHR5cGVvZiBzcmMgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gc3JjLnN0YXJ0c1dpdGgoJ2JxOi8vJykgPyBzcmMgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheShzcmMpKSB7XG4gICAgICByZXR1cm4gc3JjLmJpZ3F1ZXJ5VXJpO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLy8gRnVuY3Rpb24gdG8gZm9ybWF0IHRoZSBkZXN0aW5hdGlvbiBjb25maWd1cmF0aW9uIGZvciBWZXJ0ZXggQUlcbiAgcHJpdmF0ZSBmb3JtYXREZXN0aW5hdGlvbihcbiAgICBzcmM6IHN0cmluZyB8IHR5cGVzLkJhdGNoSm9iU291cmNlLFxuICAgIGNvbmZpZz86IHR5cGVzLkNyZWF0ZUJhdGNoSm9iQ29uZmlnLFxuICApOiB0eXBlcy5DcmVhdGVCYXRjaEpvYkNvbmZpZyB7XG4gICAgY29uc3QgbmV3Q29uZmlnID0gY29uZmlnID8gey4uLmNvbmZpZ30gOiB7fTtcblxuICAgIGNvbnN0IHRpbWVzdGFtcFN0ciA9IERhdGUubm93KCkudG9TdHJpbmcoKTtcblxuICAgIGlmICghbmV3Q29uZmlnLmRpc3BsYXlOYW1lKSB7XG4gICAgICBuZXdDb25maWcuZGlzcGxheU5hbWUgPSBgZ2VuYWlCYXRjaEpvYl8ke3RpbWVzdGFtcFN0cn1gO1xuICAgIH1cblxuICAgIGlmIChuZXdDb25maWcuZGVzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBnY3NVcmkgPSB0aGlzLmdldEdjc1VyaShzcmMpO1xuICAgICAgY29uc3QgYmlncXVlcnlVcmkgPSB0aGlzLmdldEJpZ3F1ZXJ5VXJpKHNyYyk7XG5cbiAgICAgIGlmIChnY3NVcmkpIHtcbiAgICAgICAgaWYgKGdjc1VyaS5lbmRzV2l0aCgnLmpzb25sJykpIHtcbiAgICAgICAgICAvLyBGb3IgLmpzb25sIGZpbGVzLCByZW1vdmUgc3VmZml4IGFuZCBhZGQgL2Rlc3RcbiAgICAgICAgICBuZXdDb25maWcuZGVzdCA9IGAke2djc1VyaS5zbGljZSgwLCAtNil9L2Rlc3RgO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEZhbGxiYWNrIGZvciBvdGhlciBHQ1MgVVJJc1xuICAgICAgICAgIG5ld0NvbmZpZy5kZXN0ID0gYCR7Z2NzVXJpfV9kZXN0XyR7dGltZXN0YW1wU3RyfWA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYmlncXVlcnlVcmkpIHtcbiAgICAgICAgbmV3Q29uZmlnLmRlc3QgPSBgJHtiaWdxdWVyeVVyaX1fZGVzdF8ke3RpbWVzdGFtcFN0cn1gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdVbnN1cHBvcnRlZCBzb3VyY2UgZm9yIFZlcnRleCBBSTogTm8gR0NTIG9yIEJpZ1F1ZXJ5IFVSSSBmb3VuZC4nLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3Q29uZmlnO1xuICB9XG5cbiAgLyoqXG4gICAqIEludGVybmFsIG1ldGhvZCB0byBjcmVhdGUgYmF0Y2ggam9iLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIGNyZWF0ZSBiYXRjaCBqb2IgcmVxdWVzdC5cbiAgICogQHJldHVybiBUaGUgY3JlYXRlZCBiYXRjaCBqb2IuXG4gICAqXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGNyZWF0ZUludGVybmFsKFxuICAgIHBhcmFtczogdHlwZXMuQ3JlYXRlQmF0Y2hKb2JQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkJhdGNoSm9iPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkJhdGNoSm9iPjtcblxuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5jcmVhdGVCYXRjaEpvYlBhcmFtZXRlcnNUb1ZlcnRleChcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ2JhdGNoUHJlZGljdGlvbkpvYnMnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5CYXRjaEpvYj47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5iYXRjaEpvYkZyb21WZXJ0ZXgoYXBpUmVzcG9uc2UpO1xuXG4gICAgICAgIHJldHVybiByZXNwIGFzIHR5cGVzLkJhdGNoSm9iO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmNyZWF0ZUJhdGNoSm9iUGFyYW1ldGVyc1RvTWxkZXYoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bW9kZWx9OmJhdGNoR2VuZXJhdGVDb250ZW50JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuQmF0Y2hKb2I+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuYmF0Y2hKb2JGcm9tTWxkZXYoYXBpUmVzcG9uc2UpO1xuXG4gICAgICAgIHJldHVybiByZXNwIGFzIHR5cGVzLkJhdGNoSm9iO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEludGVybmFsIG1ldGhvZCB0byBjcmVhdGUgYmF0Y2ggam9iLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIGNyZWF0ZSBiYXRjaCBqb2IgcmVxdWVzdC5cbiAgICogQHJldHVybiBUaGUgY3JlYXRlZCBiYXRjaCBqb2IuXG4gICAqXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGNyZWF0ZUVtYmVkZGluZ3NJbnRlcm5hbChcbiAgICBwYXJhbXM6IHR5cGVzLkNyZWF0ZUVtYmVkZGluZ3NCYXRjaEpvYlBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuQmF0Y2hKb2I+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuQmF0Y2hKb2I+O1xuXG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoaXMgbWV0aG9kIGlzIG9ubHkgc3VwcG9ydGVkIGJ5IHRoZSBHZW1pbmkgRGV2ZWxvcGVyIEFQSS4nLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuY3JlYXRlRW1iZWRkaW5nc0JhdGNoSm9iUGFyYW1ldGVyc1RvTWxkZXYoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bW9kZWx9OmFzeW5jQmF0Y2hFbWJlZENvbnRlbnQnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5CYXRjaEpvYj47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5iYXRjaEpvYkZyb21NbGRldihhcGlSZXNwb25zZSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3AgYXMgdHlwZXMuQmF0Y2hKb2I7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBiYXRjaCBqb2IgY29uZmlndXJhdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgdGhlIGdldCByZXF1ZXN0LlxuICAgKiBAcmV0dXJuIFRoZSBiYXRjaCBqb2IuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGF3YWl0IGFpLmJhdGNoZXMuZ2V0KHtuYW1lOiAnLi4uJ30pOyAvLyBUaGUgc2VydmVyLWdlbmVyYXRlZCByZXNvdXJjZSBuYW1lLlxuICAgKiBgYGBcbiAgICovXG4gIGFzeW5jIGdldChwYXJhbXM6IHR5cGVzLkdldEJhdGNoSm9iUGFyYW1ldGVycyk6IFByb21pc2U8dHlwZXMuQmF0Y2hKb2I+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuQmF0Y2hKb2I+O1xuXG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmdldEJhdGNoSm9iUGFyYW1ldGVyc1RvVmVydGV4KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAnYmF0Y2hQcmVkaWN0aW9uSm9icy97bmFtZX0nLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkJhdGNoSm9iPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmJhdGNoSm9iRnJvbVZlcnRleChhcGlSZXNwb25zZSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3AgYXMgdHlwZXMuQmF0Y2hKb2I7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuZ2V0QmF0Y2hKb2JQYXJhbWV0ZXJzVG9NbGRldihcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ2JhdGNoZXMve25hbWV9JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5CYXRjaEpvYj47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5iYXRjaEpvYkZyb21NbGRldihhcGlSZXNwb25zZSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3AgYXMgdHlwZXMuQmF0Y2hKb2I7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VscyBhIGJhdGNoIGpvYi5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgY2FuY2VsIHJlcXVlc3QuXG4gICAqIEByZXR1cm4gVGhlIGVtcHR5IHJlc3BvbnNlIHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGF3YWl0IGFpLmJhdGNoZXMuY2FuY2VsKHtuYW1lOiAnLi4uJ30pOyAvLyBUaGUgc2VydmVyLWdlbmVyYXRlZCByZXNvdXJjZSBuYW1lLlxuICAgKiBgYGBcbiAgICovXG4gIGFzeW5jIGNhbmNlbChwYXJhbXM6IHR5cGVzLkNhbmNlbEJhdGNoSm9iUGFyYW1ldGVycyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5jYW5jZWxCYXRjaEpvYlBhcmFtZXRlcnNUb1ZlcnRleChcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ2JhdGNoUHJlZGljdGlvbkpvYnMve25hbWV9OmNhbmNlbCcsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICBhd2FpdCB0aGlzLmFwaUNsaWVudC5yZXF1ZXN0KHtcbiAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5jYW5jZWxCYXRjaEpvYlBhcmFtZXRlcnNUb01sZGV2KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAnYmF0Y2hlcy97bmFtZX06Y2FuY2VsJyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIGF3YWl0IHRoaXMuYXBpQ2xpZW50LnJlcXVlc3Qoe1xuICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICBodHRwTWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBsaXN0SW50ZXJuYWwoXG4gICAgcGFyYW1zOiB0eXBlcy5MaXN0QmF0Y2hKb2JzUGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5MaXN0QmF0Y2hKb2JzUmVzcG9uc2U+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuTGlzdEJhdGNoSm9ic1Jlc3BvbnNlPjtcblxuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5saXN0QmF0Y2hKb2JzUGFyYW1ldGVyc1RvVmVydGV4KHBhcmFtcyk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ2JhdGNoUHJlZGljdGlvbkpvYnMnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpLnRoZW4oKGpzb25SZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBqc29uUmVzcG9uc2UgYXMgdHlwZXMuTGlzdEJhdGNoSm9ic1Jlc3BvbnNlO1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2RrSHR0cFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICBoZWFkZXJzOiBodHRwUmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICAgIH0gYXMgdHlwZXMuSHR0cFJlc3BvbnNlO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkxpc3RCYXRjaEpvYnNSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5saXN0QmF0Y2hKb2JzUmVzcG9uc2VGcm9tVmVydGV4KGFwaVJlc3BvbnNlKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkxpc3RCYXRjaEpvYnNSZXNwb25zZSgpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHR5cGVkUmVzcCwgcmVzcCk7XG4gICAgICAgIHJldHVybiB0eXBlZFJlc3A7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMubGlzdEJhdGNoSm9ic1BhcmFtZXRlcnNUb01sZGV2KHBhcmFtcyk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ2JhdGNoZXMnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpLnRoZW4oKGpzb25SZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBqc29uUmVzcG9uc2UgYXMgdHlwZXMuTGlzdEJhdGNoSm9ic1Jlc3BvbnNlO1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2RrSHR0cFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICBoZWFkZXJzOiBodHRwUmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICAgIH0gYXMgdHlwZXMuSHR0cFJlc3BvbnNlO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkxpc3RCYXRjaEpvYnNSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5saXN0QmF0Y2hKb2JzUmVzcG9uc2VGcm9tTWxkZXYoYXBpUmVzcG9uc2UpO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuTGlzdEJhdGNoSm9ic1Jlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGVzIGEgYmF0Y2ggam9iLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIHRoZSBkZWxldGUgcmVxdWVzdC5cbiAgICogQHJldHVybiBUaGUgZW1wdHkgcmVzcG9uc2UgcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogYXdhaXQgYWkuYmF0Y2hlcy5kZWxldGUoe25hbWU6ICcuLi4nfSk7IC8vIFRoZSBzZXJ2ZXItZ2VuZXJhdGVkIHJlc291cmNlIG5hbWUuXG4gICAqIGBgYFxuICAgKi9cbiAgYXN5bmMgZGVsZXRlKFxuICAgIHBhcmFtczogdHlwZXMuRGVsZXRlQmF0Y2hKb2JQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkRlbGV0ZVJlc291cmNlSm9iPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkRlbGV0ZVJlc291cmNlSm9iPjtcblxuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5kZWxldGVCYXRjaEpvYlBhcmFtZXRlcnNUb1ZlcnRleChcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ2JhdGNoUHJlZGljdGlvbkpvYnMve25hbWV9JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKS50aGVuKChqc29uUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ganNvblJlc3BvbnNlIGFzIHR5cGVzLkRlbGV0ZVJlc291cmNlSm9iO1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2RrSHR0cFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICBoZWFkZXJzOiBodHRwUmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICAgIH0gYXMgdHlwZXMuSHR0cFJlc3BvbnNlO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkRlbGV0ZVJlc291cmNlSm9iPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmRlbGV0ZVJlc291cmNlSm9iRnJvbVZlcnRleChhcGlSZXNwb25zZSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3AgYXMgdHlwZXMuRGVsZXRlUmVzb3VyY2VKb2I7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuZGVsZXRlQmF0Y2hKb2JQYXJhbWV0ZXJzVG9NbGRldihcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ2JhdGNoZXMve25hbWV9JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKS50aGVuKChqc29uUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ganNvblJlc3BvbnNlIGFzIHR5cGVzLkRlbGV0ZVJlc291cmNlSm9iO1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2RrSHR0cFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICBoZWFkZXJzOiBodHRwUmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICAgIH0gYXMgdHlwZXMuSHR0cFJlc3BvbnNlO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkRlbGV0ZVJlc291cmNlSm9iPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmRlbGV0ZVJlc291cmNlSm9iRnJvbU1sZGV2KGFwaVJlc3BvbnNlKTtcblxuICAgICAgICByZXR1cm4gcmVzcCBhcyB0eXBlcy5EZWxldGVSZXNvdXJjZUpvYjtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gQ29kZSBnZW5lcmF0ZWQgYnkgdGhlIEdvb2dsZSBHZW4gQUkgU0RLIGdlbmVyYXRvciBETyBOT1QgRURJVC5cblxuaW1wb3J0IHtBcGlDbGllbnR9IGZyb20gJy4uL19hcGlfY2xpZW50LmpzJztcbmltcG9ydCAqIGFzIGNvbW1vbiBmcm9tICcuLi9fY29tbW9uLmpzJztcbmltcG9ydCAqIGFzIHQgZnJvbSAnLi4vX3RyYW5zZm9ybWVycy5qcyc7XG5pbXBvcnQgdHlwZSAqIGFzIHR5cGVzIGZyb20gJy4uL3R5cGVzLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGJsb2JUb01sZGV2KGZyb21PYmplY3Q6IHR5cGVzLkJsb2IpOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21EYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGF0YSddKTtcbiAgaWYgKGZyb21EYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGF0YSddLCBmcm9tRGF0YSk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGlzcGxheU5hbWUnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignZGlzcGxheU5hbWUgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbWVUeXBlJ10pO1xuICBpZiAoZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWltZVR5cGUnXSwgZnJvbU1pbWVUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRlbnRUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Db250ZW50LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tUGFydHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYXJ0cyddKTtcbiAgaWYgKGZyb21QYXJ0cyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IGZyb21QYXJ0cztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBwYXJ0VG9NbGRldihpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncGFydHMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Sb2xlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncm9sZSddKTtcbiAgaWYgKGZyb21Sb2xlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncm9sZSddLCBmcm9tUm9sZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDYWNoZWRDb250ZW50Q29uZmlnVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuQ3JlYXRlQ2FjaGVkQ29udGVudENvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVR0bCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3R0bCddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21UdGwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsndHRsJ10sIGZyb21UdGwpO1xuICB9XG5cbiAgY29uc3QgZnJvbUV4cGlyZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydleHBpcmVUaW1lJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUV4cGlyZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnZXhwaXJlVGltZSddLCBmcm9tRXhwaXJlVGltZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRGlzcGxheU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkaXNwbGF5TmFtZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21EaXNwbGF5TmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydkaXNwbGF5TmFtZSddLCBmcm9tRGlzcGxheU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbnRlbnRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29udGVudHMnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tQ29udGVudHMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSB0LnRDb250ZW50cyhmcm9tQ29udGVudHMpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnRUb01sZGV2KGl0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnY29udGVudHMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TeXN0ZW1JbnN0cnVjdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3N5c3RlbUluc3RydWN0aW9uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc3lzdGVtSW5zdHJ1Y3Rpb24nXSxcbiAgICAgIGNvbnRlbnRUb01sZGV2KHQudENvbnRlbnQoZnJvbVN5c3RlbUluc3RydWN0aW9uKSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub29scyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rvb2xzJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRvb2xzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbVRvb2xzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2xUb01sZGV2KGl0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsndG9vbHMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub29sQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9vbENvbmZpZyddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21Ub29sQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3Rvb2xDb25maWcnXSxcbiAgICAgIHRvb2xDb25maWdUb01sZGV2KGZyb21Ub29sQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ttc0tleU5hbWUnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigna21zS2V5TmFtZSBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2FjaGVkQ29udGVudENvbmZpZ1RvVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5DcmVhdGVDYWNoZWRDb250ZW50Q29uZmlnLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVHRsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndHRsJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVR0bCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWyd0dGwnXSwgZnJvbVR0bCk7XG4gIH1cblxuICBjb25zdCBmcm9tRXhwaXJlVGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2V4cGlyZVRpbWUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tRXhwaXJlVGltZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydleHBpcmVUaW1lJ10sIGZyb21FeHBpcmVUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EaXNwbGF5TmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbURpc3BsYXlOYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10sIGZyb21EaXNwbGF5TmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29udGVudHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb250ZW50cyddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21Db250ZW50cyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IHQudENvbnRlbnRzKGZyb21Db250ZW50cyk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ2NvbnRlbnRzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICBjb25zdCBmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzeXN0ZW1JbnN0cnVjdGlvbicsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVN5c3RlbUluc3RydWN0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3N5c3RlbUluc3RydWN0aW9uJ10sXG4gICAgICB0LnRDb250ZW50KGZyb21TeXN0ZW1JbnN0cnVjdGlvbiksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub29scyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rvb2xzJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRvb2xzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbVRvb2xzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2xUb1ZlcnRleChpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ3Rvb2xzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9vbENvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rvb2xDb25maWcnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVG9vbENvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWyd0b29sQ29uZmlnJ10sIGZyb21Ub29sQ29uZmlnKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21LbXNLZXlOYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsna21zS2V5TmFtZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21LbXNLZXlOYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ2VuY3J5cHRpb25fc3BlYycsICdrbXNLZXlOYW1lJ10sXG4gICAgICBmcm9tS21zS2V5TmFtZSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnNUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ3JlYXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnbW9kZWwnXSxcbiAgICAgIHQudENhY2hlc01vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNyZWF0ZUNhY2hlZENvbnRlbnRDb25maWdUb01sZGV2KGZyb21Db25maWcsIHRvT2JqZWN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5DcmVhdGVDYWNoZWRDb250ZW50UGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydtb2RlbCddLFxuICAgICAgdC50Q2FjaGVzTW9kZWwoYXBpQ2xpZW50LCBmcm9tTW9kZWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY3JlYXRlQ2FjaGVkQ29udGVudENvbmZpZ1RvVmVydGV4KGZyb21Db25maWcsIHRvT2JqZWN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkRlbGV0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbmFtZSddLFxuICAgICAgdC50Q2FjaGVkQ29udGVudE5hbWUoYXBpQ2xpZW50LCBmcm9tTmFtZSksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5EZWxldGVDYWNoZWRDb250ZW50UGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ25hbWUnXSxcbiAgICAgIHQudENhY2hlZENvbnRlbnROYW1lKGFwaUNsaWVudCwgZnJvbU5hbWUpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVDYWNoZWRDb250ZW50UmVzcG9uc2VGcm9tTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkRlbGV0ZUNhY2hlZENvbnRlbnRSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVNka0h0dHBSZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Nka0h0dHBSZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbVNka0h0dHBSZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Nka0h0dHBSZXNwb25zZSddLCBmcm9tU2RrSHR0cFJlc3BvbnNlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUNhY2hlZENvbnRlbnRSZXNwb25zZUZyb21WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkRlbGV0ZUNhY2hlZENvbnRlbnRSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVNka0h0dHBSZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Nka0h0dHBSZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbVNka0h0dHBSZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Nka0h0dHBSZXNwb25zZSddLCBmcm9tU2RrSHR0cFJlc3BvbnNlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbGVEYXRhVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuRmlsZURhdGEsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkaXNwbGF5TmFtZSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdkaXNwbGF5TmFtZSBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZpbGVVcmkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmaWxlVXJpJ10pO1xuICBpZiAoZnJvbUZpbGVVcmkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmaWxlVXJpJ10sIGZyb21GaWxlVXJpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbWVUeXBlJ10pO1xuICBpZiAoZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWltZVR5cGUnXSwgZnJvbU1pbWVUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZ1bmN0aW9uQ2FsbFRvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkZ1bmN0aW9uQ2FsbCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUlkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaWQnXSk7XG4gIGlmIChmcm9tSWQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpZCddLCBmcm9tSWQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUFyZ3MgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhcmdzJ10pO1xuICBpZiAoZnJvbUFyZ3MgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydhcmdzJ10sIGZyb21BcmdzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFydGlhbEFyZ3MnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncGFydGlhbEFyZ3MgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd3aWxsQ29udGludWUnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignd2lsbENvbnRpbnVlIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmdW5jdGlvbkNhbGxpbmdDb25maWdUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5GdW5jdGlvbkNhbGxpbmdDb25maWcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZSddKTtcbiAgaWYgKGZyb21Nb2RlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbW9kZSddLCBmcm9tTW9kZSk7XG4gIH1cblxuICBjb25zdCBmcm9tQWxsb3dlZEZ1bmN0aW9uTmFtZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdhbGxvd2VkRnVuY3Rpb25OYW1lcycsXG4gIF0pO1xuICBpZiAoZnJvbUFsbG93ZWRGdW5jdGlvbk5hbWVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnYWxsb3dlZEZ1bmN0aW9uTmFtZXMnXSxcbiAgICAgIGZyb21BbGxvd2VkRnVuY3Rpb25OYW1lcyxcbiAgICApO1xuICB9XG5cbiAgaWYgKFxuICAgIGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3N0cmVhbUZ1bmN0aW9uQ2FsbEFyZ3VtZW50cyddKSAhPT1cbiAgICB1bmRlZmluZWRcbiAgKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ3N0cmVhbUZ1bmN0aW9uQ2FsbEFyZ3VtZW50cyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZ1bmN0aW9uRGVjbGFyYXRpb25Ub1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuRnVuY3Rpb25EZWNsYXJhdGlvbixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2JlaGF2aW9yJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2JlaGF2aW9yIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIFZlcnRleCBBSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EZXNjcmlwdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rlc2NyaXB0aW9uJ10pO1xuICBpZiAoZnJvbURlc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGVzY3JpcHRpb24nXSwgZnJvbURlc2NyaXB0aW9uKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUGFyYW1ldGVycyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhcmFtZXRlcnMnXSk7XG4gIGlmIChmcm9tUGFyYW1ldGVycyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3BhcmFtZXRlcnMnXSwgZnJvbVBhcmFtZXRlcnMpO1xuICB9XG5cbiAgY29uc3QgZnJvbVBhcmFtZXRlcnNKc29uU2NoZW1hID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncGFyYW1ldGVyc0pzb25TY2hlbWEnLFxuICBdKTtcbiAgaWYgKGZyb21QYXJhbWV0ZXJzSnNvblNjaGVtYSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnNKc29uU2NoZW1hJ10sXG4gICAgICBmcm9tUGFyYW1ldGVyc0pzb25TY2hlbWEsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Jlc3BvbnNlJ10pO1xuICBpZiAoZnJvbVJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmVzcG9uc2UnXSwgZnJvbVJlc3BvbnNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZUpzb25TY2hlbWEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZUpzb25TY2hlbWEnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZUpzb25TY2hlbWEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXNwb25zZUpzb25TY2hlbWEnXSxcbiAgICAgIGZyb21SZXNwb25zZUpzb25TY2hlbWEsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdldENhY2hlZENvbnRlbnRQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbmFtZSddLFxuICAgICAgdC50Q2FjaGVkQ29udGVudE5hbWUoYXBpQ2xpZW50LCBmcm9tTmFtZSksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZXRDYWNoZWRDb250ZW50UGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ25hbWUnXSxcbiAgICAgIHQudENhY2hlZENvbnRlbnROYW1lKGFwaUNsaWVudCwgZnJvbU5hbWUpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnb29nbGVNYXBzVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuR29vZ2xlTWFwcyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2F1dGhDb25maWcnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignYXV0aENvbmZpZyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbUVuYWJsZVdpZGdldCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2VuYWJsZVdpZGdldCddKTtcbiAgaWYgKGZyb21FbmFibGVXaWRnZXQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydlbmFibGVXaWRnZXQnXSwgZnJvbUVuYWJsZVdpZGdldCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnb29nbGVTZWFyY2hUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Hb29nbGVTZWFyY2gsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydleGNsdWRlRG9tYWlucyddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdleGNsdWRlRG9tYWlucyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Jsb2NraW5nQ29uZmlkZW5jZSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ2Jsb2NraW5nQ29uZmlkZW5jZSBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaW1lUmFuZ2VGaWx0ZXIgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0aW1lUmFuZ2VGaWx0ZXInLFxuICBdKTtcbiAgaWYgKGZyb21UaW1lUmFuZ2VGaWx0ZXIgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aW1lUmFuZ2VGaWx0ZXInXSwgZnJvbVRpbWVSYW5nZUZpbHRlcik7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0Q2FjaGVkQ29udGVudHNDb25maWdUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXN0Q2FjaGVkQ29udGVudHNDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21QYWdlU2l6ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhZ2VTaXplJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVBhZ2VTaXplICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ19xdWVyeScsICdwYWdlU2l6ZSddLCBmcm9tUGFnZVNpemUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVBhZ2VUb2tlbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhZ2VUb2tlbiddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21QYWdlVG9rZW4gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnX3F1ZXJ5JywgJ3BhZ2VUb2tlbiddLCBmcm9tUGFnZVRva2VuKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RDYWNoZWRDb250ZW50c0NvbmZpZ1RvVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXN0Q2FjaGVkQ29udGVudHNDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21QYWdlU2l6ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhZ2VTaXplJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVBhZ2VTaXplICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ19xdWVyeScsICdwYWdlU2l6ZSddLCBmcm9tUGFnZVNpemUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVBhZ2VUb2tlbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhZ2VUb2tlbiddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21QYWdlVG9rZW4gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnX3F1ZXJ5JywgJ3BhZ2VUb2tlbiddLCBmcm9tUGFnZVRva2VuKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RDYWNoZWRDb250ZW50c1BhcmFtZXRlcnNUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXN0Q2FjaGVkQ29udGVudHNQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgbGlzdENhY2hlZENvbnRlbnRzQ29uZmlnVG9NbGRldihmcm9tQ29uZmlnLCB0b09iamVjdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0Q2FjaGVkQ29udGVudHNQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpc3RDYWNoZWRDb250ZW50c1BhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBsaXN0Q2FjaGVkQ29udGVudHNDb25maWdUb1ZlcnRleChmcm9tQ29uZmlnLCB0b09iamVjdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0Q2FjaGVkQ29udGVudHNSZXNwb25zZUZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuTGlzdENhY2hlZENvbnRlbnRzUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21TZGtIdHRwUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZGtIdHRwUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21TZGtIdHRwUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzZGtIdHRwUmVzcG9uc2UnXSwgZnJvbVNka0h0dHBSZXNwb25zZSk7XG4gIH1cblxuICBjb25zdCBmcm9tTmV4dFBhZ2VUb2tlbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ25leHRQYWdlVG9rZW4nLFxuICBdKTtcbiAgaWYgKGZyb21OZXh0UGFnZVRva2VuICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmV4dFBhZ2VUb2tlbiddLCBmcm9tTmV4dFBhZ2VUb2tlbik7XG4gIH1cblxuICBjb25zdCBmcm9tQ2FjaGVkQ29udGVudHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjYWNoZWRDb250ZW50cycsXG4gIF0pO1xuICBpZiAoZnJvbUNhY2hlZENvbnRlbnRzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbUNhY2hlZENvbnRlbnRzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NhY2hlZENvbnRlbnRzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0Q2FjaGVkQ29udGVudHNSZXNwb25zZUZyb21WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpc3RDYWNoZWRDb250ZW50c1Jlc3BvbnNlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tU2RrSHR0cFJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2RrSHR0cFJlc3BvbnNlJyxcbiAgXSk7XG4gIGlmIChmcm9tU2RrSHR0cFJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2RrSHR0cFJlc3BvbnNlJ10sIGZyb21TZGtIdHRwUmVzcG9uc2UpO1xuICB9XG5cbiAgY29uc3QgZnJvbU5leHRQYWdlVG9rZW4gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICduZXh0UGFnZVRva2VuJyxcbiAgXSk7XG4gIGlmIChmcm9tTmV4dFBhZ2VUb2tlbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25leHRQYWdlVG9rZW4nXSwgZnJvbU5leHRQYWdlVG9rZW4pO1xuICB9XG5cbiAgY29uc3QgZnJvbUNhY2hlZENvbnRlbnRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY2FjaGVkQ29udGVudHMnLFxuICBdKTtcbiAgaWYgKGZyb21DYWNoZWRDb250ZW50cyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IGZyb21DYWNoZWRDb250ZW50cztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjYWNoZWRDb250ZW50cyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFydFRvTWxkZXYoZnJvbU9iamVjdDogdHlwZXMuUGFydCk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1lZGlhUmVzb2x1dGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ21lZGlhUmVzb2x1dGlvbicsXG4gIF0pO1xuICBpZiAoZnJvbU1lZGlhUmVzb2x1dGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21lZGlhUmVzb2x1dGlvbiddLCBmcm9tTWVkaWFSZXNvbHV0aW9uKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db2RlRXhlY3V0aW9uUmVzdWx0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY29kZUV4ZWN1dGlvblJlc3VsdCcsXG4gIF0pO1xuICBpZiAoZnJvbUNvZGVFeGVjdXRpb25SZXN1bHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb2RlRXhlY3V0aW9uUmVzdWx0J10sXG4gICAgICBmcm9tQ29kZUV4ZWN1dGlvblJlc3VsdCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUV4ZWN1dGFibGVDb2RlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZXhlY3V0YWJsZUNvZGUnLFxuICBdKTtcbiAgaWYgKGZyb21FeGVjdXRhYmxlQ29kZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2V4ZWN1dGFibGVDb2RlJ10sIGZyb21FeGVjdXRhYmxlQ29kZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRmlsZURhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmaWxlRGF0YSddKTtcbiAgaWYgKGZyb21GaWxlRGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2ZpbGVEYXRhJ10sXG4gICAgICBmaWxlRGF0YVRvTWxkZXYoZnJvbUZpbGVEYXRhKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uQ2FsbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Z1bmN0aW9uQ2FsbCddKTtcbiAgaWYgKGZyb21GdW5jdGlvbkNhbGwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydmdW5jdGlvbkNhbGwnXSxcbiAgICAgIGZ1bmN0aW9uQ2FsbFRvTWxkZXYoZnJvbUZ1bmN0aW9uQ2FsbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GdW5jdGlvblJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZnVuY3Rpb25SZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbUZ1bmN0aW9uUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmdW5jdGlvblJlc3BvbnNlJ10sIGZyb21GdW5jdGlvblJlc3BvbnNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbmxpbmVEYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW5saW5lRGF0YSddKTtcbiAgaWYgKGZyb21JbmxpbmVEYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnaW5saW5lRGF0YSddLFxuICAgICAgYmxvYlRvTWxkZXYoZnJvbUlubGluZURhdGEpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVGV4dCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RleHQnXSk7XG4gIGlmIChmcm9tVGV4dCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RleHQnXSwgZnJvbVRleHQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRob3VnaHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0aG91Z2h0J10pO1xuICBpZiAoZnJvbVRob3VnaHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aG91Z2h0J10sIGZyb21UaG91Z2h0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaG91Z2h0U2lnbmF0dXJlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndGhvdWdodFNpZ25hdHVyZScsXG4gIF0pO1xuICBpZiAoZnJvbVRob3VnaHRTaWduYXR1cmUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aG91Z2h0U2lnbmF0dXJlJ10sIGZyb21UaG91Z2h0U2lnbmF0dXJlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21WaWRlb01ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndmlkZW9NZXRhZGF0YScsXG4gIF0pO1xuICBpZiAoZnJvbVZpZGVvTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd2aWRlb01ldGFkYXRhJ10sIGZyb21WaWRlb01ldGFkYXRhKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvb2xDb25maWdUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Ub29sQ29uZmlnLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRnVuY3Rpb25DYWxsaW5nQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZnVuY3Rpb25DYWxsaW5nQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tRnVuY3Rpb25DYWxsaW5nQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZnVuY3Rpb25DYWxsaW5nQ29uZmlnJ10sXG4gICAgICBmdW5jdGlvbkNhbGxpbmdDb25maWdUb01sZGV2KGZyb21GdW5jdGlvbkNhbGxpbmdDb25maWcpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmV0cmlldmFsQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmV0cmlldmFsQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tUmV0cmlldmFsQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmV0cmlldmFsQ29uZmlnJ10sIGZyb21SZXRyaWV2YWxDb25maWcpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9vbFRvTWxkZXYoZnJvbU9iamVjdDogdHlwZXMuVG9vbCk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZnVuY3Rpb25EZWNsYXJhdGlvbnMnLFxuICBdKTtcbiAgaWYgKGZyb21GdW5jdGlvbkRlY2xhcmF0aW9ucyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IGZyb21GdW5jdGlvbkRlY2xhcmF0aW9ucztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmdW5jdGlvbkRlY2xhcmF0aW9ucyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3JldHJpZXZhbCddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdyZXRyaWV2YWwgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Hb29nbGVTZWFyY2hSZXRyaWV2YWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdnb29nbGVTZWFyY2hSZXRyaWV2YWwnLFxuICBdKTtcbiAgaWYgKGZyb21Hb29nbGVTZWFyY2hSZXRyaWV2YWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydnb29nbGVTZWFyY2hSZXRyaWV2YWwnXSxcbiAgICAgIGZyb21Hb29nbGVTZWFyY2hSZXRyaWV2YWwsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db21wdXRlclVzZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbXB1dGVyVXNlJ10pO1xuICBpZiAoZnJvbUNvbXB1dGVyVXNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29tcHV0ZXJVc2UnXSwgZnJvbUNvbXB1dGVyVXNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GaWxlU2VhcmNoID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZmlsZVNlYXJjaCddKTtcbiAgaWYgKGZyb21GaWxlU2VhcmNoICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZmlsZVNlYXJjaCddLCBmcm9tRmlsZVNlYXJjaCk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29kZUV4ZWN1dGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NvZGVFeGVjdXRpb24nLFxuICBdKTtcbiAgaWYgKGZyb21Db2RlRXhlY3V0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29kZUV4ZWN1dGlvbiddLCBmcm9tQ29kZUV4ZWN1dGlvbik7XG4gIH1cblxuICBpZiAoXG4gICAgY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZW50ZXJwcmlzZVdlYlNlYXJjaCddKSAhPT0gdW5kZWZpbmVkXG4gICkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdlbnRlcnByaXNlV2ViU2VhcmNoIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUdvb2dsZU1hcHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydnb29nbGVNYXBzJ10pO1xuICBpZiAoZnJvbUdvb2dsZU1hcHMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydnb29nbGVNYXBzJ10sXG4gICAgICBnb29nbGVNYXBzVG9NbGRldihmcm9tR29vZ2xlTWFwcyksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Hb29nbGVTZWFyY2ggPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydnb29nbGVTZWFyY2gnXSk7XG4gIGlmIChmcm9tR29vZ2xlU2VhcmNoICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZ29vZ2xlU2VhcmNoJ10sXG4gICAgICBnb29nbGVTZWFyY2hUb01sZGV2KGZyb21Hb29nbGVTZWFyY2gpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVXJsQ29udGV4dCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3VybENvbnRleHQnXSk7XG4gIGlmIChmcm9tVXJsQ29udGV4dCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3VybENvbnRleHQnXSwgZnJvbVVybENvbnRleHQpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9vbFRvVmVydGV4KGZyb21PYmplY3Q6IHR5cGVzLlRvb2wpOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21GdW5jdGlvbkRlY2xhcmF0aW9ucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2Z1bmN0aW9uRGVjbGFyYXRpb25zJyxcbiAgXSk7XG4gIGlmIChmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb25EZWNsYXJhdGlvblRvVmVydGV4KGl0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmdW5jdGlvbkRlY2xhcmF0aW9ucyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJldHJpZXZhbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3JldHJpZXZhbCddKTtcbiAgaWYgKGZyb21SZXRyaWV2YWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyZXRyaWV2YWwnXSwgZnJvbVJldHJpZXZhbCk7XG4gIH1cblxuICBjb25zdCBmcm9tR29vZ2xlU2VhcmNoUmV0cmlldmFsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZ29vZ2xlU2VhcmNoUmV0cmlldmFsJyxcbiAgXSk7XG4gIGlmIChmcm9tR29vZ2xlU2VhcmNoUmV0cmlldmFsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZ29vZ2xlU2VhcmNoUmV0cmlldmFsJ10sXG4gICAgICBmcm9tR29vZ2xlU2VhcmNoUmV0cmlldmFsLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29tcHV0ZXJVc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb21wdXRlclVzZSddKTtcbiAgaWYgKGZyb21Db21wdXRlclVzZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NvbXB1dGVyVXNlJ10sIGZyb21Db21wdXRlclVzZSk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZmlsZVNlYXJjaCddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdmaWxlU2VhcmNoIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIFZlcnRleCBBSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db2RlRXhlY3V0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY29kZUV4ZWN1dGlvbicsXG4gIF0pO1xuICBpZiAoZnJvbUNvZGVFeGVjdXRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjb2RlRXhlY3V0aW9uJ10sIGZyb21Db2RlRXhlY3V0aW9uKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FbnRlcnByaXNlV2ViU2VhcmNoID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZW50ZXJwcmlzZVdlYlNlYXJjaCcsXG4gIF0pO1xuICBpZiAoZnJvbUVudGVycHJpc2VXZWJTZWFyY2ggIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydlbnRlcnByaXNlV2ViU2VhcmNoJ10sXG4gICAgICBmcm9tRW50ZXJwcmlzZVdlYlNlYXJjaCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUdvb2dsZU1hcHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydnb29nbGVNYXBzJ10pO1xuICBpZiAoZnJvbUdvb2dsZU1hcHMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydnb29nbGVNYXBzJ10sIGZyb21Hb29nbGVNYXBzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Hb29nbGVTZWFyY2ggPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydnb29nbGVTZWFyY2gnXSk7XG4gIGlmIChmcm9tR29vZ2xlU2VhcmNoICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZ29vZ2xlU2VhcmNoJ10sIGZyb21Hb29nbGVTZWFyY2gpO1xuICB9XG5cbiAgY29uc3QgZnJvbVVybENvbnRleHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd1cmxDb250ZXh0J10pO1xuICBpZiAoZnJvbVVybENvbnRleHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd1cmxDb250ZXh0J10sIGZyb21VcmxDb250ZXh0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUNhY2hlZENvbnRlbnRDb25maWdUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5VcGRhdGVDYWNoZWRDb250ZW50Q29uZmlnLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVHRsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndHRsJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVR0bCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWyd0dGwnXSwgZnJvbVR0bCk7XG4gIH1cblxuICBjb25zdCBmcm9tRXhwaXJlVGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2V4cGlyZVRpbWUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tRXhwaXJlVGltZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydleHBpcmVUaW1lJ10sIGZyb21FeHBpcmVUaW1lKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUNhY2hlZENvbnRlbnRDb25maWdUb1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuVXBkYXRlQ2FjaGVkQ29udGVudENvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVR0bCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3R0bCddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21UdGwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsndHRsJ10sIGZyb21UdGwpO1xuICB9XG5cbiAgY29uc3QgZnJvbUV4cGlyZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydleHBpcmVUaW1lJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUV4cGlyZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnZXhwaXJlVGltZSddLCBmcm9tRXhwaXJlVGltZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5VcGRhdGVDYWNoZWRDb250ZW50UGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ25hbWUnXSxcbiAgICAgIHQudENhY2hlZENvbnRlbnROYW1lKGFwaUNsaWVudCwgZnJvbU5hbWUpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgdXBkYXRlQ2FjaGVkQ29udGVudENvbmZpZ1RvTWxkZXYoZnJvbUNvbmZpZywgdG9PYmplY3QpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnNUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlVwZGF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbmFtZSddLFxuICAgICAgdC50Q2FjaGVkQ29udGVudE5hbWUoYXBpQ2xpZW50LCBmcm9tTmFtZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICB1cGRhdGVDYWNoZWRDb250ZW50Q29uZmlnVG9WZXJ0ZXgoZnJvbUNvbmZpZywgdG9PYmplY3QpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gQ29kZSBnZW5lcmF0ZWQgYnkgdGhlIEdvb2dsZSBHZW4gQUkgU0RLIGdlbmVyYXRvciBETyBOT1QgRURJVC5cblxuaW1wb3J0IHtBcGlDbGllbnR9IGZyb20gJy4vX2FwaV9jbGllbnQuanMnO1xuaW1wb3J0ICogYXMgY29tbW9uIGZyb20gJy4vX2NvbW1vbi5qcyc7XG5pbXBvcnQge0Jhc2VNb2R1bGV9IGZyb20gJy4vX2NvbW1vbi5qcyc7XG5pbXBvcnQgKiBhcyBjb252ZXJ0ZXJzIGZyb20gJy4vY29udmVydGVycy9fY2FjaGVzX2NvbnZlcnRlcnMuanMnO1xuaW1wb3J0IHtQYWdlZEl0ZW0sIFBhZ2VyfSBmcm9tICcuL3BhZ2Vycy5qcyc7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuL3R5cGVzLmpzJztcblxuZXhwb3J0IGNsYXNzIENhY2hlcyBleHRlbmRzIEJhc2VNb2R1bGUge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGFwaUNsaWVudDogQXBpQ2xpZW50KSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0cyBjYWNoZWQgY29udGVudHMuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgdGhlIGxpc3QgcmVxdWVzdC5cbiAgICogQHJldHVybiAtIEEgcGFnZXIgb2YgY2FjaGVkIGNvbnRlbnRzLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBjYWNoZWRDb250ZW50cyA9IGF3YWl0IGFpLmNhY2hlcy5saXN0KHtjb25maWc6IHsncGFnZVNpemUnOiAyfX0pO1xuICAgKiBmb3IgYXdhaXQgKGNvbnN0IGNhY2hlZENvbnRlbnQgb2YgY2FjaGVkQ29udGVudHMpIHtcbiAgICogICBjb25zb2xlLmxvZyhjYWNoZWRDb250ZW50KTtcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIGxpc3QgPSBhc3luYyAoXG4gICAgcGFyYW1zOiB0eXBlcy5MaXN0Q2FjaGVkQ29udGVudHNQYXJhbWV0ZXJzID0ge30sXG4gICk6IFByb21pc2U8UGFnZXI8dHlwZXMuQ2FjaGVkQ29udGVudD4+ID0+IHtcbiAgICByZXR1cm4gbmV3IFBhZ2VyPHR5cGVzLkNhY2hlZENvbnRlbnQ+KFxuICAgICAgUGFnZWRJdGVtLlBBR0VEX0lURU1fQ0FDSEVEX0NPTlRFTlRTLFxuICAgICAgKHg6IHR5cGVzLkxpc3RDYWNoZWRDb250ZW50c1BhcmFtZXRlcnMpID0+IHRoaXMubGlzdEludGVybmFsKHgpLFxuICAgICAgYXdhaXQgdGhpcy5saXN0SW50ZXJuYWwocGFyYW1zKSxcbiAgICAgIHBhcmFtcyxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY2FjaGVkIGNvbnRlbnRzIHJlc291cmNlLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBDb250ZXh0IGNhY2hpbmcgaXMgb25seSBzdXBwb3J0ZWQgZm9yIHNwZWNpZmljIG1vZGVscy4gU2VlIFtHZW1pbmlcbiAgICogRGV2ZWxvcGVyIEFQSSByZWZlcmVuY2VdKGh0dHBzOi8vYWkuZ29vZ2xlLmRldi9nZW1pbmktYXBpL2RvY3MvY2FjaGluZz9sYW5nPW5vZGUvY29udGV4dC1jYWMpXG4gICAqIGFuZCBbVmVydGV4IEFJIHJlZmVyZW5jZV0oaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL3ZlcnRleC1haS9nZW5lcmF0aXZlLWFpL2RvY3MvY29udGV4dC1jYWNoZS9jb250ZXh0LWNhY2hlLW92ZXJ2aWV3I3N1cHBvcnRlZF9tb2RlbHMpXG4gICAqIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIHRoZSBjcmVhdGUgcmVxdWVzdC5cbiAgICogQHJldHVybiBUaGUgY3JlYXRlZCBjYWNoZWQgY29udGVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgY29udGVudHMgPSAuLi47IC8vIEluaXRpYWxpemUgdGhlIGNvbnRlbnQgdG8gY2FjaGUuXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYWkuY2FjaGVzLmNyZWF0ZSh7XG4gICAqICAgbW9kZWw6ICdnZW1pbmktMi4wLWZsYXNoLTAwMScsXG4gICAqICAgY29uZmlnOiB7XG4gICAqICAgICdjb250ZW50cyc6IGNvbnRlbnRzLFxuICAgKiAgICAnZGlzcGxheU5hbWUnOiAndGVzdCBjYWNoZScsXG4gICAqICAgICdzeXN0ZW1JbnN0cnVjdGlvbic6ICdXaGF0IGlzIHRoZSBzdW0gb2YgdGhlIHR3byBwZGZzPycsXG4gICAqICAgICd0dGwnOiAnODY0MDBzJyxcbiAgICogIH1cbiAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgYXN5bmMgY3JlYXRlKFxuICAgIHBhcmFtczogdHlwZXMuQ3JlYXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuQ2FjaGVkQ29udGVudD4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTx0eXBlcy5DYWNoZWRDb250ZW50PjtcblxuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5jcmVhdGVDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvVmVydGV4KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAnY2FjaGVkQ29udGVudHMnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5DYWNoZWRDb250ZW50PjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKHJlc3ApID0+IHtcbiAgICAgICAgcmV0dXJuIHJlc3AgYXMgdHlwZXMuQ2FjaGVkQ29udGVudDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5jcmVhdGVDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvTWxkZXYoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICdjYWNoZWRDb250ZW50cycsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkNhY2hlZENvbnRlbnQ+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigocmVzcCkgPT4ge1xuICAgICAgICByZXR1cm4gcmVzcCBhcyB0eXBlcy5DYWNoZWRDb250ZW50O1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgY2FjaGVkIGNvbnRlbnQgY29uZmlndXJhdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgdGhlIGdldCByZXF1ZXN0LlxuICAgKiBAcmV0dXJuIFRoZSBjYWNoZWQgY29udGVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogYXdhaXQgYWkuY2FjaGVzLmdldCh7bmFtZTogJy4uLid9KTsgLy8gVGhlIHNlcnZlci1nZW5lcmF0ZWQgcmVzb3VyY2UgbmFtZS5cbiAgICogYGBgXG4gICAqL1xuICBhc3luYyBnZXQoXG4gICAgcGFyYW1zOiB0eXBlcy5HZXRDYWNoZWRDb250ZW50UGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5DYWNoZWRDb250ZW50PiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkNhY2hlZENvbnRlbnQ+O1xuXG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmdldENhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bmFtZX0nLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkNhY2hlZENvbnRlbnQ+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigocmVzcCkgPT4ge1xuICAgICAgICByZXR1cm4gcmVzcCBhcyB0eXBlcy5DYWNoZWRDb250ZW50O1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmdldENhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldihcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3tuYW1lfScsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuQ2FjaGVkQ29udGVudD47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChyZXNwKSA9PiB7XG4gICAgICAgIHJldHVybiByZXNwIGFzIHR5cGVzLkNhY2hlZENvbnRlbnQ7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlcyBjYWNoZWQgY29udGVudC5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgZGVsZXRlIHJlcXVlc3QuXG4gICAqIEByZXR1cm4gVGhlIGVtcHR5IHJlc3BvbnNlIHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGF3YWl0IGFpLmNhY2hlcy5kZWxldGUoe25hbWU6ICcuLi4nfSk7IC8vIFRoZSBzZXJ2ZXItZ2VuZXJhdGVkIHJlc291cmNlIG5hbWUuXG4gICAqIGBgYFxuICAgKi9cbiAgYXN5bmMgZGVsZXRlKFxuICAgIHBhcmFtczogdHlwZXMuRGVsZXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuRGVsZXRlQ2FjaGVkQ29udGVudFJlc3BvbnNlPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkRlbGV0ZUNhY2hlZENvbnRlbnRSZXNwb25zZT47XG5cbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuZGVsZXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnNUb1ZlcnRleChcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3tuYW1lfScsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCkudGhlbigoanNvblJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGpzb25SZXNwb25zZSBhcyB0eXBlcy5EZWxldGVDYWNoZWRDb250ZW50UmVzcG9uc2U7XG4gICAgICAgICAgICByZXNwb25zZS5zZGtIdHRwUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IGh0dHBSZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgICAgfSBhcyB0eXBlcy5IdHRwUmVzcG9uc2U7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuRGVsZXRlQ2FjaGVkQ29udGVudFJlc3BvbnNlPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPVxuICAgICAgICAgIGNvbnZlcnRlcnMuZGVsZXRlQ2FjaGVkQ29udGVudFJlc3BvbnNlRnJvbVZlcnRleChhcGlSZXNwb25zZSk7XG4gICAgICAgIGNvbnN0IHR5cGVkUmVzcCA9IG5ldyB0eXBlcy5EZWxldGVDYWNoZWRDb250ZW50UmVzcG9uc2UoKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICAgICAgICByZXR1cm4gdHlwZWRSZXNwO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmRlbGV0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldihcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3tuYW1lfScsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCkudGhlbigoanNvblJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGpzb25SZXNwb25zZSBhcyB0eXBlcy5EZWxldGVDYWNoZWRDb250ZW50UmVzcG9uc2U7XG4gICAgICAgICAgICByZXNwb25zZS5zZGtIdHRwUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IGh0dHBSZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgICAgfSBhcyB0eXBlcy5IdHRwUmVzcG9uc2U7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuRGVsZXRlQ2FjaGVkQ29udGVudFJlc3BvbnNlPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPVxuICAgICAgICAgIGNvbnZlcnRlcnMuZGVsZXRlQ2FjaGVkQ29udGVudFJlc3BvbnNlRnJvbU1sZGV2KGFwaVJlc3BvbnNlKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkRlbGV0ZUNhY2hlZENvbnRlbnRSZXNwb25zZSgpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHR5cGVkUmVzcCwgcmVzcCk7XG4gICAgICAgIHJldHVybiB0eXBlZFJlc3A7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyBjYWNoZWQgY29udGVudCBjb25maWd1cmF0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgdXBkYXRlIHJlcXVlc3QuXG4gICAqIEByZXR1cm4gVGhlIHVwZGF0ZWQgY2FjaGVkIGNvbnRlbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYWkuY2FjaGVzLnVwZGF0ZSh7XG4gICAqICAgbmFtZTogJy4uLicsICAvLyBUaGUgc2VydmVyLWdlbmVyYXRlZCByZXNvdXJjZSBuYW1lLlxuICAgKiAgIGNvbmZpZzogeyd0dGwnOiAnNzYwMHMnfVxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqL1xuICBhc3luYyB1cGRhdGUoXG4gICAgcGFyYW1zOiB0eXBlcy5VcGRhdGVDYWNoZWRDb250ZW50UGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5DYWNoZWRDb250ZW50PiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkNhY2hlZENvbnRlbnQ+O1xuXG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLnVwZGF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bmFtZX0nLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuQ2FjaGVkQ29udGVudD47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChyZXNwKSA9PiB7XG4gICAgICAgIHJldHVybiByZXNwIGFzIHR5cGVzLkNhY2hlZENvbnRlbnQ7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMudXBkYXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnNUb01sZGV2KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne25hbWV9JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkNhY2hlZENvbnRlbnQ+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigocmVzcCkgPT4ge1xuICAgICAgICByZXR1cm4gcmVzcCBhcyB0eXBlcy5DYWNoZWRDb250ZW50O1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBsaXN0SW50ZXJuYWwoXG4gICAgcGFyYW1zOiB0eXBlcy5MaXN0Q2FjaGVkQ29udGVudHNQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkxpc3RDYWNoZWRDb250ZW50c1Jlc3BvbnNlPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkxpc3RDYWNoZWRDb250ZW50c1Jlc3BvbnNlPjtcblxuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5saXN0Q2FjaGVkQ29udGVudHNQYXJhbWV0ZXJzVG9WZXJ0ZXgocGFyYW1zKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAnY2FjaGVkQ29udGVudHMnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpLnRoZW4oKGpzb25SZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBqc29uUmVzcG9uc2UgYXMgdHlwZXMuTGlzdENhY2hlZENvbnRlbnRzUmVzcG9uc2U7XG4gICAgICAgICAgICByZXNwb25zZS5zZGtIdHRwUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IGh0dHBSZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgICAgfSBhcyB0eXBlcy5IdHRwUmVzcG9uc2U7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuTGlzdENhY2hlZENvbnRlbnRzUmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9XG4gICAgICAgICAgY29udmVydGVycy5saXN0Q2FjaGVkQ29udGVudHNSZXNwb25zZUZyb21WZXJ0ZXgoYXBpUmVzcG9uc2UpO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuTGlzdENhY2hlZENvbnRlbnRzUmVzcG9uc2UoKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICAgICAgICByZXR1cm4gdHlwZWRSZXNwO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmxpc3RDYWNoZWRDb250ZW50c1BhcmFtZXRlcnNUb01sZGV2KHBhcmFtcyk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ2NhY2hlZENvbnRlbnRzJyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKS50aGVuKChqc29uUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ganNvblJlc3BvbnNlIGFzIHR5cGVzLkxpc3RDYWNoZWRDb250ZW50c1Jlc3BvbnNlO1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2RrSHR0cFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICBoZWFkZXJzOiBodHRwUmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICAgIH0gYXMgdHlwZXMuSHR0cFJlc3BvbnNlO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkxpc3RDYWNoZWRDb250ZW50c1Jlc3BvbnNlPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPVxuICAgICAgICAgIGNvbnZlcnRlcnMubGlzdENhY2hlZENvbnRlbnRzUmVzcG9uc2VGcm9tTWxkZXYoYXBpUmVzcG9uc2UpO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuTGlzdENhY2hlZENvbnRlbnRzUmVzcG9uc2UoKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICAgICAgICByZXR1cm4gdHlwZWRSZXNwO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi9fYXBpX2NsaWVudC5qcyc7XG5pbXBvcnQgKiBhcyB0IGZyb20gJy4vX3RyYW5zZm9ybWVycy5qcyc7XG5pbXBvcnQge01vZGVsc30gZnJvbSAnLi9tb2RlbHMuanMnO1xuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi90eXBlcy5qcyc7XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSByZXNwb25zZSBpcyB2YWxpZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBpc1ZhbGlkUmVzcG9uc2UocmVzcG9uc2U6IHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlKTogYm9vbGVhbiB7XG4gIGlmIChyZXNwb25zZS5jYW5kaWRhdGVzID09IHVuZGVmaW5lZCB8fCByZXNwb25zZS5jYW5kaWRhdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBjb250ZW50ID0gcmVzcG9uc2UuY2FuZGlkYXRlc1swXT8uY29udGVudDtcbiAgaWYgKGNvbnRlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gaXNWYWxpZENvbnRlbnQoY29udGVudCk7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRDb250ZW50KGNvbnRlbnQ6IHR5cGVzLkNvbnRlbnQpOiBib29sZWFuIHtcbiAgaWYgKGNvbnRlbnQucGFydHMgPT09IHVuZGVmaW5lZCB8fCBjb250ZW50LnBhcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGNvbnN0IHBhcnQgb2YgY29udGVudC5wYXJ0cykge1xuICAgIGlmIChwYXJ0ID09PSB1bmRlZmluZWQgfHwgT2JqZWN0LmtleXMocGFydCkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGUgaGlzdG9yeSBjb250YWlucyB0aGUgY29ycmVjdCByb2xlcy5cbiAqXG4gKiBAdGhyb3dzIEVycm9yIGlmIHRoZSBoaXN0b3J5IGRvZXMgbm90IHN0YXJ0IHdpdGggYSB1c2VyIHR1cm4uXG4gKiBAdGhyb3dzIEVycm9yIGlmIHRoZSBoaXN0b3J5IGNvbnRhaW5zIGFuIGludmFsaWQgcm9sZS5cbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVIaXN0b3J5KGhpc3Rvcnk6IHR5cGVzLkNvbnRlbnRbXSkge1xuICAvLyBFbXB0eSBoaXN0b3J5IGlzIHZhbGlkLlxuICBpZiAoaGlzdG9yeS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yIChjb25zdCBjb250ZW50IG9mIGhpc3RvcnkpIHtcbiAgICBpZiAoY29udGVudC5yb2xlICE9PSAndXNlcicgJiYgY29udGVudC5yb2xlICE9PSAnbW9kZWwnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFJvbGUgbXVzdCBiZSB1c2VyIG9yIG1vZGVsLCBidXQgZ290ICR7Y29udGVudC5yb2xlfS5gKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBFeHRyYWN0cyB0aGUgY3VyYXRlZCAodmFsaWQpIGhpc3RvcnkgZnJvbSBhIGNvbXByZWhlbnNpdmUgaGlzdG9yeS5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhlIG1vZGVsIG1heSBzb21ldGltZXMgZ2VuZXJhdGUgaW52YWxpZCBvciBlbXB0eSBjb250ZW50cyhlLmcuLCBkdWUgdG8gc2FmdHlcbiAqIGZpbHRlcnMgb3IgcmVjaXRhdGlvbikuIEV4dHJhY3RpbmcgdmFsaWQgdHVybnMgZnJvbSB0aGUgaGlzdG9yeVxuICogZW5zdXJlcyB0aGF0IHN1YnNlcXVlbnQgcmVxdWVzdHMgY291bGQgYmUgYWNjcGV0ZWQgYnkgdGhlIG1vZGVsLlxuICovXG5mdW5jdGlvbiBleHRyYWN0Q3VyYXRlZEhpc3RvcnkoXG4gIGNvbXByZWhlbnNpdmVIaXN0b3J5OiB0eXBlcy5Db250ZW50W10sXG4pOiB0eXBlcy5Db250ZW50W10ge1xuICBpZiAoY29tcHJlaGVuc2l2ZUhpc3RvcnkgPT09IHVuZGVmaW5lZCB8fCBjb21wcmVoZW5zaXZlSGlzdG9yeS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgY29uc3QgY3VyYXRlZEhpc3Rvcnk6IHR5cGVzLkNvbnRlbnRbXSA9IFtdO1xuICBjb25zdCBsZW5ndGggPSBjb21wcmVoZW5zaXZlSGlzdG9yeS5sZW5ndGg7XG4gIGxldCBpID0gMDtcbiAgd2hpbGUgKGkgPCBsZW5ndGgpIHtcbiAgICBpZiAoY29tcHJlaGVuc2l2ZUhpc3RvcnlbaV0ucm9sZSA9PT0gJ3VzZXInKSB7XG4gICAgICBjdXJhdGVkSGlzdG9yeS5wdXNoKGNvbXByZWhlbnNpdmVIaXN0b3J5W2ldKTtcbiAgICAgIGkrKztcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbW9kZWxPdXRwdXQ6IHR5cGVzLkNvbnRlbnRbXSA9IFtdO1xuICAgICAgbGV0IGlzVmFsaWQgPSB0cnVlO1xuICAgICAgd2hpbGUgKGkgPCBsZW5ndGggJiYgY29tcHJlaGVuc2l2ZUhpc3RvcnlbaV0ucm9sZSA9PT0gJ21vZGVsJykge1xuICAgICAgICBtb2RlbE91dHB1dC5wdXNoKGNvbXByZWhlbnNpdmVIaXN0b3J5W2ldKTtcbiAgICAgICAgaWYgKGlzVmFsaWQgJiYgIWlzVmFsaWRDb250ZW50KGNvbXByZWhlbnNpdmVIaXN0b3J5W2ldKSkge1xuICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICBjdXJhdGVkSGlzdG9yeS5wdXNoKC4uLm1vZGVsT3V0cHV0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgbGFzdCB1c2VyIGlucHV0IHdoZW4gbW9kZWwgY29udGVudCBpcyBpbnZhbGlkLlxuICAgICAgICBjdXJhdGVkSGlzdG9yeS5wb3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGN1cmF0ZWRIaXN0b3J5O1xufVxuXG4vKipcbiAqIEEgdXRpbGl0eSBjbGFzcyB0byBjcmVhdGUgYSBjaGF0IHNlc3Npb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBDaGF0cyB7XG4gIHByaXZhdGUgcmVhZG9ubHkgbW9kZWxzTW9kdWxlOiBNb2RlbHM7XG4gIHByaXZhdGUgcmVhZG9ubHkgYXBpQ2xpZW50OiBBcGlDbGllbnQ7XG5cbiAgY29uc3RydWN0b3IobW9kZWxzTW9kdWxlOiBNb2RlbHMsIGFwaUNsaWVudDogQXBpQ2xpZW50KSB7XG4gICAgdGhpcy5tb2RlbHNNb2R1bGUgPSBtb2RlbHNNb2R1bGU7XG4gICAgdGhpcy5hcGlDbGllbnQgPSBhcGlDbGllbnQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBjaGF0IHNlc3Npb24uXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIFRoZSBjb25maWcgaW4gdGhlIHBhcmFtcyB3aWxsIGJlIHVzZWQgZm9yIGFsbCByZXF1ZXN0cyB3aXRoaW4gdGhlIGNoYXRcbiAgICogc2Vzc2lvbiB1bmxlc3Mgb3ZlcnJpZGRlbiBieSBhIHBlci1yZXF1ZXN0IGBjb25maWdgIGluXG4gICAqIEBzZWUge0BsaW5rIHR5cGVzLlNlbmRNZXNzYWdlUGFyYW1ldGVycyNjb25maWd9LlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gUGFyYW1ldGVycyBmb3IgY3JlYXRpbmcgYSBjaGF0IHNlc3Npb24uXG4gICAqIEByZXR1cm5zIEEgbmV3IGNoYXQgc2Vzc2lvbi5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgY2hhdCA9IGFpLmNoYXRzLmNyZWF0ZSh7XG4gICAqICAgbW9kZWw6ICdnZW1pbmktMi4wLWZsYXNoJ1xuICAgKiAgIGNvbmZpZzoge1xuICAgKiAgICAgdGVtcGVyYXR1cmU6IDAuNSxcbiAgICogICAgIG1heE91dHB1dFRva2VuczogMTAyNCxcbiAgICogICB9XG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICovXG4gIGNyZWF0ZShwYXJhbXM6IHR5cGVzLkNyZWF0ZUNoYXRQYXJhbWV0ZXJzKSB7XG4gICAgcmV0dXJuIG5ldyBDaGF0KFxuICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICB0aGlzLm1vZGVsc01vZHVsZSxcbiAgICAgIHBhcmFtcy5tb2RlbCxcbiAgICAgIHBhcmFtcy5jb25maWcsXG4gICAgICAvLyBEZWVwIGNvcHkgdGhlIGhpc3RvcnkgdG8gYXZvaWQgbXV0YXRpbmcgdGhlIGhpc3Rvcnkgb3V0c2lkZSBvZiB0aGVcbiAgICAgIC8vIGNoYXQgc2Vzc2lvbi5cbiAgICAgIHN0cnVjdHVyZWRDbG9uZShwYXJhbXMuaGlzdG9yeSksXG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIENoYXQgc2Vzc2lvbiB0aGF0IGVuYWJsZXMgc2VuZGluZyBtZXNzYWdlcyB0byB0aGUgbW9kZWwgd2l0aCBwcmV2aW91c1xuICogY29udmVyc2F0aW9uIGNvbnRleHQuXG4gKlxuICogQHJlbWFya3NcbiAqIFRoZSBzZXNzaW9uIG1haW50YWlucyBhbGwgdGhlIHR1cm5zIGJldHdlZW4gdXNlciBhbmQgbW9kZWwuXG4gKi9cbmV4cG9ydCBjbGFzcyBDaGF0IHtcbiAgLy8gQSBwcm9taXNlIHRvIHJlcHJlc2VudCB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgbWVzc2FnZSBiZWluZyBzZW50IHRvIHRoZVxuICAvLyBtb2RlbC5cbiAgcHJpdmF0ZSBzZW5kUHJvbWlzZTogUHJvbWlzZTx2b2lkPiA9IFByb21pc2UucmVzb2x2ZSgpO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gICAgcHJpdmF0ZSByZWFkb25seSBtb2RlbHNNb2R1bGU6IE1vZGVscyxcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1vZGVsOiBzdHJpbmcsXG4gICAgcHJpdmF0ZSByZWFkb25seSBjb25maWc6IHR5cGVzLkdlbmVyYXRlQ29udGVudENvbmZpZyA9IHt9LFxuICAgIHByaXZhdGUgaGlzdG9yeTogdHlwZXMuQ29udGVudFtdID0gW10sXG4gICkge1xuICAgIHZhbGlkYXRlSGlzdG9yeShoaXN0b3J5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kcyBhIG1lc3NhZ2UgdG8gdGhlIG1vZGVsIGFuZCByZXR1cm5zIHRoZSByZXNwb25zZS5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogVGhpcyBtZXRob2Qgd2lsbCB3YWl0IGZvciB0aGUgcHJldmlvdXMgbWVzc2FnZSB0byBiZSBwcm9jZXNzZWQgYmVmb3JlXG4gICAqIHNlbmRpbmcgdGhlIG5leHQgbWVzc2FnZS5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgQ2hhdCNzZW5kTWVzc2FnZVN0cmVhbX0gZm9yIHN0cmVhbWluZyBtZXRob2QuXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBwYXJhbWV0ZXJzIGZvciBzZW5kaW5nIG1lc3NhZ2VzIHdpdGhpbiBhIGNoYXQgc2Vzc2lvbi5cbiAgICogQHJldHVybnMgVGhlIG1vZGVsJ3MgcmVzcG9uc2UuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IGNoYXQgPSBhaS5jaGF0cy5jcmVhdGUoe21vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaCd9KTtcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjaGF0LnNlbmRNZXNzYWdlKHtcbiAgICogICBtZXNzYWdlOiAnV2h5IGlzIHRoZSBza3kgYmx1ZT8nXG4gICAqIH0pO1xuICAgKiBjb25zb2xlLmxvZyhyZXNwb25zZS50ZXh0KTtcbiAgICogYGBgXG4gICAqL1xuICBhc3luYyBzZW5kTWVzc2FnZShcbiAgICBwYXJhbXM6IHR5cGVzLlNlbmRNZXNzYWdlUGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZT4ge1xuICAgIGF3YWl0IHRoaXMuc2VuZFByb21pc2U7XG4gICAgY29uc3QgaW5wdXRDb250ZW50ID0gdC50Q29udGVudChwYXJhbXMubWVzc2FnZSk7XG4gICAgY29uc3QgcmVzcG9uc2VQcm9taXNlID0gdGhpcy5tb2RlbHNNb2R1bGUuZ2VuZXJhdGVDb250ZW50KHtcbiAgICAgIG1vZGVsOiB0aGlzLm1vZGVsLFxuICAgICAgY29udGVudHM6IHRoaXMuZ2V0SGlzdG9yeSh0cnVlKS5jb25jYXQoaW5wdXRDb250ZW50KSxcbiAgICAgIGNvbmZpZzogcGFyYW1zLmNvbmZpZyA/PyB0aGlzLmNvbmZpZyxcbiAgICB9KTtcbiAgICB0aGlzLnNlbmRQcm9taXNlID0gKGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVzcG9uc2VQcm9taXNlO1xuICAgICAgY29uc3Qgb3V0cHV0Q29udGVudCA9IHJlc3BvbnNlLmNhbmRpZGF0ZXM/LlswXT8uY29udGVudDtcblxuICAgICAgLy8gQmVjYXVzZSB0aGUgQUZDIGlucHV0IGNvbnRhaW5zIHRoZSBlbnRpcmUgY3VyYXRlZCBjaGF0IGhpc3RvcnkgaW5cbiAgICAgIC8vIGFkZGl0aW9uIHRvIHRoZSBuZXcgdXNlciBpbnB1dCwgd2UgbmVlZCB0byB0cnVuY2F0ZSB0aGUgQUZDIGhpc3RvcnlcbiAgICAgIC8vIHRvIGRlZHVwbGljYXRlIHRoZSBleGlzdGluZyBjaGF0IGhpc3RvcnkuXG4gICAgICBjb25zdCBmdWxsQXV0b21hdGljRnVuY3Rpb25DYWxsaW5nSGlzdG9yeSA9XG4gICAgICAgIHJlc3BvbnNlLmF1dG9tYXRpY0Z1bmN0aW9uQ2FsbGluZ0hpc3Rvcnk7XG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMuZ2V0SGlzdG9yeSh0cnVlKS5sZW5ndGg7XG5cbiAgICAgIGxldCBhdXRvbWF0aWNGdW5jdGlvbkNhbGxpbmdIaXN0b3J5OiB0eXBlcy5Db250ZW50W10gPSBbXTtcbiAgICAgIGlmIChmdWxsQXV0b21hdGljRnVuY3Rpb25DYWxsaW5nSGlzdG9yeSAhPSBudWxsKSB7XG4gICAgICAgIGF1dG9tYXRpY0Z1bmN0aW9uQ2FsbGluZ0hpc3RvcnkgPVxuICAgICAgICAgIGZ1bGxBdXRvbWF0aWNGdW5jdGlvbkNhbGxpbmdIaXN0b3J5LnNsaWNlKGluZGV4KSA/PyBbXTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbW9kZWxPdXRwdXQgPSBvdXRwdXRDb250ZW50ID8gW291dHB1dENvbnRlbnRdIDogW107XG4gICAgICB0aGlzLnJlY29yZEhpc3RvcnkoXG4gICAgICAgIGlucHV0Q29udGVudCxcbiAgICAgICAgbW9kZWxPdXRwdXQsXG4gICAgICAgIGF1dG9tYXRpY0Z1bmN0aW9uQ2FsbGluZ0hpc3RvcnksXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH0pKCk7XG4gICAgYXdhaXQgdGhpcy5zZW5kUHJvbWlzZS5jYXRjaCgoKSA9PiB7XG4gICAgICAvLyBSZXNldHMgc2VuZFByb21pc2UgdG8gYXZvaWQgc3Vic2VxdWVudCBjYWxscyBmYWlsaW5nXG4gICAgICB0aGlzLnNlbmRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3BvbnNlUHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kcyBhIG1lc3NhZ2UgdG8gdGhlIG1vZGVsIGFuZCByZXR1cm5zIHRoZSByZXNwb25zZSBpbiBjaHVua3MuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgd2FpdCBmb3IgdGhlIHByZXZpb3VzIG1lc3NhZ2UgdG8gYmUgcHJvY2Vzc2VkIGJlZm9yZVxuICAgKiBzZW5kaW5nIHRoZSBuZXh0IG1lc3NhZ2UuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIENoYXQjc2VuZE1lc3NhZ2V9IGZvciBub24tc3RyZWFtaW5nIG1ldGhvZC5cbiAgICogQHBhcmFtIHBhcmFtcyAtIHBhcmFtZXRlcnMgZm9yIHNlbmRpbmcgdGhlIG1lc3NhZ2UuXG4gICAqIEByZXR1cm4gVGhlIG1vZGVsJ3MgcmVzcG9uc2UuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IGNoYXQgPSBhaS5jaGF0cy5jcmVhdGUoe21vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaCd9KTtcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjaGF0LnNlbmRNZXNzYWdlU3RyZWFtKHtcbiAgICogICBtZXNzYWdlOiAnV2h5IGlzIHRoZSBza3kgYmx1ZT8nXG4gICAqIH0pO1xuICAgKiBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHJlc3BvbnNlKSB7XG4gICAqICAgY29uc29sZS5sb2coY2h1bmsudGV4dCk7XG4gICAqIH1cbiAgICogYGBgXG4gICAqL1xuICBhc3luYyBzZW5kTWVzc2FnZVN0cmVhbShcbiAgICBwYXJhbXM6IHR5cGVzLlNlbmRNZXNzYWdlUGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTxBc3luY0dlbmVyYXRvcjx0eXBlcy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZT4+IHtcbiAgICBhd2FpdCB0aGlzLnNlbmRQcm9taXNlO1xuICAgIGNvbnN0IGlucHV0Q29udGVudCA9IHQudENvbnRlbnQocGFyYW1zLm1lc3NhZ2UpO1xuICAgIGNvbnN0IHN0cmVhbVJlc3BvbnNlID0gdGhpcy5tb2RlbHNNb2R1bGUuZ2VuZXJhdGVDb250ZW50U3RyZWFtKHtcbiAgICAgIG1vZGVsOiB0aGlzLm1vZGVsLFxuICAgICAgY29udGVudHM6IHRoaXMuZ2V0SGlzdG9yeSh0cnVlKS5jb25jYXQoaW5wdXRDb250ZW50KSxcbiAgICAgIGNvbmZpZzogcGFyYW1zLmNvbmZpZyA/PyB0aGlzLmNvbmZpZyxcbiAgICB9KTtcbiAgICAvLyBSZXNvbHZlIHRoZSBpbnRlcm5hbCB0cmFja2luZyBvZiBzZW5kIGNvbXBsZXRpb24gcHJvbWlzZSAtIGBzZW5kUHJvbWlzZWBcbiAgICAvLyBmb3IgYm90aCBzdWNjZXNzIGFuZCBmYWlsdXJlIHJlc3BvbnNlLiBUaGUgYWN0dWFsIGZhaWx1cmUgaXMgc3RpbGxcbiAgICAvLyBwcm9wYWdhdGVkIGJ5IHRoZSBgYXdhaXQgc3RyZWFtUmVzcG9uc2VgLlxuICAgIHRoaXMuc2VuZFByb21pc2UgPSBzdHJlYW1SZXNwb25zZVxuICAgICAgLnRoZW4oKCkgPT4gdW5kZWZpbmVkKVxuICAgICAgLmNhdGNoKCgpID0+IHVuZGVmaW5lZCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzdHJlYW1SZXNwb25zZTtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnByb2Nlc3NTdHJlYW1SZXNwb25zZShyZXNwb25zZSwgaW5wdXRDb250ZW50KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGNoYXQgaGlzdG9yeS5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogVGhlIGhpc3RvcnkgaXMgYSBsaXN0IG9mIGNvbnRlbnRzIGFsdGVybmF0aW5nIGJldHdlZW4gdXNlciBhbmQgbW9kZWwuXG4gICAqXG4gICAqIFRoZXJlIGFyZSB0d28gdHlwZXMgb2YgaGlzdG9yeTpcbiAgICogLSBUaGUgYGN1cmF0ZWQgaGlzdG9yeWAgY29udGFpbnMgb25seSB0aGUgdmFsaWQgdHVybnMgYmV0d2VlbiB1c2VyIGFuZFxuICAgKiBtb2RlbCwgd2hpY2ggd2lsbCBiZSBpbmNsdWRlZCBpbiB0aGUgc3Vic2VxdWVudCByZXF1ZXN0cyBzZW50IHRvIHRoZSBtb2RlbC5cbiAgICogLSBUaGUgYGNvbXByZWhlbnNpdmUgaGlzdG9yeWAgY29udGFpbnMgYWxsIHR1cm5zLCBpbmNsdWRpbmcgaW52YWxpZCBvclxuICAgKiAgIGVtcHR5IG1vZGVsIG91dHB1dHMsIHByb3ZpZGluZyBhIGNvbXBsZXRlIHJlY29yZCBvZiB0aGUgaGlzdG9yeS5cbiAgICpcbiAgICogVGhlIGhpc3RvcnkgaXMgdXBkYXRlZCBhZnRlciByZWNlaXZpbmcgdGhlIHJlc3BvbnNlIGZyb20gdGhlIG1vZGVsLFxuICAgKiBmb3Igc3RyZWFtaW5nIHJlc3BvbnNlLCBpdCBtZWFucyByZWNlaXZpbmcgdGhlIGxhc3QgY2h1bmsgb2YgdGhlIHJlc3BvbnNlLlxuICAgKlxuICAgKiBUaGUgYGNvbXByZWhlbnNpdmUgaGlzdG9yeWAgaXMgcmV0dXJuZWQgYnkgZGVmYXVsdC4gVG8gZ2V0IHRoZSBgY3VyYXRlZFxuICAgKiBoaXN0b3J5YCwgc2V0IHRoZSBgY3VyYXRlZGAgcGFyYW1ldGVyIHRvIGB0cnVlYC5cbiAgICpcbiAgICogQHBhcmFtIGN1cmF0ZWQgLSB3aGV0aGVyIHRvIHJldHVybiB0aGUgY3VyYXRlZCBoaXN0b3J5IG9yIHRoZSBjb21wcmVoZW5zaXZlXG4gICAqICAgICBoaXN0b3J5LlxuICAgKiBAcmV0dXJuIEhpc3RvcnkgY29udGVudHMgYWx0ZXJuYXRpbmcgYmV0d2VlbiB1c2VyIGFuZCBtb2RlbCBmb3IgdGhlIGVudGlyZVxuICAgKiAgICAgY2hhdCBzZXNzaW9uLlxuICAgKi9cbiAgZ2V0SGlzdG9yeShjdXJhdGVkOiBib29sZWFuID0gZmFsc2UpOiB0eXBlcy5Db250ZW50W10ge1xuICAgIGNvbnN0IGhpc3RvcnkgPSBjdXJhdGVkXG4gICAgICA/IGV4dHJhY3RDdXJhdGVkSGlzdG9yeSh0aGlzLmhpc3RvcnkpXG4gICAgICA6IHRoaXMuaGlzdG9yeTtcbiAgICAvLyBEZWVwIGNvcHkgdGhlIGhpc3RvcnkgdG8gYXZvaWQgbXV0YXRpbmcgdGhlIGhpc3Rvcnkgb3V0c2lkZSBvZiB0aGVcbiAgICAvLyBjaGF0IHNlc3Npb24uXG4gICAgcmV0dXJuIHN0cnVjdHVyZWRDbG9uZShoaXN0b3J5KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgKnByb2Nlc3NTdHJlYW1SZXNwb25zZShcbiAgICBzdHJlYW1SZXNwb25zZTogQXN5bmNHZW5lcmF0b3I8dHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2U+LFxuICAgIGlucHV0Q29udGVudDogdHlwZXMuQ29udGVudCxcbiAgKSB7XG4gICAgY29uc3Qgb3V0cHV0Q29udGVudDogdHlwZXMuQ29udGVudFtdID0gW107XG4gICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW1SZXNwb25zZSkge1xuICAgICAgaWYgKGlzVmFsaWRSZXNwb25zZShjaHVuaykpIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGNodW5rLmNhbmRpZGF0ZXM/LlswXT8uY29udGVudDtcbiAgICAgICAgaWYgKGNvbnRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG91dHB1dENvbnRlbnQucHVzaChjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgeWllbGQgY2h1bms7XG4gICAgfVxuICAgIHRoaXMucmVjb3JkSGlzdG9yeShpbnB1dENvbnRlbnQsIG91dHB1dENvbnRlbnQpO1xuICB9XG5cbiAgcHJpdmF0ZSByZWNvcmRIaXN0b3J5KFxuICAgIHVzZXJJbnB1dDogdHlwZXMuQ29udGVudCxcbiAgICBtb2RlbE91dHB1dDogdHlwZXMuQ29udGVudFtdLFxuICAgIGF1dG9tYXRpY0Z1bmN0aW9uQ2FsbGluZ0hpc3Rvcnk/OiB0eXBlcy5Db250ZW50W10sXG4gICkge1xuICAgIGxldCBvdXRwdXRDb250ZW50czogdHlwZXMuQ29udGVudFtdID0gW107XG4gICAgaWYgKFxuICAgICAgbW9kZWxPdXRwdXQubGVuZ3RoID4gMCAmJlxuICAgICAgbW9kZWxPdXRwdXQuZXZlcnkoKGNvbnRlbnQpID0+IGNvbnRlbnQucm9sZSAhPT0gdW5kZWZpbmVkKVxuICAgICkge1xuICAgICAgb3V0cHV0Q29udGVudHMgPSBtb2RlbE91dHB1dDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQXBwZW5kcyBhbiBlbXB0eSBjb250ZW50IHdoZW4gbW9kZWwgcmV0dXJucyBlbXB0eSByZXNwb25zZSwgc28gdGhhdCB0aGVcbiAgICAgIC8vIGhpc3RvcnkgaXMgYWx3YXlzIGFsdGVybmF0aW5nIGJldHdlZW4gdXNlciBhbmQgbW9kZWwuXG4gICAgICBvdXRwdXRDb250ZW50cy5wdXNoKHtcbiAgICAgICAgcm9sZTogJ21vZGVsJyxcbiAgICAgICAgcGFydHM6IFtdLFxuICAgICAgfSBhcyB0eXBlcy5Db250ZW50KTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgYXV0b21hdGljRnVuY3Rpb25DYWxsaW5nSGlzdG9yeSAmJlxuICAgICAgYXV0b21hdGljRnVuY3Rpb25DYWxsaW5nSGlzdG9yeS5sZW5ndGggPiAwXG4gICAgKSB7XG4gICAgICB0aGlzLmhpc3RvcnkucHVzaChcbiAgICAgICAgLi4uZXh0cmFjdEN1cmF0ZWRIaXN0b3J5KGF1dG9tYXRpY0Z1bmN0aW9uQ2FsbGluZ0hpc3RvcnkhKSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGlzdG9yeS5wdXNoKHVzZXJJbnB1dCk7XG4gICAgfVxuICAgIHRoaXMuaGlzdG9yeS5wdXNoKC4uLm91dHB1dENvbnRlbnRzKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBEZXRhaWxzIGZvciBlcnJvcnMgZnJvbSBjYWxsaW5nIHRoZSBBUEkuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXBpRXJyb3JJbmZvIHtcbiAgLyoqIFRoZSBlcnJvciBtZXNzYWdlLiAqL1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIC8qKiBUaGUgSFRUUCBzdGF0dXMgY29kZS4gKi9cbiAgc3RhdHVzOiBudW1iZXI7XG59XG5cbi8qKlxuICogQVBJIGVycm9ycyByYWlzZWQgYnkgdGhlIEdlbkFJIEFQSS5cbiAqL1xuZXhwb3J0IGNsYXNzIEFwaUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAvKiogSFRUUCBzdGF0dXMgY29kZSAqL1xuICBzdGF0dXM6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBBcGlFcnJvckluZm8pIHtcbiAgICBzdXBlcihvcHRpb25zLm1lc3NhZ2UpO1xuICAgIHRoaXMubmFtZSA9ICdBcGlFcnJvcic7XG4gICAgdGhpcy5zdGF0dXMgPSBvcHRpb25zLnN0YXR1cztcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQXBpRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gQ29kZSBnZW5lcmF0ZWQgYnkgdGhlIEdvb2dsZSBHZW4gQUkgU0RLIGdlbmVyYXRvciBETyBOT1QgRURJVC5cblxuaW1wb3J0ICogYXMgY29tbW9uIGZyb20gJy4uL19jb21tb24uanMnO1xuaW1wb3J0ICogYXMgdCBmcm9tICcuLi9fdHJhbnNmb3JtZXJzLmpzJztcbmltcG9ydCB0eXBlICogYXMgdHlwZXMgZnJvbSAnLi4vdHlwZXMuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRmlsZVBhcmFtZXRlcnNUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5DcmVhdGVGaWxlUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUZpbGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmaWxlJ10pO1xuICBpZiAoZnJvbUZpbGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmaWxlJ10sIGZyb21GaWxlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZpbGVSZXNwb25zZUZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuQ3JlYXRlRmlsZVJlc3BvbnNlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tU2RrSHR0cFJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2RrSHR0cFJlc3BvbnNlJyxcbiAgXSk7XG4gIGlmIChmcm9tU2RrSHR0cFJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2RrSHR0cFJlc3BvbnNlJ10sIGZyb21TZGtIdHRwUmVzcG9uc2UpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlRmlsZVBhcmFtZXRlcnNUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5EZWxldGVGaWxlUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydfdXJsJywgJ2ZpbGUnXSwgdC50RmlsZU5hbWUoZnJvbU5hbWUpKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUZpbGVSZXNwb25zZUZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuRGVsZXRlRmlsZVJlc3BvbnNlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tU2RrSHR0cFJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2RrSHR0cFJlc3BvbnNlJyxcbiAgXSk7XG4gIGlmIChmcm9tU2RrSHR0cFJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2RrSHR0cFJlc3BvbnNlJ10sIGZyb21TZGtIdHRwUmVzcG9uc2UpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsZVBhcmFtZXRlcnNUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZXRGaWxlUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydfdXJsJywgJ2ZpbGUnXSwgdC50RmlsZU5hbWUoZnJvbU5hbWUpKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RGaWxlc0NvbmZpZ1RvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpc3RGaWxlc0NvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVBhZ2VTaXplID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFnZVNpemUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUGFnZVNpemUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnX3F1ZXJ5JywgJ3BhZ2VTaXplJ10sIGZyb21QYWdlU2l6ZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUGFnZVRva2VuID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFnZVRva2VuJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVBhZ2VUb2tlbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydfcXVlcnknLCAncGFnZVRva2VuJ10sIGZyb21QYWdlVG9rZW4pO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGlzdEZpbGVzUGFyYW1ldGVyc1RvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpc3RGaWxlc1BhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBsaXN0RmlsZXNDb25maWdUb01sZGV2KGZyb21Db25maWcsIHRvT2JqZWN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RGaWxlc1Jlc3BvbnNlRnJvbU1sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXN0RmlsZXNSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVNka0h0dHBSZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Nka0h0dHBSZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbVNka0h0dHBSZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Nka0h0dHBSZXNwb25zZSddLCBmcm9tU2RrSHR0cFJlc3BvbnNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21OZXh0UGFnZVRva2VuID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbmV4dFBhZ2VUb2tlbicsXG4gIF0pO1xuICBpZiAoZnJvbU5leHRQYWdlVG9rZW4gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduZXh0UGFnZVRva2VuJ10sIGZyb21OZXh0UGFnZVRva2VuKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GaWxlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ZpbGVzJ10pO1xuICBpZiAoZnJvbUZpbGVzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbUZpbGVzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2ZpbGVzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vLyBDb2RlIGdlbmVyYXRlZCBieSB0aGUgR29vZ2xlIEdlbiBBSSBTREsgZ2VuZXJhdG9yIERPIE5PVCBFRElULlxuXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi9fYXBpX2NsaWVudC5qcyc7XG5pbXBvcnQgKiBhcyBjb21tb24gZnJvbSAnLi9fY29tbW9uLmpzJztcbmltcG9ydCB7QmFzZU1vZHVsZX0gZnJvbSAnLi9fY29tbW9uLmpzJztcbmltcG9ydCAqIGFzIGNvbnZlcnRlcnMgZnJvbSAnLi9jb252ZXJ0ZXJzL19maWxlc19jb252ZXJ0ZXJzLmpzJztcbmltcG9ydCB7UGFnZWRJdGVtLCBQYWdlcn0gZnJvbSAnLi9wYWdlcnMuanMnO1xuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi90eXBlcy5qcyc7XG5cbmV4cG9ydCBjbGFzcyBGaWxlcyBleHRlbmRzIEJhc2VNb2R1bGUge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGFwaUNsaWVudDogQXBpQ2xpZW50KSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0cyBmaWxlcy5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgbGlzdCByZXF1ZXN0LlxuICAgKiBAcmV0dXJuIC0gQSBwYWdlciBvZiBmaWxlcy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgZmlsZXMgPSBhd2FpdCBhaS5maWxlcy5saXN0KHtjb25maWc6IHsncGFnZVNpemUnOiAyfX0pO1xuICAgKiBmb3IgYXdhaXQgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcbiAgICogICBjb25zb2xlLmxvZyhmaWxlKTtcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIGxpc3QgPSBhc3luYyAoXG4gICAgcGFyYW1zOiB0eXBlcy5MaXN0RmlsZXNQYXJhbWV0ZXJzID0ge30sXG4gICk6IFByb21pc2U8UGFnZXI8dHlwZXMuRmlsZT4+ID0+IHtcbiAgICByZXR1cm4gbmV3IFBhZ2VyPHR5cGVzLkZpbGU+KFxuICAgICAgUGFnZWRJdGVtLlBBR0VEX0lURU1fRklMRVMsXG4gICAgICAoeDogdHlwZXMuTGlzdEZpbGVzUGFyYW1ldGVycykgPT4gdGhpcy5saXN0SW50ZXJuYWwoeCksXG4gICAgICBhd2FpdCB0aGlzLmxpc3RJbnRlcm5hbChwYXJhbXMpLFxuICAgICAgcGFyYW1zLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwbG9hZHMgYSBmaWxlIGFzeW5jaHJvbm91c2x5IHRvIHRoZSBHZW1pbmkgQVBJLlxuICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgYXZhaWxhYmxlIGluIFZlcnRleCBBSS5cbiAgICogU3VwcG9ydGVkIHVwbG9hZCBzb3VyY2VzOlxuICAgKiAtIE5vZGUuanM6IEZpbGUgcGF0aCAoc3RyaW5nKSBvciBCbG9iIG9iamVjdC5cbiAgICogLSBCcm93c2VyOiBCbG9iIG9iamVjdCAoZS5nLiwgRmlsZSkuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIFRoZSBgbWltZVR5cGVgIGNhbiBiZSBzcGVjaWZpZWQgaW4gdGhlIGBjb25maWdgIHBhcmFtZXRlci4gSWYgb21pdHRlZDpcbiAgICogIC0gRm9yIGZpbGUgcGF0aCAoc3RyaW5nKSBpbnB1dHMsIHRoZSBgbWltZVR5cGVgIHdpbGwgYmUgaW5mZXJyZWQgZnJvbSB0aGVcbiAgICogICAgIGZpbGUgZXh0ZW5zaW9uLlxuICAgKiAgLSBGb3IgQmxvYiBvYmplY3QgaW5wdXRzLCB0aGUgYG1pbWVUeXBlYCB3aWxsIGJlIHNldCB0byB0aGUgQmxvYidzIGB0eXBlYFxuICAgKiAgICAgcHJvcGVydHkuXG4gICAqIFNvbWV4IGVhbXBsZXMgZm9yIGZpbGUgZXh0ZW5zaW9uIHRvIG1pbWVUeXBlIG1hcHBpbmc6XG4gICAqIC50eHQgLT4gdGV4dC9wbGFpblxuICAgKiAuanNvbiAtPiBhcHBsaWNhdGlvbi9qc29uXG4gICAqIC5qcGcgIC0+IGltYWdlL2pwZWdcbiAgICogLnBuZyAtPiBpbWFnZS9wbmdcbiAgICogLm1wMyAtPiBhdWRpby9tcGVnXG4gICAqIC5tcDQgLT4gdmlkZW8vbXA0XG4gICAqXG4gICAqIFRoaXMgc2VjdGlvbiBjYW4gY29udGFpbiBtdWx0aXBsZSBwYXJhZ3JhcGhzIGFuZCBjb2RlIGV4YW1wbGVzLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gT3B0aW9uYWwgcGFyYW1ldGVycyBzcGVjaWZpZWQgaW4gdGhlXG4gICAqICAgICAgICBgdHlwZXMuVXBsb2FkRmlsZVBhcmFtZXRlcnNgIGludGVyZmFjZS5cbiAgICogICAgICAgICBAc2VlIHtAbGluayB0eXBlcy5VcGxvYWRGaWxlUGFyYW1ldGVycyNjb25maWd9IGZvciB0aGUgb3B0aW9uYWxcbiAgICogICAgICAgICBjb25maWcgaW4gdGhlIHBhcmFtZXRlcnMuXG4gICAqIEByZXR1cm4gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBgdHlwZXMuRmlsZWAgb2JqZWN0LlxuICAgKiBAdGhyb3dzIEFuIGVycm9yIGlmIGNhbGxlZCBvbiBhIFZlcnRleCBBSSBjbGllbnQuXG4gICAqIEB0aHJvd3MgQW4gZXJyb3IgaWYgdGhlIGBtaW1lVHlwZWAgaXMgbm90IHByb3ZpZGVkIGFuZCBjYW4gbm90IGJlIGluZmVycmVkLFxuICAgKiB0aGUgYG1pbWVUeXBlYCBjYW4gYmUgcHJvdmlkZWQgaW4gdGhlIGBwYXJhbXMuY29uZmlnYCBwYXJhbWV0ZXIuXG4gICAqIEB0aHJvd3MgQW4gZXJyb3Igb2NjdXJzIGlmIGEgc3VpdGFibGUgdXBsb2FkIGxvY2F0aW9uIGNhbm5vdCBiZSBlc3RhYmxpc2hlZC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogVGhlIGZvbGxvd2luZyBjb2RlIHVwbG9hZHMgYSBmaWxlIHRvIEdlbWluaSBBUEkuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IGZpbGUgPSBhd2FpdCBhaS5maWxlcy51cGxvYWQoe2ZpbGU6ICdmaWxlLnR4dCcsIGNvbmZpZzoge1xuICAgKiAgIG1pbWVUeXBlOiAndGV4dC9wbGFpbicsXG4gICAqIH19KTtcbiAgICogY29uc29sZS5sb2coZmlsZS5uYW1lKTtcbiAgICogYGBgXG4gICAqL1xuICBhc3luYyB1cGxvYWQocGFyYW1zOiB0eXBlcy5VcGxvYWRGaWxlUGFyYW1ldGVycyk6IFByb21pc2U8dHlwZXMuRmlsZT4ge1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1ZlcnRleCBBSSBkb2VzIG5vdCBzdXBwb3J0IHVwbG9hZGluZyBmaWxlcy4gWW91IGNhbiBzaGFyZSBmaWxlcyB0aHJvdWdoIGEgR0NTIGJ1Y2tldC4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5hcGlDbGllbnRcbiAgICAgIC51cGxvYWRGaWxlKHBhcmFtcy5maWxlLCBwYXJhbXMuY29uZmlnKVxuICAgICAgLnRoZW4oKHJlc3ApID0+IHtcbiAgICAgICAgcmV0dXJuIHJlc3AgYXMgdHlwZXMuRmlsZTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERvd25sb2FkcyBhIHJlbW90ZWx5IHN0b3JlZCBmaWxlIGFzeW5jaHJvbm91c2x5IHRvIGEgbG9jYXRpb24gc3BlY2lmaWVkIGluXG4gICAqIHRoZSBgcGFyYW1zYCBvYmplY3QuIFRoaXMgbWV0aG9kIG9ubHkgd29ya3Mgb24gTm9kZSBlbnZpcm9ubWVudCwgdG9cbiAgICogZG93bmxvYWQgZmlsZXMgaW4gdGhlIGJyb3dzZXIsIHVzZSBhIGJyb3dzZXIgY29tcGxpYW50IG1ldGhvZCBsaWtlIGFuIDxhPlxuICAgKiB0YWcuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgdGhlIGRvd25sb2FkIHJlcXVlc3QuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIFRoZSBmb2xsb3dpbmcgY29kZSBkb3dubG9hZHMgYW4gZXhhbXBsZSBmaWxlIG5hbWVkIFwiZmlsZXMvbWVob3pweGY4NzdkXCIgYXNcbiAgICogXCJmaWxlLnR4dFwiLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBhd2FpdCBhaS5maWxlcy5kb3dubG9hZCh7ZmlsZTogZmlsZS5uYW1lLCBkb3dubG9hZFBhdGg6ICdmaWxlLnR4dCd9KTtcbiAgICogYGBgXG4gICAqL1xuXG4gIGFzeW5jIGRvd25sb2FkKHBhcmFtczogdHlwZXMuRG93bmxvYWRGaWxlUGFyYW1ldGVycyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHRoaXMuYXBpQ2xpZW50LmRvd25sb2FkRmlsZShwYXJhbXMpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBsaXN0SW50ZXJuYWwoXG4gICAgcGFyYW1zOiB0eXBlcy5MaXN0RmlsZXNQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkxpc3RGaWxlc1Jlc3BvbnNlPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkxpc3RGaWxlc1Jlc3BvbnNlPjtcblxuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGlzIG1ldGhvZCBpcyBvbmx5IHN1cHBvcnRlZCBieSB0aGUgR2VtaW5pIERldmVsb3BlciBBUEkuJyxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmxpc3RGaWxlc1BhcmFtZXRlcnNUb01sZGV2KHBhcmFtcyk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcCgnZmlsZXMnLCBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpLnRoZW4oKGpzb25SZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBqc29uUmVzcG9uc2UgYXMgdHlwZXMuTGlzdEZpbGVzUmVzcG9uc2U7XG4gICAgICAgICAgICByZXNwb25zZS5zZGtIdHRwUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IGh0dHBSZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgICAgfSBhcyB0eXBlcy5IdHRwUmVzcG9uc2U7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuTGlzdEZpbGVzUmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMubGlzdEZpbGVzUmVzcG9uc2VGcm9tTWxkZXYoYXBpUmVzcG9uc2UpO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuTGlzdEZpbGVzUmVzcG9uc2UoKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICAgICAgICByZXR1cm4gdHlwZWRSZXNwO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBjcmVhdGVJbnRlcm5hbChcbiAgICBwYXJhbXM6IHR5cGVzLkNyZWF0ZUZpbGVQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkNyZWF0ZUZpbGVSZXNwb25zZT4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTx0eXBlcy5DcmVhdGVGaWxlUmVzcG9uc2U+O1xuXG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoaXMgbWV0aG9kIGlzIG9ubHkgc3VwcG9ydGVkIGJ5IHRoZSBHZW1pbmkgRGV2ZWxvcGVyIEFQSS4nLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuY3JlYXRlRmlsZVBhcmFtZXRlcnNUb01sZGV2KHBhcmFtcyk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3VwbG9hZC92MWJldGEvZmlsZXMnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5DcmVhdGVGaWxlUmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuY3JlYXRlRmlsZVJlc3BvbnNlRnJvbU1sZGV2KGFwaVJlc3BvbnNlKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkNyZWF0ZUZpbGVSZXNwb25zZSgpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHR5cGVkUmVzcCwgcmVzcCk7XG4gICAgICAgIHJldHVybiB0eXBlZFJlc3A7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBmaWxlIGluZm9ybWF0aW9uIGZyb20gdGhlIHNlcnZpY2UuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgdGhlIGdldCByZXF1ZXN0XG4gICAqIEByZXR1cm4gVGhlIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgdHlwZXMuRmlsZSBvYmplY3QgcmVxdWVzdGVkLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBjb25maWc6IEdldEZpbGVQYXJhbWV0ZXJzID0ge1xuICAgKiAgIG5hbWU6IGZpbGVOYW1lLFxuICAgKiB9O1xuICAgKiBmaWxlID0gYXdhaXQgYWkuZmlsZXMuZ2V0KGNvbmZpZyk7XG4gICAqIGNvbnNvbGUubG9nKGZpbGUubmFtZSk7XG4gICAqIGBgYFxuICAgKi9cbiAgYXN5bmMgZ2V0KHBhcmFtczogdHlwZXMuR2V0RmlsZVBhcmFtZXRlcnMpOiBQcm9taXNlPHR5cGVzLkZpbGU+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuRmlsZT47XG5cbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBtZXRob2QgaXMgb25seSBzdXBwb3J0ZWQgYnkgdGhlIEdlbWluaSBEZXZlbG9wZXIgQVBJLicsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5nZXRGaWxlUGFyYW1ldGVyc1RvTWxkZXYocGFyYW1zKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAnZmlsZXMve2ZpbGV9JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5GaWxlPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKHJlc3ApID0+IHtcbiAgICAgICAgcmV0dXJuIHJlc3AgYXMgdHlwZXMuRmlsZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGVzIGEgcmVtb3RlbHkgc3RvcmVkIGZpbGUuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgdGhlIGRlbGV0ZSByZXF1ZXN0LlxuICAgKiBAcmV0dXJuIFRoZSBEZWxldGVGaWxlUmVzcG9uc2UsIHRoZSByZXNwb25zZSBmb3IgdGhlIGRlbGV0ZSBtZXRob2QuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIFRoZSBmb2xsb3dpbmcgY29kZSBkZWxldGVzIGFuIGV4YW1wbGUgZmlsZSBuYW1lZCBcImZpbGVzL21laG96cHhmODc3ZFwiLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBhd2FpdCBhaS5maWxlcy5kZWxldGUoe25hbWU6IGZpbGUubmFtZX0pO1xuICAgKiBgYGBcbiAgICovXG4gIGFzeW5jIGRlbGV0ZShcbiAgICBwYXJhbXM6IHR5cGVzLkRlbGV0ZUZpbGVQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkRlbGV0ZUZpbGVSZXNwb25zZT4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTx0eXBlcy5EZWxldGVGaWxlUmVzcG9uc2U+O1xuXG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoaXMgbWV0aG9kIGlzIG9ubHkgc3VwcG9ydGVkIGJ5IHRoZSBHZW1pbmkgRGV2ZWxvcGVyIEFQSS4nLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuZGVsZXRlRmlsZVBhcmFtZXRlcnNUb01sZGV2KHBhcmFtcyk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ2ZpbGVzL3tmaWxlfScsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCkudGhlbigoanNvblJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGpzb25SZXNwb25zZSBhcyB0eXBlcy5EZWxldGVGaWxlUmVzcG9uc2U7XG4gICAgICAgICAgICByZXNwb25zZS5zZGtIdHRwUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IGh0dHBSZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgICAgfSBhcyB0eXBlcy5IdHRwUmVzcG9uc2U7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuRGVsZXRlRmlsZVJlc3BvbnNlPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmRlbGV0ZUZpbGVSZXNwb25zZUZyb21NbGRldihhcGlSZXNwb25zZSk7XG4gICAgICAgIGNvbnN0IHR5cGVkUmVzcCA9IG5ldyB0eXBlcy5EZWxldGVGaWxlUmVzcG9uc2UoKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICAgICAgICByZXR1cm4gdHlwZWRSZXNwO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vLyBDb2RlIGdlbmVyYXRlZCBieSB0aGUgR29vZ2xlIEdlbiBBSSBTREsgZ2VuZXJhdG9yIERPIE5PVCBFRElULlxuXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi4vX2FwaV9jbGllbnQuanMnO1xuaW1wb3J0ICogYXMgY29tbW9uIGZyb20gJy4uL19jb21tb24uanMnO1xuaW1wb3J0ICogYXMgdCBmcm9tICcuLi9fdHJhbnNmb3JtZXJzLmpzJztcbmltcG9ydCB0eXBlICogYXMgdHlwZXMgZnJvbSAnLi4vdHlwZXMuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gYmxvYlRvTWxkZXYoZnJvbU9iamVjdDogdHlwZXMuQmxvYik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbURhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkYXRhJ10pO1xuICBpZiAoZnJvbURhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkYXRhJ10sIGZyb21EYXRhKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkaXNwbGF5TmFtZSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdkaXNwbGF5TmFtZSBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1pbWVUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWltZVR5cGUnXSk7XG4gIGlmIChmcm9tTWltZVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtaW1lVHlwZSddLCBmcm9tTWltZVR5cGUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udGVudFRvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNvbnRlbnQsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21QYXJ0cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhcnRzJ10pO1xuICBpZiAoZnJvbVBhcnRzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbVBhcnRzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIHBhcnRUb01sZGV2KGl0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwYXJ0cyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJvbGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyb2xlJ10pO1xuICBpZiAoZnJvbVJvbGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyb2xlJ10sIGZyb21Sb2xlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbGVEYXRhVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuRmlsZURhdGEsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkaXNwbGF5TmFtZSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdkaXNwbGF5TmFtZSBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZpbGVVcmkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmaWxlVXJpJ10pO1xuICBpZiAoZnJvbUZpbGVVcmkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmaWxlVXJpJ10sIGZyb21GaWxlVXJpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbWVUeXBlJ10pO1xuICBpZiAoZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWltZVR5cGUnXSwgZnJvbU1pbWVUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZ1bmN0aW9uQ2FsbFRvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkZ1bmN0aW9uQ2FsbCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUlkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaWQnXSk7XG4gIGlmIChmcm9tSWQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpZCddLCBmcm9tSWQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUFyZ3MgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhcmdzJ10pO1xuICBpZiAoZnJvbUFyZ3MgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydhcmdzJ10sIGZyb21BcmdzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFydGlhbEFyZ3MnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncGFydGlhbEFyZ3MgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd3aWxsQ29udGludWUnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignd2lsbENvbnRpbnVlIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmdW5jdGlvbkRlY2xhcmF0aW9uVG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkZ1bmN0aW9uRGVjbGFyYXRpb24sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydiZWhhdmlvciddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdiZWhhdmlvciBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBWZXJ0ZXggQUkuJyk7XG4gIH1cblxuICBjb25zdCBmcm9tRGVzY3JpcHRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkZXNjcmlwdGlvbiddKTtcbiAgaWYgKGZyb21EZXNjcmlwdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Rlc2NyaXB0aW9uJ10sIGZyb21EZXNjcmlwdGlvbik7XG4gIH1cblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25hbWUnXSwgZnJvbU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVBhcmFtZXRlcnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYXJhbWV0ZXJzJ10pO1xuICBpZiAoZnJvbVBhcmFtZXRlcnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwYXJhbWV0ZXJzJ10sIGZyb21QYXJhbWV0ZXJzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21QYXJhbWV0ZXJzSnNvblNjaGVtYSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3BhcmFtZXRlcnNKc29uU2NoZW1hJyxcbiAgXSk7XG4gIGlmIChmcm9tUGFyYW1ldGVyc0pzb25TY2hlbWEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzSnNvblNjaGVtYSddLFxuICAgICAgZnJvbVBhcmFtZXRlcnNKc29uU2NoZW1hLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXNwb25zZSddKTtcbiAgaWYgKGZyb21SZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Jlc3BvbnNlJ10sIGZyb21SZXNwb25zZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VKc29uU2NoZW1hID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVzcG9uc2VKc29uU2NoZW1hJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzcG9uc2VKc29uU2NoZW1hICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmVzcG9uc2VKc29uU2NoZW1hJ10sXG4gICAgICBmcm9tUmVzcG9uc2VKc29uU2NoZW1hLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0aW9uQ29uZmlnVG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRpb25Db25maWcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbFNlbGVjdGlvbkNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ21vZGVsU2VsZWN0aW9uQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tTW9kZWxTZWxlY3Rpb25Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtb2RlbENvbmZpZyddLCBmcm9tTW9kZWxTZWxlY3Rpb25Db25maWcpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc3BvbnNlSnNvblNjaGVtYSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlSnNvblNjaGVtYScsXG4gIF0pO1xuICBpZiAoZnJvbVJlc3BvbnNlSnNvblNjaGVtYSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Jlc3BvbnNlSnNvblNjaGVtYSddLFxuICAgICAgZnJvbVJlc3BvbnNlSnNvblNjaGVtYSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUF1ZGlvVGltZXN0YW1wID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnYXVkaW9UaW1lc3RhbXAnLFxuICBdKTtcbiAgaWYgKGZyb21BdWRpb1RpbWVzdGFtcCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2F1ZGlvVGltZXN0YW1wJ10sIGZyb21BdWRpb1RpbWVzdGFtcCk7XG4gIH1cblxuICBjb25zdCBmcm9tQ2FuZGlkYXRlQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjYW5kaWRhdGVDb3VudCcsXG4gIF0pO1xuICBpZiAoZnJvbUNhbmRpZGF0ZUNvdW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY2FuZGlkYXRlQ291bnQnXSwgZnJvbUNhbmRpZGF0ZUNvdW50KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FbmFibGVBZmZlY3RpdmVEaWFsb2cgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdlbmFibGVBZmZlY3RpdmVEaWFsb2cnLFxuICBdKTtcbiAgaWYgKGZyb21FbmFibGVBZmZlY3RpdmVEaWFsb2cgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydlbmFibGVBZmZlY3RpdmVEaWFsb2cnXSxcbiAgICAgIGZyb21FbmFibGVBZmZlY3RpdmVEaWFsb2csXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GcmVxdWVuY3lQZW5hbHR5ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZnJlcXVlbmN5UGVuYWx0eScsXG4gIF0pO1xuICBpZiAoZnJvbUZyZXF1ZW5jeVBlbmFsdHkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmcmVxdWVuY3lQZW5hbHR5J10sIGZyb21GcmVxdWVuY3lQZW5hbHR5KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Mb2dwcm9icyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2xvZ3Byb2JzJ10pO1xuICBpZiAoZnJvbUxvZ3Byb2JzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbG9ncHJvYnMnXSwgZnJvbUxvZ3Byb2JzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NYXhPdXRwdXRUb2tlbnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdtYXhPdXRwdXRUb2tlbnMnLFxuICBdKTtcbiAgaWYgKGZyb21NYXhPdXRwdXRUb2tlbnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtYXhPdXRwdXRUb2tlbnMnXSwgZnJvbU1heE91dHB1dFRva2Vucyk7XG4gIH1cblxuICBjb25zdCBmcm9tTWVkaWFSZXNvbHV0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbWVkaWFSZXNvbHV0aW9uJyxcbiAgXSk7XG4gIGlmIChmcm9tTWVkaWFSZXNvbHV0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWVkaWFSZXNvbHV0aW9uJ10sIGZyb21NZWRpYVJlc29sdXRpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbVByZXNlbmNlUGVuYWx0eSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3ByZXNlbmNlUGVuYWx0eScsXG4gIF0pO1xuICBpZiAoZnJvbVByZXNlbmNlUGVuYWx0eSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3ByZXNlbmNlUGVuYWx0eSddLCBmcm9tUHJlc2VuY2VQZW5hbHR5KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZUxvZ3Byb2JzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVzcG9uc2VMb2dwcm9icycsXG4gIF0pO1xuICBpZiAoZnJvbVJlc3BvbnNlTG9ncHJvYnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyZXNwb25zZUxvZ3Byb2JzJ10sIGZyb21SZXNwb25zZUxvZ3Byb2JzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZU1pbWVUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVzcG9uc2VNaW1lVHlwZScsXG4gIF0pO1xuICBpZiAoZnJvbVJlc3BvbnNlTWltZVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyZXNwb25zZU1pbWVUeXBlJ10sIGZyb21SZXNwb25zZU1pbWVUeXBlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZU1vZGFsaXRpZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZU1vZGFsaXRpZXMnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZU1vZGFsaXRpZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXNwb25zZU1vZGFsaXRpZXMnXSxcbiAgICAgIGZyb21SZXNwb25zZU1vZGFsaXRpZXMsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZVNjaGVtYSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlU2NoZW1hJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzcG9uc2VTY2hlbWEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyZXNwb25zZVNjaGVtYSddLCBmcm9tUmVzcG9uc2VTY2hlbWEpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJvdXRpbmdDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyb3V0aW5nQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tUm91dGluZ0NvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3JvdXRpbmdDb25maWcnXSwgZnJvbVJvdXRpbmdDb25maWcpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNlZWQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzZWVkJ10pO1xuICBpZiAoZnJvbVNlZWQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzZWVkJ10sIGZyb21TZWVkKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TcGVlY2hDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzcGVlY2hDb25maWcnXSk7XG4gIGlmIChmcm9tU3BlZWNoQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc3BlZWNoQ29uZmlnJ10sIGZyb21TcGVlY2hDb25maWcpO1xuICB9XG5cbiAgY29uc3QgZnJvbVN0b3BTZXF1ZW5jZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzdG9wU2VxdWVuY2VzJyxcbiAgXSk7XG4gIGlmIChmcm9tU3RvcFNlcXVlbmNlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3N0b3BTZXF1ZW5jZXMnXSwgZnJvbVN0b3BTZXF1ZW5jZXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRlbXBlcmF0dXJlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGVtcGVyYXR1cmUnXSk7XG4gIGlmIChmcm9tVGVtcGVyYXR1cmUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0ZW1wZXJhdHVyZSddLCBmcm9tVGVtcGVyYXR1cmUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRoaW5raW5nQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndGhpbmtpbmdDb25maWcnLFxuICBdKTtcbiAgaWYgKGZyb21UaGlua2luZ0NvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RoaW5raW5nQ29uZmlnJ10sIGZyb21UaGlua2luZ0NvbmZpZyk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9wSyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RvcEsnXSk7XG4gIGlmIChmcm9tVG9wSyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RvcEsnXSwgZnJvbVRvcEspO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvcFAgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b3BQJ10pO1xuICBpZiAoZnJvbVRvcFAgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0b3BQJ10sIGZyb21Ub3BQKTtcbiAgfVxuXG4gIGlmIChcbiAgICBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlbmFibGVFbmhhbmNlZENpdmljQW5zd2VycyddKSAhPT1cbiAgICB1bmRlZmluZWRcbiAgKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ2VuYWJsZUVuaGFuY2VkQ2l2aWNBbnN3ZXJzIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIFZlcnRleCBBSS4nLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnb29nbGVNYXBzVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuR29vZ2xlTWFwcyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2F1dGhDb25maWcnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignYXV0aENvbmZpZyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbUVuYWJsZVdpZGdldCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2VuYWJsZVdpZGdldCddKTtcbiAgaWYgKGZyb21FbmFibGVXaWRnZXQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydlbmFibGVXaWRnZXQnXSwgZnJvbUVuYWJsZVdpZGdldCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnb29nbGVTZWFyY2hUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Hb29nbGVTZWFyY2gsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydleGNsdWRlRG9tYWlucyddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdleGNsdWRlRG9tYWlucyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Jsb2NraW5nQ29uZmlkZW5jZSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ2Jsb2NraW5nQ29uZmlkZW5jZSBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaW1lUmFuZ2VGaWx0ZXIgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0aW1lUmFuZ2VGaWx0ZXInLFxuICBdKTtcbiAgaWYgKGZyb21UaW1lUmFuZ2VGaWx0ZXIgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aW1lUmFuZ2VGaWx0ZXInXSwgZnJvbVRpbWVSYW5nZUZpbHRlcik7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXZlQ2xpZW50Q29udGVudFRvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpdmVDbGllbnRDb250ZW50LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVHVybnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0dXJucyddKTtcbiAgaWYgKGZyb21UdXJucyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IGZyb21UdXJucztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBjb250ZW50VG9NbGRldihpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndHVybnMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UdXJuQ29tcGxldGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0dXJuQ29tcGxldGUnXSk7XG4gIGlmIChmcm9tVHVybkNvbXBsZXRlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndHVybkNvbXBsZXRlJ10sIGZyb21UdXJuQ29tcGxldGUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGl2ZUNsaWVudE1lc3NhZ2VUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXZlQ2xpZW50TWVzc2FnZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVNldHVwID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc2V0dXAnXSk7XG4gIGlmIChmcm9tU2V0dXAgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzZXR1cCddLFxuICAgICAgbGl2ZUNsaWVudFNldHVwVG9NbGRldihmcm9tU2V0dXApLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ2xpZW50Q29udGVudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NsaWVudENvbnRlbnQnLFxuICBdKTtcbiAgaWYgKGZyb21DbGllbnRDb250ZW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnY2xpZW50Q29udGVudCddLFxuICAgICAgbGl2ZUNsaWVudENvbnRlbnRUb01sZGV2KGZyb21DbGllbnRDb250ZW50KSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlYWx0aW1lSW5wdXQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZWFsdGltZUlucHV0JyxcbiAgXSk7XG4gIGlmIChmcm9tUmVhbHRpbWVJbnB1dCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3JlYWx0aW1lSW5wdXQnXSxcbiAgICAgIGxpdmVDbGllbnRSZWFsdGltZUlucHV0VG9NbGRldihmcm9tUmVhbHRpbWVJbnB1dCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub29sUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b29sUmVzcG9uc2UnXSk7XG4gIGlmIChmcm9tVG9vbFJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndG9vbFJlc3BvbnNlJ10sIGZyb21Ub29sUmVzcG9uc2UpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGl2ZUNsaWVudE1lc3NhZ2VUb1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuTGl2ZUNsaWVudE1lc3NhZ2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21TZXR1cCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NldHVwJ10pO1xuICBpZiAoZnJvbVNldHVwICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnc2V0dXAnXSxcbiAgICAgIGxpdmVDbGllbnRTZXR1cFRvVmVydGV4KGZyb21TZXR1cCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21DbGllbnRDb250ZW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY2xpZW50Q29udGVudCcsXG4gIF0pO1xuICBpZiAoZnJvbUNsaWVudENvbnRlbnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjbGllbnRDb250ZW50J10sIGZyb21DbGllbnRDb250ZW50KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZWFsdGltZUlucHV0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVhbHRpbWVJbnB1dCcsXG4gIF0pO1xuICBpZiAoZnJvbVJlYWx0aW1lSW5wdXQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZWFsdGltZUlucHV0J10sXG4gICAgICBsaXZlQ2xpZW50UmVhbHRpbWVJbnB1dFRvVmVydGV4KGZyb21SZWFsdGltZUlucHV0KSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xSZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rvb2xSZXNwb25zZSddKTtcbiAgaWYgKGZyb21Ub29sUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0b29sUmVzcG9uc2UnXSwgZnJvbVRvb2xSZXNwb25zZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXZlQ2xpZW50UmVhbHRpbWVJbnB1dFRvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpdmVDbGllbnRSZWFsdGltZUlucHV0LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTWVkaWFDaHVua3MgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtZWRpYUNodW5rcyddKTtcbiAgaWYgKGZyb21NZWRpYUNodW5rcyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IGZyb21NZWRpYUNodW5rcztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBibG9iVG9NbGRldihpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWVkaWFDaHVua3MnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21BdWRpbyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2F1ZGlvJ10pO1xuICBpZiAoZnJvbUF1ZGlvICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnYXVkaW8nXSwgYmxvYlRvTWxkZXYoZnJvbUF1ZGlvKSk7XG4gIH1cblxuICBjb25zdCBmcm9tQXVkaW9TdHJlYW1FbmQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdhdWRpb1N0cmVhbUVuZCcsXG4gIF0pO1xuICBpZiAoZnJvbUF1ZGlvU3RyZWFtRW5kICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnYXVkaW9TdHJlYW1FbmQnXSwgZnJvbUF1ZGlvU3RyZWFtRW5kKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21WaWRlbyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3ZpZGVvJ10pO1xuICBpZiAoZnJvbVZpZGVvICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndmlkZW8nXSwgYmxvYlRvTWxkZXYoZnJvbVZpZGVvKSk7XG4gIH1cblxuICBjb25zdCBmcm9tVGV4dCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RleHQnXSk7XG4gIGlmIChmcm9tVGV4dCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RleHQnXSwgZnJvbVRleHQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUFjdGl2aXR5U3RhcnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdhY3Rpdml0eVN0YXJ0JyxcbiAgXSk7XG4gIGlmIChmcm9tQWN0aXZpdHlTdGFydCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2FjdGl2aXR5U3RhcnQnXSwgZnJvbUFjdGl2aXR5U3RhcnQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUFjdGl2aXR5RW5kID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYWN0aXZpdHlFbmQnXSk7XG4gIGlmIChmcm9tQWN0aXZpdHlFbmQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydhY3Rpdml0eUVuZCddLCBmcm9tQWN0aXZpdHlFbmQpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGl2ZUNsaWVudFJlYWx0aW1lSW5wdXRUb1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuTGl2ZUNsaWVudFJlYWx0aW1lSW5wdXQsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21NZWRpYUNodW5rcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21lZGlhQ2h1bmtzJ10pO1xuICBpZiAoZnJvbU1lZGlhQ2h1bmtzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbU1lZGlhQ2h1bmtzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21lZGlhQ2h1bmtzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICBjb25zdCBmcm9tQXVkaW8gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhdWRpbyddKTtcbiAgaWYgKGZyb21BdWRpbyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2F1ZGlvJ10sIGZyb21BdWRpbyk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYXVkaW9TdHJlYW1FbmQnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignYXVkaW9TdHJlYW1FbmQgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gVmVydGV4IEFJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbVZpZGVvID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndmlkZW8nXSk7XG4gIGlmIChmcm9tVmlkZW8gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd2aWRlbyddLCBmcm9tVmlkZW8pO1xuICB9XG5cbiAgY29uc3QgZnJvbVRleHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0ZXh0J10pO1xuICBpZiAoZnJvbVRleHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0ZXh0J10sIGZyb21UZXh0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21BY3Rpdml0eVN0YXJ0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnYWN0aXZpdHlTdGFydCcsXG4gIF0pO1xuICBpZiAoZnJvbUFjdGl2aXR5U3RhcnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydhY3Rpdml0eVN0YXJ0J10sIGZyb21BY3Rpdml0eVN0YXJ0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21BY3Rpdml0eUVuZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2FjdGl2aXR5RW5kJ10pO1xuICBpZiAoZnJvbUFjdGl2aXR5RW5kICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnYWN0aXZpdHlFbmQnXSwgZnJvbUFjdGl2aXR5RW5kKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpdmVDbGllbnRTZXR1cFRvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpdmVDbGllbnRTZXR1cCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtb2RlbCddLCBmcm9tTW9kZWwpO1xuICB9XG5cbiAgY29uc3QgZnJvbUdlbmVyYXRpb25Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdnZW5lcmF0aW9uQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tR2VuZXJhdGlvbkNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2dlbmVyYXRpb25Db25maWcnXSwgZnJvbUdlbmVyYXRpb25Db25maWcpO1xuICB9XG5cbiAgY29uc3QgZnJvbVN5c3RlbUluc3RydWN0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc3lzdGVtSW5zdHJ1Y3Rpb24nLFxuICBdKTtcbiAgaWYgKGZyb21TeXN0ZW1JbnN0cnVjdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3N5c3RlbUluc3RydWN0aW9uJ10sXG4gICAgICBjb250ZW50VG9NbGRldih0LnRDb250ZW50KGZyb21TeXN0ZW1JbnN0cnVjdGlvbikpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9vbHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b29scyddKTtcbiAgaWYgKGZyb21Ub29scyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IHQudFRvb2xzKGZyb21Ub29scyk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbFRvTWxkZXYodC50VG9vbChpdGVtKSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Rvb2xzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVhbHRpbWVJbnB1dENvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3JlYWx0aW1lSW5wdXRDb25maWcnLFxuICBdKTtcbiAgaWYgKGZyb21SZWFsdGltZUlucHV0Q29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmVhbHRpbWVJbnB1dENvbmZpZyddLFxuICAgICAgZnJvbVJlYWx0aW1lSW5wdXRDb25maWcsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TZXNzaW9uUmVzdW1wdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Nlc3Npb25SZXN1bXB0aW9uJyxcbiAgXSk7XG4gIGlmIChmcm9tU2Vzc2lvblJlc3VtcHRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzZXNzaW9uUmVzdW1wdGlvbiddLFxuICAgICAgc2Vzc2lvblJlc3VtcHRpb25Db25maWdUb01sZGV2KGZyb21TZXNzaW9uUmVzdW1wdGlvbiksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db250ZXh0V2luZG93Q29tcHJlc3Npb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjb250ZXh0V2luZG93Q29tcHJlc3Npb24nLFxuICBdKTtcbiAgaWYgKGZyb21Db250ZXh0V2luZG93Q29tcHJlc3Npb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb250ZXh0V2luZG93Q29tcHJlc3Npb24nXSxcbiAgICAgIGZyb21Db250ZXh0V2luZG93Q29tcHJlc3Npb24sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2lucHV0QXVkaW9UcmFuc2NyaXB0aW9uJyxcbiAgXSk7XG4gIGlmIChmcm9tSW5wdXRBdWRpb1RyYW5zY3JpcHRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydpbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbiddLFxuICAgICAgZnJvbUlucHV0QXVkaW9UcmFuc2NyaXB0aW9uLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tT3V0cHV0QXVkaW9UcmFuc2NyaXB0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnb3V0cHV0QXVkaW9UcmFuc2NyaXB0aW9uJyxcbiAgXSk7XG4gIGlmIChmcm9tT3V0cHV0QXVkaW9UcmFuc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnb3V0cHV0QXVkaW9UcmFuc2NyaXB0aW9uJ10sXG4gICAgICBmcm9tT3V0cHV0QXVkaW9UcmFuc2NyaXB0aW9uLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJvYWN0aXZpdHkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwcm9hY3Rpdml0eSddKTtcbiAgaWYgKGZyb21Qcm9hY3Rpdml0eSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Byb2FjdGl2aXR5J10sIGZyb21Qcm9hY3Rpdml0eSk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXhwbGljaXRWYWRTaWduYWwnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdleHBsaWNpdFZhZFNpZ25hbCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpdmVDbGllbnRTZXR1cFRvVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXZlQ2xpZW50U2V0dXAsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbW9kZWwnXSwgZnJvbU1vZGVsKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21HZW5lcmF0aW9uQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZ2VuZXJhdGlvbkNvbmZpZycsXG4gIF0pO1xuICBpZiAoZnJvbUdlbmVyYXRpb25Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydnZW5lcmF0aW9uQ29uZmlnJ10sXG4gICAgICBnZW5lcmF0aW9uQ29uZmlnVG9WZXJ0ZXgoZnJvbUdlbmVyYXRpb25Db25maWcpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzeXN0ZW1JbnN0cnVjdGlvbicsXG4gIF0pO1xuICBpZiAoZnJvbVN5c3RlbUluc3RydWN0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnc3lzdGVtSW5zdHJ1Y3Rpb24nXSxcbiAgICAgIHQudENvbnRlbnQoZnJvbVN5c3RlbUluc3RydWN0aW9uKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9vbHMnXSk7XG4gIGlmIChmcm9tVG9vbHMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSB0LnRUb29scyhmcm9tVG9vbHMpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2xUb1ZlcnRleCh0LnRUb29sKGl0ZW0pKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndG9vbHMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZWFsdGltZUlucHV0Q29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVhbHRpbWVJbnB1dENvbmZpZycsXG4gIF0pO1xuICBpZiAoZnJvbVJlYWx0aW1lSW5wdXRDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZWFsdGltZUlucHV0Q29uZmlnJ10sXG4gICAgICBmcm9tUmVhbHRpbWVJbnB1dENvbmZpZyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVNlc3Npb25SZXN1bXB0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2Vzc2lvblJlc3VtcHRpb24nLFxuICBdKTtcbiAgaWYgKGZyb21TZXNzaW9uUmVzdW1wdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Nlc3Npb25SZXN1bXB0aW9uJ10sXG4gICAgICBmcm9tU2Vzc2lvblJlc3VtcHRpb24sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db250ZXh0V2luZG93Q29tcHJlc3Npb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjb250ZXh0V2luZG93Q29tcHJlc3Npb24nLFxuICBdKTtcbiAgaWYgKGZyb21Db250ZXh0V2luZG93Q29tcHJlc3Npb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb250ZXh0V2luZG93Q29tcHJlc3Npb24nXSxcbiAgICAgIGZyb21Db250ZXh0V2luZG93Q29tcHJlc3Npb24sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2lucHV0QXVkaW9UcmFuc2NyaXB0aW9uJyxcbiAgXSk7XG4gIGlmIChmcm9tSW5wdXRBdWRpb1RyYW5zY3JpcHRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydpbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbiddLFxuICAgICAgZnJvbUlucHV0QXVkaW9UcmFuc2NyaXB0aW9uLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tT3V0cHV0QXVkaW9UcmFuc2NyaXB0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnb3V0cHV0QXVkaW9UcmFuc2NyaXB0aW9uJyxcbiAgXSk7XG4gIGlmIChmcm9tT3V0cHV0QXVkaW9UcmFuc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnb3V0cHV0QXVkaW9UcmFuc2NyaXB0aW9uJ10sXG4gICAgICBmcm9tT3V0cHV0QXVkaW9UcmFuc2NyaXB0aW9uLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJvYWN0aXZpdHkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwcm9hY3Rpdml0eSddKTtcbiAgaWYgKGZyb21Qcm9hY3Rpdml0eSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Byb2FjdGl2aXR5J10sIGZyb21Qcm9hY3Rpdml0eSk7XG4gIH1cblxuICBjb25zdCBmcm9tRXhwbGljaXRWYWRTaWduYWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdleHBsaWNpdFZhZFNpZ25hbCcsXG4gIF0pO1xuICBpZiAoZnJvbUV4cGxpY2l0VmFkU2lnbmFsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZXhwbGljaXRWYWRTaWduYWwnXSxcbiAgICAgIGZyb21FeHBsaWNpdFZhZFNpZ25hbCxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGl2ZUNvbm5lY3RDb25maWdUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXZlQ29ubmVjdENvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUdlbmVyYXRpb25Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdnZW5lcmF0aW9uQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tR2VuZXJhdGlvbkNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdnZW5lcmF0aW9uQ29uZmlnJ10sXG4gICAgICBmcm9tR2VuZXJhdGlvbkNvbmZpZyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc3BvbnNlTW9kYWxpdGllcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlTW9kYWxpdGllcycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVJlc3BvbnNlTW9kYWxpdGllcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdnZW5lcmF0aW9uQ29uZmlnJywgJ3Jlc3BvbnNlTW9kYWxpdGllcyddLFxuICAgICAgZnJvbVJlc3BvbnNlTW9kYWxpdGllcyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRlbXBlcmF0dXJlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGVtcGVyYXR1cmUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVGVtcGVyYXR1cmUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc2V0dXAnLCAnZ2VuZXJhdGlvbkNvbmZpZycsICd0ZW1wZXJhdHVyZSddLFxuICAgICAgZnJvbVRlbXBlcmF0dXJlLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9wUCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RvcFAnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVG9wUCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdnZW5lcmF0aW9uQ29uZmlnJywgJ3RvcFAnXSxcbiAgICAgIGZyb21Ub3BQLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9wSyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RvcEsnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVG9wSyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdnZW5lcmF0aW9uQ29uZmlnJywgJ3RvcEsnXSxcbiAgICAgIGZyb21Ub3BLLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTWF4T3V0cHV0VG9rZW5zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbWF4T3V0cHV0VG9rZW5zJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTWF4T3V0cHV0VG9rZW5zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3NldHVwJywgJ2dlbmVyYXRpb25Db25maWcnLCAnbWF4T3V0cHV0VG9rZW5zJ10sXG4gICAgICBmcm9tTWF4T3V0cHV0VG9rZW5zLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTWVkaWFSZXNvbHV0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbWVkaWFSZXNvbHV0aW9uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTWVkaWFSZXNvbHV0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3NldHVwJywgJ2dlbmVyYXRpb25Db25maWcnLCAnbWVkaWFSZXNvbHV0aW9uJ10sXG4gICAgICBmcm9tTWVkaWFSZXNvbHV0aW9uLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tU2VlZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NlZWQnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tU2VlZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdnZW5lcmF0aW9uQ29uZmlnJywgJ3NlZWQnXSxcbiAgICAgIGZyb21TZWVkLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tU3BlZWNoQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc3BlZWNoQ29uZmlnJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVNwZWVjaENvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdnZW5lcmF0aW9uQ29uZmlnJywgJ3NwZWVjaENvbmZpZyddLFxuICAgICAgdC50TGl2ZVNwZWVjaENvbmZpZyhmcm9tU3BlZWNoQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRoaW5raW5nQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndGhpbmtpbmdDb25maWcnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21UaGlua2luZ0NvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdnZW5lcmF0aW9uQ29uZmlnJywgJ3RoaW5raW5nQ29uZmlnJ10sXG4gICAgICBmcm9tVGhpbmtpbmdDb25maWcsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FbmFibGVBZmZlY3RpdmVEaWFsb2cgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdlbmFibGVBZmZlY3RpdmVEaWFsb2cnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21FbmFibGVBZmZlY3RpdmVEaWFsb2cgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc2V0dXAnLCAnZ2VuZXJhdGlvbkNvbmZpZycsICdlbmFibGVBZmZlY3RpdmVEaWFsb2cnXSxcbiAgICAgIGZyb21FbmFibGVBZmZlY3RpdmVEaWFsb2csXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TeXN0ZW1JbnN0cnVjdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3N5c3RlbUluc3RydWN0aW9uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc2V0dXAnLCAnc3lzdGVtSW5zdHJ1Y3Rpb24nXSxcbiAgICAgIGNvbnRlbnRUb01sZGV2KHQudENvbnRlbnQoZnJvbVN5c3RlbUluc3RydWN0aW9uKSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub29scyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rvb2xzJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRvb2xzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gdC50VG9vbHMoZnJvbVRvb2xzKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiB0b29sVG9NbGRldih0LnRUb29sKGl0ZW0pKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ3NldHVwJywgJ3Rvb2xzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICBjb25zdCBmcm9tU2Vzc2lvblJlc3VtcHRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZXNzaW9uUmVzdW1wdGlvbicsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVNlc3Npb25SZXN1bXB0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3NldHVwJywgJ3Nlc3Npb25SZXN1bXB0aW9uJ10sXG4gICAgICBzZXNzaW9uUmVzdW1wdGlvbkNvbmZpZ1RvTWxkZXYoZnJvbVNlc3Npb25SZXN1bXB0aW9uKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUlucHV0QXVkaW9UcmFuc2NyaXB0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnaW5wdXRBdWRpb1RyYW5zY3JpcHRpb24nLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdpbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbiddLFxuICAgICAgZnJvbUlucHV0QXVkaW9UcmFuc2NyaXB0aW9uLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tT3V0cHV0QXVkaW9UcmFuc2NyaXB0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnb3V0cHV0QXVkaW9UcmFuc2NyaXB0aW9uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tT3V0cHV0QXVkaW9UcmFuc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3NldHVwJywgJ291dHB1dEF1ZGlvVHJhbnNjcmlwdGlvbiddLFxuICAgICAgZnJvbU91dHB1dEF1ZGlvVHJhbnNjcmlwdGlvbixcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlYWx0aW1lSW5wdXRDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZWFsdGltZUlucHV0Q29uZmlnJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUmVhbHRpbWVJbnB1dENvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdyZWFsdGltZUlucHV0Q29uZmlnJ10sXG4gICAgICBmcm9tUmVhbHRpbWVJbnB1dENvbmZpZyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbnRleHRXaW5kb3dDb21wcmVzc2lvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NvbnRleHRXaW5kb3dDb21wcmVzc2lvbicsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUNvbnRleHRXaW5kb3dDb21wcmVzc2lvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdjb250ZXh0V2luZG93Q29tcHJlc3Npb24nXSxcbiAgICAgIGZyb21Db250ZXh0V2luZG93Q29tcHJlc3Npb24sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Qcm9hY3Rpdml0eSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Byb2FjdGl2aXR5J10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVByb2FjdGl2aXR5ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3NldHVwJywgJ3Byb2FjdGl2aXR5J10sXG4gICAgICBmcm9tUHJvYWN0aXZpdHksXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydleHBsaWNpdFZhZFNpZ25hbCddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ2V4cGxpY2l0VmFkU2lnbmFsIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGl2ZUNvbm5lY3RDb25maWdUb1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuTGl2ZUNvbm5lY3RDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21HZW5lcmF0aW9uQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZ2VuZXJhdGlvbkNvbmZpZycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUdlbmVyYXRpb25Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc2V0dXAnLCAnZ2VuZXJhdGlvbkNvbmZpZyddLFxuICAgICAgZ2VuZXJhdGlvbkNvbmZpZ1RvVmVydGV4KGZyb21HZW5lcmF0aW9uQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc3BvbnNlTW9kYWxpdGllcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlTW9kYWxpdGllcycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVJlc3BvbnNlTW9kYWxpdGllcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdnZW5lcmF0aW9uQ29uZmlnJywgJ3Jlc3BvbnNlTW9kYWxpdGllcyddLFxuICAgICAgZnJvbVJlc3BvbnNlTW9kYWxpdGllcyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRlbXBlcmF0dXJlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGVtcGVyYXR1cmUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVGVtcGVyYXR1cmUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc2V0dXAnLCAnZ2VuZXJhdGlvbkNvbmZpZycsICd0ZW1wZXJhdHVyZSddLFxuICAgICAgZnJvbVRlbXBlcmF0dXJlLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9wUCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RvcFAnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVG9wUCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdnZW5lcmF0aW9uQ29uZmlnJywgJ3RvcFAnXSxcbiAgICAgIGZyb21Ub3BQLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9wSyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RvcEsnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVG9wSyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdnZW5lcmF0aW9uQ29uZmlnJywgJ3RvcEsnXSxcbiAgICAgIGZyb21Ub3BLLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTWF4T3V0cHV0VG9rZW5zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbWF4T3V0cHV0VG9rZW5zJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTWF4T3V0cHV0VG9rZW5zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3NldHVwJywgJ2dlbmVyYXRpb25Db25maWcnLCAnbWF4T3V0cHV0VG9rZW5zJ10sXG4gICAgICBmcm9tTWF4T3V0cHV0VG9rZW5zLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTWVkaWFSZXNvbHV0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbWVkaWFSZXNvbHV0aW9uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTWVkaWFSZXNvbHV0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3NldHVwJywgJ2dlbmVyYXRpb25Db25maWcnLCAnbWVkaWFSZXNvbHV0aW9uJ10sXG4gICAgICBmcm9tTWVkaWFSZXNvbHV0aW9uLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tU2VlZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NlZWQnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tU2VlZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdnZW5lcmF0aW9uQ29uZmlnJywgJ3NlZWQnXSxcbiAgICAgIGZyb21TZWVkLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tU3BlZWNoQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc3BlZWNoQ29uZmlnJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVNwZWVjaENvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdnZW5lcmF0aW9uQ29uZmlnJywgJ3NwZWVjaENvbmZpZyddLFxuICAgICAgdC50TGl2ZVNwZWVjaENvbmZpZyhmcm9tU3BlZWNoQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRoaW5raW5nQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndGhpbmtpbmdDb25maWcnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21UaGlua2luZ0NvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdnZW5lcmF0aW9uQ29uZmlnJywgJ3RoaW5raW5nQ29uZmlnJ10sXG4gICAgICBmcm9tVGhpbmtpbmdDb25maWcsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FbmFibGVBZmZlY3RpdmVEaWFsb2cgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdlbmFibGVBZmZlY3RpdmVEaWFsb2cnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21FbmFibGVBZmZlY3RpdmVEaWFsb2cgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc2V0dXAnLCAnZ2VuZXJhdGlvbkNvbmZpZycsICdlbmFibGVBZmZlY3RpdmVEaWFsb2cnXSxcbiAgICAgIGZyb21FbmFibGVBZmZlY3RpdmVEaWFsb2csXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TeXN0ZW1JbnN0cnVjdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3N5c3RlbUluc3RydWN0aW9uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc2V0dXAnLCAnc3lzdGVtSW5zdHJ1Y3Rpb24nXSxcbiAgICAgIHQudENvbnRlbnQoZnJvbVN5c3RlbUluc3RydWN0aW9uKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9vbHMnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVG9vbHMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSB0LnRUb29scyhmcm9tVG9vbHMpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2xUb1ZlcnRleCh0LnRUb29sKGl0ZW0pKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ3NldHVwJywgJ3Rvb2xzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICBjb25zdCBmcm9tU2Vzc2lvblJlc3VtcHRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZXNzaW9uUmVzdW1wdGlvbicsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVNlc3Npb25SZXN1bXB0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3NldHVwJywgJ3Nlc3Npb25SZXN1bXB0aW9uJ10sXG4gICAgICBmcm9tU2Vzc2lvblJlc3VtcHRpb24sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2lucHV0QXVkaW9UcmFuc2NyaXB0aW9uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tSW5wdXRBdWRpb1RyYW5zY3JpcHRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc2V0dXAnLCAnaW5wdXRBdWRpb1RyYW5zY3JpcHRpb24nXSxcbiAgICAgIGZyb21JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbixcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU91dHB1dEF1ZGlvVHJhbnNjcmlwdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ291dHB1dEF1ZGlvVHJhbnNjcmlwdGlvbicsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU91dHB1dEF1ZGlvVHJhbnNjcmlwdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdvdXRwdXRBdWRpb1RyYW5zY3JpcHRpb24nXSxcbiAgICAgIGZyb21PdXRwdXRBdWRpb1RyYW5zY3JpcHRpb24sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZWFsdGltZUlucHV0Q29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVhbHRpbWVJbnB1dENvbmZpZycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVJlYWx0aW1lSW5wdXRDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc2V0dXAnLCAncmVhbHRpbWVJbnB1dENvbmZpZyddLFxuICAgICAgZnJvbVJlYWx0aW1lSW5wdXRDb25maWcsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db250ZXh0V2luZG93Q29tcHJlc3Npb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjb250ZXh0V2luZG93Q29tcHJlc3Npb24nLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21Db250ZXh0V2luZG93Q29tcHJlc3Npb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc2V0dXAnLCAnY29udGV4dFdpbmRvd0NvbXByZXNzaW9uJ10sXG4gICAgICBmcm9tQ29udGV4dFdpbmRvd0NvbXByZXNzaW9uLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJvYWN0aXZpdHkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwcm9hY3Rpdml0eSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21Qcm9hY3Rpdml0eSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdwcm9hY3Rpdml0eSddLFxuICAgICAgZnJvbVByb2FjdGl2aXR5LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tRXhwbGljaXRWYWRTaWduYWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdleHBsaWNpdFZhZFNpZ25hbCcsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUV4cGxpY2l0VmFkU2lnbmFsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3NldHVwJywgJ2V4cGxpY2l0VmFkU2lnbmFsJ10sXG4gICAgICBmcm9tRXhwbGljaXRWYWRTaWduYWwsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpdmVDb25uZWN0UGFyYW1ldGVyc1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXZlQ29ubmVjdFBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnc2V0dXAnLCAnbW9kZWwnXSxcbiAgICAgIHQudE1vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb25maWcnXSxcbiAgICAgIGxpdmVDb25uZWN0Q29uZmlnVG9NbGRldihmcm9tQ29uZmlnLCB0b09iamVjdCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpdmVDb25uZWN0UGFyYW1ldGVyc1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuTGl2ZUNvbm5lY3RQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3NldHVwJywgJ21vZGVsJ10sXG4gICAgICB0LnRNb2RlbChhcGlDbGllbnQsIGZyb21Nb2RlbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnY29uZmlnJ10sXG4gICAgICBsaXZlQ29ubmVjdENvbmZpZ1RvVmVydGV4KGZyb21Db25maWcsIHRvT2JqZWN0KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGl2ZU11c2ljQ2xpZW50TWVzc2FnZVRvVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXZlTXVzaWNDbGllbnRNZXNzYWdlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc2V0dXAnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0dXAgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gVmVydGV4IEFJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NsaWVudENvbnRlbnQnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xpZW50Q29udGVudCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBWZXJ0ZXggQUkuJyk7XG4gIH1cblxuICBpZiAoXG4gICAgY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbXVzaWNHZW5lcmF0aW9uQ29uZmlnJ10pICE9PSB1bmRlZmluZWRcbiAgKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ211c2ljR2VuZXJhdGlvbkNvbmZpZyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBWZXJ0ZXggQUkuJyxcbiAgICApO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BsYXliYWNrQ29udHJvbCddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwbGF5YmFja0NvbnRyb2wgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gVmVydGV4IEFJLicpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGl2ZU11c2ljQ29ubmVjdFBhcmFtZXRlcnNUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXZlTXVzaWNDb25uZWN0UGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzZXR1cCcsICdtb2RlbCddLCBmcm9tTW9kZWwpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNhbGxiYWNrcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NhbGxiYWNrcyddKTtcbiAgaWYgKGZyb21DYWxsYmFja3MgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjYWxsYmFja3MnXSwgZnJvbUNhbGxiYWNrcyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXZlTXVzaWNDb25uZWN0UGFyYW1ldGVyc1RvVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXZlTXVzaWNDb25uZWN0UGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21vZGVsIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIFZlcnRleCBBSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjYWxsYmFja3MnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2FsbGJhY2tzIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIFZlcnRleCBBSS4nKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpdmVNdXNpY1NldENvbmZpZ1BhcmFtZXRlcnNUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXZlTXVzaWNTZXRDb25maWdQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTXVzaWNHZW5lcmF0aW9uQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbXVzaWNHZW5lcmF0aW9uQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tTXVzaWNHZW5lcmF0aW9uQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnbXVzaWNHZW5lcmF0aW9uQ29uZmlnJ10sXG4gICAgICBmcm9tTXVzaWNHZW5lcmF0aW9uQ29uZmlnLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXZlTXVzaWNTZXRDb25maWdQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpdmVNdXNpY1NldENvbmZpZ1BhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGlmIChcbiAgICBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtdXNpY0dlbmVyYXRpb25Db25maWcnXSkgIT09IHVuZGVmaW5lZFxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnbXVzaWNHZW5lcmF0aW9uQ29uZmlnIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIFZlcnRleCBBSS4nLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXZlTXVzaWNTZXRXZWlnaHRlZFByb21wdHNQYXJhbWV0ZXJzVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuTGl2ZU11c2ljU2V0V2VpZ2h0ZWRQcm9tcHRzUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVdlaWdodGVkUHJvbXB0cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3dlaWdodGVkUHJvbXB0cycsXG4gIF0pO1xuICBpZiAoZnJvbVdlaWdodGVkUHJvbXB0cyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IGZyb21XZWlnaHRlZFByb21wdHM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnd2VpZ2h0ZWRQcm9tcHRzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXZlTXVzaWNTZXRXZWlnaHRlZFByb21wdHNQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpdmVNdXNpY1NldFdlaWdodGVkUHJvbXB0c1BhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd3ZWlnaHRlZFByb21wdHMnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignd2VpZ2h0ZWRQcm9tcHRzIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIFZlcnRleCBBSS4nKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpdmVTZW5kUmVhbHRpbWVJbnB1dFBhcmFtZXRlcnNUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXZlU2VuZFJlYWx0aW1lSW5wdXRQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTWVkaWEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtZWRpYSddKTtcbiAgaWYgKGZyb21NZWRpYSAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IHQudEJsb2JzKGZyb21NZWRpYSk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gYmxvYlRvTWxkZXYoaXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21lZGlhQ2h1bmtzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICBjb25zdCBmcm9tQXVkaW8gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhdWRpbyddKTtcbiAgaWYgKGZyb21BdWRpbyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2F1ZGlvJ10sXG4gICAgICBibG9iVG9NbGRldih0LnRBdWRpb0Jsb2IoZnJvbUF1ZGlvKSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21BdWRpb1N0cmVhbUVuZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2F1ZGlvU3RyZWFtRW5kJyxcbiAgXSk7XG4gIGlmIChmcm9tQXVkaW9TdHJlYW1FbmQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydhdWRpb1N0cmVhbUVuZCddLCBmcm9tQXVkaW9TdHJlYW1FbmQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVZpZGVvID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndmlkZW8nXSk7XG4gIGlmIChmcm9tVmlkZW8gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd2aWRlbyddLFxuICAgICAgYmxvYlRvTWxkZXYodC50SW1hZ2VCbG9iKGZyb21WaWRlbykpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVGV4dCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RleHQnXSk7XG4gIGlmIChmcm9tVGV4dCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RleHQnXSwgZnJvbVRleHQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUFjdGl2aXR5U3RhcnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdhY3Rpdml0eVN0YXJ0JyxcbiAgXSk7XG4gIGlmIChmcm9tQWN0aXZpdHlTdGFydCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2FjdGl2aXR5U3RhcnQnXSwgZnJvbUFjdGl2aXR5U3RhcnQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUFjdGl2aXR5RW5kID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYWN0aXZpdHlFbmQnXSk7XG4gIGlmIChmcm9tQWN0aXZpdHlFbmQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydhY3Rpdml0eUVuZCddLCBmcm9tQWN0aXZpdHlFbmQpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGl2ZVNlbmRSZWFsdGltZUlucHV0UGFyYW1ldGVyc1RvVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXZlU2VuZFJlYWx0aW1lSW5wdXRQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTWVkaWEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtZWRpYSddKTtcbiAgaWYgKGZyb21NZWRpYSAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IHQudEJsb2JzKGZyb21NZWRpYSk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWVkaWFDaHVua3MnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21BdWRpbyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2F1ZGlvJ10pO1xuICBpZiAoZnJvbUF1ZGlvICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnYXVkaW8nXSwgdC50QXVkaW9CbG9iKGZyb21BdWRpbykpO1xuICB9XG5cbiAgY29uc3QgZnJvbUF1ZGlvU3RyZWFtRW5kID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnYXVkaW9TdHJlYW1FbmQnLFxuICBdKTtcbiAgaWYgKGZyb21BdWRpb1N0cmVhbUVuZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2F1ZGlvU3RyZWFtRW5kJ10sIGZyb21BdWRpb1N0cmVhbUVuZCk7XG4gIH1cblxuICBjb25zdCBmcm9tVmlkZW8gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd2aWRlbyddKTtcbiAgaWYgKGZyb21WaWRlbyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3ZpZGVvJ10sIHQudEltYWdlQmxvYihmcm9tVmlkZW8pKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UZXh0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGV4dCddKTtcbiAgaWYgKGZyb21UZXh0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGV4dCddLCBmcm9tVGV4dCk7XG4gIH1cblxuICBjb25zdCBmcm9tQWN0aXZpdHlTdGFydCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2FjdGl2aXR5U3RhcnQnLFxuICBdKTtcbiAgaWYgKGZyb21BY3Rpdml0eVN0YXJ0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnYWN0aXZpdHlTdGFydCddLCBmcm9tQWN0aXZpdHlTdGFydCk7XG4gIH1cblxuICBjb25zdCBmcm9tQWN0aXZpdHlFbmQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhY3Rpdml0eUVuZCddKTtcbiAgaWYgKGZyb21BY3Rpdml0eUVuZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2FjdGl2aXR5RW5kJ10sIGZyb21BY3Rpdml0eUVuZCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXZlU2VydmVyTWVzc2FnZUZyb21WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpdmVTZXJ2ZXJNZXNzYWdlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tU2V0dXBDb21wbGV0ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3NldHVwQ29tcGxldGUnLFxuICBdKTtcbiAgaWYgKGZyb21TZXR1cENvbXBsZXRlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2V0dXBDb21wbGV0ZSddLCBmcm9tU2V0dXBDb21wbGV0ZSk7XG4gIH1cblxuICBjb25zdCBmcm9tU2VydmVyQ29udGVudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3NlcnZlckNvbnRlbnQnLFxuICBdKTtcbiAgaWYgKGZyb21TZXJ2ZXJDb250ZW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2VydmVyQ29udGVudCddLCBmcm9tU2VydmVyQ29udGVudCk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9vbENhbGwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b29sQ2FsbCddKTtcbiAgaWYgKGZyb21Ub29sQ2FsbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Rvb2xDYWxsJ10sIGZyb21Ub29sQ2FsbCk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9vbENhbGxDYW5jZWxsYXRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0b29sQ2FsbENhbmNlbGxhdGlvbicsXG4gIF0pO1xuICBpZiAoZnJvbVRvb2xDYWxsQ2FuY2VsbGF0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndG9vbENhbGxDYW5jZWxsYXRpb24nXSxcbiAgICAgIGZyb21Ub29sQ2FsbENhbmNlbGxhdGlvbixcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVVzYWdlTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd1c2FnZU1ldGFkYXRhJyxcbiAgXSk7XG4gIGlmIChmcm9tVXNhZ2VNZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3VzYWdlTWV0YWRhdGEnXSxcbiAgICAgIHVzYWdlTWV0YWRhdGFGcm9tVmVydGV4KGZyb21Vc2FnZU1ldGFkYXRhKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUdvQXdheSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2dvQXdheSddKTtcbiAgaWYgKGZyb21Hb0F3YXkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydnb0F3YXknXSwgZnJvbUdvQXdheSk7XG4gIH1cblxuICBjb25zdCBmcm9tU2Vzc2lvblJlc3VtcHRpb25VcGRhdGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZXNzaW9uUmVzdW1wdGlvblVwZGF0ZScsXG4gIF0pO1xuICBpZiAoZnJvbVNlc3Npb25SZXN1bXB0aW9uVXBkYXRlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnc2Vzc2lvblJlc3VtcHRpb25VcGRhdGUnXSxcbiAgICAgIGZyb21TZXNzaW9uUmVzdW1wdGlvblVwZGF0ZSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVZvaWNlQWN0aXZpdHlEZXRlY3Rpb25TaWduYWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd2b2ljZUFjdGl2aXR5RGV0ZWN0aW9uU2lnbmFsJyxcbiAgXSk7XG4gIGlmIChmcm9tVm9pY2VBY3Rpdml0eURldGVjdGlvblNpZ25hbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3ZvaWNlQWN0aXZpdHlEZXRlY3Rpb25TaWduYWwnXSxcbiAgICAgIGZyb21Wb2ljZUFjdGl2aXR5RGV0ZWN0aW9uU2lnbmFsLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJ0VG9NbGRldihmcm9tT2JqZWN0OiB0eXBlcy5QYXJ0KTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTWVkaWFSZXNvbHV0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbWVkaWFSZXNvbHV0aW9uJyxcbiAgXSk7XG4gIGlmIChmcm9tTWVkaWFSZXNvbHV0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWVkaWFSZXNvbHV0aW9uJ10sIGZyb21NZWRpYVJlc29sdXRpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvZGVFeGVjdXRpb25SZXN1bHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjb2RlRXhlY3V0aW9uUmVzdWx0JyxcbiAgXSk7XG4gIGlmIChmcm9tQ29kZUV4ZWN1dGlvblJlc3VsdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NvZGVFeGVjdXRpb25SZXN1bHQnXSxcbiAgICAgIGZyb21Db2RlRXhlY3V0aW9uUmVzdWx0LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tRXhlY3V0YWJsZUNvZGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdleGVjdXRhYmxlQ29kZScsXG4gIF0pO1xuICBpZiAoZnJvbUV4ZWN1dGFibGVDb2RlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZXhlY3V0YWJsZUNvZGUnXSwgZnJvbUV4ZWN1dGFibGVDb2RlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GaWxlRGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ZpbGVEYXRhJ10pO1xuICBpZiAoZnJvbUZpbGVEYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZmlsZURhdGEnXSxcbiAgICAgIGZpbGVEYXRhVG9NbGRldihmcm9tRmlsZURhdGEpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tRnVuY3Rpb25DYWxsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZnVuY3Rpb25DYWxsJ10pO1xuICBpZiAoZnJvbUZ1bmN0aW9uQ2FsbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2Z1bmN0aW9uQ2FsbCddLFxuICAgICAgZnVuY3Rpb25DYWxsVG9NbGRldihmcm9tRnVuY3Rpb25DYWxsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdmdW5jdGlvblJlc3BvbnNlJyxcbiAgXSk7XG4gIGlmIChmcm9tRnVuY3Rpb25SZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Z1bmN0aW9uUmVzcG9uc2UnXSwgZnJvbUZ1bmN0aW9uUmVzcG9uc2UpO1xuICB9XG5cbiAgY29uc3QgZnJvbUlubGluZURhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpbmxpbmVEYXRhJ10pO1xuICBpZiAoZnJvbUlubGluZURhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydpbmxpbmVEYXRhJ10sXG4gICAgICBibG9iVG9NbGRldihmcm9tSW5saW5lRGF0YSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UZXh0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGV4dCddKTtcbiAgaWYgKGZyb21UZXh0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGV4dCddLCBmcm9tVGV4dCk7XG4gIH1cblxuICBjb25zdCBmcm9tVGhvdWdodCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rob3VnaHQnXSk7XG4gIGlmIChmcm9tVGhvdWdodCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Rob3VnaHQnXSwgZnJvbVRob3VnaHQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRob3VnaHRTaWduYXR1cmUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0aG91Z2h0U2lnbmF0dXJlJyxcbiAgXSk7XG4gIGlmIChmcm9tVGhvdWdodFNpZ25hdHVyZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Rob3VnaHRTaWduYXR1cmUnXSwgZnJvbVRob3VnaHRTaWduYXR1cmUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVZpZGVvTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd2aWRlb01ldGFkYXRhJyxcbiAgXSk7XG4gIGlmIChmcm9tVmlkZW9NZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3ZpZGVvTWV0YWRhdGEnXSwgZnJvbVZpZGVvTWV0YWRhdGEpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2Vzc2lvblJlc3VtcHRpb25Db25maWdUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5TZXNzaW9uUmVzdW1wdGlvbkNvbmZpZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUhhbmRsZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2hhbmRsZSddKTtcbiAgaWYgKGZyb21IYW5kbGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydoYW5kbGUnXSwgZnJvbUhhbmRsZSk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndHJhbnNwYXJlbnQnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndHJhbnNwYXJlbnQgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvb2xUb01sZGV2KGZyb21PYmplY3Q6IHR5cGVzLlRvb2wpOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21GdW5jdGlvbkRlY2xhcmF0aW9ucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2Z1bmN0aW9uRGVjbGFyYXRpb25zJyxcbiAgXSk7XG4gIGlmIChmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZnVuY3Rpb25EZWNsYXJhdGlvbnMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXRyaWV2YWwnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncmV0cmlldmFsIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBjb25zdCBmcm9tR29vZ2xlU2VhcmNoUmV0cmlldmFsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZ29vZ2xlU2VhcmNoUmV0cmlldmFsJyxcbiAgXSk7XG4gIGlmIChmcm9tR29vZ2xlU2VhcmNoUmV0cmlldmFsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZ29vZ2xlU2VhcmNoUmV0cmlldmFsJ10sXG4gICAgICBmcm9tR29vZ2xlU2VhcmNoUmV0cmlldmFsLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29tcHV0ZXJVc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb21wdXRlclVzZSddKTtcbiAgaWYgKGZyb21Db21wdXRlclVzZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NvbXB1dGVyVXNlJ10sIGZyb21Db21wdXRlclVzZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRmlsZVNlYXJjaCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ZpbGVTZWFyY2gnXSk7XG4gIGlmIChmcm9tRmlsZVNlYXJjaCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2ZpbGVTZWFyY2gnXSwgZnJvbUZpbGVTZWFyY2gpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvZGVFeGVjdXRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjb2RlRXhlY3V0aW9uJyxcbiAgXSk7XG4gIGlmIChmcm9tQ29kZUV4ZWN1dGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NvZGVFeGVjdXRpb24nXSwgZnJvbUNvZGVFeGVjdXRpb24pO1xuICB9XG5cbiAgaWYgKFxuICAgIGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2VudGVycHJpc2VXZWJTZWFyY2gnXSkgIT09IHVuZGVmaW5lZFxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnZW50ZXJwcmlzZVdlYlNlYXJjaCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Hb29nbGVNYXBzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ29vZ2xlTWFwcyddKTtcbiAgaWYgKGZyb21Hb29nbGVNYXBzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZ29vZ2xlTWFwcyddLFxuICAgICAgZ29vZ2xlTWFwc1RvTWxkZXYoZnJvbUdvb2dsZU1hcHMpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tR29vZ2xlU2VhcmNoID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ29vZ2xlU2VhcmNoJ10pO1xuICBpZiAoZnJvbUdvb2dsZVNlYXJjaCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2dvb2dsZVNlYXJjaCddLFxuICAgICAgZ29vZ2xlU2VhcmNoVG9NbGRldihmcm9tR29vZ2xlU2VhcmNoKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVVybENvbnRleHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd1cmxDb250ZXh0J10pO1xuICBpZiAoZnJvbVVybENvbnRleHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd1cmxDb250ZXh0J10sIGZyb21VcmxDb250ZXh0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvb2xUb1ZlcnRleChmcm9tT2JqZWN0OiB0eXBlcy5Ub29sKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdmdW5jdGlvbkRlY2xhcmF0aW9ucycsXG4gIF0pO1xuICBpZiAoZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uRGVjbGFyYXRpb25Ub1ZlcnRleChpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZnVuY3Rpb25EZWNsYXJhdGlvbnMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXRyaWV2YWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXRyaWV2YWwnXSk7XG4gIGlmIChmcm9tUmV0cmlldmFsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmV0cmlldmFsJ10sIGZyb21SZXRyaWV2YWwpO1xuICB9XG5cbiAgY29uc3QgZnJvbUdvb2dsZVNlYXJjaFJldHJpZXZhbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2dvb2dsZVNlYXJjaFJldHJpZXZhbCcsXG4gIF0pO1xuICBpZiAoZnJvbUdvb2dsZVNlYXJjaFJldHJpZXZhbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2dvb2dsZVNlYXJjaFJldHJpZXZhbCddLFxuICAgICAgZnJvbUdvb2dsZVNlYXJjaFJldHJpZXZhbCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbXB1dGVyVXNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29tcHV0ZXJVc2UnXSk7XG4gIGlmIChmcm9tQ29tcHV0ZXJVc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjb21wdXRlclVzZSddLCBmcm9tQ29tcHV0ZXJVc2UpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ZpbGVTZWFyY2gnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignZmlsZVNlYXJjaCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBWZXJ0ZXggQUkuJyk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29kZUV4ZWN1dGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NvZGVFeGVjdXRpb24nLFxuICBdKTtcbiAgaWYgKGZyb21Db2RlRXhlY3V0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29kZUV4ZWN1dGlvbiddLCBmcm9tQ29kZUV4ZWN1dGlvbik7XG4gIH1cblxuICBjb25zdCBmcm9tRW50ZXJwcmlzZVdlYlNlYXJjaCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2VudGVycHJpc2VXZWJTZWFyY2gnLFxuICBdKTtcbiAgaWYgKGZyb21FbnRlcnByaXNlV2ViU2VhcmNoICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZW50ZXJwcmlzZVdlYlNlYXJjaCddLFxuICAgICAgZnJvbUVudGVycHJpc2VXZWJTZWFyY2gsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Hb29nbGVNYXBzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ29vZ2xlTWFwcyddKTtcbiAgaWYgKGZyb21Hb29nbGVNYXBzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZ29vZ2xlTWFwcyddLCBmcm9tR29vZ2xlTWFwcyk7XG4gIH1cblxuICBjb25zdCBmcm9tR29vZ2xlU2VhcmNoID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ29vZ2xlU2VhcmNoJ10pO1xuICBpZiAoZnJvbUdvb2dsZVNlYXJjaCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2dvb2dsZVNlYXJjaCddLCBmcm9tR29vZ2xlU2VhcmNoKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21VcmxDb250ZXh0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndXJsQ29udGV4dCddKTtcbiAgaWYgKGZyb21VcmxDb250ZXh0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndXJsQ29udGV4dCddLCBmcm9tVXJsQ29udGV4dCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2FnZU1ldGFkYXRhRnJvbVZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuVXNhZ2VNZXRhZGF0YSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVByb21wdFRva2VuQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwcm9tcHRUb2tlbkNvdW50JyxcbiAgXSk7XG4gIGlmIChmcm9tUHJvbXB0VG9rZW5Db3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Byb21wdFRva2VuQ291bnQnXSwgZnJvbVByb21wdFRva2VuQ291bnQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNhY2hlZENvbnRlbnRUb2tlbkNvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY2FjaGVkQ29udGVudFRva2VuQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21DYWNoZWRDb250ZW50VG9rZW5Db3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NhY2hlZENvbnRlbnRUb2tlbkNvdW50J10sXG4gICAgICBmcm9tQ2FjaGVkQ29udGVudFRva2VuQ291bnQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZVRva2VuQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjYW5kaWRhdGVzVG9rZW5Db3VudCcsXG4gIF0pO1xuICBpZiAoZnJvbVJlc3BvbnNlVG9rZW5Db3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Jlc3BvbnNlVG9rZW5Db3VudCddLFxuICAgICAgZnJvbVJlc3BvbnNlVG9rZW5Db3VudCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xVc2VQcm9tcHRUb2tlbkNvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndG9vbFVzZVByb21wdFRva2VuQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21Ub29sVXNlUHJvbXB0VG9rZW5Db3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Rvb2xVc2VQcm9tcHRUb2tlbkNvdW50J10sXG4gICAgICBmcm9tVG9vbFVzZVByb21wdFRva2VuQ291bnQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaG91Z2h0c1Rva2VuQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0aG91Z2h0c1Rva2VuQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21UaG91Z2h0c1Rva2VuQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd0aG91Z2h0c1Rva2VuQ291bnQnXSxcbiAgICAgIGZyb21UaG91Z2h0c1Rva2VuQ291bnQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub3RhbFRva2VuQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0b3RhbFRva2VuQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21Ub3RhbFRva2VuQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0b3RhbFRva2VuQ291bnQnXSwgZnJvbVRvdGFsVG9rZW5Db3VudCk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJvbXB0VG9rZW5zRGV0YWlscyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Byb21wdFRva2Vuc0RldGFpbHMnLFxuICBdKTtcbiAgaWYgKGZyb21Qcm9tcHRUb2tlbnNEZXRhaWxzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbVByb21wdFRva2Vuc0RldGFpbHM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncHJvbXB0VG9rZW5zRGV0YWlscyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNhY2hlVG9rZW5zRGV0YWlscyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NhY2hlVG9rZW5zRGV0YWlscycsXG4gIF0pO1xuICBpZiAoZnJvbUNhY2hlVG9rZW5zRGV0YWlscyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IGZyb21DYWNoZVRva2Vuc0RldGFpbHM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY2FjaGVUb2tlbnNEZXRhaWxzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VUb2tlbnNEZXRhaWxzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY2FuZGlkYXRlc1Rva2Vuc0RldGFpbHMnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZVRva2Vuc0RldGFpbHMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tUmVzcG9uc2VUb2tlbnNEZXRhaWxzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Jlc3BvbnNlVG9rZW5zRGV0YWlscyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xVc2VQcm9tcHRUb2tlbnNEZXRhaWxzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndG9vbFVzZVByb21wdFRva2Vuc0RldGFpbHMnLFxuICBdKTtcbiAgaWYgKGZyb21Ub29sVXNlUHJvbXB0VG9rZW5zRGV0YWlscyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IGZyb21Ub29sVXNlUHJvbXB0VG9rZW5zRGV0YWlscztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd0b29sVXNlUHJvbXB0VG9rZW5zRGV0YWlscyddLFxuICAgICAgdHJhbnNmb3JtZWRMaXN0LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVHJhZmZpY1R5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0cmFmZmljVHlwZSddKTtcbiAgaWYgKGZyb21UcmFmZmljVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RyYWZmaWNUeXBlJ10sIGZyb21UcmFmZmljVHlwZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vLyBDb2RlIGdlbmVyYXRlZCBieSB0aGUgR29vZ2xlIEdlbiBBSSBTREsgZ2VuZXJhdG9yIERPIE5PVCBFRElULlxuXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi4vX2FwaV9jbGllbnQuanMnO1xuaW1wb3J0ICogYXMgY29tbW9uIGZyb20gJy4uL19jb21tb24uanMnO1xuaW1wb3J0IHR5cGUgKiBhcyBfaW50ZXJuYWxfdHlwZXMgZnJvbSAnLi4vX2ludGVybmFsX3R5cGVzLmpzJztcbmltcG9ydCAqIGFzIHQgZnJvbSAnLi4vX3RyYW5zZm9ybWVycy5qcyc7XG5pbXBvcnQgdHlwZSAqIGFzIHR5cGVzIGZyb20gJy4uL3R5cGVzLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGJsb2JUb01sZGV2KGZyb21PYmplY3Q6IHR5cGVzLkJsb2IpOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21EYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGF0YSddKTtcbiAgaWYgKGZyb21EYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGF0YSddLCBmcm9tRGF0YSk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGlzcGxheU5hbWUnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignZGlzcGxheU5hbWUgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbWVUeXBlJ10pO1xuICBpZiAoZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWltZVR5cGUnXSwgZnJvbU1pbWVUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbmRpZGF0ZUZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuQ2FuZGlkYXRlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQ29udGVudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbnRlbnQnXSk7XG4gIGlmIChmcm9tQ29udGVudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NvbnRlbnQnXSwgZnJvbUNvbnRlbnQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNpdGF0aW9uTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjaXRhdGlvbk1ldGFkYXRhJyxcbiAgXSk7XG4gIGlmIChmcm9tQ2l0YXRpb25NZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NpdGF0aW9uTWV0YWRhdGEnXSxcbiAgICAgIGNpdGF0aW9uTWV0YWRhdGFGcm9tTWxkZXYoZnJvbUNpdGF0aW9uTWV0YWRhdGEpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9rZW5Db3VudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rva2VuQ291bnQnXSk7XG4gIGlmIChmcm9tVG9rZW5Db3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Rva2VuQ291bnQnXSwgZnJvbVRva2VuQ291bnQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZpbmlzaFJlYXNvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ZpbmlzaFJlYXNvbiddKTtcbiAgaWYgKGZyb21GaW5pc2hSZWFzb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmaW5pc2hSZWFzb24nXSwgZnJvbUZpbmlzaFJlYXNvbik7XG4gIH1cblxuICBjb25zdCBmcm9tQXZnTG9ncHJvYnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhdmdMb2dwcm9icyddKTtcbiAgaWYgKGZyb21BdmdMb2dwcm9icyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2F2Z0xvZ3Byb2JzJ10sIGZyb21BdmdMb2dwcm9icyk7XG4gIH1cblxuICBjb25zdCBmcm9tR3JvdW5kaW5nTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdncm91bmRpbmdNZXRhZGF0YScsXG4gIF0pO1xuICBpZiAoZnJvbUdyb3VuZGluZ01ldGFkYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZ3JvdW5kaW5nTWV0YWRhdGEnXSxcbiAgICAgIGZyb21Hcm91bmRpbmdNZXRhZGF0YSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUluZGV4ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW5kZXgnXSk7XG4gIGlmIChmcm9tSW5kZXggIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpbmRleCddLCBmcm9tSW5kZXgpO1xuICB9XG5cbiAgY29uc3QgZnJvbUxvZ3Byb2JzUmVzdWx0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbG9ncHJvYnNSZXN1bHQnLFxuICBdKTtcbiAgaWYgKGZyb21Mb2dwcm9ic1Jlc3VsdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2xvZ3Byb2JzUmVzdWx0J10sIGZyb21Mb2dwcm9ic1Jlc3VsdCk7XG4gIH1cblxuICBjb25zdCBmcm9tU2FmZXR5UmF0aW5ncyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3NhZmV0eVJhdGluZ3MnLFxuICBdKTtcbiAgaWYgKGZyb21TYWZldHlSYXRpbmdzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbVNhZmV0eVJhdGluZ3M7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2FmZXR5UmF0aW5ncyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbVVybENvbnRleHRNZXRhZGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3VybENvbnRleHRNZXRhZGF0YScsXG4gIF0pO1xuICBpZiAoZnJvbVVybENvbnRleHRNZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3VybENvbnRleHRNZXRhZGF0YSddLFxuICAgICAgZnJvbVVybENvbnRleHRNZXRhZGF0YSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2l0YXRpb25NZXRhZGF0YUZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuQ2l0YXRpb25NZXRhZGF0YSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUNpdGF0aW9ucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NpdGF0aW9uU291cmNlcyddKTtcbiAgaWYgKGZyb21DaXRhdGlvbnMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tQ2l0YXRpb25zO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NpdGF0aW9ucyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVRva2Vuc1BhcmFtZXRlcnNUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNvbXB1dGVUb2tlbnNQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbW9kZWwnXSxcbiAgICAgIHQudE1vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbnRlbnRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29udGVudHMnXSk7XG4gIGlmIChmcm9tQ29udGVudHMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSB0LnRDb250ZW50cyhmcm9tQ29udGVudHMpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NvbnRlbnRzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlVG9rZW5zUmVzcG9uc2VGcm9tVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Db21wdXRlVG9rZW5zUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21TZGtIdHRwUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZGtIdHRwUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21TZGtIdHRwUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzZGtIdHRwUmVzcG9uc2UnXSwgZnJvbVNka0h0dHBSZXNwb25zZSk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9rZW5zSW5mbyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rva2Vuc0luZm8nXSk7XG4gIGlmIChmcm9tVG9rZW5zSW5mbyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IGZyb21Ub2tlbnNJbmZvO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Rva2Vuc0luZm8nXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRlbnRFbWJlZGRpbmdGcm9tVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Db250ZW50RW1iZWRkaW5nLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVmFsdWVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndmFsdWVzJ10pO1xuICBpZiAoZnJvbVZhbHVlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3ZhbHVlcyddLCBmcm9tVmFsdWVzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TdGF0aXN0aWNzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc3RhdGlzdGljcyddKTtcbiAgaWYgKGZyb21TdGF0aXN0aWNzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnc3RhdGlzdGljcyddLFxuICAgICAgY29udGVudEVtYmVkZGluZ1N0YXRpc3RpY3NGcm9tVmVydGV4KGZyb21TdGF0aXN0aWNzKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udGVudEVtYmVkZGluZ1N0YXRpc3RpY3NGcm9tVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Db250ZW50RW1iZWRkaW5nU3RhdGlzdGljcyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVRydW5jYXRlZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RydW5jYXRlZCddKTtcbiAgaWYgKGZyb21UcnVuY2F0ZWQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0cnVuY2F0ZWQnXSwgZnJvbVRydW5jYXRlZCk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9rZW5Db3VudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rva2VuX2NvdW50J10pO1xuICBpZiAoZnJvbVRva2VuQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0b2tlbkNvdW50J10sIGZyb21Ub2tlbkNvdW50KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRlbnRUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Db250ZW50LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tUGFydHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYXJ0cyddKTtcbiAgaWYgKGZyb21QYXJ0cyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IGZyb21QYXJ0cztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBwYXJ0VG9NbGRldihpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncGFydHMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Sb2xlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncm9sZSddKTtcbiAgaWYgKGZyb21Sb2xlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncm9sZSddLCBmcm9tUm9sZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250cm9sUmVmZXJlbmNlQ29uZmlnVG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNvbnRyb2xSZWZlcmVuY2VDb25maWcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Db250cm9sVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbnRyb2xUeXBlJ10pO1xuICBpZiAoZnJvbUNvbnRyb2xUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29udHJvbFR5cGUnXSwgZnJvbUNvbnRyb2xUeXBlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FbmFibGVDb250cm9sSW1hZ2VDb21wdXRhdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2VuYWJsZUNvbnRyb2xJbWFnZUNvbXB1dGF0aW9uJyxcbiAgXSk7XG4gIGlmIChmcm9tRW5hYmxlQ29udHJvbEltYWdlQ29tcHV0YXRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb21wdXRlQ29udHJvbCddLFxuICAgICAgZnJvbUVuYWJsZUNvbnRyb2xJbWFnZUNvbXB1dGF0aW9uLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb3VudFRva2Vuc0NvbmZpZ1RvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNvdW50VG9rZW5zQ29uZmlnLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc3lzdGVtSW5zdHJ1Y3Rpb24nXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdzeXN0ZW1JbnN0cnVjdGlvbiBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicsXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b29scyddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd0b29scyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2dlbmVyYXRpb25Db25maWcnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdnZW5lcmF0aW9uQ29uZmlnIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY291bnRUb2tlbnNDb25maWdUb1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuQ291bnRUb2tlbnNDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21TeXN0ZW1JbnN0cnVjdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3N5c3RlbUluc3RydWN0aW9uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc3lzdGVtSW5zdHJ1Y3Rpb24nXSxcbiAgICAgIHQudENvbnRlbnQoZnJvbVN5c3RlbUluc3RydWN0aW9uKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9vbHMnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVG9vbHMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tVG9vbHM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbFRvVmVydGV4KGl0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsndG9vbHMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21HZW5lcmF0aW9uQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZ2VuZXJhdGlvbkNvbmZpZycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUdlbmVyYXRpb25Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnZ2VuZXJhdGlvbkNvbmZpZyddLFxuICAgICAgZ2VuZXJhdGlvbkNvbmZpZ1RvVmVydGV4KGZyb21HZW5lcmF0aW9uQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY291bnRUb2tlbnNQYXJhbWV0ZXJzVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNvdW50VG9rZW5zUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ21vZGVsJ10sXG4gICAgICB0LnRNb2RlbChhcGlDbGllbnQsIGZyb21Nb2RlbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db250ZW50cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbnRlbnRzJ10pO1xuICBpZiAoZnJvbUNvbnRlbnRzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gdC50Q29udGVudHMoZnJvbUNvbnRlbnRzKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBjb250ZW50VG9NbGRldihpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29udGVudHMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb3VudFRva2Vuc0NvbmZpZ1RvTWxkZXYoZnJvbUNvbmZpZyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb3VudFRva2Vuc1BhcmFtZXRlcnNUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNvdW50VG9rZW5zUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ21vZGVsJ10sXG4gICAgICB0LnRNb2RlbChhcGlDbGllbnQsIGZyb21Nb2RlbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db250ZW50cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbnRlbnRzJ10pO1xuICBpZiAoZnJvbUNvbnRlbnRzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gdC50Q29udGVudHMoZnJvbUNvbnRlbnRzKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjb250ZW50cyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvdW50VG9rZW5zQ29uZmlnVG9WZXJ0ZXgoZnJvbUNvbmZpZywgdG9PYmplY3QpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY291bnRUb2tlbnNSZXNwb25zZUZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuQ291bnRUb2tlbnNSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVNka0h0dHBSZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Nka0h0dHBSZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbVNka0h0dHBSZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Nka0h0dHBSZXNwb25zZSddLCBmcm9tU2RrSHR0cFJlc3BvbnNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub3RhbFRva2VucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RvdGFsVG9rZW5zJ10pO1xuICBpZiAoZnJvbVRvdGFsVG9rZW5zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndG90YWxUb2tlbnMnXSwgZnJvbVRvdGFsVG9rZW5zKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21DYWNoZWRDb250ZW50VG9rZW5Db3VudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NhY2hlZENvbnRlbnRUb2tlbkNvdW50JyxcbiAgXSk7XG4gIGlmIChmcm9tQ2FjaGVkQ29udGVudFRva2VuQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjYWNoZWRDb250ZW50VG9rZW5Db3VudCddLFxuICAgICAgZnJvbUNhY2hlZENvbnRlbnRUb2tlbkNvdW50LFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb3VudFRva2Vuc1Jlc3BvbnNlRnJvbVZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuQ291bnRUb2tlbnNSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVNka0h0dHBSZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Nka0h0dHBSZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbVNka0h0dHBSZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Nka0h0dHBSZXNwb25zZSddLCBmcm9tU2RrSHR0cFJlc3BvbnNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub3RhbFRva2VucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RvdGFsVG9rZW5zJ10pO1xuICBpZiAoZnJvbVRvdGFsVG9rZW5zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndG90YWxUb2tlbnMnXSwgZnJvbVRvdGFsVG9rZW5zKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZU1vZGVsUGFyYW1ldGVyc1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5EZWxldGVNb2RlbFBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICduYW1lJ10sXG4gICAgICB0LnRNb2RlbChhcGlDbGllbnQsIGZyb21Nb2RlbCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZU1vZGVsUGFyYW1ldGVyc1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuRGVsZXRlTW9kZWxQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbmFtZSddLFxuICAgICAgdC50TW9kZWwoYXBpQ2xpZW50LCBmcm9tTW9kZWwpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVNb2RlbFJlc3BvbnNlRnJvbU1sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5EZWxldGVNb2RlbFJlc3BvbnNlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tU2RrSHR0cFJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2RrSHR0cFJlc3BvbnNlJyxcbiAgXSk7XG4gIGlmIChmcm9tU2RrSHR0cFJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2RrSHR0cFJlc3BvbnNlJ10sIGZyb21TZGtIdHRwUmVzcG9uc2UpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlTW9kZWxSZXNwb25zZUZyb21WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkRlbGV0ZU1vZGVsUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21TZGtIdHRwUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZGtIdHRwUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21TZGtIdHRwUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzZGtIdHRwUmVzcG9uc2UnXSwgZnJvbVNka0h0dHBSZXNwb25zZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlZGl0SW1hZ2VDb25maWdUb1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuRWRpdEltYWdlQ29uZmlnLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tT3V0cHV0R2NzVXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnb3V0cHV0R2NzVXJpJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU91dHB1dEdjc1VyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3N0b3JhZ2VVcmknXSxcbiAgICAgIGZyb21PdXRwdXRHY3NVcmksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21OZWdhdGl2ZVByb21wdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ25lZ2F0aXZlUHJvbXB0JyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTmVnYXRpdmVQcm9tcHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICduZWdhdGl2ZVByb21wdCddLFxuICAgICAgZnJvbU5lZ2F0aXZlUHJvbXB0LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTnVtYmVyT2ZJbWFnZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdudW1iZXJPZkltYWdlcycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU51bWJlck9mSW1hZ2VzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnc2FtcGxlQ291bnQnXSxcbiAgICAgIGZyb21OdW1iZXJPZkltYWdlcyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUFzcGVjdFJhdGlvID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYXNwZWN0UmF0aW8nXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tQXNwZWN0UmF0aW8gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdhc3BlY3RSYXRpbyddLFxuICAgICAgZnJvbUFzcGVjdFJhdGlvLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tR3VpZGFuY2VTY2FsZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2d1aWRhbmNlU2NhbGUnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21HdWlkYW5jZVNjYWxlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnZ3VpZGFuY2VTY2FsZSddLFxuICAgICAgZnJvbUd1aWRhbmNlU2NhbGUsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TZWVkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc2VlZCddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21TZWVkICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ3BhcmFtZXRlcnMnLCAnc2VlZCddLCBmcm9tU2VlZCk7XG4gIH1cblxuICBjb25zdCBmcm9tU2FmZXR5RmlsdGVyTGV2ZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzYWZldHlGaWx0ZXJMZXZlbCcsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVNhZmV0eUZpbHRlckxldmVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnc2FmZXR5U2V0dGluZyddLFxuICAgICAgZnJvbVNhZmV0eUZpbHRlckxldmVsLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUGVyc29uR2VuZXJhdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3BlcnNvbkdlbmVyYXRpb24nLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21QZXJzb25HZW5lcmF0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAncGVyc29uR2VuZXJhdGlvbiddLFxuICAgICAgZnJvbVBlcnNvbkdlbmVyYXRpb24sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbmNsdWRlU2FmZXR5QXR0cmlidXRlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2luY2x1ZGVTYWZldHlBdHRyaWJ1dGVzJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tSW5jbHVkZVNhZmV0eUF0dHJpYnV0ZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdpbmNsdWRlU2FmZXR5QXR0cmlidXRlcyddLFxuICAgICAgZnJvbUluY2x1ZGVTYWZldHlBdHRyaWJ1dGVzLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tSW5jbHVkZVJhaVJlYXNvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2luY2x1ZGVSYWlSZWFzb24nLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21JbmNsdWRlUmFpUmVhc29uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnaW5jbHVkZVJhaVJlYXNvbiddLFxuICAgICAgZnJvbUluY2x1ZGVSYWlSZWFzb24sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21MYW5ndWFnZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2xhbmd1YWdlJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUxhbmd1YWdlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnbGFuZ3VhZ2UnXSxcbiAgICAgIGZyb21MYW5ndWFnZSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU91dHB1dE1pbWVUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnb3V0cHV0TWltZVR5cGUnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21PdXRwdXRNaW1lVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ291dHB1dE9wdGlvbnMnLCAnbWltZVR5cGUnXSxcbiAgICAgIGZyb21PdXRwdXRNaW1lVHlwZSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU91dHB1dENvbXByZXNzaW9uUXVhbGl0eSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ291dHB1dENvbXByZXNzaW9uUXVhbGl0eScsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU91dHB1dENvbXByZXNzaW9uUXVhbGl0eSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ291dHB1dE9wdGlvbnMnLCAnY29tcHJlc3Npb25RdWFsaXR5J10sXG4gICAgICBmcm9tT3V0cHV0Q29tcHJlc3Npb25RdWFsaXR5LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQWRkV2F0ZXJtYXJrID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYWRkV2F0ZXJtYXJrJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUFkZFdhdGVybWFyayAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2FkZFdhdGVybWFyayddLFxuICAgICAgZnJvbUFkZFdhdGVybWFyayxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUxhYmVscyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2xhYmVscyddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21MYWJlbHMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnbGFiZWxzJ10sIGZyb21MYWJlbHMpO1xuICB9XG5cbiAgY29uc3QgZnJvbUVkaXRNb2RlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZWRpdE1vZGUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tRWRpdE1vZGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdlZGl0TW9kZSddLFxuICAgICAgZnJvbUVkaXRNb2RlLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQmFzZVN0ZXBzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYmFzZVN0ZXBzJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUJhc2VTdGVwcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2VkaXRDb25maWcnLCAnYmFzZVN0ZXBzJ10sXG4gICAgICBmcm9tQmFzZVN0ZXBzLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlZGl0SW1hZ2VQYXJhbWV0ZXJzSW50ZXJuYWxUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IF9pbnRlcm5hbF90eXBlcy5FZGl0SW1hZ2VQYXJhbWV0ZXJzSW50ZXJuYWwsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICdtb2RlbCddLFxuICAgICAgdC50TW9kZWwoYXBpQ2xpZW50LCBmcm9tTW9kZWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJvbXB0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncHJvbXB0J10pO1xuICBpZiAoZnJvbVByb21wdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2luc3RhbmNlc1swXScsICdwcm9tcHQnXSwgZnJvbVByb21wdCk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVmZXJlbmNlSW1hZ2VzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVmZXJlbmNlSW1hZ2VzJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVmZXJlbmNlSW1hZ2VzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbVJlZmVyZW5jZUltYWdlcztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiByZWZlcmVuY2VJbWFnZUFQSUludGVybmFsVG9WZXJ0ZXgoaXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2luc3RhbmNlc1swXScsICdyZWZlcmVuY2VJbWFnZXMnXSxcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGVkaXRJbWFnZUNvbmZpZ1RvVmVydGV4KGZyb21Db25maWcsIHRvT2JqZWN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVkaXRJbWFnZVJlc3BvbnNlRnJvbVZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuRWRpdEltYWdlUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21TZGtIdHRwUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZGtIdHRwUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21TZGtIdHRwUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzZGtIdHRwUmVzcG9uc2UnXSwgZnJvbVNka0h0dHBSZXNwb25zZSk7XG4gIH1cblxuICBjb25zdCBmcm9tR2VuZXJhdGVkSW1hZ2VzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncHJlZGljdGlvbnMnLFxuICBdKTtcbiAgaWYgKGZyb21HZW5lcmF0ZWRJbWFnZXMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tR2VuZXJhdGVkSW1hZ2VzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlZEltYWdlRnJvbVZlcnRleChpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZ2VuZXJhdGVkSW1hZ2VzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWJlZENvbnRlbnRDb25maWdUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5FbWJlZENvbnRlbnRDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21UYXNrVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rhc2tUeXBlJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRhc2tUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3JlcXVlc3RzW10nLCAndGFza1R5cGUnXSxcbiAgICAgIGZyb21UYXNrVHlwZSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRpdGxlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGl0bGUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVGl0bGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsncmVxdWVzdHNbXScsICd0aXRsZSddLCBmcm9tVGl0bGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbU91dHB1dERpbWVuc2lvbmFsaXR5ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnb3V0cHV0RGltZW5zaW9uYWxpdHknLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21PdXRwdXREaW1lbnNpb25hbGl0eSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydyZXF1ZXN0c1tdJywgJ291dHB1dERpbWVuc2lvbmFsaXR5J10sXG4gICAgICBmcm9tT3V0cHV0RGltZW5zaW9uYWxpdHksXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtaW1lVHlwZSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtaW1lVHlwZSBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2F1dG9UcnVuY2F0ZSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdhdXRvVHJ1bmNhdGUgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVtYmVkQ29udGVudENvbmZpZ1RvVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5FbWJlZENvbnRlbnRDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21UYXNrVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rhc2tUeXBlJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRhc2tUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ2luc3RhbmNlc1tdJywgJ3Rhc2tfdHlwZSddLFxuICAgICAgZnJvbVRhc2tUeXBlLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVGl0bGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0aXRsZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21UaXRsZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydpbnN0YW5jZXNbXScsICd0aXRsZSddLCBmcm9tVGl0bGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbU91dHB1dERpbWVuc2lvbmFsaXR5ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnb3V0cHV0RGltZW5zaW9uYWxpdHknLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21PdXRwdXREaW1lbnNpb25hbGl0eSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ291dHB1dERpbWVuc2lvbmFsaXR5J10sXG4gICAgICBmcm9tT3V0cHV0RGltZW5zaW9uYWxpdHksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbWVUeXBlJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ2luc3RhbmNlc1tdJywgJ21pbWVUeXBlJ10sXG4gICAgICBmcm9tTWltZVR5cGUsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21BdXRvVHJ1bmNhdGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhdXRvVHJ1bmNhdGUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tQXV0b1RydW5jYXRlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnYXV0b1RydW5jYXRlJ10sXG4gICAgICBmcm9tQXV0b1RydW5jYXRlLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWJlZENvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkVtYmVkQ29udGVudFBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICdtb2RlbCddLFxuICAgICAgdC50TW9kZWwoYXBpQ2xpZW50LCBmcm9tTW9kZWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29udGVudHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb250ZW50cyddKTtcbiAgaWYgKGZyb21Db250ZW50cyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IHQudENvbnRlbnRzRm9yRW1iZWQoYXBpQ2xpZW50LCBmcm9tQ29udGVudHMpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3JlcXVlc3RzW10nLCAnY29udGVudCddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGVtYmVkQ29udGVudENvbmZpZ1RvTWxkZXYoZnJvbUNvbmZpZywgdG9PYmplY3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1vZGVsRm9yRW1iZWRDb250ZW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWxGb3JFbWJlZENvbnRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXF1ZXN0c1tdJywgJ21vZGVsJ10sXG4gICAgICB0LnRNb2RlbChhcGlDbGllbnQsIGZyb21Nb2RlbEZvckVtYmVkQ29udGVudCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVtYmVkQ29udGVudFBhcmFtZXRlcnNUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkVtYmVkQ29udGVudFBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICdtb2RlbCddLFxuICAgICAgdC50TW9kZWwoYXBpQ2xpZW50LCBmcm9tTW9kZWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29udGVudHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb250ZW50cyddKTtcbiAgaWYgKGZyb21Db250ZW50cyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IHQudENvbnRlbnRzRm9yRW1iZWQoYXBpQ2xpZW50LCBmcm9tQ29udGVudHMpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2luc3RhbmNlc1tdJywgJ2NvbnRlbnQnXSxcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGVtYmVkQ29udGVudENvbmZpZ1RvVmVydGV4KGZyb21Db25maWcsIHRvT2JqZWN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVtYmVkQ29udGVudFJlc3BvbnNlRnJvbU1sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5FbWJlZENvbnRlbnRSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVNka0h0dHBSZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Nka0h0dHBSZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbVNka0h0dHBSZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Nka0h0dHBSZXNwb25zZSddLCBmcm9tU2RrSHR0cFJlc3BvbnNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FbWJlZGRpbmdzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZW1iZWRkaW5ncyddKTtcbiAgaWYgKGZyb21FbWJlZGRpbmdzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbUVtYmVkZGluZ3M7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZW1iZWRkaW5ncyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWV0YWRhdGEnXSk7XG4gIGlmIChmcm9tTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtZXRhZGF0YSddLCBmcm9tTWV0YWRhdGEpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW1iZWRDb250ZW50UmVzcG9uc2VGcm9tVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5FbWJlZENvbnRlbnRSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVNka0h0dHBSZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Nka0h0dHBSZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbVNka0h0dHBSZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Nka0h0dHBSZXNwb25zZSddLCBmcm9tU2RrSHR0cFJlc3BvbnNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FbWJlZGRpbmdzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncHJlZGljdGlvbnNbXScsXG4gICAgJ2VtYmVkZGluZ3MnLFxuICBdKTtcbiAgaWYgKGZyb21FbWJlZGRpbmdzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbUVtYmVkZGluZ3M7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gY29udGVudEVtYmVkZGluZ0Zyb21WZXJ0ZXgoaXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2VtYmVkZGluZ3MnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NZXRhZGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21ldGFkYXRhJ10pO1xuICBpZiAoZnJvbU1ldGFkYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWV0YWRhdGEnXSwgZnJvbU1ldGFkYXRhKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuZHBvaW50RnJvbVZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuRW5kcG9pbnQsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZW5kcG9pbnQnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25hbWUnXSwgZnJvbU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbURlcGxveWVkTW9kZWxJZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2RlcGxveWVkTW9kZWxJZCcsXG4gIF0pO1xuICBpZiAoZnJvbURlcGxveWVkTW9kZWxJZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2RlcGxveWVkTW9kZWxJZCddLCBmcm9tRGVwbG95ZWRNb2RlbElkKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbGVEYXRhVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuRmlsZURhdGEsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkaXNwbGF5TmFtZSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdkaXNwbGF5TmFtZSBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZpbGVVcmkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmaWxlVXJpJ10pO1xuICBpZiAoZnJvbUZpbGVVcmkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmaWxlVXJpJ10sIGZyb21GaWxlVXJpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbWVUeXBlJ10pO1xuICBpZiAoZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWltZVR5cGUnXSwgZnJvbU1pbWVUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZ1bmN0aW9uQ2FsbFRvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkZ1bmN0aW9uQ2FsbCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUlkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaWQnXSk7XG4gIGlmIChmcm9tSWQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpZCddLCBmcm9tSWQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUFyZ3MgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhcmdzJ10pO1xuICBpZiAoZnJvbUFyZ3MgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydhcmdzJ10sIGZyb21BcmdzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFydGlhbEFyZ3MnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncGFydGlhbEFyZ3MgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd3aWxsQ29udGludWUnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignd2lsbENvbnRpbnVlIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmdW5jdGlvbkNhbGxpbmdDb25maWdUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5GdW5jdGlvbkNhbGxpbmdDb25maWcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZSddKTtcbiAgaWYgKGZyb21Nb2RlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbW9kZSddLCBmcm9tTW9kZSk7XG4gIH1cblxuICBjb25zdCBmcm9tQWxsb3dlZEZ1bmN0aW9uTmFtZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdhbGxvd2VkRnVuY3Rpb25OYW1lcycsXG4gIF0pO1xuICBpZiAoZnJvbUFsbG93ZWRGdW5jdGlvbk5hbWVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnYWxsb3dlZEZ1bmN0aW9uTmFtZXMnXSxcbiAgICAgIGZyb21BbGxvd2VkRnVuY3Rpb25OYW1lcyxcbiAgICApO1xuICB9XG5cbiAgaWYgKFxuICAgIGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3N0cmVhbUZ1bmN0aW9uQ2FsbEFyZ3VtZW50cyddKSAhPT1cbiAgICB1bmRlZmluZWRcbiAgKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ3N0cmVhbUZ1bmN0aW9uQ2FsbEFyZ3VtZW50cyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZ1bmN0aW9uRGVjbGFyYXRpb25Ub1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuRnVuY3Rpb25EZWNsYXJhdGlvbixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2JlaGF2aW9yJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2JlaGF2aW9yIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIFZlcnRleCBBSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EZXNjcmlwdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rlc2NyaXB0aW9uJ10pO1xuICBpZiAoZnJvbURlc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGVzY3JpcHRpb24nXSwgZnJvbURlc2NyaXB0aW9uKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUGFyYW1ldGVycyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhcmFtZXRlcnMnXSk7XG4gIGlmIChmcm9tUGFyYW1ldGVycyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3BhcmFtZXRlcnMnXSwgZnJvbVBhcmFtZXRlcnMpO1xuICB9XG5cbiAgY29uc3QgZnJvbVBhcmFtZXRlcnNKc29uU2NoZW1hID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncGFyYW1ldGVyc0pzb25TY2hlbWEnLFxuICBdKTtcbiAgaWYgKGZyb21QYXJhbWV0ZXJzSnNvblNjaGVtYSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnNKc29uU2NoZW1hJ10sXG4gICAgICBmcm9tUGFyYW1ldGVyc0pzb25TY2hlbWEsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Jlc3BvbnNlJ10pO1xuICBpZiAoZnJvbVJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmVzcG9uc2UnXSwgZnJvbVJlc3BvbnNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZUpzb25TY2hlbWEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZUpzb25TY2hlbWEnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZUpzb25TY2hlbWEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXNwb25zZUpzb25TY2hlbWEnXSxcbiAgICAgIGZyb21SZXNwb25zZUpzb25TY2hlbWEsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlQ29udGVudENvbmZpZ1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21TeXN0ZW1JbnN0cnVjdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3N5c3RlbUluc3RydWN0aW9uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc3lzdGVtSW5zdHJ1Y3Rpb24nXSxcbiAgICAgIGNvbnRlbnRUb01sZGV2KHQudENvbnRlbnQoZnJvbVN5c3RlbUluc3RydWN0aW9uKSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UZW1wZXJhdHVyZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RlbXBlcmF0dXJlJ10pO1xuICBpZiAoZnJvbVRlbXBlcmF0dXJlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGVtcGVyYXR1cmUnXSwgZnJvbVRlbXBlcmF0dXJlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub3BQID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9wUCddKTtcbiAgaWYgKGZyb21Ub3BQICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndG9wUCddLCBmcm9tVG9wUCk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9wSyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RvcEsnXSk7XG4gIGlmIChmcm9tVG9wSyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RvcEsnXSwgZnJvbVRvcEspO1xuICB9XG5cbiAgY29uc3QgZnJvbUNhbmRpZGF0ZUNvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY2FuZGlkYXRlQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21DYW5kaWRhdGVDb3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NhbmRpZGF0ZUNvdW50J10sIGZyb21DYW5kaWRhdGVDb3VudCk7XG4gIH1cblxuICBjb25zdCBmcm9tTWF4T3V0cHV0VG9rZW5zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbWF4T3V0cHV0VG9rZW5zJyxcbiAgXSk7XG4gIGlmIChmcm9tTWF4T3V0cHV0VG9rZW5zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWF4T3V0cHV0VG9rZW5zJ10sIGZyb21NYXhPdXRwdXRUb2tlbnMpO1xuICB9XG5cbiAgY29uc3QgZnJvbVN0b3BTZXF1ZW5jZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzdG9wU2VxdWVuY2VzJyxcbiAgXSk7XG4gIGlmIChmcm9tU3RvcFNlcXVlbmNlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3N0b3BTZXF1ZW5jZXMnXSwgZnJvbVN0b3BTZXF1ZW5jZXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJlc3BvbnNlTG9ncHJvYnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZUxvZ3Byb2JzJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzcG9uc2VMb2dwcm9icyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Jlc3BvbnNlTG9ncHJvYnMnXSwgZnJvbVJlc3BvbnNlTG9ncHJvYnMpO1xuICB9XG5cbiAgY29uc3QgZnJvbUxvZ3Byb2JzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbG9ncHJvYnMnXSk7XG4gIGlmIChmcm9tTG9ncHJvYnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydsb2dwcm9icyddLCBmcm9tTG9ncHJvYnMpO1xuICB9XG5cbiAgY29uc3QgZnJvbVByZXNlbmNlUGVuYWx0eSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3ByZXNlbmNlUGVuYWx0eScsXG4gIF0pO1xuICBpZiAoZnJvbVByZXNlbmNlUGVuYWx0eSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3ByZXNlbmNlUGVuYWx0eSddLCBmcm9tUHJlc2VuY2VQZW5hbHR5KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GcmVxdWVuY3lQZW5hbHR5ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZnJlcXVlbmN5UGVuYWx0eScsXG4gIF0pO1xuICBpZiAoZnJvbUZyZXF1ZW5jeVBlbmFsdHkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmcmVxdWVuY3lQZW5hbHR5J10sIGZyb21GcmVxdWVuY3lQZW5hbHR5KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TZWVkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc2VlZCddKTtcbiAgaWYgKGZyb21TZWVkICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2VlZCddLCBmcm9tU2VlZCk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VNaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlTWltZVR5cGUnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmVzcG9uc2VNaW1lVHlwZSddLCBmcm9tUmVzcG9uc2VNaW1lVHlwZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VTY2hlbWEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZVNjaGVtYScsXG4gIF0pO1xuICBpZiAoZnJvbVJlc3BvbnNlU2NoZW1hICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmVzcG9uc2VTY2hlbWEnXSxcbiAgICAgIHQudFNjaGVtYShmcm9tUmVzcG9uc2VTY2hlbWEpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VKc29uU2NoZW1hID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVzcG9uc2VKc29uU2NoZW1hJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzcG9uc2VKc29uU2NoZW1hICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmVzcG9uc2VKc29uU2NoZW1hJ10sXG4gICAgICBmcm9tUmVzcG9uc2VKc29uU2NoZW1hLFxuICAgICk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncm91dGluZ0NvbmZpZyddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdyb3V0aW5nQ29uZmlnIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBpZiAoXG4gICAgY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWxTZWxlY3Rpb25Db25maWcnXSkgIT09IHVuZGVmaW5lZFxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnbW9kZWxTZWxlY3Rpb25Db25maWcgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tU2FmZXR5U2V0dGluZ3MgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzYWZldHlTZXR0aW5ncycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVNhZmV0eVNldHRpbmdzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbVNhZmV0eVNldHRpbmdzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIHNhZmV0eVNldHRpbmdUb01sZGV2KGl0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnc2FmZXR5U2V0dGluZ3MnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub29scyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rvb2xzJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRvb2xzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gdC50VG9vbHMoZnJvbVRvb2xzKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiB0b29sVG9NbGRldih0LnRUb29sKGl0ZW0pKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ3Rvb2xzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9vbENvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rvb2xDb25maWcnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVG9vbENvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWyd0b29sQ29uZmlnJ10sXG4gICAgICB0b29sQ29uZmlnVG9NbGRldihmcm9tVG9vbENvbmZpZyksXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydsYWJlbHMnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbGFiZWxzIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBjb25zdCBmcm9tQ2FjaGVkQ29udGVudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NhY2hlZENvbnRlbnQnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21DYWNoZWRDb250ZW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ2NhY2hlZENvbnRlbnQnXSxcbiAgICAgIHQudENhY2hlZENvbnRlbnROYW1lKGFwaUNsaWVudCwgZnJvbUNhY2hlZENvbnRlbnQpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VNb2RhbGl0aWVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVzcG9uc2VNb2RhbGl0aWVzJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzcG9uc2VNb2RhbGl0aWVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmVzcG9uc2VNb2RhbGl0aWVzJ10sXG4gICAgICBmcm9tUmVzcG9uc2VNb2RhbGl0aWVzLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTWVkaWFSZXNvbHV0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbWVkaWFSZXNvbHV0aW9uJyxcbiAgXSk7XG4gIGlmIChmcm9tTWVkaWFSZXNvbHV0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWVkaWFSZXNvbHV0aW9uJ10sIGZyb21NZWRpYVJlc29sdXRpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbVNwZWVjaENvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NwZWVjaENvbmZpZyddKTtcbiAgaWYgKGZyb21TcGVlY2hDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzcGVlY2hDb25maWcnXSxcbiAgICAgIHQudFNwZWVjaENvbmZpZyhmcm9tU3BlZWNoQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2F1ZGlvVGltZXN0YW1wJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2F1ZGlvVGltZXN0YW1wIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBjb25zdCBmcm9tVGhpbmtpbmdDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0aGlua2luZ0NvbmZpZycsXG4gIF0pO1xuICBpZiAoZnJvbVRoaW5raW5nQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGhpbmtpbmdDb25maWcnXSwgZnJvbVRoaW5raW5nQ29uZmlnKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbWFnZUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ltYWdlQ29uZmlnJ10pO1xuICBpZiAoZnJvbUltYWdlQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnaW1hZ2VDb25maWcnXSxcbiAgICAgIGltYWdlQ29uZmlnVG9NbGRldihmcm9tSW1hZ2VDb25maWcpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tRW5hYmxlRW5oYW5jZWRDaXZpY0Fuc3dlcnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdlbmFibGVFbmhhbmNlZENpdmljQW5zd2VycycsXG4gIF0pO1xuICBpZiAoZnJvbUVuYWJsZUVuaGFuY2VkQ2l2aWNBbnN3ZXJzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZW5hYmxlRW5oYW5jZWRDaXZpY0Fuc3dlcnMnXSxcbiAgICAgIGZyb21FbmFibGVFbmhhbmNlZENpdmljQW5zd2VycyxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDb250ZW50Q29uZmlnVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21TeXN0ZW1JbnN0cnVjdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3N5c3RlbUluc3RydWN0aW9uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc3lzdGVtSW5zdHJ1Y3Rpb24nXSxcbiAgICAgIHQudENvbnRlbnQoZnJvbVN5c3RlbUluc3RydWN0aW9uKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRlbXBlcmF0dXJlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGVtcGVyYXR1cmUnXSk7XG4gIGlmIChmcm9tVGVtcGVyYXR1cmUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0ZW1wZXJhdHVyZSddLCBmcm9tVGVtcGVyYXR1cmUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvcFAgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b3BQJ10pO1xuICBpZiAoZnJvbVRvcFAgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0b3BQJ10sIGZyb21Ub3BQKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub3BLID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9wSyddKTtcbiAgaWYgKGZyb21Ub3BLICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndG9wSyddLCBmcm9tVG9wSyk7XG4gIH1cblxuICBjb25zdCBmcm9tQ2FuZGlkYXRlQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjYW5kaWRhdGVDb3VudCcsXG4gIF0pO1xuICBpZiAoZnJvbUNhbmRpZGF0ZUNvdW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY2FuZGlkYXRlQ291bnQnXSwgZnJvbUNhbmRpZGF0ZUNvdW50KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NYXhPdXRwdXRUb2tlbnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdtYXhPdXRwdXRUb2tlbnMnLFxuICBdKTtcbiAgaWYgKGZyb21NYXhPdXRwdXRUb2tlbnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtYXhPdXRwdXRUb2tlbnMnXSwgZnJvbU1heE91dHB1dFRva2Vucyk7XG4gIH1cblxuICBjb25zdCBmcm9tU3RvcFNlcXVlbmNlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3N0b3BTZXF1ZW5jZXMnLFxuICBdKTtcbiAgaWYgKGZyb21TdG9wU2VxdWVuY2VzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc3RvcFNlcXVlbmNlcyddLCBmcm9tU3RvcFNlcXVlbmNlcyk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VMb2dwcm9icyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlTG9ncHJvYnMnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZUxvZ3Byb2JzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmVzcG9uc2VMb2dwcm9icyddLCBmcm9tUmVzcG9uc2VMb2dwcm9icyk7XG4gIH1cblxuICBjb25zdCBmcm9tTG9ncHJvYnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydsb2dwcm9icyddKTtcbiAgaWYgKGZyb21Mb2dwcm9icyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2xvZ3Byb2JzJ10sIGZyb21Mb2dwcm9icyk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJlc2VuY2VQZW5hbHR5ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncHJlc2VuY2VQZW5hbHR5JyxcbiAgXSk7XG4gIGlmIChmcm9tUHJlc2VuY2VQZW5hbHR5ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncHJlc2VuY2VQZW5hbHR5J10sIGZyb21QcmVzZW5jZVBlbmFsdHkpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZyZXF1ZW5jeVBlbmFsdHkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdmcmVxdWVuY3lQZW5hbHR5JyxcbiAgXSk7XG4gIGlmIChmcm9tRnJlcXVlbmN5UGVuYWx0eSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2ZyZXF1ZW5jeVBlbmFsdHknXSwgZnJvbUZyZXF1ZW5jeVBlbmFsdHkpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNlZWQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzZWVkJ10pO1xuICBpZiAoZnJvbVNlZWQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzZWVkJ10sIGZyb21TZWVkKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZU1pbWVUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVzcG9uc2VNaW1lVHlwZScsXG4gIF0pO1xuICBpZiAoZnJvbVJlc3BvbnNlTWltZVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyZXNwb25zZU1pbWVUeXBlJ10sIGZyb21SZXNwb25zZU1pbWVUeXBlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZVNjaGVtYSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlU2NoZW1hJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzcG9uc2VTY2hlbWEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXNwb25zZVNjaGVtYSddLFxuICAgICAgdC50U2NoZW1hKGZyb21SZXNwb25zZVNjaGVtYSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZUpzb25TY2hlbWEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZUpzb25TY2hlbWEnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZUpzb25TY2hlbWEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXNwb25zZUpzb25TY2hlbWEnXSxcbiAgICAgIGZyb21SZXNwb25zZUpzb25TY2hlbWEsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Sb3V0aW5nQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncm91dGluZ0NvbmZpZycsXG4gIF0pO1xuICBpZiAoZnJvbVJvdXRpbmdDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyb3V0aW5nQ29uZmlnJ10sIGZyb21Sb3V0aW5nQ29uZmlnKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Nb2RlbFNlbGVjdGlvbkNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ21vZGVsU2VsZWN0aW9uQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tTW9kZWxTZWxlY3Rpb25Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtb2RlbENvbmZpZyddLCBmcm9tTW9kZWxTZWxlY3Rpb25Db25maWcpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNhZmV0eVNldHRpbmdzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2FmZXR5U2V0dGluZ3MnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21TYWZldHlTZXR0aW5ncyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IGZyb21TYWZldHlTZXR0aW5ncztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnc2FmZXR5U2V0dGluZ3MnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub29scyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Rvb2xzJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRvb2xzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gdC50VG9vbHMoZnJvbVRvb2xzKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiB0b29sVG9WZXJ0ZXgodC50VG9vbChpdGVtKSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWyd0b29scyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvb2xDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b29sQ29uZmlnJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRvb2xDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsndG9vbENvbmZpZyddLCBmcm9tVG9vbENvbmZpZyk7XG4gIH1cblxuICBjb25zdCBmcm9tTGFiZWxzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbGFiZWxzJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUxhYmVscyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydsYWJlbHMnXSwgZnJvbUxhYmVscyk7XG4gIH1cblxuICBjb25zdCBmcm9tQ2FjaGVkQ29udGVudCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NhY2hlZENvbnRlbnQnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21DYWNoZWRDb250ZW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ2NhY2hlZENvbnRlbnQnXSxcbiAgICAgIHQudENhY2hlZENvbnRlbnROYW1lKGFwaUNsaWVudCwgZnJvbUNhY2hlZENvbnRlbnQpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VNb2RhbGl0aWVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVzcG9uc2VNb2RhbGl0aWVzJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzcG9uc2VNb2RhbGl0aWVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmVzcG9uc2VNb2RhbGl0aWVzJ10sXG4gICAgICBmcm9tUmVzcG9uc2VNb2RhbGl0aWVzLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTWVkaWFSZXNvbHV0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbWVkaWFSZXNvbHV0aW9uJyxcbiAgXSk7XG4gIGlmIChmcm9tTWVkaWFSZXNvbHV0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWVkaWFSZXNvbHV0aW9uJ10sIGZyb21NZWRpYVJlc29sdXRpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbVNwZWVjaENvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NwZWVjaENvbmZpZyddKTtcbiAgaWYgKGZyb21TcGVlY2hDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzcGVlY2hDb25maWcnXSxcbiAgICAgIHQudFNwZWVjaENvbmZpZyhmcm9tU3BlZWNoQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUF1ZGlvVGltZXN0YW1wID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnYXVkaW9UaW1lc3RhbXAnLFxuICBdKTtcbiAgaWYgKGZyb21BdWRpb1RpbWVzdGFtcCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2F1ZGlvVGltZXN0YW1wJ10sIGZyb21BdWRpb1RpbWVzdGFtcCk7XG4gIH1cblxuICBjb25zdCBmcm9tVGhpbmtpbmdDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0aGlua2luZ0NvbmZpZycsXG4gIF0pO1xuICBpZiAoZnJvbVRoaW5raW5nQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGhpbmtpbmdDb25maWcnXSwgZnJvbVRoaW5raW5nQ29uZmlnKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbWFnZUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ltYWdlQ29uZmlnJ10pO1xuICBpZiAoZnJvbUltYWdlQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnaW1hZ2VDb25maWcnXSxcbiAgICAgIGltYWdlQ29uZmlnVG9WZXJ0ZXgoZnJvbUltYWdlQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgaWYgKFxuICAgIGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2VuYWJsZUVuaGFuY2VkQ2l2aWNBbnN3ZXJzJ10pICE9PVxuICAgIHVuZGVmaW5lZFxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnZW5hYmxlRW5oYW5jZWRDaXZpY0Fuc3dlcnMgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gVmVydGV4IEFJLicsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlQ29udGVudFBhcmFtZXRlcnNUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVDb250ZW50UGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ21vZGVsJ10sXG4gICAgICB0LnRNb2RlbChhcGlDbGllbnQsIGZyb21Nb2RlbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db250ZW50cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbnRlbnRzJ10pO1xuICBpZiAoZnJvbUNvbnRlbnRzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gdC50Q29udGVudHMoZnJvbUNvbnRlbnRzKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBjb250ZW50VG9NbGRldihpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29udGVudHMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZ2VuZXJhdGlvbkNvbmZpZyddLFxuICAgICAgZ2VuZXJhdGVDb250ZW50Q29uZmlnVG9NbGRldihhcGlDbGllbnQsIGZyb21Db25maWcsIHRvT2JqZWN0KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDb250ZW50UGFyYW1ldGVyc1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVDb250ZW50UGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ21vZGVsJ10sXG4gICAgICB0LnRNb2RlbChhcGlDbGllbnQsIGZyb21Nb2RlbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db250ZW50cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbnRlbnRzJ10pO1xuICBpZiAoZnJvbUNvbnRlbnRzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gdC50Q29udGVudHMoZnJvbUNvbnRlbnRzKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjb250ZW50cyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydnZW5lcmF0aW9uQ29uZmlnJ10sXG4gICAgICBnZW5lcmF0ZUNvbnRlbnRDb25maWdUb1ZlcnRleChhcGlDbGllbnQsIGZyb21Db25maWcsIHRvT2JqZWN0KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDb250ZW50UmVzcG9uc2VGcm9tTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tU2RrSHR0cFJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2RrSHR0cFJlc3BvbnNlJyxcbiAgXSk7XG4gIGlmIChmcm9tU2RrSHR0cFJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2RrSHR0cFJlc3BvbnNlJ10sIGZyb21TZGtIdHRwUmVzcG9uc2UpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNhbmRpZGF0ZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjYW5kaWRhdGVzJ10pO1xuICBpZiAoZnJvbUNhbmRpZGF0ZXMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tQ2FuZGlkYXRlcztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBjYW5kaWRhdGVGcm9tTWxkZXYoaXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NhbmRpZGF0ZXMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Nb2RlbFZlcnNpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbFZlcnNpb24nXSk7XG4gIGlmIChmcm9tTW9kZWxWZXJzaW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbW9kZWxWZXJzaW9uJ10sIGZyb21Nb2RlbFZlcnNpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbVByb21wdEZlZWRiYWNrID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncHJvbXB0RmVlZGJhY2snLFxuICBdKTtcbiAgaWYgKGZyb21Qcm9tcHRGZWVkYmFjayAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Byb21wdEZlZWRiYWNrJ10sIGZyb21Qcm9tcHRGZWVkYmFjayk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VJZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Jlc3BvbnNlSWQnXSk7XG4gIGlmIChmcm9tUmVzcG9uc2VJZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Jlc3BvbnNlSWQnXSwgZnJvbVJlc3BvbnNlSWQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVVzYWdlTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd1c2FnZU1ldGFkYXRhJyxcbiAgXSk7XG4gIGlmIChmcm9tVXNhZ2VNZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3VzYWdlTWV0YWRhdGEnXSwgZnJvbVVzYWdlTWV0YWRhdGEpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDb250ZW50UmVzcG9uc2VGcm9tVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVNka0h0dHBSZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Nka0h0dHBSZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbVNka0h0dHBSZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Nka0h0dHBSZXNwb25zZSddLCBmcm9tU2RrSHR0cFJlc3BvbnNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21DYW5kaWRhdGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY2FuZGlkYXRlcyddKTtcbiAgaWYgKGZyb21DYW5kaWRhdGVzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbUNhbmRpZGF0ZXM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY2FuZGlkYXRlcyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNyZWF0ZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjcmVhdGVUaW1lJ10pO1xuICBpZiAoZnJvbUNyZWF0ZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjcmVhdGVUaW1lJ10sIGZyb21DcmVhdGVUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Nb2RlbFZlcnNpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbFZlcnNpb24nXSk7XG4gIGlmIChmcm9tTW9kZWxWZXJzaW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbW9kZWxWZXJzaW9uJ10sIGZyb21Nb2RlbFZlcnNpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbVByb21wdEZlZWRiYWNrID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncHJvbXB0RmVlZGJhY2snLFxuICBdKTtcbiAgaWYgKGZyb21Qcm9tcHRGZWVkYmFjayAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Byb21wdEZlZWRiYWNrJ10sIGZyb21Qcm9tcHRGZWVkYmFjayk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VJZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Jlc3BvbnNlSWQnXSk7XG4gIGlmIChmcm9tUmVzcG9uc2VJZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Jlc3BvbnNlSWQnXSwgZnJvbVJlc3BvbnNlSWQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVVzYWdlTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd1c2FnZU1ldGFkYXRhJyxcbiAgXSk7XG4gIGlmIChmcm9tVXNhZ2VNZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3VzYWdlTWV0YWRhdGEnXSwgZnJvbVVzYWdlTWV0YWRhdGEpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVJbWFnZXNDb25maWdUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZUltYWdlc0NvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ291dHB1dEdjc1VyaSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdvdXRwdXRHY3NVcmkgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduZWdhdGl2ZVByb21wdCddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCduZWdhdGl2ZVByb21wdCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbU51bWJlck9mSW1hZ2VzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbnVtYmVyT2ZJbWFnZXMnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21OdW1iZXJPZkltYWdlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3NhbXBsZUNvdW50J10sXG4gICAgICBmcm9tTnVtYmVyT2ZJbWFnZXMsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Bc3BlY3RSYXRpbyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2FzcGVjdFJhdGlvJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUFzcGVjdFJhdGlvICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnYXNwZWN0UmF0aW8nXSxcbiAgICAgIGZyb21Bc3BlY3RSYXRpbyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUd1aWRhbmNlU2NhbGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdndWlkYW5jZVNjYWxlJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tR3VpZGFuY2VTY2FsZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2d1aWRhbmNlU2NhbGUnXSxcbiAgICAgIGZyb21HdWlkYW5jZVNjYWxlLFxuICAgICk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc2VlZCddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZWVkIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBjb25zdCBmcm9tU2FmZXR5RmlsdGVyTGV2ZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzYWZldHlGaWx0ZXJMZXZlbCcsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVNhZmV0eUZpbHRlckxldmVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnc2FmZXR5U2V0dGluZyddLFxuICAgICAgZnJvbVNhZmV0eUZpbHRlckxldmVsLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUGVyc29uR2VuZXJhdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3BlcnNvbkdlbmVyYXRpb24nLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21QZXJzb25HZW5lcmF0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAncGVyc29uR2VuZXJhdGlvbiddLFxuICAgICAgZnJvbVBlcnNvbkdlbmVyYXRpb24sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbmNsdWRlU2FmZXR5QXR0cmlidXRlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2luY2x1ZGVTYWZldHlBdHRyaWJ1dGVzJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tSW5jbHVkZVNhZmV0eUF0dHJpYnV0ZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdpbmNsdWRlU2FmZXR5QXR0cmlidXRlcyddLFxuICAgICAgZnJvbUluY2x1ZGVTYWZldHlBdHRyaWJ1dGVzLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tSW5jbHVkZVJhaVJlYXNvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2luY2x1ZGVSYWlSZWFzb24nLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21JbmNsdWRlUmFpUmVhc29uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnaW5jbHVkZVJhaVJlYXNvbiddLFxuICAgICAgZnJvbUluY2x1ZGVSYWlSZWFzb24sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21MYW5ndWFnZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2xhbmd1YWdlJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUxhbmd1YWdlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnbGFuZ3VhZ2UnXSxcbiAgICAgIGZyb21MYW5ndWFnZSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU91dHB1dE1pbWVUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnb3V0cHV0TWltZVR5cGUnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21PdXRwdXRNaW1lVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ291dHB1dE9wdGlvbnMnLCAnbWltZVR5cGUnXSxcbiAgICAgIGZyb21PdXRwdXRNaW1lVHlwZSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU91dHB1dENvbXByZXNzaW9uUXVhbGl0eSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ291dHB1dENvbXByZXNzaW9uUXVhbGl0eScsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU91dHB1dENvbXByZXNzaW9uUXVhbGl0eSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ291dHB1dE9wdGlvbnMnLCAnY29tcHJlc3Npb25RdWFsaXR5J10sXG4gICAgICBmcm9tT3V0cHV0Q29tcHJlc3Npb25RdWFsaXR5LFxuICAgICk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYWRkV2F0ZXJtYXJrJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2FkZFdhdGVybWFyayBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2xhYmVscyddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdsYWJlbHMgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbWFnZVNpemUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpbWFnZVNpemUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tSW1hZ2VTaXplICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnc2FtcGxlSW1hZ2VTaXplJ10sXG4gICAgICBmcm9tSW1hZ2VTaXplLFxuICAgICk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZW5oYW5jZVByb21wdCddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdlbmhhbmNlUHJvbXB0IHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUltYWdlc0NvbmZpZ1RvVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZUltYWdlc0NvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU91dHB1dEdjc1VyaSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ291dHB1dEdjc1VyaSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21PdXRwdXRHY3NVcmkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdzdG9yYWdlVXJpJ10sXG4gICAgICBmcm9tT3V0cHV0R2NzVXJpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTmVnYXRpdmVQcm9tcHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICduZWdhdGl2ZVByb21wdCcsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU5lZ2F0aXZlUHJvbXB0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnbmVnYXRpdmVQcm9tcHQnXSxcbiAgICAgIGZyb21OZWdhdGl2ZVByb21wdCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU51bWJlck9mSW1hZ2VzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbnVtYmVyT2ZJbWFnZXMnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21OdW1iZXJPZkltYWdlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3NhbXBsZUNvdW50J10sXG4gICAgICBmcm9tTnVtYmVyT2ZJbWFnZXMsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Bc3BlY3RSYXRpbyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2FzcGVjdFJhdGlvJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUFzcGVjdFJhdGlvICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnYXNwZWN0UmF0aW8nXSxcbiAgICAgIGZyb21Bc3BlY3RSYXRpbyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUd1aWRhbmNlU2NhbGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdndWlkYW5jZVNjYWxlJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tR3VpZGFuY2VTY2FsZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2d1aWRhbmNlU2NhbGUnXSxcbiAgICAgIGZyb21HdWlkYW5jZVNjYWxlLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tU2VlZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NlZWQnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tU2VlZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydwYXJhbWV0ZXJzJywgJ3NlZWQnXSwgZnJvbVNlZWQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNhZmV0eUZpbHRlckxldmVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2FmZXR5RmlsdGVyTGV2ZWwnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21TYWZldHlGaWx0ZXJMZXZlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3NhZmV0eVNldHRpbmcnXSxcbiAgICAgIGZyb21TYWZldHlGaWx0ZXJMZXZlbCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVBlcnNvbkdlbmVyYXRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwZXJzb25HZW5lcmF0aW9uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUGVyc29uR2VuZXJhdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3BlcnNvbkdlbmVyYXRpb24nXSxcbiAgICAgIGZyb21QZXJzb25HZW5lcmF0aW9uLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tSW5jbHVkZVNhZmV0eUF0dHJpYnV0ZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdpbmNsdWRlU2FmZXR5QXR0cmlidXRlcycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUluY2x1ZGVTYWZldHlBdHRyaWJ1dGVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnaW5jbHVkZVNhZmV0eUF0dHJpYnV0ZXMnXSxcbiAgICAgIGZyb21JbmNsdWRlU2FmZXR5QXR0cmlidXRlcyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUluY2x1ZGVSYWlSZWFzb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdpbmNsdWRlUmFpUmVhc29uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tSW5jbHVkZVJhaVJlYXNvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2luY2x1ZGVSYWlSZWFzb24nXSxcbiAgICAgIGZyb21JbmNsdWRlUmFpUmVhc29uLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTGFuZ3VhZ2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydsYW5ndWFnZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21MYW5ndWFnZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2xhbmd1YWdlJ10sXG4gICAgICBmcm9tTGFuZ3VhZ2UsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21PdXRwdXRNaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ291dHB1dE1pbWVUeXBlJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tT3V0cHV0TWltZVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdvdXRwdXRPcHRpb25zJywgJ21pbWVUeXBlJ10sXG4gICAgICBmcm9tT3V0cHV0TWltZVR5cGUsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21PdXRwdXRDb21wcmVzc2lvblF1YWxpdHkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdvdXRwdXRDb21wcmVzc2lvblF1YWxpdHknLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21PdXRwdXRDb21wcmVzc2lvblF1YWxpdHkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdvdXRwdXRPcHRpb25zJywgJ2NvbXByZXNzaW9uUXVhbGl0eSddLFxuICAgICAgZnJvbU91dHB1dENvbXByZXNzaW9uUXVhbGl0eSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUFkZFdhdGVybWFyayA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2FkZFdhdGVybWFyayddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21BZGRXYXRlcm1hcmsgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdhZGRXYXRlcm1hcmsnXSxcbiAgICAgIGZyb21BZGRXYXRlcm1hcmssXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21MYWJlbHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydsYWJlbHMnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTGFiZWxzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ2xhYmVscyddLCBmcm9tTGFiZWxzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbWFnZVNpemUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpbWFnZVNpemUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tSW1hZ2VTaXplICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnc2FtcGxlSW1hZ2VTaXplJ10sXG4gICAgICBmcm9tSW1hZ2VTaXplLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tRW5oYW5jZVByb21wdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2VuaGFuY2VQcm9tcHQnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21FbmhhbmNlUHJvbXB0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnZW5oYW5jZVByb21wdCddLFxuICAgICAgZnJvbUVuaGFuY2VQcm9tcHQsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlSW1hZ2VzUGFyYW1ldGVyc1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZUltYWdlc1BhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICdtb2RlbCddLFxuICAgICAgdC50TW9kZWwoYXBpQ2xpZW50LCBmcm9tTW9kZWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJvbXB0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncHJvbXB0J10pO1xuICBpZiAoZnJvbVByb21wdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2luc3RhbmNlc1swXScsICdwcm9tcHQnXSwgZnJvbVByb21wdCk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgZ2VuZXJhdGVJbWFnZXNDb25maWdUb01sZGV2KGZyb21Db25maWcsIHRvT2JqZWN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlSW1hZ2VzUGFyYW1ldGVyc1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVJbWFnZXNQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbW9kZWwnXSxcbiAgICAgIHQudE1vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVByb21wdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Byb21wdCddKTtcbiAgaWYgKGZyb21Qcm9tcHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpbnN0YW5jZXNbMF0nLCAncHJvbXB0J10sIGZyb21Qcm9tcHQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGdlbmVyYXRlSW1hZ2VzQ29uZmlnVG9WZXJ0ZXgoZnJvbUNvbmZpZywgdG9PYmplY3QpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVJbWFnZXNSZXNwb25zZUZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVJbWFnZXNSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVNka0h0dHBSZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Nka0h0dHBSZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbVNka0h0dHBSZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Nka0h0dHBSZXNwb25zZSddLCBmcm9tU2RrSHR0cFJlc3BvbnNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21HZW5lcmF0ZWRJbWFnZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwcmVkaWN0aW9ucycsXG4gIF0pO1xuICBpZiAoZnJvbUdlbmVyYXRlZEltYWdlcyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IGZyb21HZW5lcmF0ZWRJbWFnZXM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gZ2VuZXJhdGVkSW1hZ2VGcm9tTWxkZXYoaXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2dlbmVyYXRlZEltYWdlcyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbVBvc2l0aXZlUHJvbXB0U2FmZXR5QXR0cmlidXRlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Bvc2l0aXZlUHJvbXB0U2FmZXR5QXR0cmlidXRlcycsXG4gIF0pO1xuICBpZiAoZnJvbVBvc2l0aXZlUHJvbXB0U2FmZXR5QXR0cmlidXRlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Bvc2l0aXZlUHJvbXB0U2FmZXR5QXR0cmlidXRlcyddLFxuICAgICAgc2FmZXR5QXR0cmlidXRlc0Zyb21NbGRldihmcm9tUG9zaXRpdmVQcm9tcHRTYWZldHlBdHRyaWJ1dGVzKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVJbWFnZXNSZXNwb25zZUZyb21WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlSW1hZ2VzUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21TZGtIdHRwUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZGtIdHRwUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21TZGtIdHRwUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzZGtIdHRwUmVzcG9uc2UnXSwgZnJvbVNka0h0dHBSZXNwb25zZSk7XG4gIH1cblxuICBjb25zdCBmcm9tR2VuZXJhdGVkSW1hZ2VzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncHJlZGljdGlvbnMnLFxuICBdKTtcbiAgaWYgKGZyb21HZW5lcmF0ZWRJbWFnZXMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tR2VuZXJhdGVkSW1hZ2VzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlZEltYWdlRnJvbVZlcnRleChpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZ2VuZXJhdGVkSW1hZ2VzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICBjb25zdCBmcm9tUG9zaXRpdmVQcm9tcHRTYWZldHlBdHRyaWJ1dGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncG9zaXRpdmVQcm9tcHRTYWZldHlBdHRyaWJ1dGVzJyxcbiAgXSk7XG4gIGlmIChmcm9tUG9zaXRpdmVQcm9tcHRTYWZldHlBdHRyaWJ1dGVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncG9zaXRpdmVQcm9tcHRTYWZldHlBdHRyaWJ1dGVzJ10sXG4gICAgICBzYWZldHlBdHRyaWJ1dGVzRnJvbVZlcnRleChmcm9tUG9zaXRpdmVQcm9tcHRTYWZldHlBdHRyaWJ1dGVzKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVWaWRlb3NDb25maWdUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZVZpZGVvc0NvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU51bWJlck9mVmlkZW9zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbnVtYmVyT2ZWaWRlb3MnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21OdW1iZXJPZlZpZGVvcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3NhbXBsZUNvdW50J10sXG4gICAgICBmcm9tTnVtYmVyT2ZWaWRlb3MsXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydvdXRwdXRHY3NVcmknXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignb3V0cHV0R2NzVXJpIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZnBzJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZwcyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbUR1cmF0aW9uU2Vjb25kcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2R1cmF0aW9uU2Vjb25kcycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUR1cmF0aW9uU2Vjb25kcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2R1cmF0aW9uU2Vjb25kcyddLFxuICAgICAgZnJvbUR1cmF0aW9uU2Vjb25kcyxcbiAgICApO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NlZWQnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2VlZCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbUFzcGVjdFJhdGlvID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYXNwZWN0UmF0aW8nXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tQXNwZWN0UmF0aW8gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdhc3BlY3RSYXRpbyddLFxuICAgICAgZnJvbUFzcGVjdFJhdGlvLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzb2x1dGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Jlc29sdXRpb24nXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUmVzb2x1dGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3Jlc29sdXRpb24nXSxcbiAgICAgIGZyb21SZXNvbHV0aW9uLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUGVyc29uR2VuZXJhdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3BlcnNvbkdlbmVyYXRpb24nLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21QZXJzb25HZW5lcmF0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAncGVyc29uR2VuZXJhdGlvbiddLFxuICAgICAgZnJvbVBlcnNvbkdlbmVyYXRpb24sXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwdWJzdWJUb3BpYyddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwdWJzdWJUb3BpYyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbU5lZ2F0aXZlUHJvbXB0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbmVnYXRpdmVQcm9tcHQnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21OZWdhdGl2ZVByb21wdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ25lZ2F0aXZlUHJvbXB0J10sXG4gICAgICBmcm9tTmVnYXRpdmVQcm9tcHQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FbmhhbmNlUHJvbXB0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZW5oYW5jZVByb21wdCcsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUVuaGFuY2VQcm9tcHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdlbmhhbmNlUHJvbXB0J10sXG4gICAgICBmcm9tRW5oYW5jZVByb21wdCxcbiAgICApO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2dlbmVyYXRlQXVkaW8nXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignZ2VuZXJhdGVBdWRpbyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbUxhc3RGcmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2xhc3RGcmFtZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21MYXN0RnJhbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnaW5zdGFuY2VzWzBdJywgJ2xhc3RGcmFtZSddLFxuICAgICAgaW1hZ2VUb01sZGV2KGZyb21MYXN0RnJhbWUpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVmZXJlbmNlSW1hZ2VzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVmZXJlbmNlSW1hZ2VzJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUmVmZXJlbmNlSW1hZ2VzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbVJlZmVyZW5jZUltYWdlcztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiB2aWRlb0dlbmVyYXRpb25SZWZlcmVuY2VJbWFnZVRvTWxkZXYoaXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydpbnN0YW5jZXNbMF0nLCAncmVmZXJlbmNlSW1hZ2VzJ10sXG4gICAgICB0cmFuc2Zvcm1lZExpc3QsXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtYXNrJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21hc2sgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb21wcmVzc2lvblF1YWxpdHknXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdjb21wcmVzc2lvblF1YWxpdHkgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVZpZGVvc0NvbmZpZ1RvVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZVZpZGVvc0NvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU51bWJlck9mVmlkZW9zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbnVtYmVyT2ZWaWRlb3MnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21OdW1iZXJPZlZpZGVvcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3NhbXBsZUNvdW50J10sXG4gICAgICBmcm9tTnVtYmVyT2ZWaWRlb3MsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21PdXRwdXRHY3NVcmkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydvdXRwdXRHY3NVcmknXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tT3V0cHV0R2NzVXJpICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnc3RvcmFnZVVyaSddLFxuICAgICAgZnJvbU91dHB1dEdjc1VyaSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUZwcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ZwcyddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21GcHMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsncGFyYW1ldGVycycsICdmcHMnXSwgZnJvbUZwcyk7XG4gIH1cblxuICBjb25zdCBmcm9tRHVyYXRpb25TZWNvbmRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZHVyYXRpb25TZWNvbmRzJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tRHVyYXRpb25TZWNvbmRzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnZHVyYXRpb25TZWNvbmRzJ10sXG4gICAgICBmcm9tRHVyYXRpb25TZWNvbmRzLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tU2VlZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NlZWQnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tU2VlZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydwYXJhbWV0ZXJzJywgJ3NlZWQnXSwgZnJvbVNlZWQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUFzcGVjdFJhdGlvID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYXNwZWN0UmF0aW8nXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tQXNwZWN0UmF0aW8gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdhc3BlY3RSYXRpbyddLFxuICAgICAgZnJvbUFzcGVjdFJhdGlvLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzb2x1dGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Jlc29sdXRpb24nXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUmVzb2x1dGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3Jlc29sdXRpb24nXSxcbiAgICAgIGZyb21SZXNvbHV0aW9uLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUGVyc29uR2VuZXJhdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3BlcnNvbkdlbmVyYXRpb24nLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21QZXJzb25HZW5lcmF0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAncGVyc29uR2VuZXJhdGlvbiddLFxuICAgICAgZnJvbVBlcnNvbkdlbmVyYXRpb24sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21QdWJzdWJUb3BpYyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3B1YnN1YlRvcGljJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVB1YnN1YlRvcGljICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAncHVic3ViVG9waWMnXSxcbiAgICAgIGZyb21QdWJzdWJUb3BpYyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU5lZ2F0aXZlUHJvbXB0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbmVnYXRpdmVQcm9tcHQnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21OZWdhdGl2ZVByb21wdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ25lZ2F0aXZlUHJvbXB0J10sXG4gICAgICBmcm9tTmVnYXRpdmVQcm9tcHQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FbmhhbmNlUHJvbXB0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZW5oYW5jZVByb21wdCcsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUVuaGFuY2VQcm9tcHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdlbmhhbmNlUHJvbXB0J10sXG4gICAgICBmcm9tRW5oYW5jZVByb21wdCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUdlbmVyYXRlQXVkaW8gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdnZW5lcmF0ZUF1ZGlvJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tR2VuZXJhdGVBdWRpbyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2dlbmVyYXRlQXVkaW8nXSxcbiAgICAgIGZyb21HZW5lcmF0ZUF1ZGlvLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTGFzdEZyYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbGFzdEZyYW1lJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUxhc3RGcmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydpbnN0YW5jZXNbMF0nLCAnbGFzdEZyYW1lJ10sXG4gICAgICBpbWFnZVRvVmVydGV4KGZyb21MYXN0RnJhbWUpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVmZXJlbmNlSW1hZ2VzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVmZXJlbmNlSW1hZ2VzJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUmVmZXJlbmNlSW1hZ2VzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbVJlZmVyZW5jZUltYWdlcztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiB2aWRlb0dlbmVyYXRpb25SZWZlcmVuY2VJbWFnZVRvVmVydGV4KGl0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnaW5zdGFuY2VzWzBdJywgJ3JlZmVyZW5jZUltYWdlcyddLFxuICAgICAgdHJhbnNmb3JtZWRMaXN0LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTWFzayA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21hc2snXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTWFzayAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydpbnN0YW5jZXNbMF0nLCAnbWFzayddLFxuICAgICAgdmlkZW9HZW5lcmF0aW9uTWFza1RvVmVydGV4KGZyb21NYXNrKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbXByZXNzaW9uUXVhbGl0eSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NvbXByZXNzaW9uUXVhbGl0eScsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUNvbXByZXNzaW9uUXVhbGl0eSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2NvbXByZXNzaW9uUXVhbGl0eSddLFxuICAgICAgZnJvbUNvbXByZXNzaW9uUXVhbGl0eSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVWaWRlb3NPcGVyYXRpb25Gcm9tTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25hbWUnXSwgZnJvbU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWV0YWRhdGEnXSk7XG4gIGlmIChmcm9tTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtZXRhZGF0YSddLCBmcm9tTWV0YWRhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbURvbmUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkb25lJ10pO1xuICBpZiAoZnJvbURvbmUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkb25lJ10sIGZyb21Eb25lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FcnJvciA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Vycm9yJ10pO1xuICBpZiAoZnJvbUVycm9yICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZXJyb3InXSwgZnJvbUVycm9yKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlJyxcbiAgICAnZ2VuZXJhdGVWaWRlb1Jlc3BvbnNlJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXNwb25zZSddLFxuICAgICAgZ2VuZXJhdGVWaWRlb3NSZXNwb25zZUZyb21NbGRldihmcm9tUmVzcG9uc2UpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVZpZGVvc09wZXJhdGlvbkZyb21WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25hbWUnXSwgZnJvbU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWV0YWRhdGEnXSk7XG4gIGlmIChmcm9tTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtZXRhZGF0YSddLCBmcm9tTWV0YWRhdGEpO1xuICB9XG5cbiAgY29uc3QgZnJvbURvbmUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkb25lJ10pO1xuICBpZiAoZnJvbURvbmUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkb25lJ10sIGZyb21Eb25lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FcnJvciA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Vycm9yJ10pO1xuICBpZiAoZnJvbUVycm9yICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZXJyb3InXSwgZnJvbUVycm9yKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Jlc3BvbnNlJ10pO1xuICBpZiAoZnJvbVJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmVzcG9uc2UnXSxcbiAgICAgIGdlbmVyYXRlVmlkZW9zUmVzcG9uc2VGcm9tVmVydGV4KGZyb21SZXNwb25zZSksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVmlkZW9zUGFyYW1ldGVyc1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZVZpZGVvc1BhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICdtb2RlbCddLFxuICAgICAgdC50TW9kZWwoYXBpQ2xpZW50LCBmcm9tTW9kZWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJvbXB0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncHJvbXB0J10pO1xuICBpZiAoZnJvbVByb21wdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2luc3RhbmNlc1swXScsICdwcm9tcHQnXSwgZnJvbVByb21wdCk7XG4gIH1cblxuICBjb25zdCBmcm9tSW1hZ2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpbWFnZSddKTtcbiAgaWYgKGZyb21JbWFnZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2luc3RhbmNlc1swXScsICdpbWFnZSddLFxuICAgICAgaW1hZ2VUb01sZGV2KGZyb21JbWFnZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21WaWRlbyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3ZpZGVvJ10pO1xuICBpZiAoZnJvbVZpZGVvICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnaW5zdGFuY2VzWzBdJywgJ3ZpZGVvJ10sXG4gICAgICB2aWRlb1RvTWxkZXYoZnJvbVZpZGVvKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVNvdXJjZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NvdXJjZSddKTtcbiAgaWYgKGZyb21Tb3VyY2UgIT0gbnVsbCkge1xuICAgIGdlbmVyYXRlVmlkZW9zU291cmNlVG9NbGRldihmcm9tU291cmNlLCB0b09iamVjdCk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgZ2VuZXJhdGVWaWRlb3NDb25maWdUb01sZGV2KGZyb21Db25maWcsIHRvT2JqZWN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVmlkZW9zUGFyYW1ldGVyc1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVWaWRlb3NQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbW9kZWwnXSxcbiAgICAgIHQudE1vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVByb21wdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Byb21wdCddKTtcbiAgaWYgKGZyb21Qcm9tcHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpbnN0YW5jZXNbMF0nLCAncHJvbXB0J10sIGZyb21Qcm9tcHQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUltYWdlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW1hZ2UnXSk7XG4gIGlmIChmcm9tSW1hZ2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydpbnN0YW5jZXNbMF0nLCAnaW1hZ2UnXSxcbiAgICAgIGltYWdlVG9WZXJ0ZXgoZnJvbUltYWdlKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVZpZGVvID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndmlkZW8nXSk7XG4gIGlmIChmcm9tVmlkZW8gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydpbnN0YW5jZXNbMF0nLCAndmlkZW8nXSxcbiAgICAgIHZpZGVvVG9WZXJ0ZXgoZnJvbVZpZGVvKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVNvdXJjZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NvdXJjZSddKTtcbiAgaWYgKGZyb21Tb3VyY2UgIT0gbnVsbCkge1xuICAgIGdlbmVyYXRlVmlkZW9zU291cmNlVG9WZXJ0ZXgoZnJvbVNvdXJjZSwgdG9PYmplY3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGdlbmVyYXRlVmlkZW9zQ29uZmlnVG9WZXJ0ZXgoZnJvbUNvbmZpZywgdG9PYmplY3QpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVWaWRlb3NSZXNwb25zZUZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVWaWRlb3NSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUdlbmVyYXRlZFZpZGVvcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2dlbmVyYXRlZFNhbXBsZXMnLFxuICBdKTtcbiAgaWYgKGZyb21HZW5lcmF0ZWRWaWRlb3MgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tR2VuZXJhdGVkVmlkZW9zO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlZFZpZGVvRnJvbU1sZGV2KGl0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydnZW5lcmF0ZWRWaWRlb3MnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SYWlNZWRpYUZpbHRlcmVkQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyYWlNZWRpYUZpbHRlcmVkQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21SYWlNZWRpYUZpbHRlcmVkQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyYWlNZWRpYUZpbHRlcmVkQ291bnQnXSxcbiAgICAgIGZyb21SYWlNZWRpYUZpbHRlcmVkQ291bnQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SYWlNZWRpYUZpbHRlcmVkUmVhc29ucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3JhaU1lZGlhRmlsdGVyZWRSZWFzb25zJyxcbiAgXSk7XG4gIGlmIChmcm9tUmFpTWVkaWFGaWx0ZXJlZFJlYXNvbnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyYWlNZWRpYUZpbHRlcmVkUmVhc29ucyddLFxuICAgICAgZnJvbVJhaU1lZGlhRmlsdGVyZWRSZWFzb25zLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVZpZGVvc1Jlc3BvbnNlRnJvbVZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVWaWRlb3NSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUdlbmVyYXRlZFZpZGVvcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3ZpZGVvcyddKTtcbiAgaWYgKGZyb21HZW5lcmF0ZWRWaWRlb3MgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tR2VuZXJhdGVkVmlkZW9zO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlZFZpZGVvRnJvbVZlcnRleChpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZ2VuZXJhdGVkVmlkZW9zJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICBjb25zdCBmcm9tUmFpTWVkaWFGaWx0ZXJlZENvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmFpTWVkaWFGaWx0ZXJlZENvdW50JyxcbiAgXSk7XG4gIGlmIChmcm9tUmFpTWVkaWFGaWx0ZXJlZENvdW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmFpTWVkaWFGaWx0ZXJlZENvdW50J10sXG4gICAgICBmcm9tUmFpTWVkaWFGaWx0ZXJlZENvdW50LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmFpTWVkaWFGaWx0ZXJlZFJlYXNvbnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyYWlNZWRpYUZpbHRlcmVkUmVhc29ucycsXG4gIF0pO1xuICBpZiAoZnJvbVJhaU1lZGlhRmlsdGVyZWRSZWFzb25zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmFpTWVkaWFGaWx0ZXJlZFJlYXNvbnMnXSxcbiAgICAgIGZyb21SYWlNZWRpYUZpbHRlcmVkUmVhc29ucyxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVWaWRlb3NTb3VyY2VUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZVZpZGVvc1NvdXJjZSxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVByb21wdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3Byb21wdCddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21Qcm9tcHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnaW5zdGFuY2VzWzBdJywgJ3Byb21wdCddLCBmcm9tUHJvbXB0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbWFnZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ltYWdlJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUltYWdlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ2luc3RhbmNlc1swXScsICdpbWFnZSddLFxuICAgICAgaW1hZ2VUb01sZGV2KGZyb21JbWFnZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21WaWRlbyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3ZpZGVvJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVZpZGVvICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ2luc3RhbmNlc1swXScsICd2aWRlbyddLFxuICAgICAgdmlkZW9Ub01sZGV2KGZyb21WaWRlbyksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVmlkZW9zU291cmNlVG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlVmlkZW9zU291cmNlLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tUHJvbXB0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncHJvbXB0J10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVByb21wdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydpbnN0YW5jZXNbMF0nLCAncHJvbXB0J10sIGZyb21Qcm9tcHQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUltYWdlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW1hZ2UnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tSW1hZ2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnaW5zdGFuY2VzWzBdJywgJ2ltYWdlJ10sXG4gICAgICBpbWFnZVRvVmVydGV4KGZyb21JbWFnZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21WaWRlbyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3ZpZGVvJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVZpZGVvICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ2luc3RhbmNlc1swXScsICd2aWRlbyddLFxuICAgICAgdmlkZW9Ub1ZlcnRleChmcm9tVmlkZW8pLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZWRJbWFnZUZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVkSW1hZ2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21JbWFnZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ19zZWxmJ10pO1xuICBpZiAoZnJvbUltYWdlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaW1hZ2UnXSwgaW1hZ2VGcm9tTWxkZXYoZnJvbUltYWdlKSk7XG4gIH1cblxuICBjb25zdCBmcm9tUmFpRmlsdGVyZWRSZWFzb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyYWlGaWx0ZXJlZFJlYXNvbicsXG4gIF0pO1xuICBpZiAoZnJvbVJhaUZpbHRlcmVkUmVhc29uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmFpRmlsdGVyZWRSZWFzb24nXSxcbiAgICAgIGZyb21SYWlGaWx0ZXJlZFJlYXNvbixcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVNhZmV0eUF0dHJpYnV0ZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydfc2VsZiddKTtcbiAgaWYgKGZyb21TYWZldHlBdHRyaWJ1dGVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnc2FmZXR5QXR0cmlidXRlcyddLFxuICAgICAgc2FmZXR5QXR0cmlidXRlc0Zyb21NbGRldihmcm9tU2FmZXR5QXR0cmlidXRlcyksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlZEltYWdlRnJvbVZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVkSW1hZ2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21JbWFnZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ19zZWxmJ10pO1xuICBpZiAoZnJvbUltYWdlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaW1hZ2UnXSwgaW1hZ2VGcm9tVmVydGV4KGZyb21JbWFnZSkpO1xuICB9XG5cbiAgY29uc3QgZnJvbVJhaUZpbHRlcmVkUmVhc29uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmFpRmlsdGVyZWRSZWFzb24nLFxuICBdKTtcbiAgaWYgKGZyb21SYWlGaWx0ZXJlZFJlYXNvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3JhaUZpbHRlcmVkUmVhc29uJ10sXG4gICAgICBmcm9tUmFpRmlsdGVyZWRSZWFzb24sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TYWZldHlBdHRyaWJ1dGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnX3NlbGYnXSk7XG4gIGlmIChmcm9tU2FmZXR5QXR0cmlidXRlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3NhZmV0eUF0dHJpYnV0ZXMnXSxcbiAgICAgIHNhZmV0eUF0dHJpYnV0ZXNGcm9tVmVydGV4KGZyb21TYWZldHlBdHRyaWJ1dGVzKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUVuaGFuY2VkUHJvbXB0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncHJvbXB0J10pO1xuICBpZiAoZnJvbUVuaGFuY2VkUHJvbXB0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZW5oYW5jZWRQcm9tcHQnXSwgZnJvbUVuaGFuY2VkUHJvbXB0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlZEltYWdlTWFza0Zyb21WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdlbmVyYXRlZEltYWdlTWFzayxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1hc2sgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydfc2VsZiddKTtcbiAgaWYgKGZyb21NYXNrICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWFzayddLCBpbWFnZUZyb21WZXJ0ZXgoZnJvbU1hc2spKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21MYWJlbHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydsYWJlbHMnXSk7XG4gIGlmIChmcm9tTGFiZWxzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbUxhYmVscztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydsYWJlbHMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlZFZpZGVvRnJvbU1sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0ZWRWaWRlbyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVZpZGVvID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndmlkZW8nXSk7XG4gIGlmIChmcm9tVmlkZW8gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd2aWRlbyddLCB2aWRlb0Zyb21NbGRldihmcm9tVmlkZW8pKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlZFZpZGVvRnJvbVZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuR2VuZXJhdGVkVmlkZW8sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21WaWRlbyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ19zZWxmJ10pO1xuICBpZiAoZnJvbVZpZGVvICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndmlkZW8nXSwgdmlkZW9Gcm9tVmVydGV4KGZyb21WaWRlbykpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGlvbkNvbmZpZ1RvVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZW5lcmF0aW9uQ29uZmlnLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWxTZWxlY3Rpb25Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdtb2RlbFNlbGVjdGlvbkNvbmZpZycsXG4gIF0pO1xuICBpZiAoZnJvbU1vZGVsU2VsZWN0aW9uQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbW9kZWxDb25maWcnXSwgZnJvbU1vZGVsU2VsZWN0aW9uQ29uZmlnKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZUpzb25TY2hlbWEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZUpzb25TY2hlbWEnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZUpzb25TY2hlbWEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZXNwb25zZUpzb25TY2hlbWEnXSxcbiAgICAgIGZyb21SZXNwb25zZUpzb25TY2hlbWEsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21BdWRpb1RpbWVzdGFtcCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2F1ZGlvVGltZXN0YW1wJyxcbiAgXSk7XG4gIGlmIChmcm9tQXVkaW9UaW1lc3RhbXAgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydhdWRpb1RpbWVzdGFtcCddLCBmcm9tQXVkaW9UaW1lc3RhbXApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNhbmRpZGF0ZUNvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY2FuZGlkYXRlQ291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21DYW5kaWRhdGVDb3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NhbmRpZGF0ZUNvdW50J10sIGZyb21DYW5kaWRhdGVDb3VudCk7XG4gIH1cblxuICBjb25zdCBmcm9tRW5hYmxlQWZmZWN0aXZlRGlhbG9nID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZW5hYmxlQWZmZWN0aXZlRGlhbG9nJyxcbiAgXSk7XG4gIGlmIChmcm9tRW5hYmxlQWZmZWN0aXZlRGlhbG9nICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZW5hYmxlQWZmZWN0aXZlRGlhbG9nJ10sXG4gICAgICBmcm9tRW5hYmxlQWZmZWN0aXZlRGlhbG9nLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tRnJlcXVlbmN5UGVuYWx0eSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2ZyZXF1ZW5jeVBlbmFsdHknLFxuICBdKTtcbiAgaWYgKGZyb21GcmVxdWVuY3lQZW5hbHR5ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZnJlcXVlbmN5UGVuYWx0eSddLCBmcm9tRnJlcXVlbmN5UGVuYWx0eSk7XG4gIH1cblxuICBjb25zdCBmcm9tTG9ncHJvYnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydsb2dwcm9icyddKTtcbiAgaWYgKGZyb21Mb2dwcm9icyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2xvZ3Byb2JzJ10sIGZyb21Mb2dwcm9icyk7XG4gIH1cblxuICBjb25zdCBmcm9tTWF4T3V0cHV0VG9rZW5zID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbWF4T3V0cHV0VG9rZW5zJyxcbiAgXSk7XG4gIGlmIChmcm9tTWF4T3V0cHV0VG9rZW5zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWF4T3V0cHV0VG9rZW5zJ10sIGZyb21NYXhPdXRwdXRUb2tlbnMpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1lZGlhUmVzb2x1dGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ21lZGlhUmVzb2x1dGlvbicsXG4gIF0pO1xuICBpZiAoZnJvbU1lZGlhUmVzb2x1dGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21lZGlhUmVzb2x1dGlvbiddLCBmcm9tTWVkaWFSZXNvbHV0aW9uKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21QcmVzZW5jZVBlbmFsdHkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwcmVzZW5jZVBlbmFsdHknLFxuICBdKTtcbiAgaWYgKGZyb21QcmVzZW5jZVBlbmFsdHkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwcmVzZW5jZVBlbmFsdHknXSwgZnJvbVByZXNlbmNlUGVuYWx0eSk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VMb2dwcm9icyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlTG9ncHJvYnMnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZUxvZ3Byb2JzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmVzcG9uc2VMb2dwcm9icyddLCBmcm9tUmVzcG9uc2VMb2dwcm9icyk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VNaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Jlc3BvbnNlTWltZVR5cGUnLFxuICBdKTtcbiAgaWYgKGZyb21SZXNwb25zZU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmVzcG9uc2VNaW1lVHlwZSddLCBmcm9tUmVzcG9uc2VNaW1lVHlwZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VNb2RhbGl0aWVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVzcG9uc2VNb2RhbGl0aWVzJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVzcG9uc2VNb2RhbGl0aWVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsncmVzcG9uc2VNb2RhbGl0aWVzJ10sXG4gICAgICBmcm9tUmVzcG9uc2VNb2RhbGl0aWVzLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2VTY2hlbWEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZVNjaGVtYScsXG4gIF0pO1xuICBpZiAoZnJvbVJlc3BvbnNlU2NoZW1hICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmVzcG9uc2VTY2hlbWEnXSwgZnJvbVJlc3BvbnNlU2NoZW1hKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Sb3V0aW5nQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncm91dGluZ0NvbmZpZycsXG4gIF0pO1xuICBpZiAoZnJvbVJvdXRpbmdDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyb3V0aW5nQ29uZmlnJ10sIGZyb21Sb3V0aW5nQ29uZmlnKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TZWVkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc2VlZCddKTtcbiAgaWYgKGZyb21TZWVkICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2VlZCddLCBmcm9tU2VlZCk7XG4gIH1cblxuICBjb25zdCBmcm9tU3BlZWNoQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc3BlZWNoQ29uZmlnJ10pO1xuICBpZiAoZnJvbVNwZWVjaENvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3NwZWVjaENvbmZpZyddLCBmcm9tU3BlZWNoQ29uZmlnKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TdG9wU2VxdWVuY2VzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc3RvcFNlcXVlbmNlcycsXG4gIF0pO1xuICBpZiAoZnJvbVN0b3BTZXF1ZW5jZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzdG9wU2VxdWVuY2VzJ10sIGZyb21TdG9wU2VxdWVuY2VzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UZW1wZXJhdHVyZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RlbXBlcmF0dXJlJ10pO1xuICBpZiAoZnJvbVRlbXBlcmF0dXJlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGVtcGVyYXR1cmUnXSwgZnJvbVRlbXBlcmF0dXJlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaGlua2luZ0NvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3RoaW5raW5nQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tVGhpbmtpbmdDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aGlua2luZ0NvbmZpZyddLCBmcm9tVGhpbmtpbmdDb25maWcpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvcEsgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b3BLJ10pO1xuICBpZiAoZnJvbVRvcEsgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0b3BLJ10sIGZyb21Ub3BLKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub3BQID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9wUCddKTtcbiAgaWYgKGZyb21Ub3BQICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndG9wUCddLCBmcm9tVG9wUCk7XG4gIH1cblxuICBpZiAoXG4gICAgY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZW5hYmxlRW5oYW5jZWRDaXZpY0Fuc3dlcnMnXSkgIT09XG4gICAgdW5kZWZpbmVkXG4gICkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdlbmFibGVFbmhhbmNlZENpdmljQW5zd2VycyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBWZXJ0ZXggQUkuJyxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW9kZWxQYXJhbWV0ZXJzVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdldE1vZGVsUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ25hbWUnXSxcbiAgICAgIHQudE1vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW9kZWxQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZXRNb2RlbFBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICduYW1lJ10sXG4gICAgICB0LnRNb2RlbChhcGlDbGllbnQsIGZyb21Nb2RlbCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdvb2dsZU1hcHNUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Hb29nbGVNYXBzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYXV0aENvbmZpZyddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdhdXRoQ29uZmlnIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBjb25zdCBmcm9tRW5hYmxlV2lkZ2V0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZW5hYmxlV2lkZ2V0J10pO1xuICBpZiAoZnJvbUVuYWJsZVdpZGdldCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2VuYWJsZVdpZGdldCddLCBmcm9tRW5hYmxlV2lkZ2V0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdvb2dsZVNlYXJjaFRvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdvb2dsZVNlYXJjaCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2V4Y2x1ZGVEb21haW5zJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2V4Y2x1ZGVEb21haW5zIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYmxvY2tpbmdDb25maWRlbmNlJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnYmxvY2tpbmdDb25maWRlbmNlIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRpbWVSYW5nZUZpbHRlciA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3RpbWVSYW5nZUZpbHRlcicsXG4gIF0pO1xuICBpZiAoZnJvbVRpbWVSYW5nZUZpbHRlciAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RpbWVSYW5nZUZpbHRlciddLCBmcm9tVGltZVJhbmdlRmlsdGVyKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGltYWdlQ29uZmlnVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuSW1hZ2VDb25maWcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Bc3BlY3RSYXRpbyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2FzcGVjdFJhdGlvJ10pO1xuICBpZiAoZnJvbUFzcGVjdFJhdGlvICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnYXNwZWN0UmF0aW8nXSwgZnJvbUFzcGVjdFJhdGlvKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbWFnZVNpemUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpbWFnZVNpemUnXSk7XG4gIGlmIChmcm9tSW1hZ2VTaXplICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaW1hZ2VTaXplJ10sIGZyb21JbWFnZVNpemUpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ291dHB1dE1pbWVUeXBlJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ291dHB1dE1pbWVUeXBlIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBpZiAoXG4gICAgY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnb3V0cHV0Q29tcHJlc3Npb25RdWFsaXR5J10pICE9PVxuICAgIHVuZGVmaW5lZFxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnb3V0cHV0Q29tcHJlc3Npb25RdWFsaXR5IHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW1hZ2VDb25maWdUb1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuSW1hZ2VDb25maWcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Bc3BlY3RSYXRpbyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2FzcGVjdFJhdGlvJ10pO1xuICBpZiAoZnJvbUFzcGVjdFJhdGlvICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnYXNwZWN0UmF0aW8nXSwgZnJvbUFzcGVjdFJhdGlvKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbWFnZVNpemUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpbWFnZVNpemUnXSk7XG4gIGlmIChmcm9tSW1hZ2VTaXplICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaW1hZ2VTaXplJ10sIGZyb21JbWFnZVNpemUpO1xuICB9XG5cbiAgY29uc3QgZnJvbU91dHB1dE1pbWVUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnb3V0cHV0TWltZVR5cGUnLFxuICBdKTtcbiAgaWYgKGZyb21PdXRwdXRNaW1lVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2ltYWdlT3V0cHV0T3B0aW9ucycsICdtaW1lVHlwZSddLFxuICAgICAgZnJvbU91dHB1dE1pbWVUeXBlLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tT3V0cHV0Q29tcHJlc3Npb25RdWFsaXR5ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnb3V0cHV0Q29tcHJlc3Npb25RdWFsaXR5JyxcbiAgXSk7XG4gIGlmIChmcm9tT3V0cHV0Q29tcHJlc3Npb25RdWFsaXR5ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnaW1hZ2VPdXRwdXRPcHRpb25zJywgJ2NvbXByZXNzaW9uUXVhbGl0eSddLFxuICAgICAgZnJvbU91dHB1dENvbXByZXNzaW9uUXVhbGl0eSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW1hZ2VGcm9tTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkltYWdlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tSW1hZ2VCeXRlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2J5dGVzQmFzZTY0RW5jb2RlZCcsXG4gIF0pO1xuICBpZiAoZnJvbUltYWdlQnl0ZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydpbWFnZUJ5dGVzJ10sIHQudEJ5dGVzKGZyb21JbWFnZUJ5dGVzKSk7XG4gIH1cblxuICBjb25zdCBmcm9tTWltZVR5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtaW1lVHlwZSddKTtcbiAgaWYgKGZyb21NaW1lVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21pbWVUeXBlJ10sIGZyb21NaW1lVHlwZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbWFnZUZyb21WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkltYWdlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tR2NzVXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ2NzVXJpJ10pO1xuICBpZiAoZnJvbUdjc1VyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2djc1VyaSddLCBmcm9tR2NzVXJpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbWFnZUJ5dGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnYnl0ZXNCYXNlNjRFbmNvZGVkJyxcbiAgXSk7XG4gIGlmIChmcm9tSW1hZ2VCeXRlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2ltYWdlQnl0ZXMnXSwgdC50Qnl0ZXMoZnJvbUltYWdlQnl0ZXMpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbWVUeXBlJ10pO1xuICBpZiAoZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWltZVR5cGUnXSwgZnJvbU1pbWVUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGltYWdlVG9NbGRldihmcm9tT2JqZWN0OiB0eXBlcy5JbWFnZSk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2djc1VyaSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdnY3NVcmkgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbWFnZUJ5dGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW1hZ2VCeXRlcyddKTtcbiAgaWYgKGZyb21JbWFnZUJ5dGVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnYnl0ZXNCYXNlNjRFbmNvZGVkJ10sXG4gICAgICB0LnRCeXRlcyhmcm9tSW1hZ2VCeXRlcyksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbWVUeXBlJ10pO1xuICBpZiAoZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWltZVR5cGUnXSwgZnJvbU1pbWVUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGltYWdlVG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkltYWdlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tR2NzVXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ2NzVXJpJ10pO1xuICBpZiAoZnJvbUdjc1VyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2djc1VyaSddLCBmcm9tR2NzVXJpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbWFnZUJ5dGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW1hZ2VCeXRlcyddKTtcbiAgaWYgKGZyb21JbWFnZUJ5dGVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnYnl0ZXNCYXNlNjRFbmNvZGVkJ10sXG4gICAgICB0LnRCeXRlcyhmcm9tSW1hZ2VCeXRlcyksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbWVUeXBlJ10pO1xuICBpZiAoZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWltZVR5cGUnXSwgZnJvbU1pbWVUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RNb2RlbHNDb25maWdUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuTGlzdE1vZGVsc0NvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVBhZ2VTaXplID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFnZVNpemUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUGFnZVNpemUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnX3F1ZXJ5JywgJ3BhZ2VTaXplJ10sIGZyb21QYWdlU2l6ZSk7XG4gIH1cblxuICBjb25zdCBmcm9tUGFnZVRva2VuID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGFnZVRva2VuJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVBhZ2VUb2tlbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydfcXVlcnknLCAncGFnZVRva2VuJ10sIGZyb21QYWdlVG9rZW4pO1xuICB9XG5cbiAgY29uc3QgZnJvbUZpbHRlciA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ZpbHRlciddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21GaWx0ZXIgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnX3F1ZXJ5JywgJ2ZpbHRlciddLCBmcm9tRmlsdGVyKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21RdWVyeUJhc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydxdWVyeUJhc2UnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUXVlcnlCYXNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ191cmwnLCAnbW9kZWxzX3VybCddLFxuICAgICAgdC50TW9kZWxzVXJsKGFwaUNsaWVudCwgZnJvbVF1ZXJ5QmFzZSksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RNb2RlbHNDb25maWdUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpc3RNb2RlbHNDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21QYWdlU2l6ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhZ2VTaXplJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVBhZ2VTaXplICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ19xdWVyeScsICdwYWdlU2l6ZSddLCBmcm9tUGFnZVNpemUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVBhZ2VUb2tlbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhZ2VUb2tlbiddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21QYWdlVG9rZW4gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnX3F1ZXJ5JywgJ3BhZ2VUb2tlbiddLCBmcm9tUGFnZVRva2VuKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GaWx0ZXIgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmaWx0ZXInXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tRmlsdGVyICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ19xdWVyeScsICdmaWx0ZXInXSwgZnJvbUZpbHRlcik7XG4gIH1cblxuICBjb25zdCBmcm9tUXVlcnlCYXNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncXVlcnlCYXNlJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVF1ZXJ5QmFzZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydfdXJsJywgJ21vZGVsc191cmwnXSxcbiAgICAgIHQudE1vZGVsc1VybChhcGlDbGllbnQsIGZyb21RdWVyeUJhc2UpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0TW9kZWxzUGFyYW1ldGVyc1RvTWxkZXYoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXN0TW9kZWxzUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGxpc3RNb2RlbHNDb25maWdUb01sZGV2KGFwaUNsaWVudCwgZnJvbUNvbmZpZywgdG9PYmplY3QpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGlzdE1vZGVsc1BhcmFtZXRlcnNUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpc3RNb2RlbHNQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgbGlzdE1vZGVsc0NvbmZpZ1RvVmVydGV4KGFwaUNsaWVudCwgZnJvbUNvbmZpZywgdG9PYmplY3QpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGlzdE1vZGVsc1Jlc3BvbnNlRnJvbU1sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXN0TW9kZWxzUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21TZGtIdHRwUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZGtIdHRwUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21TZGtIdHRwUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzZGtIdHRwUmVzcG9uc2UnXSwgZnJvbVNka0h0dHBSZXNwb25zZSk7XG4gIH1cblxuICBjb25zdCBmcm9tTmV4dFBhZ2VUb2tlbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ25leHRQYWdlVG9rZW4nLFxuICBdKTtcbiAgaWYgKGZyb21OZXh0UGFnZVRva2VuICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmV4dFBhZ2VUb2tlbiddLCBmcm9tTmV4dFBhZ2VUb2tlbik7XG4gIH1cblxuICBjb25zdCBmcm9tTW9kZWxzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnX3NlbGYnXSk7XG4gIGlmIChmcm9tTW9kZWxzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gdC50RXh0cmFjdE1vZGVscyhmcm9tTW9kZWxzKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBtb2RlbEZyb21NbGRldihpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbW9kZWxzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0TW9kZWxzUmVzcG9uc2VGcm9tVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXN0TW9kZWxzUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21TZGtIdHRwUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZGtIdHRwUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21TZGtIdHRwUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzZGtIdHRwUmVzcG9uc2UnXSwgZnJvbVNka0h0dHBSZXNwb25zZSk7XG4gIH1cblxuICBjb25zdCBmcm9tTmV4dFBhZ2VUb2tlbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ25leHRQYWdlVG9rZW4nLFxuICBdKTtcbiAgaWYgKGZyb21OZXh0UGFnZVRva2VuICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmV4dFBhZ2VUb2tlbiddLCBmcm9tTmV4dFBhZ2VUb2tlbik7XG4gIH1cblxuICBjb25zdCBmcm9tTW9kZWxzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnX3NlbGYnXSk7XG4gIGlmIChmcm9tTW9kZWxzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gdC50RXh0cmFjdE1vZGVscyhmcm9tTW9kZWxzKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBtb2RlbEZyb21WZXJ0ZXgoaXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21vZGVscyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFza1JlZmVyZW5jZUNvbmZpZ1RvVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5NYXNrUmVmZXJlbmNlQ29uZmlnLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTWFza01vZGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtYXNrTW9kZSddKTtcbiAgaWYgKGZyb21NYXNrTW9kZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21hc2tNb2RlJ10sIGZyb21NYXNrTW9kZSk7XG4gIH1cblxuICBjb25zdCBmcm9tU2VnbWVudGF0aW9uQ2xhc3NlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3NlZ21lbnRhdGlvbkNsYXNzZXMnLFxuICBdKTtcbiAgaWYgKGZyb21TZWdtZW50YXRpb25DbGFzc2VzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWFza0NsYXNzZXMnXSwgZnJvbVNlZ21lbnRhdGlvbkNsYXNzZXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1hc2tEaWxhdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21hc2tEaWxhdGlvbiddKTtcbiAgaWYgKGZyb21NYXNrRGlsYXRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkaWxhdGlvbiddLCBmcm9tTWFza0RpbGF0aW9uKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vZGVsRnJvbU1sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Nb2RlbCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EaXNwbGF5TmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10pO1xuICBpZiAoZnJvbURpc3BsYXlOYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGlzcGxheU5hbWUnXSwgZnJvbURpc3BsYXlOYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EZXNjcmlwdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rlc2NyaXB0aW9uJ10pO1xuICBpZiAoZnJvbURlc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGVzY3JpcHRpb24nXSwgZnJvbURlc2NyaXB0aW9uKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21WZXJzaW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndmVyc2lvbiddKTtcbiAgaWYgKGZyb21WZXJzaW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndmVyc2lvbiddLCBmcm9tVmVyc2lvbik7XG4gIH1cblxuICBjb25zdCBmcm9tVHVuZWRNb2RlbEluZm8gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydfc2VsZiddKTtcbiAgaWYgKGZyb21UdW5lZE1vZGVsSW5mbyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3R1bmVkTW9kZWxJbmZvJ10sXG4gICAgICB0dW5lZE1vZGVsSW5mb0Zyb21NbGRldihmcm9tVHVuZWRNb2RlbEluZm8pLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tSW5wdXRUb2tlbkxpbWl0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnaW5wdXRUb2tlbkxpbWl0JyxcbiAgXSk7XG4gIGlmIChmcm9tSW5wdXRUb2tlbkxpbWl0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaW5wdXRUb2tlbkxpbWl0J10sIGZyb21JbnB1dFRva2VuTGltaXQpO1xuICB9XG5cbiAgY29uc3QgZnJvbU91dHB1dFRva2VuTGltaXQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdvdXRwdXRUb2tlbkxpbWl0JyxcbiAgXSk7XG4gIGlmIChmcm9tT3V0cHV0VG9rZW5MaW1pdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ291dHB1dFRva2VuTGltaXQnXSwgZnJvbU91dHB1dFRva2VuTGltaXQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVN1cHBvcnRlZEFjdGlvbnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzdXBwb3J0ZWRHZW5lcmF0aW9uTWV0aG9kcycsXG4gIF0pO1xuICBpZiAoZnJvbVN1cHBvcnRlZEFjdGlvbnMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzdXBwb3J0ZWRBY3Rpb25zJ10sIGZyb21TdXBwb3J0ZWRBY3Rpb25zKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UZW1wZXJhdHVyZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RlbXBlcmF0dXJlJ10pO1xuICBpZiAoZnJvbVRlbXBlcmF0dXJlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGVtcGVyYXR1cmUnXSwgZnJvbVRlbXBlcmF0dXJlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NYXhUZW1wZXJhdHVyZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ21heFRlbXBlcmF0dXJlJyxcbiAgXSk7XG4gIGlmIChmcm9tTWF4VGVtcGVyYXR1cmUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtYXhUZW1wZXJhdHVyZSddLCBmcm9tTWF4VGVtcGVyYXR1cmUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvcFAgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b3BQJ10pO1xuICBpZiAoZnJvbVRvcFAgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0b3BQJ10sIGZyb21Ub3BQKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Ub3BLID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndG9wSyddKTtcbiAgaWYgKGZyb21Ub3BLICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndG9wSyddLCBmcm9tVG9wSyk7XG4gIH1cblxuICBjb25zdCBmcm9tVGhpbmtpbmcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0aGlua2luZyddKTtcbiAgaWYgKGZyb21UaGlua2luZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RoaW5raW5nJ10sIGZyb21UaGlua2luZyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb2RlbEZyb21WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLk1vZGVsLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ25hbWUnXSwgZnJvbU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbURpc3BsYXlOYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGlzcGxheU5hbWUnXSk7XG4gIGlmIChmcm9tRGlzcGxheU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkaXNwbGF5TmFtZSddLCBmcm9tRGlzcGxheU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbURlc2NyaXB0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGVzY3JpcHRpb24nXSk7XG4gIGlmIChmcm9tRGVzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkZXNjcmlwdGlvbiddLCBmcm9tRGVzY3JpcHRpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbVZlcnNpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd2ZXJzaW9uSWQnXSk7XG4gIGlmIChmcm9tVmVyc2lvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3ZlcnNpb24nXSwgZnJvbVZlcnNpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbUVuZHBvaW50cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2RlcGxveWVkTW9kZWxzJ10pO1xuICBpZiAoZnJvbUVuZHBvaW50cyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IGZyb21FbmRwb2ludHM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gZW5kcG9pbnRGcm9tVmVydGV4KGl0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydlbmRwb2ludHMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21MYWJlbHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydsYWJlbHMnXSk7XG4gIGlmIChmcm9tTGFiZWxzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbGFiZWxzJ10sIGZyb21MYWJlbHMpO1xuICB9XG5cbiAgY29uc3QgZnJvbVR1bmVkTW9kZWxJbmZvID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnX3NlbGYnXSk7XG4gIGlmIChmcm9tVHVuZWRNb2RlbEluZm8gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd0dW5lZE1vZGVsSW5mbyddLFxuICAgICAgdHVuZWRNb2RlbEluZm9Gcm9tVmVydGV4KGZyb21UdW5lZE1vZGVsSW5mbyksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EZWZhdWx0Q2hlY2twb2ludElkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZGVmYXVsdENoZWNrcG9pbnRJZCcsXG4gIF0pO1xuICBpZiAoZnJvbURlZmF1bHRDaGVja3BvaW50SWQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydkZWZhdWx0Q2hlY2twb2ludElkJ10sXG4gICAgICBmcm9tRGVmYXVsdENoZWNrcG9pbnRJZCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNoZWNrcG9pbnRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY2hlY2twb2ludHMnXSk7XG4gIGlmIChmcm9tQ2hlY2twb2ludHMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tQ2hlY2twb2ludHM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY2hlY2twb2ludHMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnRUb01sZGV2KGZyb21PYmplY3Q6IHR5cGVzLlBhcnQpOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21NZWRpYVJlc29sdXRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdtZWRpYVJlc29sdXRpb24nLFxuICBdKTtcbiAgaWYgKGZyb21NZWRpYVJlc29sdXRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtZWRpYVJlc29sdXRpb24nXSwgZnJvbU1lZGlhUmVzb2x1dGlvbik7XG4gIH1cblxuICBjb25zdCBmcm9tQ29kZUV4ZWN1dGlvblJlc3VsdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NvZGVFeGVjdXRpb25SZXN1bHQnLFxuICBdKTtcbiAgaWYgKGZyb21Db2RlRXhlY3V0aW9uUmVzdWx0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnY29kZUV4ZWN1dGlvblJlc3VsdCddLFxuICAgICAgZnJvbUNvZGVFeGVjdXRpb25SZXN1bHQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FeGVjdXRhYmxlQ29kZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2V4ZWN1dGFibGVDb2RlJyxcbiAgXSk7XG4gIGlmIChmcm9tRXhlY3V0YWJsZUNvZGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydleGVjdXRhYmxlQ29kZSddLCBmcm9tRXhlY3V0YWJsZUNvZGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZpbGVEYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZmlsZURhdGEnXSk7XG4gIGlmIChmcm9tRmlsZURhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydmaWxlRGF0YSddLFxuICAgICAgZmlsZURhdGFUb01sZGV2KGZyb21GaWxlRGF0YSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GdW5jdGlvbkNhbGwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmdW5jdGlvbkNhbGwnXSk7XG4gIGlmIChmcm9tRnVuY3Rpb25DYWxsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZnVuY3Rpb25DYWxsJ10sXG4gICAgICBmdW5jdGlvbkNhbGxUb01sZGV2KGZyb21GdW5jdGlvbkNhbGwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tRnVuY3Rpb25SZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2Z1bmN0aW9uUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21GdW5jdGlvblJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZnVuY3Rpb25SZXNwb25zZSddLCBmcm9tRnVuY3Rpb25SZXNwb25zZSk7XG4gIH1cblxuICBjb25zdCBmcm9tSW5saW5lRGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2lubGluZURhdGEnXSk7XG4gIGlmIChmcm9tSW5saW5lRGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2lubGluZURhdGEnXSxcbiAgICAgIGJsb2JUb01sZGV2KGZyb21JbmxpbmVEYXRhKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRleHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0ZXh0J10pO1xuICBpZiAoZnJvbVRleHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0ZXh0J10sIGZyb21UZXh0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaG91Z2h0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndGhvdWdodCddKTtcbiAgaWYgKGZyb21UaG91Z2h0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGhvdWdodCddLCBmcm9tVGhvdWdodCk7XG4gIH1cblxuICBjb25zdCBmcm9tVGhvdWdodFNpZ25hdHVyZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Rob3VnaHRTaWduYXR1cmUnLFxuICBdKTtcbiAgaWYgKGZyb21UaG91Z2h0U2lnbmF0dXJlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndGhvdWdodFNpZ25hdHVyZSddLCBmcm9tVGhvdWdodFNpZ25hdHVyZSk7XG4gIH1cblxuICBjb25zdCBmcm9tVmlkZW9NZXRhZGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3ZpZGVvTWV0YWRhdGEnLFxuICBdKTtcbiAgaWYgKGZyb21WaWRlb01ldGFkYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndmlkZW9NZXRhZGF0YSddLCBmcm9tVmlkZW9NZXRhZGF0YSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9kdWN0SW1hZ2VUb1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuUHJvZHVjdEltYWdlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tUHJvZHVjdEltYWdlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncHJvZHVjdEltYWdlJ10pO1xuICBpZiAoZnJvbVByb2R1Y3RJbWFnZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2ltYWdlJ10sIGltYWdlVG9WZXJ0ZXgoZnJvbVByb2R1Y3RJbWFnZSkpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVjb250ZXh0SW1hZ2VDb25maWdUb1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuUmVjb250ZXh0SW1hZ2VDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OdW1iZXJPZkltYWdlcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ251bWJlck9mSW1hZ2VzJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTnVtYmVyT2ZJbWFnZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdzYW1wbGVDb3VudCddLFxuICAgICAgZnJvbU51bWJlck9mSW1hZ2VzLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQmFzZVN0ZXBzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYmFzZVN0ZXBzJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUJhc2VTdGVwcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2Jhc2VTdGVwcyddLFxuICAgICAgZnJvbUJhc2VTdGVwcyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU91dHB1dEdjc1VyaSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ291dHB1dEdjc1VyaSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21PdXRwdXRHY3NVcmkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdzdG9yYWdlVXJpJ10sXG4gICAgICBmcm9tT3V0cHV0R2NzVXJpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tU2VlZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NlZWQnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tU2VlZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydwYXJhbWV0ZXJzJywgJ3NlZWQnXSwgZnJvbVNlZWQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNhZmV0eUZpbHRlckxldmVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2FmZXR5RmlsdGVyTGV2ZWwnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21TYWZldHlGaWx0ZXJMZXZlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3NhZmV0eVNldHRpbmcnXSxcbiAgICAgIGZyb21TYWZldHlGaWx0ZXJMZXZlbCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVBlcnNvbkdlbmVyYXRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwZXJzb25HZW5lcmF0aW9uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUGVyc29uR2VuZXJhdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3BlcnNvbkdlbmVyYXRpb24nXSxcbiAgICAgIGZyb21QZXJzb25HZW5lcmF0aW9uLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQWRkV2F0ZXJtYXJrID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYWRkV2F0ZXJtYXJrJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUFkZFdhdGVybWFyayAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2FkZFdhdGVybWFyayddLFxuICAgICAgZnJvbUFkZFdhdGVybWFyayxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU91dHB1dE1pbWVUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnb3V0cHV0TWltZVR5cGUnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21PdXRwdXRNaW1lVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ291dHB1dE9wdGlvbnMnLCAnbWltZVR5cGUnXSxcbiAgICAgIGZyb21PdXRwdXRNaW1lVHlwZSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU91dHB1dENvbXByZXNzaW9uUXVhbGl0eSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ291dHB1dENvbXByZXNzaW9uUXVhbGl0eScsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU91dHB1dENvbXByZXNzaW9uUXVhbGl0eSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ291dHB1dE9wdGlvbnMnLCAnY29tcHJlc3Npb25RdWFsaXR5J10sXG4gICAgICBmcm9tT3V0cHV0Q29tcHJlc3Npb25RdWFsaXR5LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tRW5oYW5jZVByb21wdCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2VuaGFuY2VQcm9tcHQnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21FbmhhbmNlUHJvbXB0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnZW5oYW5jZVByb21wdCddLFxuICAgICAgZnJvbUVuaGFuY2VQcm9tcHQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21MYWJlbHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydsYWJlbHMnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTGFiZWxzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ2xhYmVscyddLCBmcm9tTGFiZWxzKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlY29udGV4dEltYWdlUGFyYW1ldGVyc1RvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuUmVjb250ZXh0SW1hZ2VQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlbCddKTtcbiAgaWYgKGZyb21Nb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnbW9kZWwnXSxcbiAgICAgIHQudE1vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVNvdXJjZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NvdXJjZSddKTtcbiAgaWYgKGZyb21Tb3VyY2UgIT0gbnVsbCkge1xuICAgIHJlY29udGV4dEltYWdlU291cmNlVG9WZXJ0ZXgoZnJvbVNvdXJjZSwgdG9PYmplY3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIHJlY29udGV4dEltYWdlQ29uZmlnVG9WZXJ0ZXgoZnJvbUNvbmZpZywgdG9PYmplY3QpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVjb250ZXh0SW1hZ2VSZXNwb25zZUZyb21WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLlJlY29udGV4dEltYWdlUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21HZW5lcmF0ZWRJbWFnZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdwcmVkaWN0aW9ucycsXG4gIF0pO1xuICBpZiAoZnJvbUdlbmVyYXRlZEltYWdlcyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IGZyb21HZW5lcmF0ZWRJbWFnZXM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gZ2VuZXJhdGVkSW1hZ2VGcm9tVmVydGV4KGl0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydnZW5lcmF0ZWRJbWFnZXMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlY29udGV4dEltYWdlU291cmNlVG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLlJlY29udGV4dEltYWdlU291cmNlLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tUHJvbXB0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncHJvbXB0J10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVByb21wdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydpbnN0YW5jZXNbMF0nLCAncHJvbXB0J10sIGZyb21Qcm9tcHQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVBlcnNvbkltYWdlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGVyc29uSW1hZ2UnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUGVyc29uSW1hZ2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnaW5zdGFuY2VzWzBdJywgJ3BlcnNvbkltYWdlJywgJ2ltYWdlJ10sXG4gICAgICBpbWFnZVRvVmVydGV4KGZyb21QZXJzb25JbWFnZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Qcm9kdWN0SW1hZ2VzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncHJvZHVjdEltYWdlcycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVByb2R1Y3RJbWFnZXMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tUHJvZHVjdEltYWdlcztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBwcm9kdWN0SW1hZ2VUb1ZlcnRleChpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ2luc3RhbmNlc1swXScsICdwcm9kdWN0SW1hZ2VzJ10sXG4gICAgICB0cmFuc2Zvcm1lZExpc3QsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlZmVyZW5jZUltYWdlQVBJSW50ZXJuYWxUb1ZlcnRleChcbiAgZnJvbU9iamVjdDogX2ludGVybmFsX3R5cGVzLlJlZmVyZW5jZUltYWdlQVBJSW50ZXJuYWwsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21SZWZlcmVuY2VJbWFnZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3JlZmVyZW5jZUltYWdlJyxcbiAgXSk7XG4gIGlmIChmcm9tUmVmZXJlbmNlSW1hZ2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydyZWZlcmVuY2VJbWFnZSddLFxuICAgICAgaW1hZ2VUb1ZlcnRleChmcm9tUmVmZXJlbmNlSW1hZ2UpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVmZXJlbmNlSWQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZWZlcmVuY2VJZCddKTtcbiAgaWYgKGZyb21SZWZlcmVuY2VJZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3JlZmVyZW5jZUlkJ10sIGZyb21SZWZlcmVuY2VJZCk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVmZXJlbmNlVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3JlZmVyZW5jZVR5cGUnLFxuICBdKTtcbiAgaWYgKGZyb21SZWZlcmVuY2VUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmVmZXJlbmNlVHlwZSddLCBmcm9tUmVmZXJlbmNlVHlwZSk7XG4gIH1cblxuICBjb25zdCBmcm9tTWFza0ltYWdlQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbWFza0ltYWdlQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tTWFza0ltYWdlQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnbWFza0ltYWdlQ29uZmlnJ10sXG4gICAgICBtYXNrUmVmZXJlbmNlQ29uZmlnVG9WZXJ0ZXgoZnJvbU1hc2tJbWFnZUNvbmZpZyksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db250cm9sSW1hZ2VDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjb250cm9sSW1hZ2VDb25maWcnLFxuICBdKTtcbiAgaWYgKGZyb21Db250cm9sSW1hZ2VDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb250cm9sSW1hZ2VDb25maWcnXSxcbiAgICAgIGNvbnRyb2xSZWZlcmVuY2VDb25maWdUb1ZlcnRleChmcm9tQ29udHJvbEltYWdlQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVN0eWxlSW1hZ2VDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzdHlsZUltYWdlQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChmcm9tU3R5bGVJbWFnZUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3N0eWxlSW1hZ2VDb25maWcnXSwgZnJvbVN0eWxlSW1hZ2VDb25maWcpO1xuICB9XG5cbiAgY29uc3QgZnJvbVN1YmplY3RJbWFnZUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3N1YmplY3RJbWFnZUNvbmZpZycsXG4gIF0pO1xuICBpZiAoZnJvbVN1YmplY3RJbWFnZUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3N1YmplY3RJbWFnZUNvbmZpZyddLFxuICAgICAgZnJvbVN1YmplY3RJbWFnZUNvbmZpZyxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2FmZXR5QXR0cmlidXRlc0Zyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuU2FmZXR5QXR0cmlidXRlcyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUNhdGVnb3JpZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzYWZldHlBdHRyaWJ1dGVzJyxcbiAgICAnY2F0ZWdvcmllcycsXG4gIF0pO1xuICBpZiAoZnJvbUNhdGVnb3JpZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjYXRlZ29yaWVzJ10sIGZyb21DYXRlZ29yaWVzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TY29yZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzYWZldHlBdHRyaWJ1dGVzJyxcbiAgICAnc2NvcmVzJyxcbiAgXSk7XG4gIGlmIChmcm9tU2NvcmVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2NvcmVzJ10sIGZyb21TY29yZXMpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbnRlbnRUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29udGVudFR5cGUnXSk7XG4gIGlmIChmcm9tQ29udGVudFR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjb250ZW50VHlwZSddLCBmcm9tQ29udGVudFR5cGUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2FmZXR5QXR0cmlidXRlc0Zyb21WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLlNhZmV0eUF0dHJpYnV0ZXMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21DYXRlZ29yaWVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2FmZXR5QXR0cmlidXRlcycsXG4gICAgJ2NhdGVnb3JpZXMnLFxuICBdKTtcbiAgaWYgKGZyb21DYXRlZ29yaWVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY2F0ZWdvcmllcyddLCBmcm9tQ2F0ZWdvcmllcyk7XG4gIH1cblxuICBjb25zdCBmcm9tU2NvcmVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2FmZXR5QXR0cmlidXRlcycsXG4gICAgJ3Njb3JlcycsXG4gIF0pO1xuICBpZiAoZnJvbVNjb3JlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Njb3JlcyddLCBmcm9tU2NvcmVzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db250ZW50VHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbnRlbnRUeXBlJ10pO1xuICBpZiAoZnJvbUNvbnRlbnRUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29udGVudFR5cGUnXSwgZnJvbUNvbnRlbnRUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhZmV0eVNldHRpbmdUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5TYWZldHlTZXR0aW5nLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQ2F0ZWdvcnkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjYXRlZ29yeSddKTtcbiAgaWYgKGZyb21DYXRlZ29yeSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NhdGVnb3J5J10sIGZyb21DYXRlZ29yeSk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWV0aG9kJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21ldGhvZCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRocmVzaG9sZCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RocmVzaG9sZCddKTtcbiAgaWYgKGZyb21UaHJlc2hvbGQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aHJlc2hvbGQnXSwgZnJvbVRocmVzaG9sZCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzY3JpYmJsZUltYWdlVG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLlNjcmliYmxlSW1hZ2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21JbWFnZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ltYWdlJ10pO1xuICBpZiAoZnJvbUltYWdlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaW1hZ2UnXSwgaW1hZ2VUb1ZlcnRleChmcm9tSW1hZ2UpKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlZ21lbnRJbWFnZUNvbmZpZ1RvVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5TZWdtZW50SW1hZ2VDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21Nb2RlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ3BhcmFtZXRlcnMnLCAnbW9kZSddLCBmcm9tTW9kZSk7XG4gIH1cblxuICBjb25zdCBmcm9tTWF4UHJlZGljdGlvbnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdtYXhQcmVkaWN0aW9ucycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU1heFByZWRpY3Rpb25zICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnbWF4UHJlZGljdGlvbnMnXSxcbiAgICAgIGZyb21NYXhQcmVkaWN0aW9ucyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZGVuY2VUaHJlc2hvbGQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjb25maWRlbmNlVGhyZXNob2xkJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tQ29uZmlkZW5jZVRocmVzaG9sZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2NvbmZpZGVuY2VUaHJlc2hvbGQnXSxcbiAgICAgIGZyb21Db25maWRlbmNlVGhyZXNob2xkLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTWFza0RpbGF0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWFza0RpbGF0aW9uJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU1hc2tEaWxhdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ21hc2tEaWxhdGlvbiddLFxuICAgICAgZnJvbU1hc2tEaWxhdGlvbixcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUJpbmFyeUNvbG9yVGhyZXNob2xkID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnYmluYXJ5Q29sb3JUaHJlc2hvbGQnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21CaW5hcnlDb2xvclRocmVzaG9sZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ2JpbmFyeUNvbG9yVGhyZXNob2xkJ10sXG4gICAgICBmcm9tQmluYXJ5Q29sb3JUaHJlc2hvbGQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21MYWJlbHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydsYWJlbHMnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTGFiZWxzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ2xhYmVscyddLCBmcm9tTGFiZWxzKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlZ21lbnRJbWFnZVBhcmFtZXRlcnNUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlNlZ21lbnRJbWFnZVBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Nb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21vZGVsJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnX3VybCcsICdtb2RlbCddLFxuICAgICAgdC50TW9kZWwoYXBpQ2xpZW50LCBmcm9tTW9kZWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tU291cmNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnc291cmNlJ10pO1xuICBpZiAoZnJvbVNvdXJjZSAhPSBudWxsKSB7XG4gICAgc2VnbWVudEltYWdlU291cmNlVG9WZXJ0ZXgoZnJvbVNvdXJjZSwgdG9PYmplY3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIHNlZ21lbnRJbWFnZUNvbmZpZ1RvVmVydGV4KGZyb21Db25maWcsIHRvT2JqZWN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlZ21lbnRJbWFnZVJlc3BvbnNlRnJvbVZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuU2VnbWVudEltYWdlUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21HZW5lcmF0ZWRNYXNrcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3ByZWRpY3Rpb25zJ10pO1xuICBpZiAoZnJvbUdlbmVyYXRlZE1hc2tzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbUdlbmVyYXRlZE1hc2tzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlZEltYWdlTWFza0Zyb21WZXJ0ZXgoaXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2dlbmVyYXRlZE1hc2tzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWdtZW50SW1hZ2VTb3VyY2VUb1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuU2VnbWVudEltYWdlU291cmNlLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tUHJvbXB0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncHJvbXB0J10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVByb21wdCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydpbnN0YW5jZXNbMF0nLCAncHJvbXB0J10sIGZyb21Qcm9tcHQpO1xuICB9XG5cbiAgY29uc3QgZnJvbUltYWdlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW1hZ2UnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tSW1hZ2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnaW5zdGFuY2VzWzBdJywgJ2ltYWdlJ10sXG4gICAgICBpbWFnZVRvVmVydGV4KGZyb21JbWFnZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TY3JpYmJsZUltYWdlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2NyaWJibGVJbWFnZScsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVNjcmliYmxlSW1hZ2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnaW5zdGFuY2VzWzBdJywgJ3NjcmliYmxlJ10sXG4gICAgICBzY3JpYmJsZUltYWdlVG9WZXJ0ZXgoZnJvbVNjcmliYmxlSW1hZ2UpLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b29sQ29uZmlnVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuVG9vbENvbmZpZyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uQ2FsbGluZ0NvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2Z1bmN0aW9uQ2FsbGluZ0NvbmZpZycsXG4gIF0pO1xuICBpZiAoZnJvbUZ1bmN0aW9uQ2FsbGluZ0NvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2Z1bmN0aW9uQ2FsbGluZ0NvbmZpZyddLFxuICAgICAgZnVuY3Rpb25DYWxsaW5nQ29uZmlnVG9NbGRldihmcm9tRnVuY3Rpb25DYWxsaW5nQ29uZmlnKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVJldHJpZXZhbENvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3JldHJpZXZhbENvbmZpZycsXG4gIF0pO1xuICBpZiAoZnJvbVJldHJpZXZhbENvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3JldHJpZXZhbENvbmZpZyddLCBmcm9tUmV0cmlldmFsQ29uZmlnKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvb2xUb01sZGV2KGZyb21PYmplY3Q6IHR5cGVzLlRvb2wpOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21GdW5jdGlvbkRlY2xhcmF0aW9ucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2Z1bmN0aW9uRGVjbGFyYXRpb25zJyxcbiAgXSk7XG4gIGlmIChmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZnVuY3Rpb25EZWNsYXJhdGlvbnMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXRyaWV2YWwnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncmV0cmlldmFsIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBjb25zdCBmcm9tR29vZ2xlU2VhcmNoUmV0cmlldmFsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZ29vZ2xlU2VhcmNoUmV0cmlldmFsJyxcbiAgXSk7XG4gIGlmIChmcm9tR29vZ2xlU2VhcmNoUmV0cmlldmFsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZ29vZ2xlU2VhcmNoUmV0cmlldmFsJ10sXG4gICAgICBmcm9tR29vZ2xlU2VhcmNoUmV0cmlldmFsLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29tcHV0ZXJVc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb21wdXRlclVzZSddKTtcbiAgaWYgKGZyb21Db21wdXRlclVzZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NvbXB1dGVyVXNlJ10sIGZyb21Db21wdXRlclVzZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRmlsZVNlYXJjaCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ZpbGVTZWFyY2gnXSk7XG4gIGlmIChmcm9tRmlsZVNlYXJjaCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2ZpbGVTZWFyY2gnXSwgZnJvbUZpbGVTZWFyY2gpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvZGVFeGVjdXRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjb2RlRXhlY3V0aW9uJyxcbiAgXSk7XG4gIGlmIChmcm9tQ29kZUV4ZWN1dGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NvZGVFeGVjdXRpb24nXSwgZnJvbUNvZGVFeGVjdXRpb24pO1xuICB9XG5cbiAgaWYgKFxuICAgIGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2VudGVycHJpc2VXZWJTZWFyY2gnXSkgIT09IHVuZGVmaW5lZFxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnZW50ZXJwcmlzZVdlYlNlYXJjaCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Hb29nbGVNYXBzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ29vZ2xlTWFwcyddKTtcbiAgaWYgKGZyb21Hb29nbGVNYXBzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZ29vZ2xlTWFwcyddLFxuICAgICAgZ29vZ2xlTWFwc1RvTWxkZXYoZnJvbUdvb2dsZU1hcHMpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tR29vZ2xlU2VhcmNoID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ29vZ2xlU2VhcmNoJ10pO1xuICBpZiAoZnJvbUdvb2dsZVNlYXJjaCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2dvb2dsZVNlYXJjaCddLFxuICAgICAgZ29vZ2xlU2VhcmNoVG9NbGRldihmcm9tR29vZ2xlU2VhcmNoKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVVybENvbnRleHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd1cmxDb250ZXh0J10pO1xuICBpZiAoZnJvbVVybENvbnRleHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd1cmxDb250ZXh0J10sIGZyb21VcmxDb250ZXh0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvb2xUb1ZlcnRleChmcm9tT2JqZWN0OiB0eXBlcy5Ub29sKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdmdW5jdGlvbkRlY2xhcmF0aW9ucycsXG4gIF0pO1xuICBpZiAoZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uRGVjbGFyYXRpb25Ub1ZlcnRleChpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZnVuY3Rpb25EZWNsYXJhdGlvbnMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXRyaWV2YWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXRyaWV2YWwnXSk7XG4gIGlmIChmcm9tUmV0cmlldmFsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmV0cmlldmFsJ10sIGZyb21SZXRyaWV2YWwpO1xuICB9XG5cbiAgY29uc3QgZnJvbUdvb2dsZVNlYXJjaFJldHJpZXZhbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2dvb2dsZVNlYXJjaFJldHJpZXZhbCcsXG4gIF0pO1xuICBpZiAoZnJvbUdvb2dsZVNlYXJjaFJldHJpZXZhbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2dvb2dsZVNlYXJjaFJldHJpZXZhbCddLFxuICAgICAgZnJvbUdvb2dsZVNlYXJjaFJldHJpZXZhbCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbXB1dGVyVXNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29tcHV0ZXJVc2UnXSk7XG4gIGlmIChmcm9tQ29tcHV0ZXJVc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjb21wdXRlclVzZSddLCBmcm9tQ29tcHV0ZXJVc2UpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ZpbGVTZWFyY2gnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignZmlsZVNlYXJjaCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBWZXJ0ZXggQUkuJyk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29kZUV4ZWN1dGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2NvZGVFeGVjdXRpb24nLFxuICBdKTtcbiAgaWYgKGZyb21Db2RlRXhlY3V0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnY29kZUV4ZWN1dGlvbiddLCBmcm9tQ29kZUV4ZWN1dGlvbik7XG4gIH1cblxuICBjb25zdCBmcm9tRW50ZXJwcmlzZVdlYlNlYXJjaCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2VudGVycHJpc2VXZWJTZWFyY2gnLFxuICBdKTtcbiAgaWYgKGZyb21FbnRlcnByaXNlV2ViU2VhcmNoICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnZW50ZXJwcmlzZVdlYlNlYXJjaCddLFxuICAgICAgZnJvbUVudGVycHJpc2VXZWJTZWFyY2gsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Hb29nbGVNYXBzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ29vZ2xlTWFwcyddKTtcbiAgaWYgKGZyb21Hb29nbGVNYXBzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZ29vZ2xlTWFwcyddLCBmcm9tR29vZ2xlTWFwcyk7XG4gIH1cblxuICBjb25zdCBmcm9tR29vZ2xlU2VhcmNoID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ29vZ2xlU2VhcmNoJ10pO1xuICBpZiAoZnJvbUdvb2dsZVNlYXJjaCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2dvb2dsZVNlYXJjaCddLCBmcm9tR29vZ2xlU2VhcmNoKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21VcmxDb250ZXh0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndXJsQ29udGV4dCddKTtcbiAgaWYgKGZyb21VcmxDb250ZXh0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndXJsQ29udGV4dCddLCBmcm9tVXJsQ29udGV4dCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0dW5lZE1vZGVsSW5mb0Zyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuVHVuZWRNb2RlbEluZm8sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21CYXNlTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydiYXNlTW9kZWwnXSk7XG4gIGlmIChmcm9tQmFzZU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnYmFzZU1vZGVsJ10sIGZyb21CYXNlTW9kZWwpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNyZWF0ZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjcmVhdGVUaW1lJ10pO1xuICBpZiAoZnJvbUNyZWF0ZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjcmVhdGVUaW1lJ10sIGZyb21DcmVhdGVUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21VcGRhdGVUaW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndXBkYXRlVGltZSddKTtcbiAgaWYgKGZyb21VcGRhdGVUaW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndXBkYXRlVGltZSddLCBmcm9tVXBkYXRlVGltZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0dW5lZE1vZGVsSW5mb0Zyb21WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLlR1bmVkTW9kZWxJbmZvLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQmFzZU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbGFiZWxzJyxcbiAgICAnZ29vZ2xlLXZlcnRleC1sbG0tdHVuaW5nLWJhc2UtbW9kZWwtaWQnLFxuICBdKTtcbiAgaWYgKGZyb21CYXNlTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydiYXNlTW9kZWwnXSwgZnJvbUJhc2VNb2RlbCk7XG4gIH1cblxuICBjb25zdCBmcm9tQ3JlYXRlVGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NyZWF0ZVRpbWUnXSk7XG4gIGlmIChmcm9tQ3JlYXRlVGltZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2NyZWF0ZVRpbWUnXSwgZnJvbUNyZWF0ZVRpbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVVwZGF0ZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd1cGRhdGVUaW1lJ10pO1xuICBpZiAoZnJvbVVwZGF0ZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd1cGRhdGVUaW1lJ10sIGZyb21VcGRhdGVUaW1lKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZU1vZGVsQ29uZmlnVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuVXBkYXRlTW9kZWxDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21EaXNwbGF5TmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbURpc3BsYXlOYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10sIGZyb21EaXNwbGF5TmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRGVzY3JpcHRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkZXNjcmlwdGlvbiddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21EZXNjcmlwdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydkZXNjcmlwdGlvbiddLCBmcm9tRGVzY3JpcHRpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbURlZmF1bHRDaGVja3BvaW50SWQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdkZWZhdWx0Q2hlY2twb2ludElkJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tRGVmYXVsdENoZWNrcG9pbnRJZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydkZWZhdWx0Q2hlY2twb2ludElkJ10sXG4gICAgICBmcm9tRGVmYXVsdENoZWNrcG9pbnRJZCxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlTW9kZWxDb25maWdUb1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuVXBkYXRlTW9kZWxDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21EaXNwbGF5TmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbURpc3BsYXlOYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10sIGZyb21EaXNwbGF5TmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRGVzY3JpcHRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkZXNjcmlwdGlvbiddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21EZXNjcmlwdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydkZXNjcmlwdGlvbiddLCBmcm9tRGVzY3JpcHRpb24pO1xuICB9XG5cbiAgY29uc3QgZnJvbURlZmF1bHRDaGVja3BvaW50SWQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdkZWZhdWx0Q2hlY2twb2ludElkJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tRGVmYXVsdENoZWNrcG9pbnRJZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydkZWZhdWx0Q2hlY2twb2ludElkJ10sXG4gICAgICBmcm9tRGVmYXVsdENoZWNrcG9pbnRJZCxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlTW9kZWxQYXJhbWV0ZXJzVG9NbGRldihcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlVwZGF0ZU1vZGVsUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ25hbWUnXSxcbiAgICAgIHQudE1vZGVsKGFwaUNsaWVudCwgZnJvbU1vZGVsKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIHVwZGF0ZU1vZGVsQ29uZmlnVG9NbGRldihmcm9tQ29uZmlnLCB0b09iamVjdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVNb2RlbFBhcmFtZXRlcnNUb1ZlcnRleChcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIGZyb21PYmplY3Q6IHR5cGVzLlVwZGF0ZU1vZGVsUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ21vZGVsJ10sXG4gICAgICB0LnRNb2RlbChhcGlDbGllbnQsIGZyb21Nb2RlbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICB1cGRhdGVNb2RlbENvbmZpZ1RvVmVydGV4KGZyb21Db25maWcsIHRvT2JqZWN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwc2NhbGVJbWFnZUFQSUNvbmZpZ0ludGVybmFsVG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IF9pbnRlcm5hbF90eXBlcy5VcHNjYWxlSW1hZ2VBUElDb25maWdJbnRlcm5hbCxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU91dHB1dEdjc1VyaSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ291dHB1dEdjc1VyaSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21PdXRwdXRHY3NVcmkgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdzdG9yYWdlVXJpJ10sXG4gICAgICBmcm9tT3V0cHV0R2NzVXJpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tU2FmZXR5RmlsdGVyTGV2ZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzYWZldHlGaWx0ZXJMZXZlbCcsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVNhZmV0eUZpbHRlckxldmVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnc2FmZXR5U2V0dGluZyddLFxuICAgICAgZnJvbVNhZmV0eUZpbHRlckxldmVsLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUGVyc29uR2VuZXJhdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3BlcnNvbkdlbmVyYXRpb24nLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21QZXJzb25HZW5lcmF0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAncGVyc29uR2VuZXJhdGlvbiddLFxuICAgICAgZnJvbVBlcnNvbkdlbmVyYXRpb24sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbmNsdWRlUmFpUmVhc29uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnaW5jbHVkZVJhaVJlYXNvbicsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUluY2x1ZGVSYWlSZWFzb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncGFyYW1ldGVycycsICdpbmNsdWRlUmFpUmVhc29uJ10sXG4gICAgICBmcm9tSW5jbHVkZVJhaVJlYXNvbixcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU91dHB1dE1pbWVUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnb3V0cHV0TWltZVR5cGUnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21PdXRwdXRNaW1lVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ291dHB1dE9wdGlvbnMnLCAnbWltZVR5cGUnXSxcbiAgICAgIGZyb21PdXRwdXRNaW1lVHlwZSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU91dHB1dENvbXByZXNzaW9uUXVhbGl0eSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ291dHB1dENvbXByZXNzaW9uUXVhbGl0eScsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU91dHB1dENvbXByZXNzaW9uUXVhbGl0eSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ291dHB1dE9wdGlvbnMnLCAnY29tcHJlc3Npb25RdWFsaXR5J10sXG4gICAgICBmcm9tT3V0cHV0Q29tcHJlc3Npb25RdWFsaXR5LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tRW5oYW5jZUlucHV0SW1hZ2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdlbmhhbmNlSW5wdXRJbWFnZScsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUVuaGFuY2VJbnB1dEltYWdlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAndXBzY2FsZUNvbmZpZycsICdlbmhhbmNlSW5wdXRJbWFnZSddLFxuICAgICAgZnJvbUVuaGFuY2VJbnB1dEltYWdlLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tSW1hZ2VQcmVzZXJ2YXRpb25GYWN0b3IgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdpbWFnZVByZXNlcnZhdGlvbkZhY3RvcicsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUltYWdlUHJlc2VydmF0aW9uRmFjdG9yICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAndXBzY2FsZUNvbmZpZycsICdpbWFnZVByZXNlcnZhdGlvbkZhY3RvciddLFxuICAgICAgZnJvbUltYWdlUHJlc2VydmF0aW9uRmFjdG9yLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTGFiZWxzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbGFiZWxzJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUxhYmVscyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydsYWJlbHMnXSwgZnJvbUxhYmVscyk7XG4gIH1cblxuICBjb25zdCBmcm9tTnVtYmVyT2ZJbWFnZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdudW1iZXJPZkltYWdlcycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU51bWJlck9mSW1hZ2VzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3BhcmFtZXRlcnMnLCAnc2FtcGxlQ291bnQnXSxcbiAgICAgIGZyb21OdW1iZXJPZkltYWdlcyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU1vZGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtb2RlJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU1vZGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsncGFyYW1ldGVycycsICdtb2RlJ10sIGZyb21Nb2RlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwc2NhbGVJbWFnZUFQSVBhcmFtZXRlcnNJbnRlcm5hbFRvVmVydGV4KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogX2ludGVybmFsX3R5cGVzLlVwc2NhbGVJbWFnZUFQSVBhcmFtZXRlcnNJbnRlcm5hbCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ21vZGVsJ10sXG4gICAgICB0LnRNb2RlbChhcGlDbGllbnQsIGZyb21Nb2RlbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbWFnZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ltYWdlJ10pO1xuICBpZiAoZnJvbUltYWdlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnaW5zdGFuY2VzWzBdJywgJ2ltYWdlJ10sXG4gICAgICBpbWFnZVRvVmVydGV4KGZyb21JbWFnZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21VcHNjYWxlRmFjdG9yID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndXBzY2FsZUZhY3RvcicsXG4gIF0pO1xuICBpZiAoZnJvbVVwc2NhbGVGYWN0b3IgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydwYXJhbWV0ZXJzJywgJ3Vwc2NhbGVDb25maWcnLCAndXBzY2FsZUZhY3RvciddLFxuICAgICAgZnJvbVVwc2NhbGVGYWN0b3IsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICB1cHNjYWxlSW1hZ2VBUElDb25maWdJbnRlcm5hbFRvVmVydGV4KGZyb21Db25maWcsIHRvT2JqZWN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwc2NhbGVJbWFnZVJlc3BvbnNlRnJvbVZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuVXBzY2FsZUltYWdlUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21TZGtIdHRwUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZGtIdHRwUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21TZGtIdHRwUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzZGtIdHRwUmVzcG9uc2UnXSwgZnJvbVNka0h0dHBSZXNwb25zZSk7XG4gIH1cblxuICBjb25zdCBmcm9tR2VuZXJhdGVkSW1hZ2VzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncHJlZGljdGlvbnMnLFxuICBdKTtcbiAgaWYgKGZyb21HZW5lcmF0ZWRJbWFnZXMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tR2VuZXJhdGVkSW1hZ2VzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlZEltYWdlRnJvbVZlcnRleChpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZ2VuZXJhdGVkSW1hZ2VzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2aWRlb0Zyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuVmlkZW8sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21VcmkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd1cmknXSk7XG4gIGlmIChmcm9tVXJpICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndXJpJ10sIGZyb21VcmkpO1xuICB9XG5cbiAgY29uc3QgZnJvbVZpZGVvQnl0ZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlbmNvZGVkVmlkZW8nXSk7XG4gIGlmIChmcm9tVmlkZW9CeXRlcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3ZpZGVvQnl0ZXMnXSwgdC50Qnl0ZXMoZnJvbVZpZGVvQnl0ZXMpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2VuY29kaW5nJ10pO1xuICBpZiAoZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWltZVR5cGUnXSwgZnJvbU1pbWVUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZpZGVvRnJvbVZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuVmlkZW8sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21VcmkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydnY3NVcmknXSk7XG4gIGlmIChmcm9tVXJpICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndXJpJ10sIGZyb21VcmkpO1xuICB9XG5cbiAgY29uc3QgZnJvbVZpZGVvQnl0ZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdieXRlc0Jhc2U2NEVuY29kZWQnLFxuICBdKTtcbiAgaWYgKGZyb21WaWRlb0J5dGVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndmlkZW9CeXRlcyddLCB0LnRCeXRlcyhmcm9tVmlkZW9CeXRlcykpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1pbWVUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWltZVR5cGUnXSk7XG4gIGlmIChmcm9tTWltZVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtaW1lVHlwZSddLCBmcm9tTWltZVR5cGUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmlkZW9HZW5lcmF0aW9uTWFza1RvVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5WaWRlb0dlbmVyYXRpb25NYXNrLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tSW1hZ2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpbWFnZSddKTtcbiAgaWYgKGZyb21JbWFnZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ19zZWxmJ10sIGltYWdlVG9WZXJ0ZXgoZnJvbUltYWdlKSk7XG4gIH1cblxuICBjb25zdCBmcm9tTWFza01vZGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtYXNrTW9kZSddKTtcbiAgaWYgKGZyb21NYXNrTW9kZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21hc2tNb2RlJ10sIGZyb21NYXNrTW9kZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2aWRlb0dlbmVyYXRpb25SZWZlcmVuY2VJbWFnZVRvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLlZpZGVvR2VuZXJhdGlvblJlZmVyZW5jZUltYWdlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tSW1hZ2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpbWFnZSddKTtcbiAgaWYgKGZyb21JbWFnZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2ltYWdlJ10sIGltYWdlVG9NbGRldihmcm9tSW1hZ2UpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZWZlcmVuY2VUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVmZXJlbmNlVHlwZScsXG4gIF0pO1xuICBpZiAoZnJvbVJlZmVyZW5jZVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydyZWZlcmVuY2VUeXBlJ10sIGZyb21SZWZlcmVuY2VUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZpZGVvR2VuZXJhdGlvblJlZmVyZW5jZUltYWdlVG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLlZpZGVvR2VuZXJhdGlvblJlZmVyZW5jZUltYWdlLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tSW1hZ2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpbWFnZSddKTtcbiAgaWYgKGZyb21JbWFnZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2ltYWdlJ10sIGltYWdlVG9WZXJ0ZXgoZnJvbUltYWdlKSk7XG4gIH1cblxuICBjb25zdCBmcm9tUmVmZXJlbmNlVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3JlZmVyZW5jZVR5cGUnLFxuICBdKTtcbiAgaWYgKGZyb21SZWZlcmVuY2VUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncmVmZXJlbmNlVHlwZSddLCBmcm9tUmVmZXJlbmNlVHlwZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2aWRlb1RvTWxkZXYoZnJvbU9iamVjdDogdHlwZXMuVmlkZW8pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21VcmkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd1cmknXSk7XG4gIGlmIChmcm9tVXJpICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndXJpJ10sIGZyb21VcmkpO1xuICB9XG5cbiAgY29uc3QgZnJvbVZpZGVvQnl0ZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd2aWRlb0J5dGVzJ10pO1xuICBpZiAoZnJvbVZpZGVvQnl0ZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydlbmNvZGVkVmlkZW8nXSwgdC50Qnl0ZXMoZnJvbVZpZGVvQnl0ZXMpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbWVUeXBlJ10pO1xuICBpZiAoZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZW5jb2RpbmcnXSwgZnJvbU1pbWVUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZpZGVvVG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLlZpZGVvLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tVXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndXJpJ10pO1xuICBpZiAoZnJvbVVyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2djc1VyaSddLCBmcm9tVXJpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21WaWRlb0J5dGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndmlkZW9CeXRlcyddKTtcbiAgaWYgKGZyb21WaWRlb0J5dGVzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnYnl0ZXNCYXNlNjRFbmNvZGVkJ10sXG4gICAgICB0LnRCeXRlcyhmcm9tVmlkZW9CeXRlcyksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbWVUeXBlJ10pO1xuICBpZiAoZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWltZVR5cGUnXSwgZnJvbU1pbWVUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8vIENvZGUgZ2VuZXJhdGVkIGJ5IHRoZSBHb29nbGUgR2VuIEFJIFNESyBnZW5lcmF0b3IgRE8gTk9UIEVESVQuXG5cbmltcG9ydCAqIGFzIGNvbW1vbiBmcm9tICcuLi9fY29tbW9uLmpzJztcbmltcG9ydCB0eXBlICogYXMgdHlwZXMgZnJvbSAnLi4vdHlwZXMuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRmlsZVNlYXJjaFN0b3JlQ29uZmlnVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuQ3JlYXRlRmlsZVNlYXJjaFN0b3JlQ29uZmlnLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRGlzcGxheU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkaXNwbGF5TmFtZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21EaXNwbGF5TmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydkaXNwbGF5TmFtZSddLCBmcm9tRGlzcGxheU5hbWUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRmlsZVNlYXJjaFN0b3JlUGFyYW1ldGVyc1RvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNyZWF0ZUZpbGVTZWFyY2hTdG9yZVBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjcmVhdGVGaWxlU2VhcmNoU3RvcmVDb25maWdUb01sZGV2KGZyb21Db25maWcsIHRvT2JqZWN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUZpbGVTZWFyY2hTdG9yZUNvbmZpZ1RvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkRlbGV0ZUZpbGVTZWFyY2hTdG9yZUNvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUZvcmNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZm9yY2UnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tRm9yY2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnX3F1ZXJ5JywgJ2ZvcmNlJ10sIGZyb21Gb3JjZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVGaWxlU2VhcmNoU3RvcmVQYXJhbWV0ZXJzVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuRGVsZXRlRmlsZVNlYXJjaFN0b3JlUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydfdXJsJywgJ25hbWUnXSwgZnJvbU5hbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGRlbGV0ZUZpbGVTZWFyY2hTdG9yZUNvbmZpZ1RvTWxkZXYoZnJvbUNvbmZpZywgdG9PYmplY3QpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsZVNlYXJjaFN0b3JlUGFyYW1ldGVyc1RvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdldEZpbGVTZWFyY2hTdG9yZVBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnX3VybCcsICduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGltcG9ydEZpbGVDb25maWdUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5JbXBvcnRGaWxlQ29uZmlnLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tQ3VzdG9tTWV0YWRhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjdXN0b21NZXRhZGF0YScsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUN1c3RvbU1ldGFkYXRhICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbUN1c3RvbU1ldGFkYXRhO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydjdXN0b21NZXRhZGF0YSddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNodW5raW5nQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY2h1bmtpbmdDb25maWcnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21DaHVua2luZ0NvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydjaHVua2luZ0NvbmZpZyddLCBmcm9tQ2h1bmtpbmdDb25maWcpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW1wb3J0RmlsZU9wZXJhdGlvbkZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuSW1wb3J0RmlsZU9wZXJhdGlvbixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NZXRhZGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21ldGFkYXRhJ10pO1xuICBpZiAoZnJvbU1ldGFkYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWV0YWRhdGEnXSwgZnJvbU1ldGFkYXRhKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Eb25lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZG9uZSddKTtcbiAgaWYgKGZyb21Eb25lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZG9uZSddLCBmcm9tRG9uZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRXJyb3IgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlcnJvciddKTtcbiAgaWYgKGZyb21FcnJvciAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Vycm9yJ10sIGZyb21FcnJvcik7XG4gIH1cblxuICBjb25zdCBmcm9tUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydyZXNwb25zZSddKTtcbiAgaWYgKGZyb21SZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3Jlc3BvbnNlJ10sXG4gICAgICBpbXBvcnRGaWxlUmVzcG9uc2VGcm9tTWxkZXYoZnJvbVJlc3BvbnNlKSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW1wb3J0RmlsZVBhcmFtZXRlcnNUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5JbXBvcnRGaWxlUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUZpbGVTZWFyY2hTdG9yZU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdmaWxlU2VhcmNoU3RvcmVOYW1lJyxcbiAgXSk7XG4gIGlmIChmcm9tRmlsZVNlYXJjaFN0b3JlTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ191cmwnLCAnZmlsZV9zZWFyY2hfc3RvcmVfbmFtZSddLFxuICAgICAgZnJvbUZpbGVTZWFyY2hTdG9yZU5hbWUsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GaWxlTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ZpbGVOYW1lJ10pO1xuICBpZiAoZnJvbUZpbGVOYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZmlsZU5hbWUnXSwgZnJvbUZpbGVOYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBpbXBvcnRGaWxlQ29uZmlnVG9NbGRldihmcm9tQ29uZmlnLCB0b09iamVjdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbXBvcnRGaWxlUmVzcG9uc2VGcm9tTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkltcG9ydEZpbGVSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVNka0h0dHBSZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Nka0h0dHBSZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbVNka0h0dHBSZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Nka0h0dHBSZXNwb25zZSddLCBmcm9tU2RrSHR0cFJlc3BvbnNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21QYXJlbnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYXJlbnQnXSk7XG4gIGlmIChmcm9tUGFyZW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncGFyZW50J10sIGZyb21QYXJlbnQpO1xuICB9XG5cbiAgY29uc3QgZnJvbURvY3VtZW50TmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2RvY3VtZW50TmFtZSddKTtcbiAgaWYgKGZyb21Eb2N1bWVudE5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydkb2N1bWVudE5hbWUnXSwgZnJvbURvY3VtZW50TmFtZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0RmlsZVNlYXJjaFN0b3Jlc0NvbmZpZ1RvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpc3RGaWxlU2VhcmNoU3RvcmVzQ29uZmlnLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tUGFnZVNpemUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYWdlU2l6ZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21QYWdlU2l6ZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydfcXVlcnknLCAncGFnZVNpemUnXSwgZnJvbVBhZ2VTaXplKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21QYWdlVG9rZW4gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYWdlVG9rZW4nXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUGFnZVRva2VuICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ19xdWVyeScsICdwYWdlVG9rZW4nXSwgZnJvbVBhZ2VUb2tlbik7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0RmlsZVNlYXJjaFN0b3Jlc1BhcmFtZXRlcnNUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXN0RmlsZVNlYXJjaFN0b3Jlc1BhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBsaXN0RmlsZVNlYXJjaFN0b3Jlc0NvbmZpZ1RvTWxkZXYoZnJvbUNvbmZpZywgdG9PYmplY3QpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGlzdEZpbGVTZWFyY2hTdG9yZXNSZXNwb25zZUZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuTGlzdEZpbGVTZWFyY2hTdG9yZXNSZXNwb25zZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVNka0h0dHBSZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Nka0h0dHBSZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbVNka0h0dHBSZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Nka0h0dHBSZXNwb25zZSddLCBmcm9tU2RrSHR0cFJlc3BvbnNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21OZXh0UGFnZVRva2VuID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbmV4dFBhZ2VUb2tlbicsXG4gIF0pO1xuICBpZiAoZnJvbU5leHRQYWdlVG9rZW4gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduZXh0UGFnZVRva2VuJ10sIGZyb21OZXh0UGFnZVRva2VuKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GaWxlU2VhcmNoU3RvcmVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZmlsZVNlYXJjaFN0b3JlcycsXG4gIF0pO1xuICBpZiAoZnJvbUZpbGVTZWFyY2hTdG9yZXMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tRmlsZVNlYXJjaFN0b3JlcztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmaWxlU2VhcmNoU3RvcmVzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGxvYWRUb0ZpbGVTZWFyY2hTdG9yZUNvbmZpZ1RvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLlVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlQ29uZmlnLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTWltZVR5cGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydtaW1lVHlwZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21NaW1lVHlwZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydtaW1lVHlwZSddLCBmcm9tTWltZVR5cGUpO1xuICB9XG5cbiAgY29uc3QgZnJvbURpc3BsYXlOYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGlzcGxheU5hbWUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tRGlzcGxheU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnZGlzcGxheU5hbWUnXSwgZnJvbURpc3BsYXlOYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21DdXN0b21NZXRhZGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2N1c3RvbU1ldGFkYXRhJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tQ3VzdG9tTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tQ3VzdG9tTWV0YWRhdGE7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ2N1c3RvbU1ldGFkYXRhJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICBjb25zdCBmcm9tQ2h1bmtpbmdDb25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjaHVua2luZ0NvbmZpZycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUNodW5raW5nQ29uZmlnICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ2NodW5raW5nQ29uZmlnJ10sIGZyb21DaHVua2luZ0NvbmZpZyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGxvYWRUb0ZpbGVTZWFyY2hTdG9yZVBhcmFtZXRlcnNUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5VcGxvYWRUb0ZpbGVTZWFyY2hTdG9yZVBhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21GaWxlU2VhcmNoU3RvcmVOYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZmlsZVNlYXJjaFN0b3JlTmFtZScsXG4gIF0pO1xuICBpZiAoZnJvbUZpbGVTZWFyY2hTdG9yZU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydfdXJsJywgJ2ZpbGVfc2VhcmNoX3N0b3JlX25hbWUnXSxcbiAgICAgIGZyb21GaWxlU2VhcmNoU3RvcmVOYW1lLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgdXBsb2FkVG9GaWxlU2VhcmNoU3RvcmVDb25maWdUb01sZGV2KGZyb21Db25maWcsIHRvT2JqZWN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlUmVzdW1hYmxlUmVzcG9uc2VGcm9tTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLlVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlUmVzdW1hYmxlUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21TZGtIdHRwUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZGtIdHRwUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21TZGtIdHRwUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzZGtIdHRwUmVzcG9uc2UnXSwgZnJvbVNka0h0dHBSZXNwb25zZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge0F1dGh9IGZyb20gJy4vX2F1dGguanMnO1xuaW1wb3J0ICogYXMgY29tbW9uIGZyb20gJy4vX2NvbW1vbi5qcyc7XG5pbXBvcnQge0Rvd25sb2FkZXJ9IGZyb20gJy4vX2Rvd25sb2FkZXIuanMnO1xuaW1wb3J0IHtVcGxvYWRlcn0gZnJvbSAnLi9fdXBsb2FkZXIuanMnO1xuaW1wb3J0IHt1cGxvYWRUb0ZpbGVTZWFyY2hTdG9yZUNvbmZpZ1RvTWxkZXZ9IGZyb20gJy4vY29udmVydGVycy9fZmlsZXNlYXJjaHN0b3Jlc19jb252ZXJ0ZXJzLmpzJztcbmltcG9ydCB7QXBpRXJyb3J9IGZyb20gJy4vZXJyb3JzLmpzJztcbmltcG9ydCB7R2VtaW5pTmV4dEdlbkFQSUNsaWVudEFkYXB0ZXJ9IGZyb20gJy4vaW50ZXJhY3Rpb25zL2NsaWVudC1hZGFwdGVyLmpzJztcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4vdHlwZXMuanMnO1xuXG5jb25zdCBDT05URU5UX1RZUEVfSEVBREVSID0gJ0NvbnRlbnQtVHlwZSc7XG5jb25zdCBTRVJWRVJfVElNRU9VVF9IRUFERVIgPSAnWC1TZXJ2ZXItVGltZW91dCc7XG5jb25zdCBVU0VSX0FHRU5UX0hFQURFUiA9ICdVc2VyLUFnZW50JztcbmV4cG9ydCBjb25zdCBHT09HTEVfQVBJX0NMSUVOVF9IRUFERVIgPSAneC1nb29nLWFwaS1jbGllbnQnO1xuZXhwb3J0IGNvbnN0IFNES19WRVJTSU9OID0gJzEuMzQuMCc7IC8vIHgtcmVsZWFzZS1wbGVhc2UtdmVyc2lvblxuY29uc3QgTElCUkFSWV9MQUJFTCA9IGBnb29nbGUtZ2VuYWktc2RrLyR7U0RLX1ZFUlNJT059YDtcbmNvbnN0IFZFUlRFWF9BSV9BUElfREVGQVVMVF9WRVJTSU9OID0gJ3YxYmV0YTEnO1xuY29uc3QgR09PR0xFX0FJX0FQSV9ERUZBVUxUX1ZFUlNJT04gPSAndjFiZXRhJztcblxuLyoqXG4gKiBPcHRpb25zIGZvciBpbml0aWFsaXppbmcgdGhlIEFwaUNsaWVudC4gVGhlIEFwaUNsaWVudCB1c2VzIHRoZSBwYXJhbWV0ZXJzXG4gKiBmb3IgYXV0aGVudGljYXRpb24gcHVycG9zZXMgYXMgd2VsbCBhcyB0byBpbmZlciBpZiBTREsgc2hvdWxkIHNlbmQgdGhlXG4gKiByZXF1ZXN0IHRvIFZlcnRleCBBSSBvciBHZW1pbmkgQVBJLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFwaUNsaWVudEluaXRPcHRpb25zIHtcbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdXNlZCBmb3IgYWRkaW5nIGF1dGhlbnRpY2F0aW9uIGhlYWRlcnMgdG8gQVBJIHJlcXVlc3RzLlxuICAgKi9cbiAgYXV0aDogQXV0aDtcbiAgLyoqXG4gICAqIFRoZSB1cGxvYWRlciB0byB1c2UgZm9yIHVwbG9hZGluZyBmaWxlcy4gVGhpcyBmaWVsZCBpcyByZXF1aXJlZCBmb3JcbiAgICogY3JlYXRpbmcgYSBjbGllbnQsIHdpbGwgYmUgc2V0IHRocm91Z2ggdGhlIE5vZGVfY2xpZW50IG9yIFdlYl9jbGllbnQuXG4gICAqL1xuICB1cGxvYWRlcjogVXBsb2FkZXI7XG4gIC8qKlxuICAgKiBPcHRpb25hbC4gVGhlIGRvd25sb2FkZXIgdG8gdXNlIGZvciBkb3dubG9hZGluZyBmaWxlcy4gVGhpcyBmaWVsZCBpc1xuICAgKiByZXF1aXJlZCBmb3IgY3JlYXRpbmcgYSBjbGllbnQsIHdpbGwgYmUgc2V0IHRocm91Z2ggdGhlIE5vZGVfY2xpZW50IG9yXG4gICAqIFdlYl9jbGllbnQuXG4gICAqL1xuICBkb3dubG9hZGVyOiBEb3dubG9hZGVyO1xuICAvKipcbiAgICogT3B0aW9uYWwuIFRoZSBHb29nbGUgQ2xvdWQgcHJvamVjdCBJRCBmb3IgVmVydGV4IEFJIHVzZXJzLlxuICAgKiBJdCBpcyBub3QgdGhlIG51bWVyaWMgcHJvamVjdCBuYW1lLlxuICAgKiBJZiBub3QgcHJvdmlkZWQsIFNESyB3aWxsIHRyeSB0byByZXNvbHZlIGl0IGZyb20gcnVudGltZSBlbnZpcm9ubWVudC5cbiAgICovXG4gIHByb2plY3Q/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBPcHRpb25hbC4gVGhlIEdvb2dsZSBDbG91ZCBwcm9qZWN0IGxvY2F0aW9uIGZvciBWZXJ0ZXggQUkgdXNlcnMuXG4gICAqIElmIG5vdCBwcm92aWRlZCwgU0RLIHdpbGwgdHJ5IHRvIHJlc29sdmUgaXQgZnJvbSBydW50aW1lIGVudmlyb25tZW50LlxuICAgKi9cbiAgbG9jYXRpb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgQVBJIEtleS4gVGhpcyBpcyByZXF1aXJlZCBmb3IgR2VtaW5pIEFQSSB1c2Vycy5cbiAgICovXG4gIGFwaUtleT86IHN0cmluZztcbiAgLyoqXG4gICAqIE9wdGlvbmFsLiBTZXQgdG8gdHJ1ZSBpZiB5b3UgaW50ZW5kIHRvIGNhbGwgVmVydGV4IEFJIGVuZHBvaW50cy5cbiAgICogSWYgdW5zZXQsIGRlZmF1bHQgU0RLIGJlaGF2aW9yIGlzIHRvIGNhbGwgR2VtaW5pIEFQSS5cbiAgICovXG4gIHZlcnRleGFpPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIE9wdGlvbmFsLiBUaGUgQVBJIHZlcnNpb24gZm9yIHRoZSBlbmRwb2ludC5cbiAgICogSWYgdW5zZXQsIFNESyB3aWxsIGNob29zZSBhIGRlZmF1bHQgYXBpIHZlcnNpb24uXG4gICAqL1xuICBhcGlWZXJzaW9uPzogc3RyaW5nO1xuICAvKipcbiAgICogT3B0aW9uYWwuIEEgc2V0IG9mIGN1c3RvbWl6YWJsZSBjb25maWd1cmF0aW9uIGZvciBIVFRQIHJlcXVlc3RzLlxuICAgKi9cbiAgaHR0cE9wdGlvbnM/OiB0eXBlcy5IdHRwT3B0aW9ucztcbiAgLyoqXG4gICAqIE9wdGlvbmFsLiBBbiBleHRyYSBzdHJpbmcgdG8gYXBwZW5kIGF0IHRoZSBlbmQgb2YgdGhlIFVzZXItQWdlbnQgaGVhZGVyLlxuICAgKlxuICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGUuZyBzcGVjaWZ5IHRoZSBydW50aW1lIGFuZCBpdHMgdmVyc2lvbi5cbiAgICovXG4gIHVzZXJBZ2VudEV4dHJhPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIG5lY2Vzc2FyeSBpbmZvcm1hdGlvbiB0byBzZW5kIGEgcmVxdWVzdCB0byBhbiBBUEkgZW5kcG9pbnQuXG4gKiBUaGlzIGludGVyZmFjZSBkZWZpbmVzIHRoZSBzdHJ1Y3R1cmUgZm9yIGNvbnN0cnVjdGluZyBhbmQgZXhlY3V0aW5nIEhUVFBcbiAqIHJlcXVlc3RzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEh0dHBSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIFVSTCBwYXRoIGZyb20gdGhlIG1vZHVsZXMsIHRoaXMgcGF0aCBpcyBhcHBlbmRlZCB0byB0aGUgYmFzZSBBUEkgVVJMIHRvXG4gICAqIGZvcm0gdGhlIGNvbXBsZXRlIHJlcXVlc3QgVVJMLlxuICAgKlxuICAgKiBJZiB5b3Ugd2lzaCB0byBzZXQgZnVsbCBVUkwsIHVzZSBodHRwT3B0aW9ucy5iYXNlVXJsIGluc3RlYWQuIEV4YW1wbGUgdG9cbiAgICogc2V0IGZ1bGwgVVJMIGluIHRoZSByZXF1ZXN0OlxuICAgKlxuICAgKiBjb25zdCByZXF1ZXN0OiBIdHRwUmVxdWVzdCA9IHtcbiAgICogICBwYXRoOiAnJyxcbiAgICogICBodHRwT3B0aW9uczoge1xuICAgKiAgICAgYmFzZVVybDogJ2h0dHBzOi8vPGN1c3RvbS1mdWxsLXVybD4nLFxuICAgKiAgICAgYXBpVmVyc2lvbjogJycsXG4gICAqICAgfSxcbiAgICogICBodHRwTWV0aG9kOiAnR0VUJyxcbiAgICogfTtcbiAgICpcbiAgICogVGhlIHJlc3VsdCBVUkwgd2lsbCBiZTogaHR0cHM6Ly88Y3VzdG9tLWZ1bGwtdXJsPlxuICAgKlxuICAgKi9cbiAgcGF0aDogc3RyaW5nO1xuICAvKipcbiAgICogT3B0aW9uYWwgcXVlcnkgcGFyYW1ldGVycyB0byBiZSBhcHBlbmRlZCB0byB0aGUgcmVxdWVzdCBVUkwuXG4gICAqL1xuICBxdWVyeVBhcmFtcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIC8qKlxuICAgKiBPcHRpb25hbCByZXF1ZXN0IGJvZHkgaW4ganNvbiBzdHJpbmcgb3IgQmxvYiBmb3JtYXQsIEdFVCByZXF1ZXN0IGRvZXNuJ3RcbiAgICogbmVlZCBhIHJlcXVlc3QgYm9keS5cbiAgICovXG4gIGJvZHk/OiBzdHJpbmcgfCBCbG9iO1xuICAvKipcbiAgICogVGhlIEhUVFAgbWV0aG9kIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0LlxuICAgKi9cbiAgaHR0cE1ldGhvZDogJ0dFVCcgfCAnUE9TVCcgfCAnUEFUQ0gnIHwgJ0RFTEVURSc7XG4gIC8qKlxuICAgKiBPcHRpb25hbCBzZXQgb2YgY3VzdG9taXphYmxlIGNvbmZpZ3VyYXRpb24gZm9yIEhUVFAgcmVxdWVzdHMuXG4gICAqL1xuICBodHRwT3B0aW9ucz86IHR5cGVzLkh0dHBPcHRpb25zO1xuICAvKipcbiAgICogT3B0aW9uYWwgYWJvcnQgc2lnbmFsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgcmVxdWVzdC5cbiAgICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG59XG5cbi8qKlxuICogVGhlIEFwaUNsaWVudCBjbGFzcyBpcyB1c2VkIHRvIHNlbmQgcmVxdWVzdHMgdG8gdGhlIEdlbWluaSBBUEkgb3IgVmVydGV4IEFJXG4gKiBlbmRwb2ludHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBBcGlDbGllbnQgaW1wbGVtZW50cyBHZW1pbmlOZXh0R2VuQVBJQ2xpZW50QWRhcHRlciB7XG4gIHJlYWRvbmx5IGNsaWVudE9wdGlvbnM6IEFwaUNsaWVudEluaXRPcHRpb25zO1xuICBjb25zdHJ1Y3RvcihvcHRzOiBBcGlDbGllbnRJbml0T3B0aW9ucykge1xuICAgIHRoaXMuY2xpZW50T3B0aW9ucyA9IHtcbiAgICAgIC4uLm9wdHMsXG4gICAgICBwcm9qZWN0OiBvcHRzLnByb2plY3QsXG4gICAgICBsb2NhdGlvbjogb3B0cy5sb2NhdGlvbixcbiAgICAgIGFwaUtleTogb3B0cy5hcGlLZXksXG4gICAgICB2ZXJ0ZXhhaTogb3B0cy52ZXJ0ZXhhaSxcbiAgICB9O1xuXG4gICAgY29uc3QgaW5pdEh0dHBPcHRpb25zOiB0eXBlcy5IdHRwT3B0aW9ucyA9IHt9O1xuXG4gICAgaWYgKHRoaXMuY2xpZW50T3B0aW9ucy52ZXJ0ZXhhaSkge1xuICAgICAgaW5pdEh0dHBPcHRpb25zLmFwaVZlcnNpb24gPVxuICAgICAgICB0aGlzLmNsaWVudE9wdGlvbnMuYXBpVmVyc2lvbiA/PyBWRVJURVhfQUlfQVBJX0RFRkFVTFRfVkVSU0lPTjtcbiAgICAgIGluaXRIdHRwT3B0aW9ucy5iYXNlVXJsID0gdGhpcy5iYXNlVXJsRnJvbVByb2plY3RMb2NhdGlvbigpO1xuICAgICAgdGhpcy5ub3JtYWxpemVBdXRoUGFyYW1ldGVycygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBHZW1pbmkgQVBJXG4gICAgICBpbml0SHR0cE9wdGlvbnMuYXBpVmVyc2lvbiA9XG4gICAgICAgIHRoaXMuY2xpZW50T3B0aW9ucy5hcGlWZXJzaW9uID8/IEdPT0dMRV9BSV9BUElfREVGQVVMVF9WRVJTSU9OO1xuICAgICAgaW5pdEh0dHBPcHRpb25zLmJhc2VVcmwgPSBgaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vYDtcbiAgICB9XG5cbiAgICBpbml0SHR0cE9wdGlvbnMuaGVhZGVycyA9IHRoaXMuZ2V0RGVmYXVsdEhlYWRlcnMoKTtcblxuICAgIHRoaXMuY2xpZW50T3B0aW9ucy5odHRwT3B0aW9ucyA9IGluaXRIdHRwT3B0aW9ucztcblxuICAgIGlmIChvcHRzLmh0dHBPcHRpb25zKSB7XG4gICAgICB0aGlzLmNsaWVudE9wdGlvbnMuaHR0cE9wdGlvbnMgPSB0aGlzLnBhdGNoSHR0cE9wdGlvbnMoXG4gICAgICAgIGluaXRIdHRwT3B0aW9ucyxcbiAgICAgICAgb3B0cy5odHRwT3B0aW9ucyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgdGhlIGJhc2UgVVJMIGZvciBWZXJ0ZXggQUkgYmFzZWQgb24gcHJvamVjdCBhbmQgbG9jYXRpb24uXG4gICAqIFVzZXMgdGhlIGdsb2JhbCBlbmRwb2ludCBpZiBsb2NhdGlvbiBpcyAnZ2xvYmFsJyBvciBpZiBwcm9qZWN0L2xvY2F0aW9uXG4gICAqIGFyZSBub3Qgc3BlY2lmaWVkIChpbXBseWluZyBBUEkga2V5IHVzYWdlKS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgYmFzZVVybEZyb21Qcm9qZWN0TG9jYXRpb24oKTogc3RyaW5nIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmNsaWVudE9wdGlvbnMucHJvamVjdCAmJlxuICAgICAgdGhpcy5jbGllbnRPcHRpb25zLmxvY2F0aW9uICYmXG4gICAgICB0aGlzLmNsaWVudE9wdGlvbnMubG9jYXRpb24gIT09ICdnbG9iYWwnXG4gICAgKSB7XG4gICAgICAvLyBSZWdpb25hbCBlbmRwb2ludFxuICAgICAgcmV0dXJuIGBodHRwczovLyR7dGhpcy5jbGllbnRPcHRpb25zLmxvY2F0aW9ufS1haXBsYXRmb3JtLmdvb2dsZWFwaXMuY29tL2A7XG4gICAgfVxuICAgIC8vIEdsb2JhbCBlbmRwb2ludCAoY292ZXJzICdnbG9iYWwnIGxvY2F0aW9uIGFuZCBBUEkga2V5IHVzYWdlKVxuICAgIHJldHVybiBgaHR0cHM6Ly9haXBsYXRmb3JtLmdvb2dsZWFwaXMuY29tL2A7XG4gIH1cblxuICAvKipcbiAgICogTm9ybWFsaXplcyBhdXRoZW50aWNhdGlvbiBwYXJhbWV0ZXJzIGZvciBWZXJ0ZXggQUkuXG4gICAqIElmIHByb2plY3QgYW5kIGxvY2F0aW9uIGFyZSBwcm92aWRlZCwgQVBJIGtleSBpcyBjbGVhcmVkLlxuICAgKiBJZiBwcm9qZWN0IGFuZCBsb2NhdGlvbiBhcmUgbm90IHByb3ZpZGVkIChpbXBseWluZyBBUEkga2V5IHVzYWdlKSxcbiAgICogcHJvamVjdCBhbmQgbG9jYXRpb24gYXJlIGNsZWFyZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIG5vcm1hbGl6ZUF1dGhQYXJhbWV0ZXJzKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmNsaWVudE9wdGlvbnMucHJvamVjdCAmJiB0aGlzLmNsaWVudE9wdGlvbnMubG9jYXRpb24pIHtcbiAgICAgIC8vIFVzaW5nIHByb2plY3QvbG9jYXRpb24gZm9yIGF1dGgsIGNsZWFyIHBvdGVudGlhbCBBUEkga2V5XG4gICAgICB0aGlzLmNsaWVudE9wdGlvbnMuYXBpS2V5ID0gdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBVc2luZyBBUEkga2V5IGZvciBhdXRoIChvciBubyBhdXRoIHByb3ZpZGVkIHlldCksIGNsZWFyIHByb2plY3QvbG9jYXRpb25cbiAgICB0aGlzLmNsaWVudE9wdGlvbnMucHJvamVjdCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmNsaWVudE9wdGlvbnMubG9jYXRpb24gPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpc1ZlcnRleEFJKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNsaWVudE9wdGlvbnMudmVydGV4YWkgPz8gZmFsc2U7XG4gIH1cblxuICBnZXRQcm9qZWN0KCkge1xuICAgIHJldHVybiB0aGlzLmNsaWVudE9wdGlvbnMucHJvamVjdDtcbiAgfVxuXG4gIGdldExvY2F0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmNsaWVudE9wdGlvbnMubG9jYXRpb247XG4gIH1cblxuICBhc3luYyBnZXRBdXRoSGVhZGVycygpOiBQcm9taXNlPEhlYWRlcnM+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgICBhd2FpdCB0aGlzLmNsaWVudE9wdGlvbnMuYXV0aC5hZGRBdXRoSGVhZGVycyhoZWFkZXJzKTtcbiAgICByZXR1cm4gaGVhZGVycztcbiAgfVxuXG4gIGdldEFwaVZlcnNpb24oKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5jbGllbnRPcHRpb25zLmh0dHBPcHRpb25zICYmXG4gICAgICB0aGlzLmNsaWVudE9wdGlvbnMuaHR0cE9wdGlvbnMuYXBpVmVyc2lvbiAhPT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbGllbnRPcHRpb25zLmh0dHBPcHRpb25zLmFwaVZlcnNpb247XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignQVBJIHZlcnNpb24gaXMgbm90IHNldC4nKTtcbiAgfVxuXG4gIGdldEJhc2VVcmwoKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5jbGllbnRPcHRpb25zLmh0dHBPcHRpb25zICYmXG4gICAgICB0aGlzLmNsaWVudE9wdGlvbnMuaHR0cE9wdGlvbnMuYmFzZVVybCAhPT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbGllbnRPcHRpb25zLmh0dHBPcHRpb25zLmJhc2VVcmw7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignQmFzZSBVUkwgaXMgbm90IHNldC4nKTtcbiAgfVxuXG4gIGdldFJlcXVlc3RVcmwoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UmVxdWVzdFVybEludGVybmFsKHRoaXMuY2xpZW50T3B0aW9ucy5odHRwT3B0aW9ucyk7XG4gIH1cblxuICBnZXRIZWFkZXJzKCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuY2xpZW50T3B0aW9ucy5odHRwT3B0aW9ucyAmJlxuICAgICAgdGhpcy5jbGllbnRPcHRpb25zLmh0dHBPcHRpb25zLmhlYWRlcnMgIT09IHVuZGVmaW5lZFxuICAgICkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xpZW50T3B0aW9ucy5odHRwT3B0aW9ucy5oZWFkZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0hlYWRlcnMgYXJlIG5vdCBzZXQuJyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRSZXF1ZXN0VXJsSW50ZXJuYWwoaHR0cE9wdGlvbnM/OiB0eXBlcy5IdHRwT3B0aW9ucykge1xuICAgIGlmIChcbiAgICAgICFodHRwT3B0aW9ucyB8fFxuICAgICAgaHR0cE9wdGlvbnMuYmFzZVVybCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICBodHRwT3B0aW9ucy5hcGlWZXJzaW9uID09PSB1bmRlZmluZWRcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSFRUUCBvcHRpb25zIGFyZSBub3QgY29ycmVjdGx5IHNldC4nKTtcbiAgICB9XG4gICAgY29uc3QgYmFzZVVybCA9IGh0dHBPcHRpb25zLmJhc2VVcmwuZW5kc1dpdGgoJy8nKVxuICAgICAgPyBodHRwT3B0aW9ucy5iYXNlVXJsLnNsaWNlKDAsIC0xKVxuICAgICAgOiBodHRwT3B0aW9ucy5iYXNlVXJsO1xuICAgIGNvbnN0IHVybEVsZW1lbnQ6IEFycmF5PHN0cmluZz4gPSBbYmFzZVVybF07XG4gICAgaWYgKGh0dHBPcHRpb25zLmFwaVZlcnNpb24gJiYgaHR0cE9wdGlvbnMuYXBpVmVyc2lvbiAhPT0gJycpIHtcbiAgICAgIHVybEVsZW1lbnQucHVzaChodHRwT3B0aW9ucy5hcGlWZXJzaW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHVybEVsZW1lbnQuam9pbignLycpO1xuICB9XG5cbiAgZ2V0QmFzZVJlc291cmNlUGF0aCgpIHtcbiAgICByZXR1cm4gYHByb2plY3RzLyR7dGhpcy5jbGllbnRPcHRpb25zLnByb2plY3R9L2xvY2F0aW9ucy8ke1xuICAgICAgdGhpcy5jbGllbnRPcHRpb25zLmxvY2F0aW9uXG4gICAgfWA7XG4gIH1cblxuICBnZXRBcGlLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50T3B0aW9ucy5hcGlLZXk7XG4gIH1cblxuICBnZXRXZWJzb2NrZXRCYXNlVXJsKCkge1xuICAgIGNvbnN0IGJhc2VVcmwgPSB0aGlzLmdldEJhc2VVcmwoKTtcbiAgICBjb25zdCB1cmxQYXJ0cyA9IG5ldyBVUkwoYmFzZVVybCk7XG4gICAgdXJsUGFydHMucHJvdG9jb2wgPSB1cmxQYXJ0cy5wcm90b2NvbCA9PSAnaHR0cDonID8gJ3dzJyA6ICd3c3MnO1xuICAgIHJldHVybiB1cmxQYXJ0cy50b1N0cmluZygpO1xuICB9XG5cbiAgc2V0QmFzZVVybCh1cmw6IHN0cmluZykge1xuICAgIGlmICh0aGlzLmNsaWVudE9wdGlvbnMuaHR0cE9wdGlvbnMpIHtcbiAgICAgIHRoaXMuY2xpZW50T3B0aW9ucy5odHRwT3B0aW9ucy5iYXNlVXJsID0gdXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0hUVFAgb3B0aW9ucyBhcmUgbm90IGNvcnJlY3RseSBzZXQuJyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RVcmwoXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIGh0dHBPcHRpb25zOiB0eXBlcy5IdHRwT3B0aW9ucyxcbiAgICBwcmVwZW5kUHJvamVjdExvY2F0aW9uOiBib29sZWFuLFxuICApOiBVUkwge1xuICAgIGNvbnN0IHVybEVsZW1lbnQ6IEFycmF5PHN0cmluZz4gPSBbdGhpcy5nZXRSZXF1ZXN0VXJsSW50ZXJuYWwoaHR0cE9wdGlvbnMpXTtcbiAgICBpZiAocHJlcGVuZFByb2plY3RMb2NhdGlvbikge1xuICAgICAgdXJsRWxlbWVudC5wdXNoKHRoaXMuZ2V0QmFzZVJlc291cmNlUGF0aCgpKTtcbiAgICB9XG4gICAgaWYgKHBhdGggIT09ICcnKSB7XG4gICAgICB1cmxFbGVtZW50LnB1c2gocGF0aCk7XG4gICAgfVxuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYCR7dXJsRWxlbWVudC5qb2luKCcvJyl9YCk7XG5cbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgcHJpdmF0ZSBzaG91bGRQcmVwZW5kVmVydGV4UHJvamVjdFBhdGgocmVxdWVzdDogSHR0cFJlcXVlc3QpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5jbGllbnRPcHRpb25zLmFwaUtleSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuY2xpZW50T3B0aW9ucy52ZXJ0ZXhhaSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAocmVxdWVzdC5wYXRoLnN0YXJ0c1dpdGgoJ3Byb2plY3RzLycpKSB7XG4gICAgICAvLyBBc3N1bWUgdGhlIHBhdGggYWxyZWFkeSBzdGFydHMgd2l0aFxuICAgICAgLy8gYHByb2plY3RzLzxwcm9qZWN0Pi9sb2NhdGlvbi88bG9jYXRpb24+YC5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgcmVxdWVzdC5odHRwTWV0aG9kID09PSAnR0VUJyAmJlxuICAgICAgcmVxdWVzdC5wYXRoLnN0YXJ0c1dpdGgoJ3B1Ymxpc2hlcnMvZ29vZ2xlL21vZGVscycpXG4gICAgKSB7XG4gICAgICAvLyBUaGVzZSBwYXRocyBhcmUgdXNlZCBieSBWZXJ0ZXgncyBtb2RlbHMuZ2V0IGFuZCBtb2RlbHMubGlzdFxuICAgICAgLy8gY2FsbHMuIEZvciBiYXNlIG1vZGVscyBWZXJ0ZXggZG9lcyBub3QgYWNjZXB0IGEgcHJvamVjdC9sb2NhdGlvblxuICAgICAgLy8gcHJlZml4IChmb3IgdHVuZWQgbW9kZWwgdGhlIHByZWZpeCBpcyByZXF1aXJlZCkuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgYXN5bmMgcmVxdWVzdChyZXF1ZXN0OiBIdHRwUmVxdWVzdCk6IFByb21pc2U8dHlwZXMuSHR0cFJlc3BvbnNlPiB7XG4gICAgbGV0IHBhdGNoZWRIdHRwT3B0aW9ucyA9IHRoaXMuY2xpZW50T3B0aW9ucy5odHRwT3B0aW9ucyE7XG4gICAgaWYgKHJlcXVlc3QuaHR0cE9wdGlvbnMpIHtcbiAgICAgIHBhdGNoZWRIdHRwT3B0aW9ucyA9IHRoaXMucGF0Y2hIdHRwT3B0aW9ucyhcbiAgICAgICAgdGhpcy5jbGllbnRPcHRpb25zLmh0dHBPcHRpb25zISxcbiAgICAgICAgcmVxdWVzdC5odHRwT3B0aW9ucyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJlcGVuZFByb2plY3RMb2NhdGlvbiA9IHRoaXMuc2hvdWxkUHJlcGVuZFZlcnRleFByb2plY3RQYXRoKHJlcXVlc3QpO1xuICAgIGNvbnN0IHVybCA9IHRoaXMuY29uc3RydWN0VXJsKFxuICAgICAgcmVxdWVzdC5wYXRoLFxuICAgICAgcGF0Y2hlZEh0dHBPcHRpb25zLFxuICAgICAgcHJlcGVuZFByb2plY3RMb2NhdGlvbixcbiAgICApO1xuICAgIGlmIChyZXF1ZXN0LnF1ZXJ5UGFyYW1zKSB7XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhyZXF1ZXN0LnF1ZXJ5UGFyYW1zKSkge1xuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIFN0cmluZyh2YWx1ZSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgcmVxdWVzdEluaXQ6IFJlcXVlc3RJbml0ID0ge307XG4gICAgaWYgKHJlcXVlc3QuaHR0cE1ldGhvZCA9PT0gJ0dFVCcpIHtcbiAgICAgIGlmIChyZXF1ZXN0LmJvZHkgJiYgcmVxdWVzdC5ib2R5ICE9PSAne30nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnUmVxdWVzdCBib2R5IHNob3VsZCBiZSBlbXB0eSBmb3IgR0VUIHJlcXVlc3QsIGJ1dCBnb3Qgbm9uIGVtcHR5IHJlcXVlc3QgYm9keScsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcXVlc3RJbml0LmJvZHkgPSByZXF1ZXN0LmJvZHk7XG4gICAgfVxuICAgIHJlcXVlc3RJbml0ID0gYXdhaXQgdGhpcy5pbmNsdWRlRXh0cmFIdHRwT3B0aW9uc1RvUmVxdWVzdEluaXQoXG4gICAgICByZXF1ZXN0SW5pdCxcbiAgICAgIHBhdGNoZWRIdHRwT3B0aW9ucyxcbiAgICAgIHVybC50b1N0cmluZygpLFxuICAgICAgcmVxdWVzdC5hYm9ydFNpZ25hbCxcbiAgICApO1xuICAgIHJldHVybiB0aGlzLnVuYXJ5QXBpQ2FsbCh1cmwsIHJlcXVlc3RJbml0LCByZXF1ZXN0Lmh0dHBNZXRob2QpO1xuICB9XG5cbiAgcHJpdmF0ZSBwYXRjaEh0dHBPcHRpb25zKFxuICAgIGJhc2VIdHRwT3B0aW9uczogdHlwZXMuSHR0cE9wdGlvbnMsXG4gICAgcmVxdWVzdEh0dHBPcHRpb25zOiB0eXBlcy5IdHRwT3B0aW9ucyxcbiAgKTogdHlwZXMuSHR0cE9wdGlvbnMge1xuICAgIGNvbnN0IHBhdGNoZWRIdHRwT3B0aW9ucyA9IEpTT04ucGFyc2UoXG4gICAgICBKU09OLnN0cmluZ2lmeShiYXNlSHR0cE9wdGlvbnMpLFxuICAgICkgYXMgdHlwZXMuSHR0cE9wdGlvbnM7XG5cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhyZXF1ZXN0SHR0cE9wdGlvbnMpKSB7XG4gICAgICAvLyBSZWNvcmRzIGNvbXBpbGUgdG8gb2JqZWN0cy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVFMyMzQ1VFM3MDUzOiBFbGVtZW50IGltcGxpY2l0bHkgaGFzIGFuICdhbnknIHR5cGVcbiAgICAgICAgLy8gYmVjYXVzZSBleHByZXNzaW9uIG9mIHR5cGUgJ3N0cmluZycgY2FuJ3QgYmUgdXNlZCB0byBpbmRleCB0eXBlXG4gICAgICAgIC8vICdIdHRwT3B0aW9ucycuXG4gICAgICAgIHBhdGNoZWRIdHRwT3B0aW9uc1trZXldID0gey4uLnBhdGNoZWRIdHRwT3B0aW9uc1trZXldLCAuLi52YWx1ZX07XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUUzIzNDVUUzcwNTM6IEVsZW1lbnQgaW1wbGljaXRseSBoYXMgYW4gJ2FueScgdHlwZVxuICAgICAgICAvLyBiZWNhdXNlIGV4cHJlc3Npb24gb2YgdHlwZSAnc3RyaW5nJyBjYW4ndCBiZSB1c2VkIHRvIGluZGV4IHR5cGVcbiAgICAgICAgLy8gJ0h0dHBPcHRpb25zJy5cbiAgICAgICAgcGF0Y2hlZEh0dHBPcHRpb25zW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhdGNoZWRIdHRwT3B0aW9ucztcbiAgfVxuXG4gIGFzeW5jIHJlcXVlc3RTdHJlYW0oXG4gICAgcmVxdWVzdDogSHR0cFJlcXVlc3QsXG4gICk6IFByb21pc2U8QXN5bmNHZW5lcmF0b3I8dHlwZXMuSHR0cFJlc3BvbnNlPj4ge1xuICAgIGxldCBwYXRjaGVkSHR0cE9wdGlvbnMgPSB0aGlzLmNsaWVudE9wdGlvbnMuaHR0cE9wdGlvbnMhO1xuICAgIGlmIChyZXF1ZXN0Lmh0dHBPcHRpb25zKSB7XG4gICAgICBwYXRjaGVkSHR0cE9wdGlvbnMgPSB0aGlzLnBhdGNoSHR0cE9wdGlvbnMoXG4gICAgICAgIHRoaXMuY2xpZW50T3B0aW9ucy5odHRwT3B0aW9ucyEsXG4gICAgICAgIHJlcXVlc3QuaHR0cE9wdGlvbnMsXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHByZXBlbmRQcm9qZWN0TG9jYXRpb24gPSB0aGlzLnNob3VsZFByZXBlbmRWZXJ0ZXhQcm9qZWN0UGF0aChyZXF1ZXN0KTtcbiAgICBjb25zdCB1cmwgPSB0aGlzLmNvbnN0cnVjdFVybChcbiAgICAgIHJlcXVlc3QucGF0aCxcbiAgICAgIHBhdGNoZWRIdHRwT3B0aW9ucyxcbiAgICAgIHByZXBlbmRQcm9qZWN0TG9jYXRpb24sXG4gICAgKTtcbiAgICBpZiAoIXVybC5zZWFyY2hQYXJhbXMuaGFzKCdhbHQnKSB8fCB1cmwuc2VhcmNoUGFyYW1zLmdldCgnYWx0JykgIT09ICdzc2UnKSB7XG4gICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnYWx0JywgJ3NzZScpO1xuICAgIH1cbiAgICBsZXQgcmVxdWVzdEluaXQ6IFJlcXVlc3RJbml0ID0ge307XG4gICAgcmVxdWVzdEluaXQuYm9keSA9IHJlcXVlc3QuYm9keTtcbiAgICByZXF1ZXN0SW5pdCA9IGF3YWl0IHRoaXMuaW5jbHVkZUV4dHJhSHR0cE9wdGlvbnNUb1JlcXVlc3RJbml0KFxuICAgICAgcmVxdWVzdEluaXQsXG4gICAgICBwYXRjaGVkSHR0cE9wdGlvbnMsXG4gICAgICB1cmwudG9TdHJpbmcoKSxcbiAgICAgIHJlcXVlc3QuYWJvcnRTaWduYWwsXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1BcGlDYWxsKHVybCwgcmVxdWVzdEluaXQsIHJlcXVlc3QuaHR0cE1ldGhvZCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGluY2x1ZGVFeHRyYUh0dHBPcHRpb25zVG9SZXF1ZXN0SW5pdChcbiAgICByZXF1ZXN0SW5pdDogUmVxdWVzdEluaXQsXG4gICAgaHR0cE9wdGlvbnM6IHR5cGVzLkh0dHBPcHRpb25zLFxuICAgIHVybDogc3RyaW5nLFxuICAgIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWwsXG4gICk6IFByb21pc2U8UmVxdWVzdEluaXQ+IHtcbiAgICBpZiAoKGh0dHBPcHRpb25zICYmIGh0dHBPcHRpb25zLnRpbWVvdXQpIHx8IGFib3J0U2lnbmFsKSB7XG4gICAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICBjb25zdCBzaWduYWwgPSBhYm9ydENvbnRyb2xsZXIuc2lnbmFsO1xuICAgICAgaWYgKGh0dHBPcHRpb25zLnRpbWVvdXQgJiYgaHR0cE9wdGlvbnM/LnRpbWVvdXQgPiAwKSB7XG4gICAgICAgIGNvbnN0IHRpbWVvdXRIYW5kbGUgPSBzZXRUaW1lb3V0KFxuICAgICAgICAgICgpID0+IGFib3J0Q29udHJvbGxlci5hYm9ydCgpLFxuICAgICAgICAgIGh0dHBPcHRpb25zLnRpbWVvdXQsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aW1lb3V0SGFuZGxlICYmXG4gICAgICAgICAgdHlwZW9mICh0aW1lb3V0SGFuZGxlIGFzIHVua25vd24gYXMgTm9kZUpTLlRpbWVvdXQpLnVucmVmID09PVxuICAgICAgICAgICAgJ2Z1bmN0aW9uJ1xuICAgICAgICApIHtcbiAgICAgICAgICAvLyBjYWxsIHVucmVmIHRvIHByZXZlbnQgbm9kZWpzIHByb2Nlc3MgZnJvbSBoYW5naW5nLCBzZWVcbiAgICAgICAgICAvLyBodHRwczovL25vZGVqcy5vcmcvYXBpL3RpbWVycy5odG1sI3RpbWVvdXR1bnJlZlxuICAgICAgICAgIHRpbWVvdXRIYW5kbGUudW5yZWYoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGFib3J0U2lnbmFsKSB7XG4gICAgICAgIGFib3J0U2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4ge1xuICAgICAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJlcXVlc3RJbml0LnNpZ25hbCA9IHNpZ25hbDtcbiAgICB9XG4gICAgaWYgKGh0dHBPcHRpb25zICYmIGh0dHBPcHRpb25zLmV4dHJhQm9keSAhPT0gbnVsbCkge1xuICAgICAgaW5jbHVkZUV4dHJhQm9keVRvUmVxdWVzdEluaXQoXG4gICAgICAgIHJlcXVlc3RJbml0LFxuICAgICAgICBodHRwT3B0aW9ucy5leHRyYUJvZHkgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgIH1cbiAgICByZXF1ZXN0SW5pdC5oZWFkZXJzID0gYXdhaXQgdGhpcy5nZXRIZWFkZXJzSW50ZXJuYWwoaHR0cE9wdGlvbnMsIHVybCk7XG4gICAgcmV0dXJuIHJlcXVlc3RJbml0O1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyB1bmFyeUFwaUNhbGwoXG4gICAgdXJsOiBVUkwsXG4gICAgcmVxdWVzdEluaXQ6IFJlcXVlc3RJbml0LFxuICAgIGh0dHBNZXRob2Q6ICdHRVQnIHwgJ1BPU1QnIHwgJ1BBVENIJyB8ICdERUxFVEUnLFxuICApOiBQcm9taXNlPHR5cGVzLkh0dHBSZXNwb25zZT4ge1xuICAgIHJldHVybiB0aGlzLmFwaUNhbGwodXJsLnRvU3RyaW5nKCksIHtcbiAgICAgIC4uLnJlcXVlc3RJbml0LFxuICAgICAgbWV0aG9kOiBodHRwTWV0aG9kLFxuICAgIH0pXG4gICAgICAudGhlbihhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgYXdhaXQgdGhyb3dFcnJvcklmTm90T0socmVzcG9uc2UpO1xuICAgICAgICByZXR1cm4gbmV3IHR5cGVzLkh0dHBSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeShlKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzdHJlYW1BcGlDYWxsKFxuICAgIHVybDogVVJMLFxuICAgIHJlcXVlc3RJbml0OiBSZXF1ZXN0SW5pdCxcbiAgICBodHRwTWV0aG9kOiAnR0VUJyB8ICdQT1NUJyB8ICdQQVRDSCcgfCAnREVMRVRFJyxcbiAgKTogUHJvbWlzZTxBc3luY0dlbmVyYXRvcjx0eXBlcy5IdHRwUmVzcG9uc2U+PiB7XG4gICAgcmV0dXJuIHRoaXMuYXBpQ2FsbCh1cmwudG9TdHJpbmcoKSwge1xuICAgICAgLi4ucmVxdWVzdEluaXQsXG4gICAgICBtZXRob2Q6IGh0dHBNZXRob2QsXG4gICAgfSlcbiAgICAgIC50aGVuKGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgICBhd2FpdCB0aHJvd0Vycm9ySWZOb3RPSyhyZXNwb25zZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NTdHJlYW1SZXNwb25zZShyZXNwb25zZSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeShlKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgKnByb2Nlc3NTdHJlYW1SZXNwb25zZShcbiAgICByZXNwb25zZTogUmVzcG9uc2UsXG4gICk6IEFzeW5jR2VuZXJhdG9yPHR5cGVzLkh0dHBSZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlYWRlciA9IHJlc3BvbnNlPy5ib2R5Py5nZXRSZWFkZXIoKTtcbiAgICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCd1dGYtOCcpO1xuICAgIGlmICghcmVhZGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc3BvbnNlIGJvZHkgaXMgZW1wdHknKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgbGV0IGJ1ZmZlciA9ICcnO1xuICAgICAgY29uc3QgZGF0YVByZWZpeCA9ICdkYXRhOic7XG4gICAgICBjb25zdCBkZWxpbWl0ZXJzID0gWydcXG5cXG4nLCAnXFxyXFxyJywgJ1xcclxcblxcclxcbiddO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCB7ZG9uZSwgdmFsdWV9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICBpZiAoYnVmZmVyLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luY29tcGxldGUgSlNPTiBzZWdtZW50IGF0IHRoZSBlbmQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2h1bmtTdHJpbmcgPSBkZWNvZGVyLmRlY29kZSh2YWx1ZSwge3N0cmVhbTogdHJ1ZX0pO1xuXG4gICAgICAgIC8vIFBhcnNlIGFuZCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgY2h1bmsgY29udGFpbnMgYW4gZXJyb3IuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgY2h1bmtKc29uID0gSlNPTi5wYXJzZShjaHVua1N0cmluZykgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gICAgICAgICAgaWYgKCdlcnJvcicgaW4gY2h1bmtKc29uKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvckpzb24gPSBKU09OLnBhcnNlKFxuICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShjaHVua0pzb25bJ2Vycm9yJ10pLFxuICAgICAgICAgICAgKSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGVycm9ySnNvblsnc3RhdHVzJ10gYXMgc3RyaW5nO1xuICAgICAgICAgICAgY29uc3QgY29kZSA9IGVycm9ySnNvblsnY29kZSddIGFzIG51bWJlcjtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGBnb3Qgc3RhdHVzOiAke3N0YXR1c30uICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgIGNodW5rSnNvbixcbiAgICAgICAgICAgICl9YDtcbiAgICAgICAgICAgIGlmIChjb2RlID49IDQwMCAmJiBjb2RlIDwgNjAwKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGFwaUVycm9yID0gbmV3IEFwaUVycm9yKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBjb2RlLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgdGhyb3cgYXBpRXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlOiB1bmtub3duKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3IgPSBlIGFzIEVycm9yO1xuICAgICAgICAgIGlmIChlcnJvci5uYW1lID09PSAnQXBpRXJyb3InKSB7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBidWZmZXIgKz0gY2h1bmtTdHJpbmc7XG5cbiAgICAgICAgbGV0IGRlbGltaXRlckluZGV4ID0gLTE7XG4gICAgICAgIGxldCBkZWxpbWl0ZXJMZW5ndGggPSAwO1xuXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgZGVsaW1pdGVySW5kZXggPSAtMTtcbiAgICAgICAgICBkZWxpbWl0ZXJMZW5ndGggPSAwO1xuXG4gICAgICAgICAgZm9yIChjb25zdCBkZWxpbWl0ZXIgb2YgZGVsaW1pdGVycykge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBidWZmZXIuaW5kZXhPZihkZWxpbWl0ZXIpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBpbmRleCAhPT0gLTEgJiZcbiAgICAgICAgICAgICAgKGRlbGltaXRlckluZGV4ID09PSAtMSB8fCBpbmRleCA8IGRlbGltaXRlckluZGV4KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGRlbGltaXRlckluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgIGRlbGltaXRlckxlbmd0aCA9IGRlbGltaXRlci5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGRlbGltaXRlckluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgYnJlYWs7IC8vIE5vIGNvbXBsZXRlIGV2ZW50IGluIGJ1ZmZlclxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGV2ZW50U3RyaW5nID0gYnVmZmVyLnN1YnN0cmluZygwLCBkZWxpbWl0ZXJJbmRleCk7XG4gICAgICAgICAgYnVmZmVyID0gYnVmZmVyLnN1YnN0cmluZyhkZWxpbWl0ZXJJbmRleCArIGRlbGltaXRlckxlbmd0aCk7XG5cbiAgICAgICAgICBjb25zdCB0cmltbWVkRXZlbnQgPSBldmVudFN0cmluZy50cmltKCk7XG5cbiAgICAgICAgICBpZiAodHJpbW1lZEV2ZW50LnN0YXJ0c1dpdGgoZGF0YVByZWZpeCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZENodW5rU3RyaW5nID0gdHJpbW1lZEV2ZW50XG4gICAgICAgICAgICAgIC5zdWJzdHJpbmcoZGF0YVByZWZpeC5sZW5ndGgpXG4gICAgICAgICAgICAgIC50cmltKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCBwYXJ0aWFsUmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UocHJvY2Vzc2VkQ2h1bmtTdHJpbmcsIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXNwb25zZT8uaGVhZGVycyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlPy5zdGF0dXMsXG4gICAgICAgICAgICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2U/LnN0YXR1c1RleHQsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB5aWVsZCBuZXcgdHlwZXMuSHR0cFJlc3BvbnNlKHBhcnRpYWxSZXNwb25zZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBgZXhjZXB0aW9uIHBhcnNpbmcgc3RyZWFtIGNodW5rICR7cHJvY2Vzc2VkQ2h1bmtTdHJpbmd9LiAke2V9YCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgYXN5bmMgYXBpQ2FsbChcbiAgICB1cmw6IHN0cmluZyxcbiAgICByZXF1ZXN0SW5pdDogUmVxdWVzdEluaXQsXG4gICk6IFByb21pc2U8UmVzcG9uc2U+IHtcbiAgICByZXR1cm4gZmV0Y2godXJsLCByZXF1ZXN0SW5pdCkuY2F0Y2goKGUpID0+IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgZXhjZXB0aW9uICR7ZX0gc2VuZGluZyByZXF1ZXN0YCk7XG4gICAgfSk7XG4gIH1cblxuICBnZXREZWZhdWx0SGVhZGVycygpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcbiAgICBjb25zdCBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG5cbiAgICBjb25zdCB2ZXJzaW9uSGVhZGVyVmFsdWUgPVxuICAgICAgTElCUkFSWV9MQUJFTCArICcgJyArIHRoaXMuY2xpZW50T3B0aW9ucy51c2VyQWdlbnRFeHRyYTtcblxuICAgIGhlYWRlcnNbVVNFUl9BR0VOVF9IRUFERVJdID0gdmVyc2lvbkhlYWRlclZhbHVlO1xuICAgIGhlYWRlcnNbR09PR0xFX0FQSV9DTElFTlRfSEVBREVSXSA9IHZlcnNpb25IZWFkZXJWYWx1ZTtcbiAgICBoZWFkZXJzW0NPTlRFTlRfVFlQRV9IRUFERVJdID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuXG4gICAgcmV0dXJuIGhlYWRlcnM7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldEhlYWRlcnNJbnRlcm5hbChcbiAgICBodHRwT3B0aW9uczogdHlwZXMuSHR0cE9wdGlvbnMgfCB1bmRlZmluZWQsXG4gICAgdXJsOiBzdHJpbmcsXG4gICk6IFByb21pc2U8SGVhZGVycz4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICAgIGlmIChodHRwT3B0aW9ucyAmJiBodHRwT3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhodHRwT3B0aW9ucy5oZWFkZXJzKSkge1xuICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIEFwcGVuZCBhIHRpbWVvdXQgaGVhZGVyIGlmIGl0IGlzIHNldCwgbm90ZSB0aGF0IHRoZSB0aW1lb3V0IG9wdGlvbiBpc1xuICAgICAgLy8gaW4gbWlsbGlzZWNvbmRzIGJ1dCB0aGUgaGVhZGVyIGlzIGluIHNlY29uZHMuXG4gICAgICBpZiAoaHR0cE9wdGlvbnMudGltZW91dCAmJiBodHRwT3B0aW9ucy50aW1lb3V0ID4gMCkge1xuICAgICAgICBoZWFkZXJzLmFwcGVuZChcbiAgICAgICAgICBTRVJWRVJfVElNRU9VVF9IRUFERVIsXG4gICAgICAgICAgU3RyaW5nKE1hdGguY2VpbChodHRwT3B0aW9ucy50aW1lb3V0IC8gMTAwMCkpLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBhd2FpdCB0aGlzLmNsaWVudE9wdGlvbnMuYXV0aC5hZGRBdXRoSGVhZGVycyhoZWFkZXJzLCB1cmwpO1xuICAgIHJldHVybiBoZWFkZXJzO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRGaWxlTmFtZShmaWxlOiBzdHJpbmcgfCBCbG9iKTogc3RyaW5nIHtcbiAgICBsZXQgZmlsZU5hbWU6IHN0cmluZyA9ICcnO1xuICAgIGlmICh0eXBlb2YgZmlsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGZpbGVOYW1lID0gZmlsZS5yZXBsYWNlKC9bL1xcXFxdKyQvLCAnJyk7XG4gICAgICBmaWxlTmFtZSA9IGZpbGVOYW1lLnNwbGl0KC9bL1xcXFxdLykucG9wKCkgPz8gJyc7XG4gICAgfVxuICAgIHJldHVybiBmaWxlTmFtZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGxvYWRzIGEgZmlsZSBhc3luY2hyb25vdXNseSB1c2luZyBHZW1pbmkgQVBJIG9ubHksIHRoaXMgaXMgbm90IHN1cHBvcnRlZFxuICAgKiBpbiBWZXJ0ZXggQUkuXG4gICAqXG4gICAqIEBwYXJhbSBmaWxlIFRoZSBzdHJpbmcgcGF0aCB0byB0aGUgZmlsZSB0byBiZSB1cGxvYWRlZCBvciBhIEJsb2Igb2JqZWN0LlxuICAgKiBAcGFyYW0gY29uZmlnIE9wdGlvbmFsIHBhcmFtZXRlcnMgc3BlY2lmaWVkIGluIHRoZSBgVXBsb2FkRmlsZUNvbmZpZ2BcbiAgICogICAgIGludGVyZmFjZS4gQHNlZSB7QGxpbmsgdHlwZXMuVXBsb2FkRmlsZUNvbmZpZ31cbiAgICogQHJldHVybiBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIGBGaWxlYCBvYmplY3QuXG4gICAqIEB0aHJvd3MgQW4gZXJyb3IgaWYgY2FsbGVkIG9uIGEgVmVydGV4IEFJIGNsaWVudC5cbiAgICogQHRocm93cyBBbiBlcnJvciBpZiB0aGUgYG1pbWVUeXBlYCBpcyBub3QgcHJvdmlkZWQgYW5kIGNhbiBub3QgYmUgaW5mZXJyZWQsXG4gICAqL1xuICBhc3luYyB1cGxvYWRGaWxlKFxuICAgIGZpbGU6IHN0cmluZyB8IEJsb2IsXG4gICAgY29uZmlnPzogdHlwZXMuVXBsb2FkRmlsZUNvbmZpZyxcbiAgKTogUHJvbWlzZTx0eXBlcy5GaWxlPiB7XG4gICAgY29uc3QgZmlsZVRvVXBsb2FkOiB0eXBlcy5GaWxlID0ge307XG4gICAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgICBmaWxlVG9VcGxvYWQubWltZVR5cGUgPSBjb25maWcubWltZVR5cGU7XG4gICAgICBmaWxlVG9VcGxvYWQubmFtZSA9IGNvbmZpZy5uYW1lO1xuICAgICAgZmlsZVRvVXBsb2FkLmRpc3BsYXlOYW1lID0gY29uZmlnLmRpc3BsYXlOYW1lO1xuICAgIH1cblxuICAgIGlmIChmaWxlVG9VcGxvYWQubmFtZSAmJiAhZmlsZVRvVXBsb2FkLm5hbWUuc3RhcnRzV2l0aCgnZmlsZXMvJykpIHtcbiAgICAgIGZpbGVUb1VwbG9hZC5uYW1lID0gYGZpbGVzLyR7ZmlsZVRvVXBsb2FkLm5hbWV9YDtcbiAgICB9XG5cbiAgICBjb25zdCB1cGxvYWRlciA9IHRoaXMuY2xpZW50T3B0aW9ucy51cGxvYWRlcjtcbiAgICBjb25zdCBmaWxlU3RhdCA9IGF3YWl0IHVwbG9hZGVyLnN0YXQoZmlsZSk7XG4gICAgZmlsZVRvVXBsb2FkLnNpemVCeXRlcyA9IFN0cmluZyhmaWxlU3RhdC5zaXplKTtcbiAgICBjb25zdCBtaW1lVHlwZSA9IGNvbmZpZz8ubWltZVR5cGUgPz8gZmlsZVN0YXQudHlwZTtcbiAgICBpZiAobWltZVR5cGUgPT09IHVuZGVmaW5lZCB8fCBtaW1lVHlwZSA9PT0gJycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0NhbiBub3QgZGV0ZXJtaW5lIG1pbWVUeXBlLiBQbGVhc2UgcHJvdmlkZSBtaW1lVHlwZSBpbiB0aGUgY29uZmlnLicsXG4gICAgICApO1xuICAgIH1cbiAgICBmaWxlVG9VcGxvYWQubWltZVR5cGUgPSBtaW1lVHlwZTtcbiAgICBjb25zdCBib2R5OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcbiAgICAgIGZpbGU6IGZpbGVUb1VwbG9hZCxcbiAgICB9O1xuICAgIGNvbnN0IGZpbGVOYW1lID0gdGhpcy5nZXRGaWxlTmFtZShmaWxlKTtcbiAgICBjb25zdCBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICd1cGxvYWQvdjFiZXRhL2ZpbGVzJyxcbiAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICApO1xuICAgIGNvbnN0IHVwbG9hZFVybCA9IGF3YWl0IHRoaXMuZmV0Y2hVcGxvYWRVcmwoXG4gICAgICBwYXRoLFxuICAgICAgZmlsZVRvVXBsb2FkLnNpemVCeXRlcyxcbiAgICAgIGZpbGVUb1VwbG9hZC5taW1lVHlwZSxcbiAgICAgIGZpbGVOYW1lLFxuICAgICAgYm9keSxcbiAgICAgIGNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgKTtcbiAgICByZXR1cm4gdXBsb2FkZXIudXBsb2FkKGZpbGUsIHVwbG9hZFVybCwgdGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogVXBsb2FkcyBhIGZpbGUgdG8gYSBnaXZlbiBmaWxlIHNlYXJjaCBzdG9yZSBhc3luY2hyb25vdXNseSB1c2luZyBHZW1pbmkgQVBJIG9ubHksIHRoaXMgaXMgbm90IHN1cHBvcnRlZFxuICAgKiBpbiBWZXJ0ZXggQUkuXG4gICAqXG4gICAqIEBwYXJhbSBmaWxlU2VhcmNoU3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBmaWxlIHNlYXJjaCBzdG9yZSB0byB1cGxvYWQgdGhlIGZpbGUgdG8uXG4gICAqIEBwYXJhbSBmaWxlIFRoZSBzdHJpbmcgcGF0aCB0byB0aGUgZmlsZSB0byBiZSB1cGxvYWRlZCBvciBhIEJsb2Igb2JqZWN0LlxuICAgKiBAcGFyYW0gY29uZmlnIE9wdGlvbmFsIHBhcmFtZXRlcnMgc3BlY2lmaWVkIGluIHRoZSBgVXBsb2FkRmlsZUNvbmZpZ2BcbiAgICogICAgIGludGVyZmFjZS4gQHNlZSB7QGxpbmsgVXBsb2FkRmlsZUNvbmZpZ31cbiAgICogQHJldHVybiBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIGBGaWxlYCBvYmplY3QuXG4gICAqIEB0aHJvd3MgQW4gZXJyb3IgaWYgY2FsbGVkIG9uIGEgVmVydGV4IEFJIGNsaWVudC5cbiAgICogQHRocm93cyBBbiBlcnJvciBpZiB0aGUgYG1pbWVUeXBlYCBpcyBub3QgcHJvdmlkZWQgYW5kIGNhbiBub3QgYmUgaW5mZXJyZWQsXG4gICAqL1xuICBhc3luYyB1cGxvYWRGaWxlVG9GaWxlU2VhcmNoU3RvcmUoXG4gICAgZmlsZVNlYXJjaFN0b3JlTmFtZTogc3RyaW5nLFxuICAgIGZpbGU6IHN0cmluZyB8IEJsb2IsXG4gICAgY29uZmlnPzogdHlwZXMuVXBsb2FkVG9GaWxlU2VhcmNoU3RvcmVDb25maWcsXG4gICk6IFByb21pc2U8dHlwZXMuVXBsb2FkVG9GaWxlU2VhcmNoU3RvcmVPcGVyYXRpb24+IHtcbiAgICBjb25zdCB1cGxvYWRlciA9IHRoaXMuY2xpZW50T3B0aW9ucy51cGxvYWRlcjtcbiAgICBjb25zdCBmaWxlU3RhdCA9IGF3YWl0IHVwbG9hZGVyLnN0YXQoZmlsZSk7XG4gICAgY29uc3Qgc2l6ZUJ5dGVzID0gU3RyaW5nKGZpbGVTdGF0LnNpemUpO1xuICAgIGNvbnN0IG1pbWVUeXBlID0gY29uZmlnPy5taW1lVHlwZSA/PyBmaWxlU3RhdC50eXBlO1xuICAgIGlmIChtaW1lVHlwZSA9PT0gdW5kZWZpbmVkIHx8IG1pbWVUeXBlID09PSAnJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnQ2FuIG5vdCBkZXRlcm1pbmUgbWltZVR5cGUuIFBsZWFzZSBwcm92aWRlIG1pbWVUeXBlIGluIHRoZSBjb25maWcuJyxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHBhdGggPSBgdXBsb2FkL3YxYmV0YS8ke2ZpbGVTZWFyY2hTdG9yZU5hbWV9OnVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlYDtcbiAgICBjb25zdCBmaWxlTmFtZSA9IHRoaXMuZ2V0RmlsZU5hbWUoZmlsZSk7XG4gICAgY29uc3QgYm9keTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcbiAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgIHVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlQ29uZmlnVG9NbGRldihjb25maWcsIGJvZHkpO1xuICAgIH1cbiAgICBjb25zdCB1cGxvYWRVcmwgPSBhd2FpdCB0aGlzLmZldGNoVXBsb2FkVXJsKFxuICAgICAgcGF0aCxcbiAgICAgIHNpemVCeXRlcyxcbiAgICAgIG1pbWVUeXBlLFxuICAgICAgZmlsZU5hbWUsXG4gICAgICBib2R5LFxuICAgICAgY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICApO1xuICAgIHJldHVybiB1cGxvYWRlci51cGxvYWRUb0ZpbGVTZWFyY2hTdG9yZShmaWxlLCB1cGxvYWRVcmwsIHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIERvd25sb2FkcyBhIGZpbGUgYXN5bmNocm9ub3VzbHkgdG8gdGhlIHNwZWNpZmllZCBwYXRoLlxuICAgKlxuICAgKiBAcGFyYW1zIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgZG93bmxvYWQgcmVxdWVzdCwgc2VlIHtAbGlua1xuICAgKiB0eXBlcy5Eb3dubG9hZEZpbGVQYXJhbWV0ZXJzfVxuICAgKi9cbiAgYXN5bmMgZG93bmxvYWRGaWxlKHBhcmFtczogdHlwZXMuRG93bmxvYWRGaWxlUGFyYW1ldGVycyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGRvd25sb2FkZXIgPSB0aGlzLmNsaWVudE9wdGlvbnMuZG93bmxvYWRlcjtcbiAgICBhd2FpdCBkb3dubG9hZGVyLmRvd25sb2FkKHBhcmFtcywgdGhpcyk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGZldGNoVXBsb2FkVXJsKFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBzaXplQnl0ZXM6IHN0cmluZyxcbiAgICBtaW1lVHlwZTogc3RyaW5nLFxuICAgIGZpbGVOYW1lOiBzdHJpbmcsXG4gICAgYm9keTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgY29uZmlnSHR0cE9wdGlvbnM/OiB0eXBlcy5IdHRwT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBsZXQgaHR0cE9wdGlvbnM6IHR5cGVzLkh0dHBPcHRpb25zID0ge307XG4gICAgaWYgKGNvbmZpZ0h0dHBPcHRpb25zKSB7XG4gICAgICBodHRwT3B0aW9ucyA9IGNvbmZpZ0h0dHBPcHRpb25zO1xuICAgIH0gZWxzZSB7XG4gICAgICBodHRwT3B0aW9ucyA9IHtcbiAgICAgICAgYXBpVmVyc2lvbjogJycsIC8vIGFwaS12ZXJzaW9uIGlzIHNldCBpbiB0aGUgcGF0aC5cbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ1gtR29vZy1VcGxvYWQtUHJvdG9jb2wnOiAncmVzdW1hYmxlJyxcbiAgICAgICAgICAnWC1Hb29nLVVwbG9hZC1Db21tYW5kJzogJ3N0YXJ0JyxcbiAgICAgICAgICAnWC1Hb29nLVVwbG9hZC1IZWFkZXItQ29udGVudC1MZW5ndGgnOiBgJHtzaXplQnl0ZXN9YCxcbiAgICAgICAgICAnWC1Hb29nLVVwbG9hZC1IZWFkZXItQ29udGVudC1UeXBlJzogYCR7bWltZVR5cGV9YCxcbiAgICAgICAgICAuLi4oZmlsZU5hbWUgPyB7J1gtR29vZy1VcGxvYWQtRmlsZS1OYW1lJzogZmlsZU5hbWV9IDoge30pLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCBodHRwUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3Qoe1xuICAgICAgcGF0aCxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgaHR0cE9wdGlvbnMsXG4gICAgfSk7XG5cbiAgICBpZiAoIWh0dHBSZXNwb25zZSB8fCAhaHR0cFJlc3BvbnNlPy5oZWFkZXJzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdTZXJ2ZXIgZGlkIG5vdCByZXR1cm4gYW4gSHR0cFJlc3BvbnNlIG9yIHRoZSByZXR1cm5lZCBIdHRwUmVzcG9uc2UgZGlkIG5vdCBoYXZlIGhlYWRlcnMuJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgdXBsb2FkVXJsOiBzdHJpbmcgfCB1bmRlZmluZWQgPVxuICAgICAgaHR0cFJlc3BvbnNlPy5oZWFkZXJzPy5bJ3gtZ29vZy11cGxvYWQtdXJsJ107XG4gICAgaWYgKHVwbG9hZFVybCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdGYWlsZWQgdG8gZ2V0IHVwbG9hZCB1cmwuIFNlcnZlciBkaWQgbm90IHJldHVybiB0aGUgeC1nb29nbGUtdXBsb2FkLXVybCBpbiB0aGUgaGVhZGVycycsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdXBsb2FkVXJsO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHRocm93RXJyb3JJZk5vdE9LKHJlc3BvbnNlOiBSZXNwb25zZSB8IHVuZGVmaW5lZCkge1xuICBpZiAocmVzcG9uc2UgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncmVzcG9uc2UgaXMgdW5kZWZpbmVkJyk7XG4gIH1cbiAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgIGNvbnN0IHN0YXR1czogbnVtYmVyID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgIGxldCBlcnJvckJvZHk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgIGlmIChyZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk/LmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9qc29uJykpIHtcbiAgICAgIGVycm9yQm9keSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXJyb3JCb2R5ID0ge1xuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIG1lc3NhZ2U6IGF3YWl0IHJlc3BvbnNlLnRleHQoKSxcbiAgICAgICAgICBjb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkoZXJyb3JCb2R5KTtcbiAgICBpZiAoc3RhdHVzID49IDQwMCAmJiBzdGF0dXMgPCA2MDApIHtcbiAgICAgIGNvbnN0IGFwaUVycm9yID0gbmV3IEFwaUVycm9yKHtcbiAgICAgICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlLFxuICAgICAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICAgIH0pO1xuICAgICAgdGhyb3cgYXBpRXJyb3I7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICB9XG59XG5cbi8qKlxuICogUmVjdXJzaXZlbHkgdXBkYXRlcyB0aGUgYHJlcXVlc3RJbml0LmJvZHlgIHdpdGggdmFsdWVzIGZyb20gYW4gYGV4dHJhQm9keWAgb2JqZWN0LlxuICpcbiAqIElmIGByZXF1ZXN0SW5pdC5ib2R5YCBpcyBhIHN0cmluZywgaXQncyBhc3N1bWVkIHRvIGJlIEpTT04gYW5kIHdpbGwgYmUgcGFyc2VkLlxuICogVGhlIGBleHRyYUJvZHlgIGlzIHRoZW4gZGVlcGx5IG1lcmdlZCBpbnRvIHRoaXMgcGFyc2VkIG9iamVjdC5cbiAqIElmIGByZXF1ZXN0SW5pdC5ib2R5YCBpcyBhIEJsb2IsIGBleHRyYUJvZHlgIHdpbGwgYmUgaWdub3JlZCwgYW5kIGEgd2FybmluZyBsb2dnZWQsXG4gKiBhcyBtZXJnaW5nIHN0cnVjdHVyZWQgZGF0YSBpbnRvIGFuIG9wYXF1ZSBCbG9iIGlzIG5vdCBzdXBwb3J0ZWQuXG4gKlxuICogVGhlIGZ1bmN0aW9uIGRvZXMgbm90IGVuZm9yY2UgdGhhdCB1cGRhdGVkIHZhbHVlcyBmcm9tIGBleHRyYUJvZHlgIGhhdmUgdGhlXG4gKiBzYW1lIHR5cGUgYXMgZXhpc3RpbmcgdmFsdWVzIGluIGByZXF1ZXN0SW5pdC5ib2R5YC4gVHlwZSBtaXNtYXRjaGVzIGR1cmluZ1xuICogdGhlIG1lcmdlIHdpbGwgcmVzdWx0IGluIGEgd2FybmluZywgYnV0IHRoZSB2YWx1ZSBmcm9tIGBleHRyYUJvZHlgIHdpbGwgb3ZlcndyaXRlXG4gKiB0aGUgb3JpZ2luYWwuIGBleHRyYUJvZHlgIHVzZXJzIGFyZSByZXNwb25zaWJsZSBmb3IgZW5zdXJpbmcgYGV4dHJhQm9keWAgaGFzIHRoZSBjb3JyZWN0IHN0cnVjdHVyZS5cbiAqXG4gKiBAcGFyYW0gcmVxdWVzdEluaXQgVGhlIFJlcXVlc3RJbml0IG9iamVjdCB3aG9zZSBib2R5IHdpbGwgYmUgdXBkYXRlZC5cbiAqIEBwYXJhbSBleHRyYUJvZHkgVGhlIG9iamVjdCBjb250YWluaW5nIHVwZGF0ZXMgdG8gYmUgbWVyZ2VkIGludG8gYHJlcXVlc3RJbml0LmJvZHlgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5jbHVkZUV4dHJhQm9keVRvUmVxdWVzdEluaXQoXG4gIHJlcXVlc3RJbml0OiBSZXF1ZXN0SW5pdCxcbiAgZXh0cmFCb2R5OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbikge1xuICBpZiAoIWV4dHJhQm9keSB8fCBPYmplY3Qua2V5cyhleHRyYUJvZHkpLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChyZXF1ZXN0SW5pdC5ib2R5IGluc3RhbmNlb2YgQmxvYikge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgICdpbmNsdWRlRXh0cmFCb2R5VG9SZXF1ZXN0SW5pdDogZXh0cmFCb2R5IHByb3ZpZGVkIGJ1dCBjdXJyZW50IHJlcXVlc3QgYm9keSBpcyBhIEJsb2IuIGV4dHJhQm9keSB3aWxsIGJlIGlnbm9yZWQgYXMgbWVyZ2luZyBpcyBub3Qgc3VwcG9ydGVkIGZvciBCbG9iIGJvZGllcy4nLFxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IGN1cnJlbnRCb2R5T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIC8vIElmIGFkZGluZyBuZXcgdHlwZSB0byBIdHRwUmVxdWVzdC5ib2R5LCBwbGVhc2UgY2hlY2sgdGhlIGNvZGUgYmVsb3cgdG9cbiAgLy8gc2VlIGlmIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBsb2dpYy5cbiAgaWYgKHR5cGVvZiByZXF1ZXN0SW5pdC5ib2R5ID09PSAnc3RyaW5nJyAmJiByZXF1ZXN0SW5pdC5ib2R5Lmxlbmd0aCA+IDApIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGFyc2VkQm9keSA9IEpTT04ucGFyc2UocmVxdWVzdEluaXQuYm9keSk7XG4gICAgICBpZiAoXG4gICAgICAgIHR5cGVvZiBwYXJzZWRCb2R5ID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBwYXJzZWRCb2R5ICE9PSBudWxsICYmXG4gICAgICAgICFBcnJheS5pc0FycmF5KHBhcnNlZEJvZHkpXG4gICAgICApIHtcbiAgICAgICAgY3VycmVudEJvZHlPYmplY3QgPSBwYXJzZWRCb2R5IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICdpbmNsdWRlRXh0cmFCb2R5VG9SZXF1ZXN0SW5pdDogT3JpZ2luYWwgcmVxdWVzdCBib2R5IGlzIHZhbGlkIEpTT04gYnV0IG5vdCBhIG5vbi1hcnJheSBvYmplY3QuIFNraXAgYXBwbHlpbmcgZXh0cmFCb2R5IHRvIHRoZSByZXF1ZXN0IGJvZHkuJyxcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLyogIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMgKi9cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdpbmNsdWRlRXh0cmFCb2R5VG9SZXF1ZXN0SW5pdDogT3JpZ2luYWwgcmVxdWVzdCBib2R5IGlzIG5vdCB2YWxpZCBKU09OLiBTa2lwIGFwcGx5aW5nIGV4dHJhQm9keSB0byB0aGUgcmVxdWVzdCBib2R5LicsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZXBNZXJnZShcbiAgICB0YXJnZXQ6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgIHNvdXJjZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgICBjb25zdCBvdXRwdXQgPSB7Li4udGFyZ2V0fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZVZhbHVlID0gc291cmNlW2tleV07XG4gICAgICAgIGNvbnN0IHRhcmdldFZhbHVlID0gb3V0cHV0W2tleV07XG4gICAgICAgIGlmIChcbiAgICAgICAgICBzb3VyY2VWYWx1ZSAmJlxuICAgICAgICAgIHR5cGVvZiBzb3VyY2VWYWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAhQXJyYXkuaXNBcnJheShzb3VyY2VWYWx1ZSkgJiZcbiAgICAgICAgICB0YXJnZXRWYWx1ZSAmJlxuICAgICAgICAgIHR5cGVvZiB0YXJnZXRWYWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAhQXJyYXkuaXNBcnJheSh0YXJnZXRWYWx1ZSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgb3V0cHV0W2tleV0gPSBkZWVwTWVyZ2UoXG4gICAgICAgICAgICB0YXJnZXRWYWx1ZSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICAgICAgIHNvdXJjZVZhbHVlIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGFyZ2V0VmFsdWUgJiZcbiAgICAgICAgICAgIHNvdXJjZVZhbHVlICYmXG4gICAgICAgICAgICB0eXBlb2YgdGFyZ2V0VmFsdWUgIT09IHR5cGVvZiBzb3VyY2VWYWx1ZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICBgaW5jbHVkZUV4dHJhQm9keVRvUmVxdWVzdEluaXQ6ZGVlcE1lcmdlOiBUeXBlIG1pc21hdGNoIGZvciBrZXkgXCIke2tleX1cIi4gT3JpZ2luYWwgdHlwZTogJHt0eXBlb2YgdGFyZ2V0VmFsdWV9LCBOZXcgdHlwZTogJHt0eXBlb2Ygc291cmNlVmFsdWV9LiBPdmVyd3JpdGluZy5gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb3V0cHV0W2tleV0gPSBzb3VyY2VWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9XG5cbiAgY29uc3QgbWVyZ2VkQm9keSA9IGRlZXBNZXJnZShjdXJyZW50Qm9keU9iamVjdCwgZXh0cmFCb2R5KTtcbiAgcmVxdWVzdEluaXQuYm9keSA9IEpTT04uc3RyaW5naWZ5KG1lcmdlZEJvZHkpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHR5cGUge0NsaWVudCBhcyBNY3BDbGllbnR9IGZyb20gJ0Btb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvY2xpZW50L2luZGV4LmpzJztcbmltcG9ydCB0eXBlIHtUb29sIGFzIE1jcFRvb2x9IGZyb20gJ0Btb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvdHlwZXMuanMnO1xuXG5pbXBvcnQge0dPT0dMRV9BUElfQ0xJRU5UX0hFQURFUn0gZnJvbSAnLi4vX2FwaV9jbGllbnQuanMnO1xuaW1wb3J0IHttY3BUb29sc1RvR2VtaW5pVG9vbH0gZnJvbSAnLi4vX3RyYW5zZm9ybWVycy5qcyc7XG5pbXBvcnQge1xuICBDYWxsYWJsZVRvb2wsXG4gIENhbGxhYmxlVG9vbENvbmZpZyxcbiAgRnVuY3Rpb25DYWxsLFxuICBQYXJ0LFxuICBUb29sLFxuICBUb29sTGlzdFVuaW9uLFxufSBmcm9tICcuLi90eXBlcy5qcyc7XG5cbi8vIFRPRE86IGIvNDE2MDQxMjI5IC0gRGV0ZXJtaW5lIGhvdyB0byByZXRyaWV2ZSB0aGUgTUNQIHBhY2thZ2UgdmVyc2lvbi5cbmV4cG9ydCBjb25zdCBNQ1BfTEFCRUwgPSAnbWNwX3VzZWQvdW5rbm93bic7XG5cbi8vIFdoZXRoZXIgTUNQIHRvb2wgdXNhZ2UgaXMgZGV0ZWN0ZWQgZnJvbSBtY3BUb1Rvb2wuIFRoaXMgaXMgdXNlZCBmb3Jcbi8vIHRlbGVtZXRyeS5cbmxldCBoYXNNY3BUb29sVXNhZ2VGcm9tTWNwVG9Ub29sID0gZmFsc2U7XG5cbi8vIENoZWNrcyB3aGV0aGVyIHRoZSBsaXN0IG9mIHRvb2xzIGNvbnRhaW5zIGFueSBNQ1AgdG9vbHMuXG5leHBvcnQgZnVuY3Rpb24gaGFzTWNwVG9vbFVzYWdlKHRvb2xzOiBUb29sTGlzdFVuaW9uKTogYm9vbGVhbiB7XG4gIGZvciAoY29uc3QgdG9vbCBvZiB0b29scykge1xuICAgIGlmIChpc01jcENhbGxhYmxlVG9vbCh0b29sKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdG9vbCA9PT0gJ29iamVjdCcgJiYgJ2lucHV0U2NoZW1hJyBpbiB0b29sKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaGFzTWNwVG9vbFVzYWdlRnJvbU1jcFRvVG9vbDtcbn1cblxuLy8gU2V0cyB0aGUgTUNQIHZlcnNpb24gbGFiZWwgaW4gdGhlIEdvb2dsZSBBUEkgY2xpZW50IGhlYWRlci5cbmV4cG9ydCBmdW5jdGlvbiBzZXRNY3BVc2FnZUhlYWRlcihoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KSB7XG4gIGNvbnN0IGV4aXN0aW5nSGVhZGVyID0gaGVhZGVyc1tHT09HTEVfQVBJX0NMSUVOVF9IRUFERVJdID8/ICcnO1xuICBoZWFkZXJzW0dPT0dMRV9BUElfQ0xJRU5UX0hFQURFUl0gPSAoXG4gICAgZXhpc3RpbmdIZWFkZXIgKyBgICR7TUNQX0xBQkVMfWBcbiAgKS50cmltU3RhcnQoKTtcbn1cblxuLy8gUmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaXMgYSBNQ1AgQ2FsbGFibGVUb29sLCBvdGhlcndpc2UgZmFsc2UuXG5mdW5jdGlvbiBpc01jcENhbGxhYmxlVG9vbChvYmplY3Q6IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBvYmplY3QgIT09IG51bGwgJiZcbiAgICB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJlxuICAgIG9iamVjdCBpbnN0YW5jZW9mIE1jcENhbGxhYmxlVG9vbFxuICApO1xufVxuXG4vLyBMaXN0IGFsbCB0b29scyBmcm9tIHRoZSBNQ1AgY2xpZW50LlxuYXN5bmMgZnVuY3Rpb24qIGxpc3RBbGxUb29scyhcbiAgbWNwQ2xpZW50OiBNY3BDbGllbnQsXG4gIG1heFRvb2xzOiBudW1iZXIgPSAxMDAsXG4pOiBBc3luY0dlbmVyYXRvcjxNY3BUb29sPiB7XG4gIGxldCBjdXJzb3I6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgbGV0IG51bVRvb2xzID0gMDtcbiAgd2hpbGUgKG51bVRvb2xzIDwgbWF4VG9vbHMpIHtcbiAgICBjb25zdCB0ID0gYXdhaXQgbWNwQ2xpZW50Lmxpc3RUb29scyh7Y3Vyc29yfSk7XG4gICAgZm9yIChjb25zdCB0b29sIG9mIHQudG9vbHMpIHtcbiAgICAgIHlpZWxkIHRvb2w7XG4gICAgICBudW1Ub29scysrO1xuICAgIH1cbiAgICBpZiAoIXQubmV4dEN1cnNvcikge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGN1cnNvciA9IHQubmV4dEN1cnNvcjtcbiAgfVxufVxuXG4vKipcbiAqIE1jcENhbGxhYmxlVG9vbCBjYW4gYmUgdXNlZCBmb3IgbW9kZWwgaW5mZXJlbmNlIGFuZCBpbnZva2luZyBNQ1AgY2xpZW50cyB3aXRoXG4gKiBnaXZlbiBmdW5jdGlvbiBjYWxsIGFyZ3VtZW50cy5cbiAqXG4gKiBAZXhwZXJpbWVudGFsIEJ1aWx0LWluIE1DUCBzdXBwb3J0IGlzIGFuIGV4cGVyaW1lbnRhbCBmZWF0dXJlLCBtYXkgY2hhbmdlIGluIGZ1dHVyZVxuICogdmVyc2lvbnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBNY3BDYWxsYWJsZVRvb2wgaW1wbGVtZW50cyBDYWxsYWJsZVRvb2wge1xuICBwcml2YXRlIHJlYWRvbmx5IG1jcENsaWVudHM7XG4gIHByaXZhdGUgbWNwVG9vbHM6IE1jcFRvb2xbXSA9IFtdO1xuICBwcml2YXRlIGZ1bmN0aW9uTmFtZVRvTWNwQ2xpZW50OiBSZWNvcmQ8c3RyaW5nLCBNY3BDbGllbnQ+ID0ge307XG4gIHByaXZhdGUgcmVhZG9ubHkgY29uZmlnOiBDYWxsYWJsZVRvb2xDb25maWc7XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihcbiAgICBtY3BDbGllbnRzOiBNY3BDbGllbnRbXSA9IFtdLFxuICAgIGNvbmZpZzogQ2FsbGFibGVUb29sQ29uZmlnLFxuICApIHtcbiAgICB0aGlzLm1jcENsaWVudHMgPSBtY3BDbGllbnRzO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBNY3BDYWxsYWJsZVRvb2wuXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGNyZWF0ZShcbiAgICBtY3BDbGllbnRzOiBNY3BDbGllbnRbXSxcbiAgICBjb25maWc6IENhbGxhYmxlVG9vbENvbmZpZyxcbiAgKTogTWNwQ2FsbGFibGVUb29sIHtcbiAgICByZXR1cm4gbmV3IE1jcENhbGxhYmxlVG9vbChtY3BDbGllbnRzLCBjb25maWcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB0aGUgZnVuY3Rpb24gbmFtZXMgYXJlIG5vdCBkdXBsaWNhdGUgYW5kIGluaXRpYWxpemUgdGhlIGZ1bmN0aW9uXG4gICAqIG5hbWUgdG8gTUNQIGNsaWVudCBtYXBwaW5nLlxuICAgKlxuICAgKiBAdGhyb3dzIHtFcnJvcn0gaWYgdGhlIE1DUCB0b29scyBmcm9tIHRoZSBNQ1AgY2xpZW50cyBoYXZlIGR1cGxpY2F0ZSB0b29sXG4gICAqICAgICBuYW1lcy5cbiAgICovXG4gIGFzeW5jIGluaXRpYWxpemUoKSB7XG4gICAgaWYgKHRoaXMubWNwVG9vbHMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGZ1bmN0aW9uTWFwOiBSZWNvcmQ8c3RyaW5nLCBNY3BDbGllbnQ+ID0ge307XG4gICAgY29uc3QgbWNwVG9vbHM6IE1jcFRvb2xbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgbWNwQ2xpZW50IG9mIHRoaXMubWNwQ2xpZW50cykge1xuICAgICAgZm9yIGF3YWl0IChjb25zdCBtY3BUb29sIG9mIGxpc3RBbGxUb29scyhtY3BDbGllbnQpKSB7XG4gICAgICAgIG1jcFRvb2xzLnB1c2gobWNwVG9vbCk7XG4gICAgICAgIGNvbnN0IG1jcFRvb2xOYW1lID0gbWNwVG9vbC5uYW1lIGFzIHN0cmluZztcbiAgICAgICAgaWYgKGZ1bmN0aW9uTWFwW21jcFRvb2xOYW1lXSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBEdXBsaWNhdGUgZnVuY3Rpb24gbmFtZSAke1xuICAgICAgICAgICAgICBtY3BUb29sTmFtZVxuICAgICAgICAgICAgfSBmb3VuZCBpbiBNQ1AgdG9vbHMuIFBsZWFzZSBlbnN1cmUgZnVuY3Rpb24gbmFtZXMgYXJlIHVuaXF1ZS5gLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb25NYXBbbWNwVG9vbE5hbWVdID0gbWNwQ2xpZW50O1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLm1jcFRvb2xzID0gbWNwVG9vbHM7XG4gICAgdGhpcy5mdW5jdGlvbk5hbWVUb01jcENsaWVudCA9IGZ1bmN0aW9uTWFwO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHRvb2woKTogUHJvbWlzZTxUb29sPiB7XG4gICAgYXdhaXQgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgcmV0dXJuIG1jcFRvb2xzVG9HZW1pbmlUb29sKHRoaXMubWNwVG9vbHMsIHRoaXMuY29uZmlnKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBjYWxsVG9vbChmdW5jdGlvbkNhbGxzOiBGdW5jdGlvbkNhbGxbXSk6IFByb21pc2U8UGFydFtdPiB7XG4gICAgYXdhaXQgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgY29uc3QgZnVuY3Rpb25DYWxsUmVzcG9uc2VQYXJ0czogUGFydFtdID0gW107XG4gICAgZm9yIChjb25zdCBmdW5jdGlvbkNhbGwgb2YgZnVuY3Rpb25DYWxscykge1xuICAgICAgaWYgKGZ1bmN0aW9uQ2FsbC5uYW1lISBpbiB0aGlzLmZ1bmN0aW9uTmFtZVRvTWNwQ2xpZW50KSB7XG4gICAgICAgIGNvbnN0IG1jcENsaWVudCA9IHRoaXMuZnVuY3Rpb25OYW1lVG9NY3BDbGllbnRbZnVuY3Rpb25DYWxsLm5hbWUhXTtcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyBUT0RPOiBiLzQyNDIzODY1NCAtIEFkZCBzdXBwb3J0IGZvciBmaW5lciBncmFpbmVkIHRpbWVvdXQgY29udHJvbC5cbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLnRpbWVvdXQpIHtcbiAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHRpbWVvdXQ6IHRoaXMuY29uZmlnLnRpbWVvdXQsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYWxsVG9vbFJlc3BvbnNlID0gYXdhaXQgbWNwQ2xpZW50LmNhbGxUb29sKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IGZ1bmN0aW9uQ2FsbC5uYW1lISxcbiAgICAgICAgICAgIGFyZ3VtZW50czogZnVuY3Rpb25DYWxsLmFyZ3MsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBTZXQgdGhlIHJlc3VsdCBzY2hlbWEgdG8gdW5kZWZpbmVkIHRvIGFsbG93IE1DUCB0byByZWx5IG9uIHRoZVxuICAgICAgICAgIC8vIGRlZmF1bHQgc2NoZW1hLlxuICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICByZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgKTtcbiAgICAgICAgZnVuY3Rpb25DYWxsUmVzcG9uc2VQYXJ0cy5wdXNoKHtcbiAgICAgICAgICBmdW5jdGlvblJlc3BvbnNlOiB7XG4gICAgICAgICAgICBuYW1lOiBmdW5jdGlvbkNhbGwubmFtZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiBjYWxsVG9vbFJlc3BvbnNlLmlzRXJyb3JcbiAgICAgICAgICAgICAgPyB7ZXJyb3I6IGNhbGxUb29sUmVzcG9uc2V9XG4gICAgICAgICAgICAgIDogKGNhbGxUb29sUmVzcG9uc2UgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb25DYWxsUmVzcG9uc2VQYXJ0cztcbiAgfVxufVxuXG5mdW5jdGlvbiBpc01jcENsaWVudChjbGllbnQ6IHVua25vd24pOiBjbGllbnQgaXMgTWNwQ2xpZW50IHtcbiAgcmV0dXJuIChcbiAgICBjbGllbnQgIT09IG51bGwgJiZcbiAgICB0eXBlb2YgY2xpZW50ID09PSAnb2JqZWN0JyAmJlxuICAgICdsaXN0VG9vbHMnIGluIGNsaWVudCAmJlxuICAgIHR5cGVvZiBjbGllbnQubGlzdFRvb2xzID09PSAnZnVuY3Rpb24nXG4gICk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIE1jcENhbGxhYmxlVG9vbCBmcm9tIE1DUCBjbGllbnRzIGFuZCBhbiBvcHRpb25hbCBjb25maWcuXG4gKlxuICogVGhlIGNhbGxhYmxlIHRvb2wgY2FuIGludm9rZSB0aGUgTUNQIGNsaWVudHMgd2l0aCBnaXZlbiBmdW5jdGlvbiBjYWxsXG4gKiBhcmd1bWVudHMuIChvZnRlbiBmb3IgYXV0b21hdGljIGZ1bmN0aW9uIGNhbGxpbmcpLlxuICogVXNlIHRoZSBjb25maWcgdG8gbW9kaWZ5IHRvb2wgcGFyYW1ldGVycyBzdWNoIGFzIGJlaGF2aW9yLlxuICpcbiAqIEBleHBlcmltZW50YWwgQnVpbHQtaW4gTUNQIHN1cHBvcnQgaXMgYW4gZXhwZXJpbWVudGFsIGZlYXR1cmUsIG1heSBjaGFuZ2UgaW4gZnV0dXJlXG4gKiB2ZXJzaW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1jcFRvVG9vbChcbiAgLi4uYXJnczogWy4uLk1jcENsaWVudFtdLCBDYWxsYWJsZVRvb2xDb25maWcgfCBNY3BDbGllbnRdXG4pOiBDYWxsYWJsZVRvb2wge1xuICAvLyBTZXQgTUNQIHVzYWdlIGZvciB0ZWxlbWV0cnkuXG4gIGhhc01jcFRvb2xVc2FnZUZyb21NY3BUb1Rvb2wgPSB0cnVlO1xuICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIE1DUCBjbGllbnRzIHByb3ZpZGVkJyk7XG4gIH1cbiAgY29uc3QgbWF5YmVDb25maWcgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gIGlmIChpc01jcENsaWVudChtYXliZUNvbmZpZykpIHtcbiAgICByZXR1cm4gTWNwQ2FsbGFibGVUb29sLmNyZWF0ZShhcmdzIGFzIE1jcENsaWVudFtdLCB7fSk7XG4gIH1cbiAgcmV0dXJuIE1jcENhbGxhYmxlVG9vbC5jcmVhdGUoXG4gICAgYXJncy5zbGljZSgwLCBhcmdzLmxlbmd0aCAtIDEpIGFzIE1jcENsaWVudFtdLFxuICAgIG1heWJlQ29uZmlnLFxuICApO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIE1DUCB0b29sIHVzYWdlIGZsYWcgZnJvbSBjYWxsaW5nIG1jcFRvVG9vbC4gVGhpcyBpcyB1c2VkIGZvclxuICogdGVsZW1ldHJ5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0TWNwVG9vbFVzYWdlRnJvbU1jcFRvVG9vbChtY3BUb29sVXNhZ2U6IGJvb2xlYW4pIHtcbiAgaGFzTWNwVG9vbFVzYWdlRnJvbU1jcFRvVG9vbCA9IG1jcFRvb2xVc2FnZTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKlxuICogTGl2ZSBtdXNpYyBjbGllbnQuXG4gKlxuICogQGV4cGVyaW1lbnRhbFxuICovXG5cbmltcG9ydCB7QXBpQ2xpZW50fSBmcm9tICcuL19hcGlfY2xpZW50LmpzJztcbmltcG9ydCB7QXV0aH0gZnJvbSAnLi9fYXV0aC5qcyc7XG5pbXBvcnQgKiBhcyB0IGZyb20gJy4vX3RyYW5zZm9ybWVycy5qcyc7XG5pbXBvcnQge1dlYlNvY2tldCwgV2ViU29ja2V0Q2FsbGJhY2tzLCBXZWJTb2NrZXRGYWN0b3J5fSBmcm9tICcuL193ZWJzb2NrZXQuanMnO1xuaW1wb3J0ICogYXMgY29udmVydGVycyBmcm9tICcuL2NvbnZlcnRlcnMvX2xpdmVfY29udmVydGVycy5qcyc7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuL3R5cGVzLmpzJztcblxuLyoqXG4gKiBIYW5kbGVzIGluY29taW5nIG1lc3NhZ2VzIGZyb20gdGhlIFdlYlNvY2tldC5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhpcyBmdW5jdGlvbiBpcyByZXNwb25zaWJsZSBmb3IgcGFyc2luZyBpbmNvbWluZyBtZXNzYWdlcywgdHJhbnNmb3JtaW5nIHRoZW1cbiAqIGludG8gTGl2ZU11c2ljU2VydmVyTWVzc2FnZSwgYW5kIHRoZW4gY2FsbGluZyB0aGUgb25tZXNzYWdlIGNhbGxiYWNrLlxuICogTm90ZSB0aGF0IHRoZSBmaXJzdCBtZXNzYWdlIHdoaWNoIGlzIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlciBpcyBhXG4gKiBzZXR1cENvbXBsZXRlIG1lc3NhZ2UuXG4gKlxuICogQHBhcmFtIGFwaUNsaWVudCBUaGUgQXBpQ2xpZW50IGluc3RhbmNlLlxuICogQHBhcmFtIG9ubWVzc2FnZSBUaGUgdXNlci1wcm92aWRlZCBvbm1lc3NhZ2UgY2FsbGJhY2sgKGlmIGFueSkuXG4gKiBAcGFyYW0gZXZlbnQgVGhlIE1lc3NhZ2VFdmVudCBmcm9tIHRoZSBXZWJTb2NrZXQuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZVdlYlNvY2tldE1lc3NhZ2UoXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICBvbm1lc3NhZ2U6IChtc2c6IHR5cGVzLkxpdmVNdXNpY1NlcnZlck1lc3NhZ2UpID0+IHZvaWQsXG4gIGV2ZW50OiBNZXNzYWdlRXZlbnQsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3Qgc2VydmVyTWVzc2FnZTogdHlwZXMuTGl2ZU11c2ljU2VydmVyTWVzc2FnZSA9XG4gICAgbmV3IHR5cGVzLkxpdmVNdXNpY1NlcnZlck1lc3NhZ2UoKTtcbiAgbGV0IGRhdGE6IHR5cGVzLkxpdmVNdXNpY1NlcnZlck1lc3NhZ2U7XG4gIGlmIChldmVudC5kYXRhIGluc3RhbmNlb2YgQmxvYikge1xuICAgIGRhdGEgPSBKU09OLnBhcnNlKGF3YWl0IGV2ZW50LmRhdGEudGV4dCgpKSBhcyB0eXBlcy5MaXZlTXVzaWNTZXJ2ZXJNZXNzYWdlO1xuICB9IGVsc2Uge1xuICAgIGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpIGFzIHR5cGVzLkxpdmVNdXNpY1NlcnZlck1lc3NhZ2U7XG4gIH1cbiAgT2JqZWN0LmFzc2lnbihzZXJ2ZXJNZXNzYWdlLCBkYXRhKTtcbiAgb25tZXNzYWdlKHNlcnZlck1lc3NhZ2UpO1xufVxuXG4vKipcbiAgIExpdmVNdXNpYyBjbGFzcyBlbmNhcHN1bGF0ZXMgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIGxpdmUgbXVzaWNcbiAgIGdlbmVyYXRpb24gdmlhIEx5cmlhIExpdmUgbW9kZWxzLlxuXG4gICBAZXhwZXJpbWVudGFsXG4gICovXG5leHBvcnQgY2xhc3MgTGl2ZU11c2ljIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZWFkb25seSBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGF1dGg6IEF1dGgsXG4gICAgcHJpdmF0ZSByZWFkb25seSB3ZWJTb2NrZXRGYWN0b3J5OiBXZWJTb2NrZXRGYWN0b3J5LFxuICApIHt9XG5cbiAgLyoqXG4gICAgIEVzdGFibGlzaGVzIGEgY29ubmVjdGlvbiB0byB0aGUgc3BlY2lmaWVkIG1vZGVsIGFuZCByZXR1cm5zIGFcbiAgICAgTGl2ZU11c2ljU2Vzc2lvbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoYXQgY29ubmVjdGlvbi5cblxuICAgICBAZXhwZXJpbWVudGFsXG5cbiAgICAgQHJlbWFya3NcblxuICAgICBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIGVzdGFibGlzaGluZyBhIGNvbm5lY3Rpb24gdG8gdGhlIG1vZGVsLlxuICAgICBAcmV0dXJuIEEgbGl2ZSBzZXNzaW9uLlxuXG4gICAgIEBleGFtcGxlXG4gICAgIGBgYHRzXG4gICAgIGxldCBtb2RlbCA9ICdtb2RlbHMvbHlyaWEtcmVhbHRpbWUtZXhwJztcbiAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGFpLmxpdmUubXVzaWMuY29ubmVjdCh7XG4gICAgICAgbW9kZWw6IG1vZGVsLFxuICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgb25tZXNzYWdlOiAoZTogTWVzc2FnZUV2ZW50KSA9PiB7XG4gICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWNlaXZlZCBtZXNzYWdlIGZyb20gdGhlIHNlcnZlcjogJXNcXG4nLCBkZWJ1ZyhlLmRhdGEpKTtcbiAgICAgICAgIH0sXG4gICAgICAgICBvbmVycm9yOiAoZTogRXJyb3JFdmVudCkgPT4ge1xuICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3Igb2NjdXJyZWQ6ICVzXFxuJywgZGVidWcoZS5lcnJvcikpO1xuICAgICAgICAgfSxcbiAgICAgICAgIG9uY2xvc2U6IChlOiBDbG9zZUV2ZW50KSA9PiB7XG4gICAgICAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0aW9uIGNsb3NlZC4nKTtcbiAgICAgICAgIH0sXG4gICAgICAgfSxcbiAgICAgfSk7XG4gICAgIGBgYFxuICAgICovXG4gIGFzeW5jIGNvbm5lY3QoXG4gICAgcGFyYW1zOiB0eXBlcy5MaXZlTXVzaWNDb25uZWN0UGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTxMaXZlTXVzaWNTZXNzaW9uPiB7XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdMaXZlIG11c2ljIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIFZlcnRleCBBSS4nKTtcbiAgICB9XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgJ0xpdmUgbXVzaWMgZ2VuZXJhdGlvbiBpcyBleHBlcmltZW50YWwgYW5kIG1heSBjaGFuZ2UgaW4gZnV0dXJlIHZlcnNpb25zLicsXG4gICAgKTtcblxuICAgIGNvbnN0IHdlYnNvY2tldEJhc2VVcmwgPSB0aGlzLmFwaUNsaWVudC5nZXRXZWJzb2NrZXRCYXNlVXJsKCk7XG4gICAgY29uc3QgYXBpVmVyc2lvbiA9IHRoaXMuYXBpQ2xpZW50LmdldEFwaVZlcnNpb24oKTtcbiAgICBjb25zdCBoZWFkZXJzID0gbWFwVG9IZWFkZXJzKHRoaXMuYXBpQ2xpZW50LmdldERlZmF1bHRIZWFkZXJzKCkpO1xuICAgIGNvbnN0IGFwaUtleSA9IHRoaXMuYXBpQ2xpZW50LmdldEFwaUtleSgpO1xuICAgIGNvbnN0IHVybCA9IGAke3dlYnNvY2tldEJhc2VVcmx9L3dzL2dvb2dsZS5haS5nZW5lcmF0aXZlbGFuZ3VhZ2UuJHtcbiAgICAgIGFwaVZlcnNpb25cbiAgICB9LkdlbmVyYXRpdmVTZXJ2aWNlLkJpZGlHZW5lcmF0ZU11c2ljP2tleT0ke2FwaUtleX1gO1xuXG4gICAgbGV0IG9ub3BlblJlc29sdmU6ICh2YWx1ZTogdW5rbm93bikgPT4gdm9pZCA9ICgpID0+IHt9O1xuICAgIGNvbnN0IG9ub3BlblByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZTogKHZhbHVlOiB1bmtub3duKSA9PiB2b2lkKSA9PiB7XG4gICAgICBvbm9wZW5SZXNvbHZlID0gcmVzb2x2ZTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGNhbGxiYWNrczogdHlwZXMuTGl2ZU11c2ljQ2FsbGJhY2tzID0gcGFyYW1zLmNhbGxiYWNrcztcblxuICAgIGNvbnN0IG9ub3BlbkF3YWl0ZWRDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIG9ub3BlblJlc29sdmUoe30pO1xuICAgIH07XG5cbiAgICBjb25zdCBhcGlDbGllbnQgPSB0aGlzLmFwaUNsaWVudDtcbiAgICBjb25zdCB3ZWJzb2NrZXRDYWxsYmFja3M6IFdlYlNvY2tldENhbGxiYWNrcyA9IHtcbiAgICAgIG9ub3Blbjogb25vcGVuQXdhaXRlZENhbGxiYWNrLFxuICAgICAgb25tZXNzYWdlOiAoZXZlbnQ6IE1lc3NhZ2VFdmVudCkgPT4ge1xuICAgICAgICB2b2lkIGhhbmRsZVdlYlNvY2tldE1lc3NhZ2UoYXBpQ2xpZW50LCBjYWxsYmFja3Mub25tZXNzYWdlLCBldmVudCk7XG4gICAgICB9LFxuICAgICAgb25lcnJvcjpcbiAgICAgICAgY2FsbGJhY2tzPy5vbmVycm9yID8/XG4gICAgICAgIGZ1bmN0aW9uIChlOiBFcnJvckV2ZW50KSB7XG4gICAgICAgICAgdm9pZCBlO1xuICAgICAgICB9LFxuICAgICAgb25jbG9zZTpcbiAgICAgICAgY2FsbGJhY2tzPy5vbmNsb3NlID8/XG4gICAgICAgIGZ1bmN0aW9uIChlOiBDbG9zZUV2ZW50KSB7XG4gICAgICAgICAgdm9pZCBlO1xuICAgICAgICB9LFxuICAgIH07XG5cbiAgICBjb25zdCBjb25uID0gdGhpcy53ZWJTb2NrZXRGYWN0b3J5LmNyZWF0ZShcbiAgICAgIHVybCxcbiAgICAgIGhlYWRlcnNUb01hcChoZWFkZXJzKSxcbiAgICAgIHdlYnNvY2tldENhbGxiYWNrcyxcbiAgICApO1xuICAgIGNvbm4uY29ubmVjdCgpO1xuICAgIC8vIFdhaXQgZm9yIHRoZSB3ZWJzb2NrZXQgdG8gb3BlbiBiZWZvcmUgc2VuZGluZyByZXF1ZXN0cy5cbiAgICBhd2FpdCBvbm9wZW5Qcm9taXNlO1xuXG4gICAgY29uc3QgbW9kZWwgPSB0LnRNb2RlbCh0aGlzLmFwaUNsaWVudCwgcGFyYW1zLm1vZGVsKTtcbiAgICBjb25zdCBzZXR1cCA9IHttb2RlbH07XG4gICAgY29uc3QgY2xpZW50TWVzc2FnZSA9IHtzZXR1cH07XG4gICAgY29ubi5zZW5kKEpTT04uc3RyaW5naWZ5KGNsaWVudE1lc3NhZ2UpKTtcblxuICAgIHJldHVybiBuZXcgTGl2ZU11c2ljU2Vzc2lvbihjb25uLCB0aGlzLmFwaUNsaWVudCk7XG4gIH1cbn1cblxuLyoqXG4gICBSZXByZXNlbnRzIGEgY29ubmVjdGlvbiB0byB0aGUgQVBJLlxuXG4gICBAZXhwZXJpbWVudGFsXG4gICovXG5leHBvcnQgY2xhc3MgTGl2ZU11c2ljU2Vzc2lvbiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHJlYWRvbmx5IGNvbm46IFdlYlNvY2tldCxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICApIHt9XG5cbiAgLyoqXG4gICAgU2V0cyBpbnB1dHMgdG8gc3RlZXIgbXVzaWMgZ2VuZXJhdGlvbi4gVXBkYXRlcyB0aGUgc2Vzc2lvbidzIGN1cnJlbnRcbiAgICB3ZWlnaHRlZCBwcm9tcHRzLlxuXG4gICAgQHBhcmFtIHBhcmFtcyAtIENvbnRhaW5zIG9uZSBwcm9wZXJ0eSwgYHdlaWdodGVkUHJvbXB0c2AuXG5cbiAgICAgIC0gYHdlaWdodGVkUHJvbXB0c2AgdG8gc2VuZCB0byB0aGUgbW9kZWw7IHdlaWdodHMgYXJlIG5vcm1hbGl6ZWQgdG9cbiAgICAgICAgc3VtIHRvIDEuMC5cblxuICAgIEBleHBlcmltZW50YWxcbiAgICovXG4gIGFzeW5jIHNldFdlaWdodGVkUHJvbXB0cyhcbiAgICBwYXJhbXM6IHR5cGVzLkxpdmVNdXNpY1NldFdlaWdodGVkUHJvbXB0c1BhcmFtZXRlcnMsXG4gICkge1xuICAgIGlmIChcbiAgICAgICFwYXJhbXMud2VpZ2h0ZWRQcm9tcHRzIHx8XG4gICAgICBPYmplY3Qua2V5cyhwYXJhbXMud2VpZ2h0ZWRQcm9tcHRzKS5sZW5ndGggPT09IDBcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1dlaWdodGVkIHByb21wdHMgbXVzdCBiZSBzZXQgYW5kIGNvbnRhaW4gYXQgbGVhc3Qgb25lIGVudHJ5LicsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBjbGllbnRDb250ZW50ID1cbiAgICAgIGNvbnZlcnRlcnMubGl2ZU11c2ljU2V0V2VpZ2h0ZWRQcm9tcHRzUGFyYW1ldGVyc1RvTWxkZXYocGFyYW1zKTtcbiAgICB0aGlzLmNvbm4uc2VuZChKU09OLnN0cmluZ2lmeSh7Y2xpZW50Q29udGVudH0pKTtcbiAgfVxuXG4gIC8qKlxuICAgIFNldHMgYSBjb25maWd1cmF0aW9uIHRvIHRoZSBtb2RlbC4gVXBkYXRlcyB0aGUgc2Vzc2lvbidzIGN1cnJlbnRcbiAgICBtdXNpYyBnZW5lcmF0aW9uIGNvbmZpZy5cblxuICAgIEBwYXJhbSBwYXJhbXMgLSBDb250YWlucyBvbmUgcHJvcGVydHksIGBtdXNpY0dlbmVyYXRpb25Db25maWdgLlxuXG4gICAgICAtIGBtdXNpY0dlbmVyYXRpb25Db25maWdgIHRvIHNldCBpbiB0aGUgbW9kZWwuIFBhc3NpbmcgYW4gZW1wdHkgb3JcbiAgICB1bmRlZmluZWQgY29uZmlnIHRvIHRoZSBtb2RlbCB3aWxsIHJlc2V0IHRoZSBjb25maWcgdG8gZGVmYXVsdHMuXG5cbiAgICBAZXhwZXJpbWVudGFsXG4gICAqL1xuICBhc3luYyBzZXRNdXNpY0dlbmVyYXRpb25Db25maWcocGFyYW1zOiB0eXBlcy5MaXZlTXVzaWNTZXRDb25maWdQYXJhbWV0ZXJzKSB7XG4gICAgaWYgKCFwYXJhbXMubXVzaWNHZW5lcmF0aW9uQ29uZmlnKSB7XG4gICAgICBwYXJhbXMubXVzaWNHZW5lcmF0aW9uQ29uZmlnID0ge307XG4gICAgfVxuICAgIGNvbnN0IHNldENvbmZpZ1BhcmFtZXRlcnMgPVxuICAgICAgY29udmVydGVycy5saXZlTXVzaWNTZXRDb25maWdQYXJhbWV0ZXJzVG9NbGRldihwYXJhbXMpO1xuICAgIHRoaXMuY29ubi5zZW5kKEpTT04uc3RyaW5naWZ5KHNldENvbmZpZ1BhcmFtZXRlcnMpKTtcbiAgfVxuXG4gIHByaXZhdGUgc2VuZFBsYXliYWNrQ29udHJvbChwbGF5YmFja0NvbnRyb2w6IHR5cGVzLkxpdmVNdXNpY1BsYXliYWNrQ29udHJvbCkge1xuICAgIGNvbnN0IGNsaWVudE1lc3NhZ2UgPSB7cGxheWJhY2tDb250cm9sfTtcbiAgICB0aGlzLmNvbm4uc2VuZChKU09OLnN0cmluZ2lmeShjbGllbnRNZXNzYWdlKSk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgdGhlIG11c2ljIHN0cmVhbS5cbiAgICpcbiAgICogQGV4cGVyaW1lbnRhbFxuICAgKi9cbiAgcGxheSgpIHtcbiAgICB0aGlzLnNlbmRQbGF5YmFja0NvbnRyb2wodHlwZXMuTGl2ZU11c2ljUGxheWJhY2tDb250cm9sLlBMQVkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlbXBvcmFyaWx5IGhhbHQgdGhlIG11c2ljIHN0cmVhbS4gVXNlIGBwbGF5YCB0byByZXN1bWUgZnJvbSB0aGUgY3VycmVudFxuICAgKiBwb3NpdGlvbi5cbiAgICpcbiAgICogQGV4cGVyaW1lbnRhbFxuICAgKi9cbiAgcGF1c2UoKSB7XG4gICAgdGhpcy5zZW5kUGxheWJhY2tDb250cm9sKHR5cGVzLkxpdmVNdXNpY1BsYXliYWNrQ29udHJvbC5QQVVTRSk7XG4gIH1cblxuICAvKipcbiAgICogU3RvcCB0aGUgbXVzaWMgc3RyZWFtIGFuZCByZXNldCB0aGUgc3RhdGUuIFJldGFpbnMgdGhlIGN1cnJlbnQgcHJvbXB0c1xuICAgKiBhbmQgY29uZmlnLlxuICAgKlxuICAgKiBAZXhwZXJpbWVudGFsXG4gICAqL1xuICBzdG9wKCkge1xuICAgIHRoaXMuc2VuZFBsYXliYWNrQ29udHJvbCh0eXBlcy5MaXZlTXVzaWNQbGF5YmFja0NvbnRyb2wuU1RPUCk7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXRzIHRoZSBjb250ZXh0IG9mIHRoZSBtdXNpYyBnZW5lcmF0aW9uIHdpdGhvdXQgc3RvcHBpbmcgaXQuXG4gICAqIFJldGFpbnMgdGhlIGN1cnJlbnQgcHJvbXB0cyBhbmQgY29uZmlnLlxuICAgKlxuICAgKiBAZXhwZXJpbWVudGFsXG4gICAqL1xuICByZXNldENvbnRleHQoKSB7XG4gICAgdGhpcy5zZW5kUGxheWJhY2tDb250cm9sKHR5cGVzLkxpdmVNdXNpY1BsYXliYWNrQ29udHJvbC5SRVNFVF9DT05URVhUKTtcbiAgfVxuXG4gIC8qKlxuICAgICBUZXJtaW5hdGVzIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvbi5cblxuICAgICBAZXhwZXJpbWVudGFsXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICB0aGlzLmNvbm4uY2xvc2UoKTtcbiAgfVxufVxuXG4vLyBDb252ZXJ0cyBhbiBoZWFkZXJzIG9iamVjdCB0byBhIFwibWFwXCIgb2JqZWN0IGFzIGV4cGVjdGVkIGJ5IHRoZSBXZWJTb2NrZXRcbi8vIGNvbnN0cnVjdG9yLiBXZSB1c2UgdGhpcyBhcyB0aGUgQXV0aCBpbnRlcmZhY2Ugd29ya3Mgd2l0aCBIZWFkZXJzIG9iamVjdHNcbi8vIHdoaWxlIHRoZSBXZWJTb2NrZXQgY29uc3RydWN0b3IgdGFrZXMgYSBtYXAuXG5mdW5jdGlvbiBoZWFkZXJzVG9NYXAoaGVhZGVyczogSGVhZGVycyk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xuICBjb25zdCBoZWFkZXJNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgaGVhZGVycy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgaGVhZGVyTWFwW2tleV0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiBoZWFkZXJNYXA7XG59XG5cbi8vIENvbnZlcnRzIGEgXCJtYXBcIiBvYmplY3QgdG8gYSBoZWFkZXJzIG9iamVjdC4gV2UgdXNlIHRoaXMgYXMgdGhlIEF1dGhcbi8vIGludGVyZmFjZSB3b3JrcyB3aXRoIEhlYWRlcnMgb2JqZWN0cyB3aGlsZSB0aGUgQVBJIGNsaWVudCBkZWZhdWx0IGhlYWRlcnNcbi8vIHJldHVybnMgYSBtYXAuXG5mdW5jdGlvbiBtYXBUb0hlYWRlcnMobWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KTogSGVhZGVycyB7XG4gIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhtYXApKSB7XG4gICAgaGVhZGVycy5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGhlYWRlcnM7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vKipcbiAqIExpdmUgY2xpZW50LlxuICpcbiAqIEBleHBlcmltZW50YWxcbiAqL1xuXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi9fYXBpX2NsaWVudC5qcyc7XG5pbXBvcnQge0F1dGh9IGZyb20gJy4vX2F1dGguanMnO1xuaW1wb3J0ICogYXMgdCBmcm9tICcuL190cmFuc2Zvcm1lcnMuanMnO1xuaW1wb3J0IHtXZWJTb2NrZXQsIFdlYlNvY2tldENhbGxiYWNrcywgV2ViU29ja2V0RmFjdG9yeX0gZnJvbSAnLi9fd2Vic29ja2V0LmpzJztcbmltcG9ydCAqIGFzIGNvbnZlcnRlcnMgZnJvbSAnLi9jb252ZXJ0ZXJzL19saXZlX2NvbnZlcnRlcnMuanMnO1xuaW1wb3J0IHtjb250ZW50VG9NbGRldn0gZnJvbSAnLi9jb252ZXJ0ZXJzL19tb2RlbHNfY29udmVydGVycy5qcyc7XG5pbXBvcnQge2hhc01jcFRvb2xVc2FnZSwgc2V0TWNwVXNhZ2VIZWFkZXJ9IGZyb20gJy4vbWNwL19tY3AuanMnO1xuaW1wb3J0IHtMaXZlTXVzaWN9IGZyb20gJy4vbXVzaWMuanMnO1xuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi90eXBlcy5qcyc7XG5cbmNvbnN0IEZVTkNUSU9OX1JFU1BPTlNFX1JFUVVJUkVTX0lEID1cbiAgJ0Z1bmN0aW9uUmVzcG9uc2UgcmVxdWVzdCBtdXN0IGhhdmUgYW4gYGlkYCBmaWVsZCBmcm9tIHRoZSByZXNwb25zZSBvZiBhIFRvb2xDYWxsLkZ1bmN0aW9uYWxDYWxscyBpbiBHb29nbGUgQUkuJztcblxuLyoqXG4gKiBIYW5kbGVzIGluY29taW5nIG1lc3NhZ2VzIGZyb20gdGhlIFdlYlNvY2tldC5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhpcyBmdW5jdGlvbiBpcyByZXNwb25zaWJsZSBmb3IgcGFyc2luZyBpbmNvbWluZyBtZXNzYWdlcywgdHJhbnNmb3JtaW5nIHRoZW1cbiAqIGludG8gTGl2ZVNlcnZlck1lc3NhZ2VzLCBhbmQgdGhlbiBjYWxsaW5nIHRoZSBvbm1lc3NhZ2UgY2FsbGJhY2suIE5vdGUgdGhhdFxuICogdGhlIGZpcnN0IG1lc3NhZ2Ugd2hpY2ggaXMgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyIGlzIGEgc2V0dXBDb21wbGV0ZVxuICogbWVzc2FnZS5cbiAqXG4gKiBAcGFyYW0gYXBpQ2xpZW50IFRoZSBBcGlDbGllbnQgaW5zdGFuY2UuXG4gKiBAcGFyYW0gb25tZXNzYWdlIFRoZSB1c2VyLXByb3ZpZGVkIG9ubWVzc2FnZSBjYWxsYmFjayAoaWYgYW55KS5cbiAqIEBwYXJhbSBldmVudCBUaGUgTWVzc2FnZUV2ZW50IGZyb20gdGhlIFdlYlNvY2tldC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gaGFuZGxlV2ViU29ja2V0TWVzc2FnZShcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gIG9ubWVzc2FnZTogKG1zZzogdHlwZXMuTGl2ZVNlcnZlck1lc3NhZ2UpID0+IHZvaWQsXG4gIGV2ZW50OiBNZXNzYWdlRXZlbnQsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3Qgc2VydmVyTWVzc2FnZTogdHlwZXMuTGl2ZVNlcnZlck1lc3NhZ2UgPSBuZXcgdHlwZXMuTGl2ZVNlcnZlck1lc3NhZ2UoKTtcbiAgbGV0IGpzb25EYXRhOiBzdHJpbmc7XG4gIGlmIChldmVudC5kYXRhIGluc3RhbmNlb2YgQmxvYikge1xuICAgIGpzb25EYXRhID0gYXdhaXQgZXZlbnQuZGF0YS50ZXh0KCk7XG4gIH0gZWxzZSBpZiAoZXZlbnQuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAganNvbkRhdGEgPSBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoZXZlbnQuZGF0YSk7XG4gIH0gZWxzZSB7XG4gICAganNvbkRhdGEgPSBldmVudC5kYXRhO1xuICB9XG5cbiAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoanNvbkRhdGEpIGFzIHR5cGVzLkxpdmVTZXJ2ZXJNZXNzYWdlO1xuXG4gIGlmIChhcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMubGl2ZVNlcnZlck1lc3NhZ2VGcm9tVmVydGV4KGRhdGEpO1xuICAgIE9iamVjdC5hc3NpZ24oc2VydmVyTWVzc2FnZSwgcmVzcCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcmVzcCA9IGRhdGE7XG4gICAgT2JqZWN0LmFzc2lnbihzZXJ2ZXJNZXNzYWdlLCByZXNwKTtcbiAgfVxuXG4gIG9ubWVzc2FnZShzZXJ2ZXJNZXNzYWdlKTtcbn1cblxuLyoqXG4gICBMaXZlIGNsYXNzIGVuY2Fwc3VsYXRlcyB0aGUgY29uZmlndXJhdGlvbiBmb3IgbGl2ZSBpbnRlcmFjdGlvbiB3aXRoIHRoZVxuICAgR2VuZXJhdGl2ZSBMYW5ndWFnZSBBUEkuIEl0IGVtYmVkcyBBcGlDbGllbnQgZm9yIGdlbmVyYWwgQVBJIHNldHRpbmdzLlxuXG4gICBAZXhwZXJpbWVudGFsXG4gICovXG5leHBvcnQgY2xhc3MgTGl2ZSB7XG4gIHB1YmxpYyByZWFkb25seSBtdXNpYzogTGl2ZU11c2ljO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gICAgcHJpdmF0ZSByZWFkb25seSBhdXRoOiBBdXRoLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgd2ViU29ja2V0RmFjdG9yeTogV2ViU29ja2V0RmFjdG9yeSxcbiAgKSB7XG4gICAgdGhpcy5tdXNpYyA9IG5ldyBMaXZlTXVzaWMoXG4gICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgIHRoaXMuYXV0aCxcbiAgICAgIHRoaXMud2ViU29ja2V0RmFjdG9yeSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAgIEVzdGFibGlzaGVzIGEgY29ubmVjdGlvbiB0byB0aGUgc3BlY2lmaWVkIG1vZGVsIHdpdGggdGhlIGdpdmVuXG4gICAgIGNvbmZpZ3VyYXRpb24gYW5kIHJldHVybnMgYSBTZXNzaW9uIG9iamVjdCByZXByZXNlbnRpbmcgdGhhdCBjb25uZWN0aW9uLlxuXG4gICAgIEBleHBlcmltZW50YWwgQnVpbHQtaW4gTUNQIHN1cHBvcnQgaXMgYW4gZXhwZXJpbWVudGFsIGZlYXR1cmUsIG1heSBjaGFuZ2UgaW5cbiAgICAgZnV0dXJlIHZlcnNpb25zLlxuXG4gICAgIEByZW1hcmtzXG5cbiAgICAgQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBlc3RhYmxpc2hpbmcgYSBjb25uZWN0aW9uIHRvIHRoZSBtb2RlbC5cbiAgICAgQHJldHVybiBBIGxpdmUgc2Vzc2lvbi5cblxuICAgICBAZXhhbXBsZVxuICAgICBgYGB0c1xuICAgICBsZXQgbW9kZWw6IHN0cmluZztcbiAgICAgaWYgKEdPT0dMRV9HRU5BSV9VU0VfVkVSVEVYQUkpIHtcbiAgICAgICBtb2RlbCA9ICdnZW1pbmktMi4wLWZsYXNoLWxpdmUtcHJldmlldy0wNC0wOSc7XG4gICAgIH0gZWxzZSB7XG4gICAgICAgbW9kZWwgPSAnZ2VtaW5pLWxpdmUtMi41LWZsYXNoLXByZXZpZXcnO1xuICAgICB9XG4gICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBhaS5saXZlLmNvbm5lY3Qoe1xuICAgICAgIG1vZGVsOiBtb2RlbCxcbiAgICAgICBjb25maWc6IHtcbiAgICAgICAgIHJlc3BvbnNlTW9kYWxpdGllczogW01vZGFsaXR5LkFVRElPXSxcbiAgICAgICB9LFxuICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgb25vcGVuOiAoKSA9PiB7XG4gICAgICAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQgdG8gdGhlIHNvY2tldC4nKTtcbiAgICAgICAgIH0sXG4gICAgICAgICBvbm1lc3NhZ2U6IChlOiBNZXNzYWdlRXZlbnQpID0+IHtcbiAgICAgICAgICAgY29uc29sZS5sb2coJ1JlY2VpdmVkIG1lc3NhZ2UgZnJvbSB0aGUgc2VydmVyOiAlc1xcbicsIGRlYnVnKGUuZGF0YSkpO1xuICAgICAgICAgfSxcbiAgICAgICAgIG9uZXJyb3I6IChlOiBFcnJvckV2ZW50KSA9PiB7XG4gICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBvY2N1cnJlZDogJXNcXG4nLCBkZWJ1ZyhlLmVycm9yKSk7XG4gICAgICAgICB9LFxuICAgICAgICAgb25jbG9zZTogKGU6IENsb3NlRXZlbnQpID0+IHtcbiAgICAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3Rpb24gY2xvc2VkLicpO1xuICAgICAgICAgfSxcbiAgICAgICB9LFxuICAgICB9KTtcbiAgICAgYGBgXG4gICAgKi9cbiAgYXN5bmMgY29ubmVjdChwYXJhbXM6IHR5cGVzLkxpdmVDb25uZWN0UGFyYW1ldGVycyk6IFByb21pc2U8U2Vzc2lvbj4ge1xuICAgIC8vIFRPRE86IGIvNDA0OTQ2NzQ2IC0gU3VwcG9ydCBwZXIgcmVxdWVzdCBIVFRQIG9wdGlvbnMuXG4gICAgaWYgKHBhcmFtcy5jb25maWcgJiYgcGFyYW1zLmNvbmZpZy5odHRwT3B0aW9ucykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIExpdmUgbW9kdWxlIGRvZXMgbm90IHN1cHBvcnQgaHR0cE9wdGlvbnMgYXQgcmVxdWVzdC1sZXZlbCBpbicgK1xuICAgICAgICAgICcgTGl2ZUNvbm5lY3RDb25maWcgeWV0LiBQbGVhc2UgdXNlIHRoZSBjbGllbnQtbGV2ZWwgaHR0cE9wdGlvbnMnICtcbiAgICAgICAgICAnIGNvbmZpZ3VyYXRpb24gaW5zdGVhZC4nLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3Qgd2Vic29ja2V0QmFzZVVybCA9IHRoaXMuYXBpQ2xpZW50LmdldFdlYnNvY2tldEJhc2VVcmwoKTtcbiAgICBjb25zdCBhcGlWZXJzaW9uID0gdGhpcy5hcGlDbGllbnQuZ2V0QXBpVmVyc2lvbigpO1xuICAgIGxldCB1cmw6IHN0cmluZztcbiAgICBjb25zdCBjbGllbnRIZWFkZXJzID0gdGhpcy5hcGlDbGllbnQuZ2V0SGVhZGVycygpO1xuICAgIGlmIChcbiAgICAgIHBhcmFtcy5jb25maWcgJiZcbiAgICAgIHBhcmFtcy5jb25maWcudG9vbHMgJiZcbiAgICAgIGhhc01jcFRvb2xVc2FnZShwYXJhbXMuY29uZmlnLnRvb2xzKVxuICAgICkge1xuICAgICAgc2V0TWNwVXNhZ2VIZWFkZXIoY2xpZW50SGVhZGVycyk7XG4gICAgfVxuICAgIGNvbnN0IGhlYWRlcnMgPSBtYXBUb0hlYWRlcnMoY2xpZW50SGVhZGVycyk7XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgdXJsID0gYCR7d2Vic29ja2V0QmFzZVVybH0vd3MvZ29vZ2xlLmNsb3VkLmFpcGxhdGZvcm0uJHtcbiAgICAgICAgYXBpVmVyc2lvblxuICAgICAgfS5MbG1CaWRpU2VydmljZS9CaWRpR2VuZXJhdGVDb250ZW50YDtcbiAgICAgIGF3YWl0IHRoaXMuYXV0aC5hZGRBdXRoSGVhZGVycyhoZWFkZXJzLCB1cmwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBhcGlLZXkgPSB0aGlzLmFwaUNsaWVudC5nZXRBcGlLZXkoKTtcblxuICAgICAgbGV0IG1ldGhvZCA9ICdCaWRpR2VuZXJhdGVDb250ZW50JztcbiAgICAgIGxldCBrZXlOYW1lID0gJ2tleSc7XG4gICAgICBpZiAoYXBpS2V5Py5zdGFydHNXaXRoKCdhdXRoX3Rva2Vucy8nKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ1dhcm5pbmc6IEVwaGVtZXJhbCB0b2tlbiBzdXBwb3J0IGlzIGV4cGVyaW1lbnRhbCBhbmQgbWF5IGNoYW5nZSBpbiBmdXR1cmUgdmVyc2lvbnMuJyxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGFwaVZlcnNpb24gIT09ICd2MWFscGhhJykge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIFwiV2FybmluZzogVGhlIFNESydzIGVwaGVtZXJhbCB0b2tlbiBzdXBwb3J0IGlzIGluIHYxYWxwaGEgb25seS4gUGxlYXNlIHVzZSBjb25zdCBhaSA9IG5ldyBHb29nbGVHZW5BSSh7YXBpS2V5OiB0b2tlbi5uYW1lLCBodHRwT3B0aW9uczogeyBhcGlWZXJzaW9uOiAndjFhbHBoYScgfX0pOyBiZWZvcmUgc2Vzc2lvbiBjb25uZWN0aW9uLlwiLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgbWV0aG9kID0gJ0JpZGlHZW5lcmF0ZUNvbnRlbnRDb25zdHJhaW5lZCc7XG4gICAgICAgIGtleU5hbWUgPSAnYWNjZXNzX3Rva2VuJztcbiAgICAgIH1cblxuICAgICAgdXJsID0gYCR7d2Vic29ja2V0QmFzZVVybH0vd3MvZ29vZ2xlLmFpLmdlbmVyYXRpdmVsYW5ndWFnZS4ke1xuICAgICAgICBhcGlWZXJzaW9uXG4gICAgICB9LkdlbmVyYXRpdmVTZXJ2aWNlLiR7bWV0aG9kfT8ke2tleU5hbWV9PSR7YXBpS2V5fWA7XG4gICAgfVxuXG4gICAgbGV0IG9ub3BlblJlc29sdmU6ICh2YWx1ZTogdW5rbm93bikgPT4gdm9pZCA9ICgpID0+IHt9O1xuICAgIGNvbnN0IG9ub3BlblByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZTogKHZhbHVlOiB1bmtub3duKSA9PiB2b2lkKSA9PiB7XG4gICAgICBvbm9wZW5SZXNvbHZlID0gcmVzb2x2ZTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGNhbGxiYWNrczogdHlwZXMuTGl2ZUNhbGxiYWNrcyA9IHBhcmFtcy5jYWxsYmFja3M7XG5cbiAgICBjb25zdCBvbm9wZW5Bd2FpdGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFja3M/Lm9ub3Blbj8uKCk7XG4gICAgICBvbm9wZW5SZXNvbHZlKHt9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgYXBpQ2xpZW50ID0gdGhpcy5hcGlDbGllbnQ7XG5cbiAgICBjb25zdCB3ZWJzb2NrZXRDYWxsYmFja3M6IFdlYlNvY2tldENhbGxiYWNrcyA9IHtcbiAgICAgIG9ub3Blbjogb25vcGVuQXdhaXRlZENhbGxiYWNrLFxuICAgICAgb25tZXNzYWdlOiAoZXZlbnQ6IE1lc3NhZ2VFdmVudCkgPT4ge1xuICAgICAgICB2b2lkIGhhbmRsZVdlYlNvY2tldE1lc3NhZ2UoYXBpQ2xpZW50LCBjYWxsYmFja3Mub25tZXNzYWdlLCBldmVudCk7XG4gICAgICB9LFxuICAgICAgb25lcnJvcjpcbiAgICAgICAgY2FsbGJhY2tzPy5vbmVycm9yID8/XG4gICAgICAgIGZ1bmN0aW9uIChlOiBFcnJvckV2ZW50KSB7XG4gICAgICAgICAgdm9pZCBlO1xuICAgICAgICB9LFxuICAgICAgb25jbG9zZTpcbiAgICAgICAgY2FsbGJhY2tzPy5vbmNsb3NlID8/XG4gICAgICAgIGZ1bmN0aW9uIChlOiBDbG9zZUV2ZW50KSB7XG4gICAgICAgICAgdm9pZCBlO1xuICAgICAgICB9LFxuICAgIH07XG5cbiAgICBjb25zdCBjb25uID0gdGhpcy53ZWJTb2NrZXRGYWN0b3J5LmNyZWF0ZShcbiAgICAgIHVybCxcbiAgICAgIGhlYWRlcnNUb01hcChoZWFkZXJzKSxcbiAgICAgIHdlYnNvY2tldENhbGxiYWNrcyxcbiAgICApO1xuICAgIGNvbm4uY29ubmVjdCgpO1xuICAgIC8vIFdhaXQgZm9yIHRoZSB3ZWJzb2NrZXQgdG8gb3BlbiBiZWZvcmUgc2VuZGluZyByZXF1ZXN0cy5cbiAgICBhd2FpdCBvbm9wZW5Qcm9taXNlO1xuXG4gICAgbGV0IHRyYW5zZm9ybWVkTW9kZWwgPSB0LnRNb2RlbCh0aGlzLmFwaUNsaWVudCwgcGFyYW1zLm1vZGVsKTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkgJiZcbiAgICAgIHRyYW5zZm9ybWVkTW9kZWwuc3RhcnRzV2l0aCgncHVibGlzaGVycy8nKVxuICAgICkge1xuICAgICAgY29uc3QgcHJvamVjdCA9IHRoaXMuYXBpQ2xpZW50LmdldFByb2plY3QoKTtcbiAgICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5hcGlDbGllbnQuZ2V0TG9jYXRpb24oKTtcbiAgICAgIHRyYW5zZm9ybWVkTW9kZWwgPVxuICAgICAgICBgcHJvamVjdHMvJHtwcm9qZWN0fS9sb2NhdGlvbnMvJHtsb2NhdGlvbn0vYCArIHRyYW5zZm9ybWVkTW9kZWw7XG4gICAgfVxuXG4gICAgbGV0IGNsaWVudE1lc3NhZ2U6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkgJiZcbiAgICAgIHBhcmFtcy5jb25maWc/LnJlc3BvbnNlTW9kYWxpdGllcyA9PT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICAvLyBTZXQgZGVmYXVsdCB0byBBVURJTyB0byBhbGlnbiB3aXRoIE1MRGV2IEFQSS5cbiAgICAgIGlmIChwYXJhbXMuY29uZmlnID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGFyYW1zLmNvbmZpZyA9IHtyZXNwb25zZU1vZGFsaXRpZXM6IFt0eXBlcy5Nb2RhbGl0eS5BVURJT119O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyYW1zLmNvbmZpZy5yZXNwb25zZU1vZGFsaXRpZXMgPSBbdHlwZXMuTW9kYWxpdHkuQVVESU9dO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyYW1zLmNvbmZpZz8uZ2VuZXJhdGlvbkNvbmZpZykge1xuICAgICAgLy8gUmFpc2UgZGVwcmVjYXRpb24gd2FybmluZyBmb3IgZ2VuZXJhdGlvbkNvbmZpZy5cbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ1NldHRpbmcgYExpdmVDb25uZWN0Q29uZmlnLmdlbmVyYXRpb25fY29uZmlnYCBpcyBkZXByZWNhdGVkLCBwbGVhc2Ugc2V0IHRoZSBmaWVsZHMgb24gYExpdmVDb25uZWN0Q29uZmlnYCBkaXJlY3RseS4gVGhpcyB3aWxsIGJlY29tZSBhbiBlcnJvciBpbiBhIGZ1dHVyZSB2ZXJzaW9uIChub3QgYmVmb3JlIFEzIDIwMjUpLicsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBpbnB1dFRvb2xzID0gcGFyYW1zLmNvbmZpZz8udG9vbHMgPz8gW107XG4gICAgY29uc3QgY29udmVydGVkVG9vbHM6IHR5cGVzLlRvb2xbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgdG9vbCBvZiBpbnB1dFRvb2xzKSB7XG4gICAgICBpZiAodGhpcy5pc0NhbGxhYmxlVG9vbCh0b29sKSkge1xuICAgICAgICBjb25zdCBjYWxsYWJsZVRvb2wgPSB0b29sIGFzIHR5cGVzLkNhbGxhYmxlVG9vbDtcbiAgICAgICAgY29udmVydGVkVG9vbHMucHVzaChhd2FpdCBjYWxsYWJsZVRvb2wudG9vbCgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnZlcnRlZFRvb2xzLnB1c2godG9vbCBhcyB0eXBlcy5Ub29sKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNvbnZlcnRlZFRvb2xzLmxlbmd0aCA+IDApIHtcbiAgICAgIHBhcmFtcy5jb25maWchLnRvb2xzID0gY29udmVydGVkVG9vbHM7XG4gICAgfVxuICAgIGNvbnN0IGxpdmVDb25uZWN0UGFyYW1ldGVyczogdHlwZXMuTGl2ZUNvbm5lY3RQYXJhbWV0ZXJzID0ge1xuICAgICAgbW9kZWw6IHRyYW5zZm9ybWVkTW9kZWwsXG4gICAgICBjb25maWc6IHBhcmFtcy5jb25maWcsXG4gICAgICBjYWxsYmFja3M6IHBhcmFtcy5jYWxsYmFja3MsXG4gICAgfTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjbGllbnRNZXNzYWdlID0gY29udmVydGVycy5saXZlQ29ubmVjdFBhcmFtZXRlcnNUb1ZlcnRleChcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIGxpdmVDb25uZWN0UGFyYW1ldGVycyxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsaWVudE1lc3NhZ2UgPSBjb252ZXJ0ZXJzLmxpdmVDb25uZWN0UGFyYW1ldGVyc1RvTWxkZXYoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBsaXZlQ29ubmVjdFBhcmFtZXRlcnMsXG4gICAgICApO1xuICAgIH1cbiAgICBkZWxldGUgY2xpZW50TWVzc2FnZVsnY29uZmlnJ107XG4gICAgY29ubi5zZW5kKEpTT04uc3RyaW5naWZ5KGNsaWVudE1lc3NhZ2UpKTtcbiAgICByZXR1cm4gbmV3IFNlc3Npb24oY29ubiwgdGhpcy5hcGlDbGllbnQpO1xuICB9XG5cbiAgLy8gVE9ETzogYi80MTYwNDEyMjkgLSBBYnN0cmFjdCB0aGlzIG1ldGhvZCB0byBhIGNvbW1vbiBwbGFjZS5cbiAgcHJpdmF0ZSBpc0NhbGxhYmxlVG9vbCh0b29sOiB0eXBlcy5Ub29sVW5pb24pOiBib29sZWFuIHtcbiAgICByZXR1cm4gJ2NhbGxUb29sJyBpbiB0b29sICYmIHR5cGVvZiB0b29sLmNhbGxUb29sID09PSAnZnVuY3Rpb24nO1xuICB9XG59XG5cbmNvbnN0IGRlZmF1bHRMaXZlU2VuZENsaWVudENvbnRlbnRQYXJhbWVydGVyczogdHlwZXMuTGl2ZVNlbmRDbGllbnRDb250ZW50UGFyYW1ldGVycyA9XG4gIHtcbiAgICB0dXJuQ29tcGxldGU6IHRydWUsXG4gIH07XG5cbi8qKlxuICAgUmVwcmVzZW50cyBhIGNvbm5lY3Rpb24gdG8gdGhlIEFQSS5cblxuICAgQGV4cGVyaW1lbnRhbFxuICAqL1xuZXhwb3J0IGNsYXNzIFNlc3Npb24ge1xuICBjb25zdHJ1Y3RvcihcbiAgICByZWFkb25seSBjb25uOiBXZWJTb2NrZXQsXG4gICAgcHJpdmF0ZSByZWFkb25seSBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgKSB7fVxuXG4gIHByaXZhdGUgdExpdmVDbGllbnRDb250ZW50KFxuICAgIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICAgIHBhcmFtczogdHlwZXMuTGl2ZVNlbmRDbGllbnRDb250ZW50UGFyYW1ldGVycyxcbiAgKTogdHlwZXMuTGl2ZUNsaWVudE1lc3NhZ2Uge1xuICAgIGlmIChwYXJhbXMudHVybnMgIT09IG51bGwgJiYgcGFyYW1zLnR1cm5zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCBjb250ZW50czogdHlwZXMuQ29udGVudFtdID0gW107XG4gICAgICB0cnkge1xuICAgICAgICBjb250ZW50cyA9IHQudENvbnRlbnRzKHBhcmFtcy50dXJucyBhcyB0eXBlcy5Db250ZW50TGlzdFVuaW9uKTtcbiAgICAgICAgaWYgKCFhcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICAgICAgY29udGVudHMgPSBjb250ZW50cy5tYXAoKGl0ZW0pID0+IGNvbnRlbnRUb01sZGV2KGl0ZW0pKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgRmFpbGVkIHRvIHBhcnNlIGNsaWVudCBjb250ZW50IFwidHVybnNcIiwgdHlwZTogJyR7dHlwZW9mIHBhcmFtcy50dXJuc30nYCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNsaWVudENvbnRlbnQ6IHt0dXJuczogY29udGVudHMsIHR1cm5Db21wbGV0ZTogcGFyYW1zLnR1cm5Db21wbGV0ZX0sXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBjbGllbnRDb250ZW50OiB7dHVybkNvbXBsZXRlOiBwYXJhbXMudHVybkNvbXBsZXRlfSxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSB0TGl2ZUNsaWVudHRUb29sUmVzcG9uc2UoXG4gICAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gICAgcGFyYW1zOiB0eXBlcy5MaXZlU2VuZFRvb2xSZXNwb25zZVBhcmFtZXRlcnMsXG4gICk6IHR5cGVzLkxpdmVDbGllbnRNZXNzYWdlIHtcbiAgICBsZXQgZnVuY3Rpb25SZXNwb25zZXM6IHR5cGVzLkZ1bmN0aW9uUmVzcG9uc2VbXSA9IFtdO1xuXG4gICAgaWYgKHBhcmFtcy5mdW5jdGlvblJlc3BvbnNlcyA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Z1bmN0aW9uUmVzcG9uc2VzIGlzIHJlcXVpcmVkLicpO1xuICAgIH1cblxuICAgIGlmICghQXJyYXkuaXNBcnJheShwYXJhbXMuZnVuY3Rpb25SZXNwb25zZXMpKSB7XG4gICAgICBmdW5jdGlvblJlc3BvbnNlcyA9IFtwYXJhbXMuZnVuY3Rpb25SZXNwb25zZXNdO1xuICAgIH0gZWxzZSB7XG4gICAgICBmdW5jdGlvblJlc3BvbnNlcyA9IHBhcmFtcy5mdW5jdGlvblJlc3BvbnNlcztcbiAgICB9XG5cbiAgICBpZiAoZnVuY3Rpb25SZXNwb25zZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Z1bmN0aW9uUmVzcG9uc2VzIGlzIHJlcXVpcmVkLicpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgZnVuY3Rpb25SZXNwb25zZSBvZiBmdW5jdGlvblJlc3BvbnNlcykge1xuICAgICAgaWYgKFxuICAgICAgICB0eXBlb2YgZnVuY3Rpb25SZXNwb25zZSAhPT0gJ29iamVjdCcgfHxcbiAgICAgICAgZnVuY3Rpb25SZXNwb25zZSA9PT0gbnVsbCB8fFxuICAgICAgICAhKCduYW1lJyBpbiBmdW5jdGlvblJlc3BvbnNlKSB8fFxuICAgICAgICAhKCdyZXNwb25zZScgaW4gZnVuY3Rpb25SZXNwb25zZSlcbiAgICAgICkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYENvdWxkIG5vdCBwYXJzZSBmdW5jdGlvbiByZXNwb25zZSwgdHlwZSAnJHt0eXBlb2YgZnVuY3Rpb25SZXNwb25zZX0nLmAsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoIWFwaUNsaWVudC5pc1ZlcnRleEFJKCkgJiYgISgnaWQnIGluIGZ1bmN0aW9uUmVzcG9uc2UpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihGVU5DVElPTl9SRVNQT05TRV9SRVFVSVJFU19JRCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY2xpZW50TWVzc2FnZTogdHlwZXMuTGl2ZUNsaWVudE1lc3NhZ2UgPSB7XG4gICAgICB0b29sUmVzcG9uc2U6IHtmdW5jdGlvblJlc3BvbnNlczogZnVuY3Rpb25SZXNwb25zZXN9LFxuICAgIH07XG4gICAgcmV0dXJuIGNsaWVudE1lc3NhZ2U7XG4gIH1cblxuICAvKipcbiAgICBTZW5kIGEgbWVzc2FnZSBvdmVyIHRoZSBlc3RhYmxpc2hlZCBjb25uZWN0aW9uLlxuXG4gICAgQHBhcmFtIHBhcmFtcyAtIENvbnRhaW5zIHR3byAqKm9wdGlvbmFsKiogcHJvcGVydGllcywgYHR1cm5zYCBhbmRcbiAgICAgICAgYHR1cm5Db21wbGV0ZWAuXG5cbiAgICAgIC0gYHR1cm5zYCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIGBDb250ZW50W11gXG4gICAgICAtIGB0dXJuQ29tcGxldGU6IHRydWVgIFtkZWZhdWx0XSBpbmRpY2F0ZXMgdGhhdCB5b3UgYXJlIGRvbmUgc2VuZGluZ1xuICAgICAgICBjb250ZW50IGFuZCBleHBlY3QgYSByZXNwb25zZS4gSWYgYHR1cm5Db21wbGV0ZTogZmFsc2VgLCB0aGUgc2VydmVyXG4gICAgICAgIHdpbGwgd2FpdCBmb3IgYWRkaXRpb25hbCBtZXNzYWdlcyBiZWZvcmUgc3RhcnRpbmcgZ2VuZXJhdGlvbi5cblxuICAgIEBleHBlcmltZW50YWxcblxuICAgIEByZW1hcmtzXG4gICAgVGhlcmUgYXJlIHR3byB3YXlzIHRvIHNlbmQgbWVzc2FnZXMgdG8gdGhlIGxpdmUgQVBJOlxuICAgIGBzZW5kQ2xpZW50Q29udGVudGAgYW5kIGBzZW5kUmVhbHRpbWVJbnB1dGAuXG5cbiAgICBgc2VuZENsaWVudENvbnRlbnRgIG1lc3NhZ2VzIGFyZSBhZGRlZCB0byB0aGUgbW9kZWwgY29udGV4dCAqKmluIG9yZGVyKiouXG4gICAgSGF2aW5nIGEgY29udmVyc2F0aW9uIHVzaW5nIGBzZW5kQ2xpZW50Q29udGVudGAgbWVzc2FnZXMgaXMgcm91Z2hseVxuICAgIGVxdWl2YWxlbnQgdG8gdXNpbmcgdGhlIGBDaGF0LnNlbmRNZXNzYWdlU3RyZWFtYCwgZXhjZXB0IHRoYXQgdGhlIHN0YXRlIG9mXG4gICAgdGhlIGBjaGF0YCBoaXN0b3J5IGlzIHN0b3JlZCBvbiB0aGUgQVBJIHNlcnZlciBpbnN0ZWFkIG9mIGxvY2FsbHkuXG5cbiAgICBCZWNhdXNlIG9mIGBzZW5kQ2xpZW50Q29udGVudGAncyBvcmRlciBndWFyYW50ZWUsIHRoZSBtb2RlbCBjYW5ub3QgcmVzcG9uc1xuICAgIGFzIHF1aWNrbHkgdG8gYHNlbmRDbGllbnRDb250ZW50YCBtZXNzYWdlcyBhcyB0byBgc2VuZFJlYWx0aW1lSW5wdXRgXG4gICAgbWVzc2FnZXMuIFRoaXMgbWFrZXMgdGhlIGJpZ2dlc3QgZGlmZmVyZW5jZSB3aGVuIHNlbmRpbmcgb2JqZWN0cyB0aGF0IGhhdmVcbiAgICBzaWduaWZpY2FudCBwcmVwcm9jZXNzaW5nIHRpbWUgKHR5cGljYWxseSBpbWFnZXMpLlxuXG4gICAgVGhlIGBzZW5kQ2xpZW50Q29udGVudGAgbWVzc2FnZSBzZW5kcyBhIGBDb250ZW50W11gXG4gICAgd2hpY2ggaGFzIG1vcmUgb3B0aW9ucyB0aGFuIHRoZSBgQmxvYmAgc2VudCBieSBgc2VuZFJlYWx0aW1lSW5wdXRgLlxuXG4gICAgU28gdGhlIG1haW4gdXNlLWNhc2VzIGZvciBgc2VuZENsaWVudENvbnRlbnRgIG92ZXIgYHNlbmRSZWFsdGltZUlucHV0YCBhcmU6XG5cbiAgICAtIFNlbmRpbmcgYW55dGhpbmcgdGhhdCBjYW4ndCBiZSByZXByZXNlbnRlZCBhcyBhIGBCbG9iYCAodGV4dCxcbiAgICBgc2VuZENsaWVudENvbnRlbnQoe3R1cm5zPVwiSGVsbG8/XCJ9YCkpLlxuICAgIC0gTWFuYWdpbmcgdHVybnMgd2hlbiBub3QgdXNpbmcgYXVkaW8gaW5wdXQgYW5kIHZvaWNlIGFjdGl2aXR5IGRldGVjdGlvbi5cbiAgICAgIChgc2VuZENsaWVudENvbnRlbnQoe3R1cm5Db21wbGV0ZTp0cnVlfSlgIG9yIHRoZSBzaG9ydCBmb3JtXG4gICAgYHNlbmRDbGllbnRDb250ZW50KClgKVxuICAgIC0gUHJlZmlsbGluZyBhIGNvbnZlcnNhdGlvbiBjb250ZXh0XG4gICAgICBgYGBcbiAgICAgIHNlbmRDbGllbnRDb250ZW50KHtcbiAgICAgICAgICB0dXJuczogW1xuICAgICAgICAgICAgQ29udGVudCh7cm9sZTp1c2VyLCBwYXJ0czouLi59KSxcbiAgICAgICAgICAgIENvbnRlbnQoe3JvbGU6dXNlciwgcGFydHM6Li4ufSksXG4gICAgICAgICAgICAuLi5cbiAgICAgICAgICBdXG4gICAgICB9KVxuICAgICAgYGBgXG4gICAgQGV4cGVyaW1lbnRhbFxuICAgKi9cbiAgc2VuZENsaWVudENvbnRlbnQocGFyYW1zOiB0eXBlcy5MaXZlU2VuZENsaWVudENvbnRlbnRQYXJhbWV0ZXJzKSB7XG4gICAgcGFyYW1zID0ge1xuICAgICAgLi4uZGVmYXVsdExpdmVTZW5kQ2xpZW50Q29udGVudFBhcmFtZXJ0ZXJzLFxuICAgICAgLi4ucGFyYW1zLFxuICAgIH07XG5cbiAgICBjb25zdCBjbGllbnRNZXNzYWdlOiB0eXBlcy5MaXZlQ2xpZW50TWVzc2FnZSA9IHRoaXMudExpdmVDbGllbnRDb250ZW50KFxuICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICBwYXJhbXMsXG4gICAgKTtcbiAgICB0aGlzLmNvbm4uc2VuZChKU09OLnN0cmluZ2lmeShjbGllbnRNZXNzYWdlKSk7XG4gIH1cblxuICAvKipcbiAgICBTZW5kIGEgcmVhbHRpbWUgbWVzc2FnZSBvdmVyIHRoZSBlc3RhYmxpc2hlZCBjb25uZWN0aW9uLlxuXG4gICAgQHBhcmFtIHBhcmFtcyAtIENvbnRhaW5zIG9uZSBwcm9wZXJ0eSwgYG1lZGlhYC5cblxuICAgICAgLSBgbWVkaWFgIHdpbGwgYmUgY29udmVydGVkIHRvIGEgYEJsb2JgXG5cbiAgICBAZXhwZXJpbWVudGFsXG5cbiAgICBAcmVtYXJrc1xuICAgIFVzZSBgc2VuZFJlYWx0aW1lSW5wdXRgIGZvciByZWFsdGltZSBhdWRpbyBjaHVua3MgYW5kIHZpZGVvIGZyYW1lcyAoaW1hZ2VzKS5cblxuICAgIFdpdGggYHNlbmRSZWFsdGltZUlucHV0YCB0aGUgYXBpIHdpbGwgcmVzcG9uZCB0byBhdWRpbyBhdXRvbWF0aWNhbGx5XG4gICAgYmFzZWQgb24gdm9pY2UgYWN0aXZpdHkgZGV0ZWN0aW9uIChWQUQpLlxuXG4gICAgYHNlbmRSZWFsdGltZUlucHV0YCBpcyBvcHRpbWl6ZWQgZm9yIHJlc3BvbnNpdm5lc3MgYXQgdGhlIGV4cGVuc2Ugb2ZcbiAgICBkZXRlcm1pbmlzdGljIG9yZGVyaW5nIGd1YXJhbnRlZXMuIEF1ZGlvIGFuZCB2aWRlbyB0b2tlbnMgYXJlIHRvIHRoZVxuICAgIGNvbnRleHQgd2hlbiB0aGV5IGJlY29tZSBhdmFpbGFibGUuXG5cbiAgICBOb3RlOiBUaGUgQ2FsbCBzaWduYXR1cmUgZXhwZWN0cyBhIGBCbG9iYCBvYmplY3QsIGJ1dCBvbmx5IGEgc3Vic2V0XG4gICAgb2YgYXVkaW8gYW5kIGltYWdlIG1pbWV0eXBlcyBhcmUgYWxsb3dlZC5cbiAgICovXG4gIHNlbmRSZWFsdGltZUlucHV0KHBhcmFtczogdHlwZXMuTGl2ZVNlbmRSZWFsdGltZUlucHV0UGFyYW1ldGVycykge1xuICAgIGxldCBjbGllbnRNZXNzYWdlOiB0eXBlcy5MaXZlQ2xpZW50TWVzc2FnZSA9IHt9O1xuXG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgY2xpZW50TWVzc2FnZSA9IHtcbiAgICAgICAgJ3JlYWx0aW1lSW5wdXQnOlxuICAgICAgICAgIGNvbnZlcnRlcnMubGl2ZVNlbmRSZWFsdGltZUlucHV0UGFyYW1ldGVyc1RvVmVydGV4KHBhcmFtcyksXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjbGllbnRNZXNzYWdlID0ge1xuICAgICAgICAncmVhbHRpbWVJbnB1dCc6XG4gICAgICAgICAgY29udmVydGVycy5saXZlU2VuZFJlYWx0aW1lSW5wdXRQYXJhbWV0ZXJzVG9NbGRldihwYXJhbXMpLFxuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy5jb25uLnNlbmQoSlNPTi5zdHJpbmdpZnkoY2xpZW50TWVzc2FnZSkpO1xuICB9XG5cbiAgLyoqXG4gICAgU2VuZCBhIGZ1bmN0aW9uIHJlc3BvbnNlIG1lc3NhZ2Ugb3ZlciB0aGUgZXN0YWJsaXNoZWQgY29ubmVjdGlvbi5cblxuICAgIEBwYXJhbSBwYXJhbXMgLSBDb250YWlucyBwcm9wZXJ0eSBgZnVuY3Rpb25SZXNwb25zZXNgLlxuXG4gICAgICAtIGBmdW5jdGlvblJlc3BvbnNlc2Agd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBgZnVuY3Rpb25SZXNwb25zZXNbXWBcblxuICAgIEByZW1hcmtzXG4gICAgVXNlIGBzZW5kRnVuY3Rpb25SZXNwb25zZWAgdG8gcmVwbHkgdG8gYExpdmVTZXJ2ZXJUb29sQ2FsbGAgZnJvbSB0aGUgc2VydmVyLlxuXG4gICAgVXNlIHtAbGluayB0eXBlcy5MaXZlQ29ubmVjdENvbmZpZyN0b29sc30gdG8gY29uZmlndXJlIHRoZSBjYWxsYWJsZSBmdW5jdGlvbnMuXG5cbiAgICBAZXhwZXJpbWVudGFsXG4gICAqL1xuICBzZW5kVG9vbFJlc3BvbnNlKHBhcmFtczogdHlwZXMuTGl2ZVNlbmRUb29sUmVzcG9uc2VQYXJhbWV0ZXJzKSB7XG4gICAgaWYgKHBhcmFtcy5mdW5jdGlvblJlc3BvbnNlcyA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Rvb2wgcmVzcG9uc2UgcGFyYW1ldGVycyBhcmUgcmVxdWlyZWQuJyk7XG4gICAgfVxuXG4gICAgY29uc3QgY2xpZW50TWVzc2FnZTogdHlwZXMuTGl2ZUNsaWVudE1lc3NhZ2UgPVxuICAgICAgdGhpcy50TGl2ZUNsaWVudHRUb29sUmVzcG9uc2UodGhpcy5hcGlDbGllbnQsIHBhcmFtcyk7XG4gICAgdGhpcy5jb25uLnNlbmQoSlNPTi5zdHJpbmdpZnkoY2xpZW50TWVzc2FnZSkpO1xuICB9XG5cbiAgLyoqXG4gICAgIFRlcm1pbmF0ZXMgdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uLlxuXG4gICAgIEBleHBlcmltZW50YWxcblxuICAgICBAZXhhbXBsZVxuICAgICBgYGB0c1xuICAgICBsZXQgbW9kZWw6IHN0cmluZztcbiAgICAgaWYgKEdPT0dMRV9HRU5BSV9VU0VfVkVSVEVYQUkpIHtcbiAgICAgICBtb2RlbCA9ICdnZW1pbmktMi4wLWZsYXNoLWxpdmUtcHJldmlldy0wNC0wOSc7XG4gICAgIH0gZWxzZSB7XG4gICAgICAgbW9kZWwgPSAnZ2VtaW5pLWxpdmUtMi41LWZsYXNoLXByZXZpZXcnO1xuICAgICB9XG4gICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBhaS5saXZlLmNvbm5lY3Qoe1xuICAgICAgIG1vZGVsOiBtb2RlbCxcbiAgICAgICBjb25maWc6IHtcbiAgICAgICAgIHJlc3BvbnNlTW9kYWxpdGllczogW01vZGFsaXR5LkFVRElPXSxcbiAgICAgICB9XG4gICAgIH0pO1xuXG4gICAgIHNlc3Npb24uY2xvc2UoKTtcbiAgICAgYGBgXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICB0aGlzLmNvbm4uY2xvc2UoKTtcbiAgfVxufVxuXG4vLyBDb252ZXJ0cyBhbiBoZWFkZXJzIG9iamVjdCB0byBhIFwibWFwXCIgb2JqZWN0IGFzIGV4cGVjdGVkIGJ5IHRoZSBXZWJTb2NrZXRcbi8vIGNvbnN0cnVjdG9yLiBXZSB1c2UgdGhpcyBhcyB0aGUgQXV0aCBpbnRlcmZhY2Ugd29ya3Mgd2l0aCBIZWFkZXJzIG9iamVjdHNcbi8vIHdoaWxlIHRoZSBXZWJTb2NrZXQgY29uc3RydWN0b3IgdGFrZXMgYSBtYXAuXG5mdW5jdGlvbiBoZWFkZXJzVG9NYXAoaGVhZGVyczogSGVhZGVycyk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xuICBjb25zdCBoZWFkZXJNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgaGVhZGVycy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgaGVhZGVyTWFwW2tleV0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiBoZWFkZXJNYXA7XG59XG5cbi8vIENvbnZlcnRzIGEgXCJtYXBcIiBvYmplY3QgdG8gYSBoZWFkZXJzIG9iamVjdC4gV2UgdXNlIHRoaXMgYXMgdGhlIEF1dGhcbi8vIGludGVyZmFjZSB3b3JrcyB3aXRoIEhlYWRlcnMgb2JqZWN0cyB3aGlsZSB0aGUgQVBJIGNsaWVudCBkZWZhdWx0IGhlYWRlcnNcbi8vIHJldHVybnMgYSBtYXAuXG5mdW5jdGlvbiBtYXBUb0hlYWRlcnMobWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KTogSGVhZGVycyB7XG4gIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhtYXApKSB7XG4gICAgaGVhZGVycy5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGhlYWRlcnM7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuL3R5cGVzLmpzJztcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfTUFYX1JFTU9URV9DQUxMUyA9IDEwO1xuXG4vKiogUmV0dXJucyB3aGV0aGVyIGF1dG9tYXRpYyBmdW5jdGlvbiBjYWxsaW5nIGlzIGRpc2FibGVkLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZERpc2FibGVBZmMoXG4gIGNvbmZpZzogdHlwZXMuR2VuZXJhdGVDb250ZW50Q29uZmlnIHwgdW5kZWZpbmVkLFxuKTogYm9vbGVhbiB7XG4gIGlmIChjb25maWc/LmF1dG9tYXRpY0Z1bmN0aW9uQ2FsbGluZz8uZGlzYWJsZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgbGV0IGNhbGxhYmxlVG9vbHNQcmVzZW50ID0gZmFsc2U7XG4gIGZvciAoY29uc3QgdG9vbCBvZiBjb25maWc/LnRvb2xzID8/IFtdKSB7XG4gICAgaWYgKGlzQ2FsbGFibGVUb29sKHRvb2wpKSB7XG4gICAgICBjYWxsYWJsZVRvb2xzUHJlc2VudCA9IHRydWU7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgaWYgKCFjYWxsYWJsZVRvb2xzUHJlc2VudCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY29uc3QgbWF4Q2FsbHMgPSBjb25maWc/LmF1dG9tYXRpY0Z1bmN0aW9uQ2FsbGluZz8ubWF4aW11bVJlbW90ZUNhbGxzO1xuICBpZiAoXG4gICAgKG1heENhbGxzICYmIChtYXhDYWxscyA8IDAgfHwgIU51bWJlci5pc0ludGVnZXIobWF4Q2FsbHMpKSkgfHxcbiAgICBtYXhDYWxscyA9PSAwXG4gICkge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgICdJbnZhbGlkIG1heGltdW1SZW1vdGVDYWxscyB2YWx1ZSBwcm92aWRlZCBmb3IgYXV0b21hdGljIGZ1bmN0aW9uIGNhbGxpbmcuIERpc2FibGVkIGF1dG9tYXRpYyBmdW5jdGlvbiBjYWxsaW5nLiBQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIGludGVnZXIgdmFsdWUgZ3JlYXRlciB0aGFuIDAuIG1heGltdW1SZW1vdGVDYWxscyBwcm92aWRlZDonLFxuICAgICAgbWF4Q2FsbHMsXG4gICAgKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NhbGxhYmxlVG9vbCh0b29sOiB0eXBlcy5Ub29sVW5pb24pOiBib29sZWFuIHtcbiAgcmV0dXJuICdjYWxsVG9vbCcgaW4gdG9vbCAmJiB0eXBlb2YgdG9vbC5jYWxsVG9vbCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLy8gQ2hlY2tzIHdoZXRoZXIgdGhlIGxpc3Qgb2YgdG9vbHMgY29udGFpbnMgYW55IENhbGxhYmxlVG9vbHMuIFdpbGwgcmV0dXJuIHRydWVcbi8vIGlmIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBDYWxsYWJsZVRvb2wuXG5leHBvcnQgZnVuY3Rpb24gaGFzQ2FsbGFibGVUb29scyhcbiAgcGFyYW1zOiB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRQYXJhbWV0ZXJzLFxuKTogYm9vbGVhbiB7XG4gIHJldHVybiBwYXJhbXMuY29uZmlnPy50b29scz8uc29tZSgodG9vbCkgPT4gaXNDYWxsYWJsZVRvb2wodG9vbCkpID8/IGZhbHNlO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGluZGV4ZXMgb2YgdGhlIHRvb2xzIHRoYXQgYXJlIG5vdCBjb21wYXRpYmxlIHdpdGggQUZDLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZEFmY0luY29tcGF0aWJsZVRvb2xJbmRleGVzKFxuICBwYXJhbXM/OiB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRQYXJhbWV0ZXJzLFxuKTogbnVtYmVyW10ge1xuICAvLyBVc2UgbnVtYmVyW10gZm9yIGFuIGFycmF5IG9mIG51bWJlcnMgaW4gVHlwZVNjcmlwdFxuICBjb25zdCBhZmNJbmNvbXBhdGlibGVUb29sSW5kZXhlczogbnVtYmVyW10gPSBbXTtcbiAgaWYgKCFwYXJhbXM/LmNvbmZpZz8udG9vbHMpIHtcbiAgICByZXR1cm4gYWZjSW5jb21wYXRpYmxlVG9vbEluZGV4ZXM7XG4gIH1cbiAgcGFyYW1zLmNvbmZpZy50b29scy5mb3JFYWNoKCh0b29sLCBpbmRleCkgPT4ge1xuICAgIGlmIChpc0NhbGxhYmxlVG9vbCh0b29sKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBnZW1pbmlUb29sID0gdG9vbCBhcyB0eXBlcy5Ub29sO1xuICAgIGlmIChcbiAgICAgIGdlbWluaVRvb2wuZnVuY3Rpb25EZWNsYXJhdGlvbnMgJiZcbiAgICAgIGdlbWluaVRvb2wuZnVuY3Rpb25EZWNsYXJhdGlvbnMubGVuZ3RoID4gMFxuICAgICkge1xuICAgICAgYWZjSW5jb21wYXRpYmxlVG9vbEluZGV4ZXMucHVzaChpbmRleCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gYWZjSW5jb21wYXRpYmxlVG9vbEluZGV4ZXM7XG59XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIHRvIGFwcGVuZCBhdXRvbWF0aWMgZnVuY3Rpb24gY2FsbGluZyBoaXN0b3J5IHRvIHRoZVxuICogcmVzcG9uc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRBcHBlbmRBZmNIaXN0b3J5KFxuICBjb25maWc6IHR5cGVzLkdlbmVyYXRlQ29udGVudENvbmZpZyB8IHVuZGVmaW5lZCxcbik6IGJvb2xlYW4ge1xuICByZXR1cm4gIWNvbmZpZz8uYXV0b21hdGljRnVuY3Rpb25DYWxsaW5nPy5pZ25vcmVDYWxsSGlzdG9yeTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8vIENvZGUgZ2VuZXJhdGVkIGJ5IHRoZSBHb29nbGUgR2VuIEFJIFNESyBnZW5lcmF0b3IgRE8gTk9UIEVESVQuXG5cbmltcG9ydCAqIGFzIGFmYyBmcm9tICcuL19hZmMuanMnO1xuaW1wb3J0IHtBcGlDbGllbnR9IGZyb20gJy4vX2FwaV9jbGllbnQuanMnO1xuaW1wb3J0ICogYXMgY29tbW9uIGZyb20gJy4vX2NvbW1vbi5qcyc7XG5pbXBvcnQge0Jhc2VNb2R1bGV9IGZyb20gJy4vX2NvbW1vbi5qcyc7XG5pbXBvcnQgKiBhcyBfaW50ZXJuYWxfdHlwZXMgZnJvbSAnLi9faW50ZXJuYWxfdHlwZXMuanMnO1xuaW1wb3J0IHt0Q29udGVudHN9IGZyb20gJy4vX3RyYW5zZm9ybWVycy5qcyc7XG5pbXBvcnQgKiBhcyBjb252ZXJ0ZXJzIGZyb20gJy4vY29udmVydGVycy9fbW9kZWxzX2NvbnZlcnRlcnMuanMnO1xuaW1wb3J0ICogYXMgbWNwIGZyb20gJy4vbWNwL19tY3AuanMnO1xuaW1wb3J0IHtQYWdlZEl0ZW0sIFBhZ2VyfSBmcm9tICcuL3BhZ2Vycy5qcyc7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuL3R5cGVzLmpzJztcblxuZXhwb3J0IGNsYXNzIE1vZGVscyBleHRlbmRzIEJhc2VNb2R1bGUge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGFwaUNsaWVudDogQXBpQ2xpZW50KSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlcyBhbiBBUEkgcmVxdWVzdCB0byBnZW5lcmF0ZSBjb250ZW50IHdpdGggYSBnaXZlbiBtb2RlbC5cbiAgICpcbiAgICogRm9yIHRoZSBgbW9kZWxgIHBhcmFtZXRlciwgc3VwcG9ydGVkIGZvcm1hdHMgZm9yIFZlcnRleCBBSSBBUEkgaW5jbHVkZTpcbiAgICogLSBUaGUgR2VtaW5pIG1vZGVsIElELCBmb3IgZXhhbXBsZTogJ2dlbWluaS0yLjAtZmxhc2gnXG4gICAqIC0gVGhlIGZ1bGwgcmVzb3VyY2UgbmFtZSBzdGFydHMgd2l0aCAncHJvamVjdHMvJywgZm9yIGV4YW1wbGU6XG4gICAqICAncHJvamVjdHMvbXktcHJvamVjdC1pZC9sb2NhdGlvbnMvdXMtY2VudHJhbDEvcHVibGlzaGVycy9nb29nbGUvbW9kZWxzL2dlbWluaS0yLjAtZmxhc2gnXG4gICAqIC0gVGhlIHBhcnRpYWwgcmVzb3VyY2UgbmFtZSB3aXRoICdwdWJsaXNoZXJzLycsIGZvciBleGFtcGxlOlxuICAgKiAgJ3B1Ymxpc2hlcnMvZ29vZ2xlL21vZGVscy9nZW1pbmktMi4wLWZsYXNoJyBvclxuICAgKiAgJ3B1Ymxpc2hlcnMvbWV0YS9tb2RlbHMvbGxhbWEtMy4xLTQwNWItaW5zdHJ1Y3QtbWFhcydcbiAgICogLSBgL2Agc2VwYXJhdGVkIHB1Ymxpc2hlciBhbmQgbW9kZWwgbmFtZSwgZm9yIGV4YW1wbGU6XG4gICAqICdnb29nbGUvZ2VtaW5pLTIuMC1mbGFzaCcgb3IgJ21ldGEvbGxhbWEtMy4xLTQwNWItaW5zdHJ1Y3QtbWFhcydcbiAgICpcbiAgICogRm9yIHRoZSBgbW9kZWxgIHBhcmFtZXRlciwgc3VwcG9ydGVkIGZvcm1hdHMgZm9yIEdlbWluaSBBUEkgaW5jbHVkZTpcbiAgICogLSBUaGUgR2VtaW5pIG1vZGVsIElELCBmb3IgZXhhbXBsZTogJ2dlbWluaS0yLjAtZmxhc2gnXG4gICAqIC0gVGhlIG1vZGVsIG5hbWUgc3RhcnRzIHdpdGggJ21vZGVscy8nLCBmb3IgZXhhbXBsZTpcbiAgICogICdtb2RlbHMvZ2VtaW5pLTIuMC1mbGFzaCdcbiAgICogLSBGb3IgdHVuZWQgbW9kZWxzLCB0aGUgbW9kZWwgbmFtZSBzdGFydHMgd2l0aCAndHVuZWRNb2RlbHMvJyxcbiAgICogZm9yIGV4YW1wbGU6XG4gICAqICd0dW5lZE1vZGVscy8xMjM0NTY3ODkwMTIzNDU2Nzg5J1xuICAgKlxuICAgKiBTb21lIG1vZGVscyBzdXBwb3J0IG11bHRpbW9kYWwgaW5wdXQgYW5kIG91dHB1dC5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBnZW5lcmF0aW5nIGNvbnRlbnQuXG4gICAqIEByZXR1cm4gVGhlIHJlc3BvbnNlIGZyb20gZ2VuZXJhdGluZyBjb250ZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFpLm1vZGVscy5nZW5lcmF0ZUNvbnRlbnQoe1xuICAgKiAgIG1vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaCcsXG4gICAqICAgY29udGVudHM6ICd3aHkgaXMgdGhlIHNreSBibHVlPycsXG4gICAqICAgY29uZmlnOiB7XG4gICAqICAgICBjYW5kaWRhdGVDb3VudDogMixcbiAgICogICB9XG4gICAqIH0pO1xuICAgKiBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAqIGBgYFxuICAgKi9cbiAgZ2VuZXJhdGVDb250ZW50ID0gYXN5bmMgKFxuICAgIHBhcmFtczogdHlwZXMuR2VuZXJhdGVDb250ZW50UGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZT4gPT4ge1xuICAgIGNvbnN0IHRyYW5zZm9ybWVkUGFyYW1zID0gYXdhaXQgdGhpcy5wcm9jZXNzUGFyYW1zTWF5YmVBZGRNY3BVc2FnZShwYXJhbXMpO1xuICAgIHRoaXMubWF5YmVNb3ZlVG9SZXNwb25zZUpzb25TY2hlbShwYXJhbXMpO1xuICAgIGlmICghYWZjLmhhc0NhbGxhYmxlVG9vbHMocGFyYW1zKSB8fCBhZmMuc2hvdWxkRGlzYWJsZUFmYyhwYXJhbXMuY29uZmlnKSkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2VuZXJhdGVDb250ZW50SW50ZXJuYWwodHJhbnNmb3JtZWRQYXJhbXMpO1xuICAgIH1cblxuICAgIGNvbnN0IGluY29tcGF0aWJsZVRvb2xJbmRleGVzID0gYWZjLmZpbmRBZmNJbmNvbXBhdGlibGVUb29sSW5kZXhlcyhwYXJhbXMpO1xuICAgIGlmIChpbmNvbXBhdGlibGVUb29sSW5kZXhlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBmb3JtYXR0ZWRJbmRleGVzID0gaW5jb21wYXRpYmxlVG9vbEluZGV4ZXNcbiAgICAgICAgLm1hcCgoaW5kZXg6IG51bWJlcikgPT4gYHRvb2xzWyR7aW5kZXh9XWApXG4gICAgICAgIC5qb2luKCcsICcpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQXV0b21hdGljIGZ1bmN0aW9uIGNhbGxpbmcgd2l0aCBDYWxsYWJsZVRvb2xzIChvciBNQ1Agb2JqZWN0cykgYW5kIGJhc2ljIEZ1bmN0aW9uRGVjbGFyYXRpb25zIGlzIG5vdCB5ZXQgc3VwcG9ydGVkLiBJbmNvbXBhdGlibGUgdG9vbHMgZm91bmQgYXQgJHtmb3JtYXR0ZWRJbmRleGVzfS5gLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgcmVzcG9uc2U6IHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlO1xuICAgIGxldCBmdW5jdGlvblJlc3BvbnNlQ29udGVudDogdHlwZXMuQ29udGVudDtcbiAgICBjb25zdCBhdXRvbWF0aWNGdW5jdGlvbkNhbGxpbmdIaXN0b3J5OiB0eXBlcy5Db250ZW50W10gPSB0Q29udGVudHMoXG4gICAgICB0cmFuc2Zvcm1lZFBhcmFtcy5jb250ZW50cyxcbiAgICApO1xuICAgIGNvbnN0IG1heFJlbW90ZUNhbGxzID1cbiAgICAgIHRyYW5zZm9ybWVkUGFyYW1zLmNvbmZpZz8uYXV0b21hdGljRnVuY3Rpb25DYWxsaW5nPy5tYXhpbXVtUmVtb3RlQ2FsbHMgPz9cbiAgICAgIGFmYy5ERUZBVUxUX01BWF9SRU1PVEVfQ0FMTFM7XG4gICAgbGV0IHJlbW90ZUNhbGxzID0gMDtcbiAgICB3aGlsZSAocmVtb3RlQ2FsbHMgPCBtYXhSZW1vdGVDYWxscykge1xuICAgICAgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdlbmVyYXRlQ29udGVudEludGVybmFsKHRyYW5zZm9ybWVkUGFyYW1zKTtcbiAgICAgIGlmICghcmVzcG9uc2UuZnVuY3Rpb25DYWxscyB8fCByZXNwb25zZS5mdW5jdGlvbkNhbGxzIS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlQ29udGVudDogdHlwZXMuQ29udGVudCA9IHJlc3BvbnNlLmNhbmRpZGF0ZXMhWzBdLmNvbnRlbnQhO1xuICAgICAgY29uc3QgZnVuY3Rpb25SZXNwb25zZVBhcnRzOiB0eXBlcy5QYXJ0W10gPSBbXTtcbiAgICAgIGZvciAoY29uc3QgdG9vbCBvZiBwYXJhbXMuY29uZmlnPy50b29scyA/PyBbXSkge1xuICAgICAgICBpZiAoYWZjLmlzQ2FsbGFibGVUb29sKHRvb2wpKSB7XG4gICAgICAgICAgY29uc3QgY2FsbGFibGVUb29sID0gdG9vbCBhcyB0eXBlcy5DYWxsYWJsZVRvb2w7XG4gICAgICAgICAgY29uc3QgcGFydHMgPSBhd2FpdCBjYWxsYWJsZVRvb2wuY2FsbFRvb2wocmVzcG9uc2UuZnVuY3Rpb25DYWxscyEpO1xuICAgICAgICAgIGZ1bmN0aW9uUmVzcG9uc2VQYXJ0cy5wdXNoKC4uLnBhcnRzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZW1vdGVDYWxscysrO1xuXG4gICAgICBmdW5jdGlvblJlc3BvbnNlQ29udGVudCA9IHtcbiAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICBwYXJ0czogZnVuY3Rpb25SZXNwb25zZVBhcnRzLFxuICAgICAgfTtcblxuICAgICAgdHJhbnNmb3JtZWRQYXJhbXMuY29udGVudHMgPSB0Q29udGVudHModHJhbnNmb3JtZWRQYXJhbXMuY29udGVudHMpO1xuICAgICAgKHRyYW5zZm9ybWVkUGFyYW1zLmNvbnRlbnRzIGFzIHR5cGVzLkNvbnRlbnRbXSkucHVzaChyZXNwb25zZUNvbnRlbnQpO1xuICAgICAgKHRyYW5zZm9ybWVkUGFyYW1zLmNvbnRlbnRzIGFzIHR5cGVzLkNvbnRlbnRbXSkucHVzaChcbiAgICAgICAgZnVuY3Rpb25SZXNwb25zZUNvbnRlbnQsXG4gICAgICApO1xuXG4gICAgICBpZiAoYWZjLnNob3VsZEFwcGVuZEFmY0hpc3RvcnkodHJhbnNmb3JtZWRQYXJhbXMuY29uZmlnKSkge1xuICAgICAgICBhdXRvbWF0aWNGdW5jdGlvbkNhbGxpbmdIaXN0b3J5LnB1c2gocmVzcG9uc2VDb250ZW50KTtcbiAgICAgICAgYXV0b21hdGljRnVuY3Rpb25DYWxsaW5nSGlzdG9yeS5wdXNoKGZ1bmN0aW9uUmVzcG9uc2VDb250ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGFmYy5zaG91bGRBcHBlbmRBZmNIaXN0b3J5KHRyYW5zZm9ybWVkUGFyYW1zLmNvbmZpZykpIHtcbiAgICAgIHJlc3BvbnNlIS5hdXRvbWF0aWNGdW5jdGlvbkNhbGxpbmdIaXN0b3J5ID1cbiAgICAgICAgYXV0b21hdGljRnVuY3Rpb25DYWxsaW5nSGlzdG9yeTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlITtcbiAgfTtcblxuICAvKipcbiAgICogVGhpcyBsb2dpYyBpcyBuZWVkZWQgZm9yIEdlbmVyYXRlQ29udGVudENvbmZpZyBvbmx5LlxuICAgKiBQcmV2aW91c2x5IHdlIG1hZGUgR2VuZXJhdGVDb250ZW50Q29uZmlnLnJlc3BvbnNlU2NoZW1hIGZpZWxkIHRvIGFjY2VwdFxuICAgKiB1bmtub3duLiBTaW5jZSB2MS45LjAsIHdlIHN3aXRjaCB0byB1c2UgYmFja2VuZCBKU09OIHNjaGVtYSBzdXBwb3J0LlxuICAgKiBUbyBtYWludGFpbiBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCB3ZSBtb3ZlIHRoZSBkYXRhIHRoYXQgd2FzIHRyZWF0ZWQgYXNcbiAgICogSlNPTiBzY2hlbWEgZnJvbSB0aGUgcmVzcG9uc2VTY2hlbWEgZmllbGQgdG8gdGhlIHJlc3BvbnNlSnNvblNjaGVtYSBmaWVsZC5cbiAgICovXG4gIHByaXZhdGUgbWF5YmVNb3ZlVG9SZXNwb25zZUpzb25TY2hlbShcbiAgICBwYXJhbXM6IHR5cGVzLkdlbmVyYXRlQ29udGVudFBhcmFtZXRlcnMsXG4gICk6IHZvaWQge1xuICAgIGlmIChwYXJhbXMuY29uZmlnICYmIHBhcmFtcy5jb25maWcucmVzcG9uc2VTY2hlbWEpIHtcbiAgICAgIGlmICghcGFyYW1zLmNvbmZpZy5yZXNwb25zZUpzb25TY2hlbWEpIHtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHBhcmFtcy5jb25maWcucmVzcG9uc2VTY2hlbWEpLmluY2x1ZGVzKCckc2NoZW1hJykpIHtcbiAgICAgICAgICBwYXJhbXMuY29uZmlnLnJlc3BvbnNlSnNvblNjaGVtYSA9IHBhcmFtcy5jb25maWcucmVzcG9uc2VTY2hlbWE7XG4gICAgICAgICAgZGVsZXRlIHBhcmFtcy5jb25maWcucmVzcG9uc2VTY2hlbWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ha2VzIGFuIEFQSSByZXF1ZXN0IHRvIGdlbmVyYXRlIGNvbnRlbnQgd2l0aCBhIGdpdmVuIG1vZGVsIGFuZCB5aWVsZHMgdGhlXG4gICAqIHJlc3BvbnNlIGluIGNodW5rcy5cbiAgICpcbiAgICogRm9yIHRoZSBgbW9kZWxgIHBhcmFtZXRlciwgc3VwcG9ydGVkIGZvcm1hdHMgZm9yIFZlcnRleCBBSSBBUEkgaW5jbHVkZTpcbiAgICogLSBUaGUgR2VtaW5pIG1vZGVsIElELCBmb3IgZXhhbXBsZTogJ2dlbWluaS0yLjAtZmxhc2gnXG4gICAqIC0gVGhlIGZ1bGwgcmVzb3VyY2UgbmFtZSBzdGFydHMgd2l0aCAncHJvamVjdHMvJywgZm9yIGV4YW1wbGU6XG4gICAqICAncHJvamVjdHMvbXktcHJvamVjdC1pZC9sb2NhdGlvbnMvdXMtY2VudHJhbDEvcHVibGlzaGVycy9nb29nbGUvbW9kZWxzL2dlbWluaS0yLjAtZmxhc2gnXG4gICAqIC0gVGhlIHBhcnRpYWwgcmVzb3VyY2UgbmFtZSB3aXRoICdwdWJsaXNoZXJzLycsIGZvciBleGFtcGxlOlxuICAgKiAgJ3B1Ymxpc2hlcnMvZ29vZ2xlL21vZGVscy9nZW1pbmktMi4wLWZsYXNoJyBvclxuICAgKiAgJ3B1Ymxpc2hlcnMvbWV0YS9tb2RlbHMvbGxhbWEtMy4xLTQwNWItaW5zdHJ1Y3QtbWFhcydcbiAgICogLSBgL2Agc2VwYXJhdGVkIHB1Ymxpc2hlciBhbmQgbW9kZWwgbmFtZSwgZm9yIGV4YW1wbGU6XG4gICAqICdnb29nbGUvZ2VtaW5pLTIuMC1mbGFzaCcgb3IgJ21ldGEvbGxhbWEtMy4xLTQwNWItaW5zdHJ1Y3QtbWFhcydcbiAgICpcbiAgICogRm9yIHRoZSBgbW9kZWxgIHBhcmFtZXRlciwgc3VwcG9ydGVkIGZvcm1hdHMgZm9yIEdlbWluaSBBUEkgaW5jbHVkZTpcbiAgICogLSBUaGUgR2VtaW5pIG1vZGVsIElELCBmb3IgZXhhbXBsZTogJ2dlbWluaS0yLjAtZmxhc2gnXG4gICAqIC0gVGhlIG1vZGVsIG5hbWUgc3RhcnRzIHdpdGggJ21vZGVscy8nLCBmb3IgZXhhbXBsZTpcbiAgICogICdtb2RlbHMvZ2VtaW5pLTIuMC1mbGFzaCdcbiAgICogLSBGb3IgdHVuZWQgbW9kZWxzLCB0aGUgbW9kZWwgbmFtZSBzdGFydHMgd2l0aCAndHVuZWRNb2RlbHMvJyxcbiAgICogZm9yIGV4YW1wbGU6XG4gICAqICAndHVuZWRNb2RlbHMvMTIzNDU2Nzg5MDEyMzQ1Njc4OSdcbiAgICpcbiAgICogU29tZSBtb2RlbHMgc3VwcG9ydCBtdWx0aW1vZGFsIGlucHV0IGFuZCBvdXRwdXQuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgZ2VuZXJhdGluZyBjb250ZW50IHdpdGggc3RyZWFtaW5nIHJlc3BvbnNlLlxuICAgKiBAcmV0dXJuIFRoZSByZXNwb25zZSBmcm9tIGdlbmVyYXRpbmcgY29udGVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhaS5tb2RlbHMuZ2VuZXJhdGVDb250ZW50U3RyZWFtKHtcbiAgICogICBtb2RlbDogJ2dlbWluaS0yLjAtZmxhc2gnLFxuICAgKiAgIGNvbnRlbnRzOiAnd2h5IGlzIHRoZSBza3kgYmx1ZT8nLFxuICAgKiAgIGNvbmZpZzoge1xuICAgKiAgICAgbWF4T3V0cHV0VG9rZW5zOiAyMDAsXG4gICAqICAgfVxuICAgKiB9KTtcbiAgICogZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiByZXNwb25zZSkge1xuICAgKiAgIGNvbnNvbGUubG9nKGNodW5rKTtcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIGdlbmVyYXRlQ29udGVudFN0cmVhbSA9IGFzeW5jIChcbiAgICBwYXJhbXM6IHR5cGVzLkdlbmVyYXRlQ29udGVudFBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8QXN5bmNHZW5lcmF0b3I8dHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2U+PiA9PiB7XG4gICAgdGhpcy5tYXliZU1vdmVUb1Jlc3BvbnNlSnNvblNjaGVtKHBhcmFtcyk7XG4gICAgaWYgKGFmYy5zaG91bGREaXNhYmxlQWZjKHBhcmFtcy5jb25maWcpKSB7XG4gICAgICBjb25zdCB0cmFuc2Zvcm1lZFBhcmFtcyA9XG4gICAgICAgIGF3YWl0IHRoaXMucHJvY2Vzc1BhcmFtc01heWJlQWRkTWNwVXNhZ2UocGFyYW1zKTtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdlbmVyYXRlQ29udGVudFN0cmVhbUludGVybmFsKHRyYW5zZm9ybWVkUGFyYW1zKTtcbiAgICB9XG4gICAgY29uc3QgaW5jb21wYXRpYmxlVG9vbEluZGV4ZXMgPSBhZmMuZmluZEFmY0luY29tcGF0aWJsZVRvb2xJbmRleGVzKHBhcmFtcyk7XG4gICAgaWYgKGluY29tcGF0aWJsZVRvb2xJbmRleGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGZvcm1hdHRlZEluZGV4ZXMgPSBpbmNvbXBhdGlibGVUb29sSW5kZXhlc1xuICAgICAgICAubWFwKChpbmRleDogbnVtYmVyKSA9PiBgdG9vbHNbJHtpbmRleH1dYClcbiAgICAgICAgLmpvaW4oJywgJyk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBJbmNvbXBhdGlibGUgdG9vbHMgZm91bmQgYXQgJHtmb3JtYXR0ZWRJbmRleGVzfS4gQXV0b21hdGljIGZ1bmN0aW9uIGNhbGxpbmcgd2l0aCBDYWxsYWJsZVRvb2xzIChvciBNQ1Agb2JqZWN0cykgYW5kIGJhc2ljIEZ1bmN0aW9uRGVjbGFyYXRpb25zXCIgaXMgbm90IHlldCBzdXBwb3J0ZWQuYCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gV2l0aCB0b29sIGNvbXBhdGliaWxpdHkgY29uZmlybWVkLCB2YWxpZGF0ZSB0aGF0IHRoZSBjb25maWd1cmF0aW9uIGFyZVxuICAgIC8vIGNvbXBhdGlibGUgd2l0aCBlYWNoIG90aGVyIGFuZCByYWlzZSBhbiBlcnJvciBpZiBpbnZhbGlkLlxuICAgIGNvbnN0IHN0cmVhbUZ1bmN0aW9uQ2FsbCA9XG4gICAgICBwYXJhbXM/LmNvbmZpZz8udG9vbENvbmZpZz8uZnVuY3Rpb25DYWxsaW5nQ29uZmlnXG4gICAgICAgID8uc3RyZWFtRnVuY3Rpb25DYWxsQXJndW1lbnRzO1xuICAgIGNvbnN0IGRpc2FibGVBZmMgPSBwYXJhbXM/LmNvbmZpZz8uYXV0b21hdGljRnVuY3Rpb25DYWxsaW5nPy5kaXNhYmxlO1xuXG4gICAgaWYgKHN0cmVhbUZ1bmN0aW9uQ2FsbCAmJiAhZGlzYWJsZUFmYykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlJ1bm5pbmcgaW4gc3RyZWFtaW5nIG1vZGUgd2l0aCAnc3RyZWFtRnVuY3Rpb25DYWxsQXJndW1lbnRzJyBlbmFibGVkLCBcIiArXG4gICAgICAgICAgJ3RoaXMgZmVhdHVyZSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIGF1dG9tYXRpYyBmdW5jdGlvbiBjYWxsaW5nIChBRkMpLiAnICtcbiAgICAgICAgICBcIlBsZWFzZSBzZXQgJ2NvbmZpZy5hdXRvbWF0aWNGdW5jdGlvbkNhbGxpbmcuZGlzYWJsZScgdG8gdHJ1ZSB0byBkaXNhYmxlIEFGQyBcIiArXG4gICAgICAgICAgXCJvciBsZWF2ZSAnY29uZmlnLnRvb2xDb25maWcuZnVuY3Rpb25DYWxsaW5nQ29uZmlnLnN0cmVhbUZ1bmN0aW9uQ2FsbEFyZ3VtZW50cycgXCIgK1xuICAgICAgICAgICd0byBiZSB1bmRlZmluZWQgb3Igc2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgc3RyZWFtaW5nIGZ1bmN0aW9uIGNhbGwgYXJndW1lbnRzIGZlYXR1cmUuJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMucHJvY2Vzc0FmY1N0cmVhbShwYXJhbXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUcmFuc2Zvcm1zIHRoZSBDYWxsYWJsZVRvb2xzIGluIHRoZSBwYXJhbWV0ZXJzIHRvIGJlIHNpbXBseSBUb29scywgaXRcbiAgICogY29waWVzIHRoZSBwYXJhbXMgaW50byBhIG5ldyBvYmplY3QgYW5kIHJlcGxhY2VzIHRoZSB0b29scywgaXQgZG9lcyBub3RcbiAgICogbW9kaWZ5IHRoZSBvcmlnaW5hbCBwYXJhbXMuIEFsc28gc2V0cyB0aGUgTUNQIHVzYWdlIGhlYWRlciBpZiB0aGVyZSBhcmVcbiAgICogTUNQIHRvb2xzIGluIHRoZSBwYXJhbWV0ZXJzLlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBwcm9jZXNzUGFyYW1zTWF5YmVBZGRNY3BVc2FnZShcbiAgICBwYXJhbXM6IHR5cGVzLkdlbmVyYXRlQ29udGVudFBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuR2VuZXJhdGVDb250ZW50UGFyYW1ldGVycz4ge1xuICAgIGNvbnN0IHRvb2xzID0gcGFyYW1zLmNvbmZpZz8udG9vbHM7XG4gICAgaWYgKCF0b29scykge1xuICAgICAgcmV0dXJuIHBhcmFtcztcbiAgICB9XG4gICAgY29uc3QgdHJhbnNmb3JtZWRUb29scyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgdG9vbHMubWFwKGFzeW5jICh0b29sKSA9PiB7XG4gICAgICAgIGlmIChhZmMuaXNDYWxsYWJsZVRvb2wodG9vbCkpIHtcbiAgICAgICAgICBjb25zdCBjYWxsYWJsZVRvb2wgPSB0b29sIGFzIHR5cGVzLkNhbGxhYmxlVG9vbDtcbiAgICAgICAgICByZXR1cm4gYXdhaXQgY2FsbGFibGVUb29sLnRvb2woKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9vbDtcbiAgICAgIH0pLFxuICAgICk7XG4gICAgY29uc3QgbmV3UGFyYW1zOiB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRQYXJhbWV0ZXJzID0ge1xuICAgICAgbW9kZWw6IHBhcmFtcy5tb2RlbCxcbiAgICAgIGNvbnRlbnRzOiBwYXJhbXMuY29udGVudHMsXG4gICAgICBjb25maWc6IHtcbiAgICAgICAgLi4ucGFyYW1zLmNvbmZpZyxcbiAgICAgICAgdG9vbHM6IHRyYW5zZm9ybWVkVG9vbHMsXG4gICAgICB9LFxuICAgIH07XG4gICAgbmV3UGFyYW1zLmNvbmZpZyEudG9vbHMgPSB0cmFuc2Zvcm1lZFRvb2xzO1xuXG4gICAgaWYgKFxuICAgICAgcGFyYW1zLmNvbmZpZyAmJlxuICAgICAgcGFyYW1zLmNvbmZpZy50b29scyAmJlxuICAgICAgbWNwLmhhc01jcFRvb2xVc2FnZShwYXJhbXMuY29uZmlnLnRvb2xzKVxuICAgICkge1xuICAgICAgY29uc3QgaGVhZGVycyA9IHBhcmFtcy5jb25maWcuaHR0cE9wdGlvbnM/LmhlYWRlcnMgPz8ge307XG4gICAgICBsZXQgbmV3SGVhZGVycyA9IHsuLi5oZWFkZXJzfTtcbiAgICAgIGlmIChPYmplY3Qua2V5cyhuZXdIZWFkZXJzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgbmV3SGVhZGVycyA9IHRoaXMuYXBpQ2xpZW50LmdldERlZmF1bHRIZWFkZXJzKCk7XG4gICAgICB9XG4gICAgICBtY3Auc2V0TWNwVXNhZ2VIZWFkZXIobmV3SGVhZGVycyk7XG4gICAgICBuZXdQYXJhbXMuY29uZmlnIS5odHRwT3B0aW9ucyA9IHtcbiAgICAgICAgLi4ucGFyYW1zLmNvbmZpZy5odHRwT3B0aW9ucyxcbiAgICAgICAgaGVhZGVyczogbmV3SGVhZGVycyxcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBuZXdQYXJhbXM7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGluaXRBZmNUb29sc01hcChcbiAgICBwYXJhbXM6IHR5cGVzLkdlbmVyYXRlQ29udGVudFBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8TWFwPHN0cmluZywgdHlwZXMuQ2FsbGFibGVUb29sPj4ge1xuICAgIGNvbnN0IGFmY1Rvb2xzOiBNYXA8c3RyaW5nLCB0eXBlcy5DYWxsYWJsZVRvb2w+ID0gbmV3IE1hcCgpO1xuICAgIGZvciAoY29uc3QgdG9vbCBvZiBwYXJhbXMuY29uZmlnPy50b29scyA/PyBbXSkge1xuICAgICAgaWYgKGFmYy5pc0NhbGxhYmxlVG9vbCh0b29sKSkge1xuICAgICAgICBjb25zdCBjYWxsYWJsZVRvb2wgPSB0b29sIGFzIHR5cGVzLkNhbGxhYmxlVG9vbDtcbiAgICAgICAgY29uc3QgdG9vbERlY2xhcmF0aW9uID0gYXdhaXQgY2FsbGFibGVUb29sLnRvb2woKTtcbiAgICAgICAgZm9yIChjb25zdCBkZWNsYXJhdGlvbiBvZiB0b29sRGVjbGFyYXRpb24uZnVuY3Rpb25EZWNsYXJhdGlvbnMgPz8gW10pIHtcbiAgICAgICAgICBpZiAoIWRlY2xhcmF0aW9uLm5hbWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRnVuY3Rpb24gZGVjbGFyYXRpb24gbmFtZSBpcyByZXF1aXJlZC4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGFmY1Rvb2xzLmhhcyhkZWNsYXJhdGlvbi5uYW1lKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgRHVwbGljYXRlIHRvb2wgZGVjbGFyYXRpb24gbmFtZTogJHtkZWNsYXJhdGlvbi5uYW1lfWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhZmNUb29scy5zZXQoZGVjbGFyYXRpb24ubmFtZSwgY2FsbGFibGVUb29sKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYWZjVG9vbHM7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHByb2Nlc3NBZmNTdHJlYW0oXG4gICAgcGFyYW1zOiB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPEFzeW5jR2VuZXJhdG9yPHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlPj4ge1xuICAgIGNvbnN0IG1heFJlbW90ZUNhbGxzID1cbiAgICAgIHBhcmFtcy5jb25maWc/LmF1dG9tYXRpY0Z1bmN0aW9uQ2FsbGluZz8ubWF4aW11bVJlbW90ZUNhbGxzID8/XG4gICAgICBhZmMuREVGQVVMVF9NQVhfUkVNT1RFX0NBTExTO1xuICAgIGxldCB3ZXJlRnVuY3Rpb25zQ2FsbGVkID0gZmFsc2U7XG4gICAgbGV0IHJlbW90ZUNhbGxDb3VudCA9IDA7XG4gICAgY29uc3QgYWZjVG9vbHNNYXAgPSBhd2FpdCB0aGlzLmluaXRBZmNUb29sc01hcChwYXJhbXMpO1xuICAgIHJldHVybiAoYXN5bmMgZnVuY3Rpb24qIChcbiAgICAgIG1vZGVsczogTW9kZWxzLFxuICAgICAgYWZjVG9vbHM6IE1hcDxzdHJpbmcsIHR5cGVzLkNhbGxhYmxlVG9vbD4sXG4gICAgICBwYXJhbXM6IHR5cGVzLkdlbmVyYXRlQ29udGVudFBhcmFtZXRlcnMsXG4gICAgKSB7XG4gICAgICB3aGlsZSAocmVtb3RlQ2FsbENvdW50IDwgbWF4UmVtb3RlQ2FsbHMpIHtcbiAgICAgICAgaWYgKHdlcmVGdW5jdGlvbnNDYWxsZWQpIHtcbiAgICAgICAgICByZW1vdGVDYWxsQ291bnQrKztcbiAgICAgICAgICB3ZXJlRnVuY3Rpb25zQ2FsbGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRQYXJhbXMgPVxuICAgICAgICAgIGF3YWl0IG1vZGVscy5wcm9jZXNzUGFyYW1zTWF5YmVBZGRNY3BVc2FnZShwYXJhbXMpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9XG4gICAgICAgICAgYXdhaXQgbW9kZWxzLmdlbmVyYXRlQ29udGVudFN0cmVhbUludGVybmFsKHRyYW5zZm9ybWVkUGFyYW1zKTtcblxuICAgICAgICBjb25zdCBmdW5jdGlvblJlc3BvbnNlczogdHlwZXMuUGFydFtdID0gW107XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlQ29udGVudHM6IHR5cGVzLkNvbnRlbnRbXSA9IFtdO1xuXG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgcmVzcG9uc2UpIHtcbiAgICAgICAgICB5aWVsZCBjaHVuaztcbiAgICAgICAgICBpZiAoY2h1bmsuY2FuZGlkYXRlcyAmJiBjaHVuay5jYW5kaWRhdGVzWzBdPy5jb250ZW50KSB7XG4gICAgICAgICAgICByZXNwb25zZUNvbnRlbnRzLnB1c2goY2h1bmsuY2FuZGlkYXRlc1swXS5jb250ZW50KTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBjaHVuay5jYW5kaWRhdGVzWzBdLmNvbnRlbnQucGFydHMgPz8gW10pIHtcbiAgICAgICAgICAgICAgaWYgKHJlbW90ZUNhbGxDb3VudCA8IG1heFJlbW90ZUNhbGxzICYmIHBhcnQuZnVuY3Rpb25DYWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJ0LmZ1bmN0aW9uQ2FsbC5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICdGdW5jdGlvbiBjYWxsIG5hbWUgd2FzIG5vdCByZXR1cm5lZCBieSB0aGUgbW9kZWwuJyxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghYWZjVG9vbHMuaGFzKHBhcnQuZnVuY3Rpb25DYWxsLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIGBBdXRvbWF0aWMgZnVuY3Rpb24gY2FsbGluZyB3YXMgcmVxdWVzdGVkLCBidXQgbm90IGFsbCB0aGUgdG9vbHMgdGhlIG1vZGVsIHVzZWQgaW1wbGVtZW50IHRoZSBDYWxsYWJsZVRvb2wgaW50ZXJmYWNlLiBBdmFpbGFibGUgdG9vbHM6ICR7YWZjVG9vbHMua2V5cygpfSwgbWlzaW5nIHRvb2w6ICR7XG4gICAgICAgICAgICAgICAgICAgICAgcGFydC5mdW5jdGlvbkNhbGwubmFtZVxuICAgICAgICAgICAgICAgICAgICB9YCxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlUGFydHMgPSBhd2FpdCBhZmNUb29sc1xuICAgICAgICAgICAgICAgICAgICAuZ2V0KHBhcnQuZnVuY3Rpb25DYWxsLm5hbWUpIVxuICAgICAgICAgICAgICAgICAgICAuY2FsbFRvb2woW3BhcnQuZnVuY3Rpb25DYWxsXSk7XG4gICAgICAgICAgICAgICAgICBmdW5jdGlvblJlc3BvbnNlcy5wdXNoKC4uLnJlc3BvbnNlUGFydHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmdW5jdGlvblJlc3BvbnNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgd2VyZUZ1bmN0aW9uc0NhbGxlZCA9IHRydWU7XG4gICAgICAgICAgY29uc3QgdHlwZWRSZXNwb25zZUNodW5rID0gbmV3IHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlKCk7XG4gICAgICAgICAgdHlwZWRSZXNwb25zZUNodW5rLmNhbmRpZGF0ZXMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICAgICAgcGFydHM6IGZ1bmN0aW9uUmVzcG9uc2VzLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdO1xuXG4gICAgICAgICAgeWllbGQgdHlwZWRSZXNwb25zZUNodW5rO1xuXG4gICAgICAgICAgY29uc3QgbmV3Q29udGVudHM6IHR5cGVzLkNvbnRlbnRbXSA9IFtdO1xuICAgICAgICAgIG5ld0NvbnRlbnRzLnB1c2goLi4ucmVzcG9uc2VDb250ZW50cyk7XG4gICAgICAgICAgbmV3Q29udGVudHMucHVzaCh7XG4gICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICBwYXJ0czogZnVuY3Rpb25SZXNwb25zZXMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgdXBkYXRlZENvbnRlbnRzID0gdENvbnRlbnRzKHBhcmFtcy5jb250ZW50cykuY29uY2F0KFxuICAgICAgICAgICAgbmV3Q29udGVudHMsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHBhcmFtcy5jb250ZW50cyA9IHVwZGF0ZWRDb250ZW50cztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKHRoaXMsIGFmY1Rvb2xzTWFwLCBwYXJhbXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhbiBpbWFnZSBiYXNlZCBvbiBhIHRleHQgZGVzY3JpcHRpb24gYW5kIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgZ2VuZXJhdGluZyBpbWFnZXMuXG4gICAqIEByZXR1cm4gVGhlIHJlc3BvbnNlIGZyb20gdGhlIEFQSS5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjbGllbnQubW9kZWxzLmdlbmVyYXRlSW1hZ2VzKHtcbiAgICogIG1vZGVsOiAnaW1hZ2VuLTMuMC1nZW5lcmF0ZS0wMDInLFxuICAgKiAgcHJvbXB0OiAnUm9ib3QgaG9sZGluZyBhIHJlZCBza2F0ZWJvYXJkJyxcbiAgICogIGNvbmZpZzoge1xuICAgKiAgICBudW1iZXJPZkltYWdlczogMSxcbiAgICogICAgaW5jbHVkZVJhaVJlYXNvbjogdHJ1ZSxcbiAgICogIH0sXG4gICAqIH0pO1xuICAgKiBjb25zb2xlLmxvZyhyZXNwb25zZT8uZ2VuZXJhdGVkSW1hZ2VzPy5bMF0/LmltYWdlPy5pbWFnZUJ5dGVzKTtcbiAgICogYGBgXG4gICAqL1xuICBnZW5lcmF0ZUltYWdlcyA9IGFzeW5jIChcbiAgICBwYXJhbXM6IHR5cGVzLkdlbmVyYXRlSW1hZ2VzUGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5HZW5lcmF0ZUltYWdlc1Jlc3BvbnNlPiA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2VuZXJhdGVJbWFnZXNJbnRlcm5hbChwYXJhbXMpLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICBsZXQgcG9zaXRpdmVQcm9tcHRTYWZldHlBdHRyaWJ1dGVzO1xuICAgICAgY29uc3QgZ2VuZXJhdGVkSW1hZ2VzID0gW107XG5cbiAgICAgIGlmIChhcGlSZXNwb25zZT8uZ2VuZXJhdGVkSW1hZ2VzKSB7XG4gICAgICAgIGZvciAoY29uc3QgZ2VuZXJhdGVkSW1hZ2Ugb2YgYXBpUmVzcG9uc2UuZ2VuZXJhdGVkSW1hZ2VzKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgZ2VuZXJhdGVkSW1hZ2UgJiZcbiAgICAgICAgICAgIGdlbmVyYXRlZEltYWdlPy5zYWZldHlBdHRyaWJ1dGVzICYmXG4gICAgICAgICAgICBnZW5lcmF0ZWRJbWFnZT8uc2FmZXR5QXR0cmlidXRlcz8uY29udGVudFR5cGUgPT09ICdQb3NpdGl2ZSBQcm9tcHQnXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBwb3NpdGl2ZVByb21wdFNhZmV0eUF0dHJpYnV0ZXMgPSBnZW5lcmF0ZWRJbWFnZT8uc2FmZXR5QXR0cmlidXRlcztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2VuZXJhdGVkSW1hZ2VzLnB1c2goZ2VuZXJhdGVkSW1hZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IHJlc3BvbnNlOiB0eXBlcy5HZW5lcmF0ZUltYWdlc1Jlc3BvbnNlO1xuXG4gICAgICBpZiAocG9zaXRpdmVQcm9tcHRTYWZldHlBdHRyaWJ1dGVzKSB7XG4gICAgICAgIHJlc3BvbnNlID0ge1xuICAgICAgICAgIGdlbmVyYXRlZEltYWdlczogZ2VuZXJhdGVkSW1hZ2VzLFxuICAgICAgICAgIHBvc2l0aXZlUHJvbXB0U2FmZXR5QXR0cmlidXRlczogcG9zaXRpdmVQcm9tcHRTYWZldHlBdHRyaWJ1dGVzLFxuICAgICAgICAgIHNka0h0dHBSZXNwb25zZTogYXBpUmVzcG9uc2Uuc2RrSHR0cFJlc3BvbnNlLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgZ2VuZXJhdGVkSW1hZ2VzOiBnZW5lcmF0ZWRJbWFnZXMsXG4gICAgICAgICAgc2RrSHR0cFJlc3BvbnNlOiBhcGlSZXNwb25zZS5zZGtIdHRwUmVzcG9uc2UsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSk7XG4gIH07XG5cbiAgbGlzdCA9IGFzeW5jIChcbiAgICBwYXJhbXM/OiB0eXBlcy5MaXN0TW9kZWxzUGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTxQYWdlcjx0eXBlcy5Nb2RlbD4+ID0+IHtcbiAgICBjb25zdCBkZWZhdWx0Q29uZmlnOiB0eXBlcy5MaXN0TW9kZWxzQ29uZmlnID0ge1xuICAgICAgcXVlcnlCYXNlOiB0cnVlLFxuICAgIH07XG4gICAgY29uc3QgYWN0dWFsQ29uZmlnOiB0eXBlcy5MaXN0TW9kZWxzQ29uZmlnID0ge1xuICAgICAgLi4uZGVmYXVsdENvbmZpZyxcbiAgICAgIC4uLnBhcmFtcz8uY29uZmlnLFxuICAgIH07XG4gICAgY29uc3QgYWN0dWFsUGFyYW1zOiB0eXBlcy5MaXN0TW9kZWxzUGFyYW1ldGVycyA9IHtcbiAgICAgIGNvbmZpZzogYWN0dWFsQ29uZmlnLFxuICAgIH07XG5cbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBpZiAoIWFjdHVhbFBhcmFtcy5jb25maWchLnF1ZXJ5QmFzZSkge1xuICAgICAgICBpZiAoYWN0dWFsUGFyYW1zLmNvbmZpZz8uZmlsdGVyKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgJ0ZpbHRlcmluZyB0dW5lZCBtb2RlbHMgbGlzdCBmb3IgVmVydGV4IEFJIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkJyxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdHVhbFBhcmFtcy5jb25maWchLmZpbHRlciA9ICdsYWJlbHMudHVuZS10eXBlOionO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQYWdlcjx0eXBlcy5Nb2RlbD4oXG4gICAgICBQYWdlZEl0ZW0uUEFHRURfSVRFTV9NT0RFTFMsXG4gICAgICAoeDogdHlwZXMuTGlzdE1vZGVsc1BhcmFtZXRlcnMpID0+IHRoaXMubGlzdEludGVybmFsKHgpLFxuICAgICAgYXdhaXQgdGhpcy5saXN0SW50ZXJuYWwoYWN0dWFsUGFyYW1zKSxcbiAgICAgIGFjdHVhbFBhcmFtcyxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBFZGl0cyBhbiBpbWFnZSBiYXNlZCBvbiBhIHByb21wdCwgbGlzdCBvZiByZWZlcmVuY2UgaW1hZ2VzLCBhbmQgY29uZmlndXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBlZGl0aW5nIGFuIGltYWdlLlxuICAgKiBAcmV0dXJuIFRoZSByZXNwb25zZSBmcm9tIHRoZSBBUEkuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2xpZW50Lm1vZGVscy5lZGl0SW1hZ2Uoe1xuICAgKiAgbW9kZWw6ICdpbWFnZW4tMy4wLWNhcGFiaWxpdHktMDAxJyxcbiAgICogIHByb21wdDogJ0dlbmVyYXRlIGFuIGltYWdlIGNvbnRhaW5pbmcgYSBtdWcgd2l0aCB0aGUgcHJvZHVjdCBsb2dvIFsxXSB2aXNpYmxlIG9uIHRoZSBzaWRlIG9mIHRoZSBtdWcuJyxcbiAgICogIHJlZmVyZW5jZUltYWdlczogW3N1YmplY3RSZWZlcmVuY2VJbWFnZV1cbiAgICogIGNvbmZpZzoge1xuICAgKiAgICBudW1iZXJPZkltYWdlczogMSxcbiAgICogICAgaW5jbHVkZVJhaVJlYXNvbjogdHJ1ZSxcbiAgICogIH0sXG4gICAqIH0pO1xuICAgKiBjb25zb2xlLmxvZyhyZXNwb25zZT8uZ2VuZXJhdGVkSW1hZ2VzPy5bMF0/LmltYWdlPy5pbWFnZUJ5dGVzKTtcbiAgICogYGBgXG4gICAqL1xuICBlZGl0SW1hZ2UgPSBhc3luYyAoXG4gICAgcGFyYW1zOiB0eXBlcy5FZGl0SW1hZ2VQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkVkaXRJbWFnZVJlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgcGFyYW1zSW50ZXJuYWw6IF9pbnRlcm5hbF90eXBlcy5FZGl0SW1hZ2VQYXJhbWV0ZXJzSW50ZXJuYWwgPSB7XG4gICAgICBtb2RlbDogcGFyYW1zLm1vZGVsLFxuICAgICAgcHJvbXB0OiBwYXJhbXMucHJvbXB0LFxuICAgICAgcmVmZXJlbmNlSW1hZ2VzOiBbXSxcbiAgICAgIGNvbmZpZzogcGFyYW1zLmNvbmZpZyxcbiAgICB9O1xuICAgIGlmIChwYXJhbXMucmVmZXJlbmNlSW1hZ2VzKSB7XG4gICAgICBpZiAocGFyYW1zLnJlZmVyZW5jZUltYWdlcykge1xuICAgICAgICBwYXJhbXNJbnRlcm5hbC5yZWZlcmVuY2VJbWFnZXMgPSBwYXJhbXMucmVmZXJlbmNlSW1hZ2VzLm1hcCgoaW1nKSA9PlxuICAgICAgICAgIGltZy50b1JlZmVyZW5jZUltYWdlQVBJKCksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCB0aGlzLmVkaXRJbWFnZUludGVybmFsKHBhcmFtc0ludGVybmFsKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBzY2FsZXMgYW4gaW1hZ2UgYmFzZWQgb24gYW4gaW1hZ2UsIHVwc2NhbGUgZmFjdG9yLCBhbmQgY29uZmlndXJhdGlvbi5cbiAgICogT25seSBzdXBwb3J0ZWQgaW4gVmVydGV4IEFJIGN1cnJlbnRseS5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciB1cHNjYWxpbmcgYW4gaW1hZ2UuXG4gICAqIEByZXR1cm4gVGhlIHJlc3BvbnNlIGZyb20gdGhlIEFQSS5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjbGllbnQubW9kZWxzLnVwc2NhbGVJbWFnZSh7XG4gICAqICBtb2RlbDogJ2ltYWdlbi0zLjAtZ2VuZXJhdGUtMDAyJyxcbiAgICogIGltYWdlOiBpbWFnZSxcbiAgICogIHVwc2NhbGVGYWN0b3I6ICd4MicsXG4gICAqICBjb25maWc6IHtcbiAgICogICAgaW5jbHVkZVJhaVJlYXNvbjogdHJ1ZSxcbiAgICogIH0sXG4gICAqIH0pO1xuICAgKiBjb25zb2xlLmxvZyhyZXNwb25zZT8uZ2VuZXJhdGVkSW1hZ2VzPy5bMF0/LmltYWdlPy5pbWFnZUJ5dGVzKTtcbiAgICogYGBgXG4gICAqL1xuICB1cHNjYWxlSW1hZ2UgPSBhc3luYyAoXG4gICAgcGFyYW1zOiB0eXBlcy5VcHNjYWxlSW1hZ2VQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLlVwc2NhbGVJbWFnZVJlc3BvbnNlPiA9PiB7XG4gICAgbGV0IGFwaUNvbmZpZzogX2ludGVybmFsX3R5cGVzLlVwc2NhbGVJbWFnZUFQSUNvbmZpZ0ludGVybmFsID0ge1xuICAgICAgbnVtYmVyT2ZJbWFnZXM6IDEsXG4gICAgICBtb2RlOiAndXBzY2FsZScsXG4gICAgfTtcblxuICAgIGlmIChwYXJhbXMuY29uZmlnKSB7XG4gICAgICBhcGlDb25maWcgPSB7Li4uYXBpQ29uZmlnLCAuLi5wYXJhbXMuY29uZmlnfTtcbiAgICB9XG5cbiAgICBjb25zdCBhcGlQYXJhbXM6IF9pbnRlcm5hbF90eXBlcy5VcHNjYWxlSW1hZ2VBUElQYXJhbWV0ZXJzSW50ZXJuYWwgPSB7XG4gICAgICBtb2RlbDogcGFyYW1zLm1vZGVsLFxuICAgICAgaW1hZ2U6IHBhcmFtcy5pbWFnZSxcbiAgICAgIHVwc2NhbGVGYWN0b3I6IHBhcmFtcy51cHNjYWxlRmFjdG9yLFxuICAgICAgY29uZmlnOiBhcGlDb25maWcsXG4gICAgfTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy51cHNjYWxlSW1hZ2VJbnRlcm5hbChhcGlQYXJhbXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiAgR2VuZXJhdGVzIHZpZGVvcyBiYXNlZCBvbiBhIHRleHQgZGVzY3JpcHRpb24gYW5kIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgZ2VuZXJhdGluZyB2aWRlb3MuXG4gICAqIEByZXR1cm4gQSBQcm9taXNlPEdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uPiB3aGljaCBhbGxvd3MgeW91IHRvIHRyYWNrIHRoZSBwcm9ncmVzcyBhbmQgZXZlbnR1YWxseSByZXRyaWV2ZSB0aGUgZ2VuZXJhdGVkIHZpZGVvcyB1c2luZyB0aGUgb3BlcmF0aW9ucy5nZXQgbWV0aG9kLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBvcGVyYXRpb24gPSBhd2FpdCBhaS5tb2RlbHMuZ2VuZXJhdGVWaWRlb3Moe1xuICAgKiAgbW9kZWw6ICd2ZW8tMi4wLWdlbmVyYXRlLTAwMScsXG4gICAqICBzb3VyY2U6IHtcbiAgICogICAgcHJvbXB0OiAnQSBuZW9uIGhvbG9ncmFtIG9mIGEgY2F0IGRyaXZpbmcgYXQgdG9wIHNwZWVkJyxcbiAgICogIH0sXG4gICAqICBjb25maWc6IHtcbiAgICogICAgbnVtYmVyT2ZWaWRlb3M6IDFcbiAgICogfSk7XG4gICAqXG4gICAqIHdoaWxlICghb3BlcmF0aW9uLmRvbmUpIHtcbiAgICogICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMDApKTtcbiAgICogICBvcGVyYXRpb24gPSBhd2FpdCBhaS5vcGVyYXRpb25zLmdldFZpZGVvc09wZXJhdGlvbih7b3BlcmF0aW9uOiBvcGVyYXRpb259KTtcbiAgICogfVxuICAgKlxuICAgKiBjb25zb2xlLmxvZyhvcGVyYXRpb24ucmVzcG9uc2U/LmdlbmVyYXRlZFZpZGVvcz8uWzBdPy52aWRlbz8udXJpKTtcbiAgICogYGBgXG4gICAqL1xuXG4gIGdlbmVyYXRlVmlkZW9zID0gYXN5bmMgKFxuICAgIHBhcmFtczogdHlwZXMuR2VuZXJhdGVWaWRlb3NQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uPiA9PiB7XG4gICAgaWYgKChwYXJhbXMucHJvbXB0IHx8IHBhcmFtcy5pbWFnZSB8fCBwYXJhbXMudmlkZW8pICYmIHBhcmFtcy5zb3VyY2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1NvdXJjZSBhbmQgcHJvbXB0L2ltYWdlL3ZpZGVvIGFyZSBtdXR1YWxseSBleGNsdXNpdmUuIFBsZWFzZSBvbmx5IHVzZSBzb3VyY2UuJyxcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIEdlbWluaSBBUEkgZG9lcyBub3Qgc3VwcG9ydCB2aWRlbyBieXRlcy5cbiAgICBpZiAoIXRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgaWYgKHBhcmFtcy52aWRlbz8udXJpICYmIHBhcmFtcy52aWRlbz8udmlkZW9CeXRlcykge1xuICAgICAgICBwYXJhbXMudmlkZW8gPSB7XG4gICAgICAgICAgdXJpOiBwYXJhbXMudmlkZW8udXJpLFxuICAgICAgICAgIG1pbWVUeXBlOiBwYXJhbXMudmlkZW8ubWltZVR5cGUsXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBwYXJhbXMuc291cmNlPy52aWRlbz8udXJpICYmXG4gICAgICAgIHBhcmFtcy5zb3VyY2U/LnZpZGVvPy52aWRlb0J5dGVzXG4gICAgICApIHtcbiAgICAgICAgcGFyYW1zLnNvdXJjZS52aWRlbyA9IHtcbiAgICAgICAgICB1cmk6IHBhcmFtcy5zb3VyY2UudmlkZW8udXJpLFxuICAgICAgICAgIG1pbWVUeXBlOiBwYXJhbXMuc291cmNlLnZpZGVvLm1pbWVUeXBlLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgdGhpcy5nZW5lcmF0ZVZpZGVvc0ludGVybmFsKHBhcmFtcyk7XG4gIH07XG5cbiAgcHJpdmF0ZSBhc3luYyBnZW5lcmF0ZUNvbnRlbnRJbnRlcm5hbChcbiAgICBwYXJhbXM6IHR5cGVzLkdlbmVyYXRlQ29udGVudFBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2U+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2U+O1xuXG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlQ29udGVudFBhcmFtZXRlcnNUb1ZlcnRleChcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3ttb2RlbH06Z2VuZXJhdGVDb250ZW50JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCkudGhlbigoanNvblJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGpzb25SZXNwb25zZSBhcyB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZTtcbiAgICAgICAgICAgIHJlc3BvbnNlLnNka0h0dHBSZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgaGVhZGVyczogaHR0cFJlc3BvbnNlLmhlYWRlcnMsXG4gICAgICAgICAgICB9IGFzIHR5cGVzLkh0dHBSZXNwb25zZTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5nZW5lcmF0ZUNvbnRlbnRSZXNwb25zZUZyb21WZXJ0ZXgoYXBpUmVzcG9uc2UpO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2UoKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICAgICAgICByZXR1cm4gdHlwZWRSZXNwO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlQ29udGVudFBhcmFtZXRlcnNUb01sZGV2KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne21vZGVsfTpnZW5lcmF0ZUNvbnRlbnQnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKS50aGVuKChqc29uUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ganNvblJlc3BvbnNlIGFzIHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlO1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2RrSHR0cFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICBoZWFkZXJzOiBodHRwUmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICAgIH0gYXMgdHlwZXMuSHR0cFJlc3BvbnNlO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlQ29udGVudFJlc3BvbnNlRnJvbU1sZGV2KGFwaVJlc3BvbnNlKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVDb250ZW50U3RyZWFtSW50ZXJuYWwoXG4gICAgcGFyYW1zOiB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPEFzeW5jR2VuZXJhdG9yPHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlPj4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTxBc3luY0dlbmVyYXRvcjx0eXBlcy5IdHRwUmVzcG9uc2U+PjtcblxuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5nZW5lcmF0ZUNvbnRlbnRQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bW9kZWx9OnN0cmVhbUdlbmVyYXRlQ29udGVudD9hbHQ9c3NlJyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIGNvbnN0IGFwaUNsaWVudCA9IHRoaXMuYXBpQ2xpZW50O1xuICAgICAgcmVzcG9uc2UgPSBhcGlDbGllbnQucmVxdWVzdFN0cmVhbSh7XG4gICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICB9KSBhcyBQcm9taXNlPEFzeW5jR2VuZXJhdG9yPHR5cGVzLkh0dHBSZXNwb25zZT4+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbihhc3luYyBmdW5jdGlvbiogKFxuICAgICAgICBhcGlSZXNwb25zZTogQXN5bmNHZW5lcmF0b3I8dHlwZXMuSHR0cFJlc3BvbnNlPixcbiAgICAgICkge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGFwaVJlc3BvbnNlKSB7XG4gICAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuZ2VuZXJhdGVDb250ZW50UmVzcG9uc2VGcm9tVmVydGV4KFxuICAgICAgICAgICAgKGF3YWl0IGNodW5rLmpzb24oKSkgYXMgdHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2UsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHJlc3BbJ3Nka0h0dHBSZXNwb25zZSddID0ge1xuICAgICAgICAgICAgaGVhZGVyczogY2h1bmsuaGVhZGVycyxcbiAgICAgICAgICB9IGFzIHR5cGVzLkh0dHBSZXNwb25zZTtcblxuICAgICAgICAgIGNvbnN0IHR5cGVkUmVzcCA9IG5ldyB0eXBlcy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZSgpO1xuICAgICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgICB5aWVsZCB0eXBlZFJlc3A7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5nZW5lcmF0ZUNvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldihcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3ttb2RlbH06c3RyZWFtR2VuZXJhdGVDb250ZW50P2FsdD1zc2UnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgY29uc3QgYXBpQ2xpZW50ID0gdGhpcy5hcGlDbGllbnQ7XG4gICAgICByZXNwb25zZSA9IGFwaUNsaWVudC5yZXF1ZXN0U3RyZWFtKHtcbiAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgIH0pIGFzIFByb21pc2U8QXN5bmNHZW5lcmF0b3I8dHlwZXMuSHR0cFJlc3BvbnNlPj47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKGFzeW5jIGZ1bmN0aW9uKiAoXG4gICAgICAgIGFwaVJlc3BvbnNlOiBBc3luY0dlbmVyYXRvcjx0eXBlcy5IdHRwUmVzcG9uc2U+LFxuICAgICAgKSB7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgYXBpUmVzcG9uc2UpIHtcbiAgICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5nZW5lcmF0ZUNvbnRlbnRSZXNwb25zZUZyb21NbGRldihcbiAgICAgICAgICAgIChhd2FpdCBjaHVuay5qc29uKCkpIGFzIHR5cGVzLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICByZXNwWydzZGtIdHRwUmVzcG9uc2UnXSA9IHtcbiAgICAgICAgICAgIGhlYWRlcnM6IGNodW5rLmhlYWRlcnMsXG4gICAgICAgICAgfSBhcyB0eXBlcy5IdHRwUmVzcG9uc2U7XG5cbiAgICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2UoKTtcbiAgICAgICAgICBPYmplY3QuYXNzaWduKHR5cGVkUmVzcCwgcmVzcCk7XG4gICAgICAgICAgeWllbGQgdHlwZWRSZXNwO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyBlbWJlZGRpbmdzIGZvciB0aGUgZ2l2ZW4gY29udGVudHMuIE9ubHkgdGV4dCBpcyBzdXBwb3J0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgZW1iZWRkaW5nIGNvbnRlbnRzLlxuICAgKiBAcmV0dXJuIFRoZSByZXNwb25zZSBmcm9tIHRoZSBBUEkuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYWkubW9kZWxzLmVtYmVkQ29udGVudCh7XG4gICAqICBtb2RlbDogJ3RleHQtZW1iZWRkaW5nLTAwNCcsXG4gICAqICBjb250ZW50czogW1xuICAgKiAgICAnV2hhdCBpcyB5b3VyIG5hbWU/JyxcbiAgICogICAgJ1doYXQgaXMgeW91ciBmYXZvcml0ZSBjb2xvcj8nLFxuICAgKiAgXSxcbiAgICogIGNvbmZpZzoge1xuICAgKiAgICBvdXRwdXREaW1lbnNpb25hbGl0eTogNjQsXG4gICAqICB9LFxuICAgKiB9KTtcbiAgICogY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgKiBgYGBcbiAgICovXG4gIGFzeW5jIGVtYmVkQ29udGVudChcbiAgICBwYXJhbXM6IHR5cGVzLkVtYmVkQ29udGVudFBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuRW1iZWRDb250ZW50UmVzcG9uc2U+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuRW1iZWRDb250ZW50UmVzcG9uc2U+O1xuXG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmVtYmVkQ29udGVudFBhcmFtZXRlcnNUb1ZlcnRleChcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3ttb2RlbH06cHJlZGljdCcsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpLnRoZW4oKGpzb25SZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBqc29uUmVzcG9uc2UgYXMgdHlwZXMuRW1iZWRDb250ZW50UmVzcG9uc2U7XG4gICAgICAgICAgICByZXNwb25zZS5zZGtIdHRwUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IGh0dHBSZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgICAgfSBhcyB0eXBlcy5IdHRwUmVzcG9uc2U7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuRW1iZWRDb250ZW50UmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuZW1iZWRDb250ZW50UmVzcG9uc2VGcm9tVmVydGV4KGFwaVJlc3BvbnNlKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkVtYmVkQ29udGVudFJlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5lbWJlZENvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldihcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3ttb2RlbH06YmF0Y2hFbWJlZENvbnRlbnRzJyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCkudGhlbigoanNvblJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGpzb25SZXNwb25zZSBhcyB0eXBlcy5FbWJlZENvbnRlbnRSZXNwb25zZTtcbiAgICAgICAgICAgIHJlc3BvbnNlLnNka0h0dHBSZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgaGVhZGVyczogaHR0cFJlc3BvbnNlLmhlYWRlcnMsXG4gICAgICAgICAgICB9IGFzIHR5cGVzLkh0dHBSZXNwb25zZTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5FbWJlZENvbnRlbnRSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5lbWJlZENvbnRlbnRSZXNwb25zZUZyb21NbGRldihhcGlSZXNwb25zZSk7XG4gICAgICAgIGNvbnN0IHR5cGVkUmVzcCA9IG5ldyB0eXBlcy5FbWJlZENvbnRlbnRSZXNwb25zZSgpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHR5cGVkUmVzcCwgcmVzcCk7XG4gICAgICAgIHJldHVybiB0eXBlZFJlc3A7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHJpdmF0ZSBtZXRob2QgZm9yIGdlbmVyYXRpbmcgaW1hZ2VzLlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBnZW5lcmF0ZUltYWdlc0ludGVybmFsKFxuICAgIHBhcmFtczogdHlwZXMuR2VuZXJhdGVJbWFnZXNQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkdlbmVyYXRlSW1hZ2VzUmVzcG9uc2U+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuR2VuZXJhdGVJbWFnZXNSZXNwb25zZT47XG5cbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuZ2VuZXJhdGVJbWFnZXNQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bW9kZWx9OnByZWRpY3QnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKS50aGVuKChqc29uUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ganNvblJlc3BvbnNlIGFzIHR5cGVzLkdlbmVyYXRlSW1hZ2VzUmVzcG9uc2U7XG4gICAgICAgICAgICByZXNwb25zZS5zZGtIdHRwUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IGh0dHBSZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgICAgfSBhcyB0eXBlcy5IdHRwUmVzcG9uc2U7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuR2VuZXJhdGVJbWFnZXNSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5nZW5lcmF0ZUltYWdlc1Jlc3BvbnNlRnJvbVZlcnRleChhcGlSZXNwb25zZSk7XG4gICAgICAgIGNvbnN0IHR5cGVkUmVzcCA9IG5ldyB0eXBlcy5HZW5lcmF0ZUltYWdlc1Jlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5nZW5lcmF0ZUltYWdlc1BhcmFtZXRlcnNUb01sZGV2KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne21vZGVsfTpwcmVkaWN0JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCkudGhlbigoanNvblJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGpzb25SZXNwb25zZSBhcyB0eXBlcy5HZW5lcmF0ZUltYWdlc1Jlc3BvbnNlO1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2RrSHR0cFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICBoZWFkZXJzOiBodHRwUmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICAgIH0gYXMgdHlwZXMuSHR0cFJlc3BvbnNlO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkdlbmVyYXRlSW1hZ2VzUmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuZ2VuZXJhdGVJbWFnZXNSZXNwb25zZUZyb21NbGRldihhcGlSZXNwb25zZSk7XG4gICAgICAgIGNvbnN0IHR5cGVkUmVzcCA9IG5ldyB0eXBlcy5HZW5lcmF0ZUltYWdlc1Jlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQcml2YXRlIG1ldGhvZCBmb3IgZWRpdGluZyBhbiBpbWFnZS5cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZWRpdEltYWdlSW50ZXJuYWwoXG4gICAgcGFyYW1zOiBfaW50ZXJuYWxfdHlwZXMuRWRpdEltYWdlUGFyYW1ldGVyc0ludGVybmFsLFxuICApOiBQcm9taXNlPHR5cGVzLkVkaXRJbWFnZVJlc3BvbnNlPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkVkaXRJbWFnZVJlc3BvbnNlPjtcblxuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5lZGl0SW1hZ2VQYXJhbWV0ZXJzSW50ZXJuYWxUb1ZlcnRleChcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3ttb2RlbH06cHJlZGljdCcsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpLnRoZW4oKGpzb25SZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBqc29uUmVzcG9uc2UgYXMgdHlwZXMuRWRpdEltYWdlUmVzcG9uc2U7XG4gICAgICAgICAgICByZXNwb25zZS5zZGtIdHRwUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IGh0dHBSZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgICAgfSBhcyB0eXBlcy5IdHRwUmVzcG9uc2U7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuRWRpdEltYWdlUmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuZWRpdEltYWdlUmVzcG9uc2VGcm9tVmVydGV4KGFwaVJlc3BvbnNlKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkVkaXRJbWFnZVJlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgbWV0aG9kIGlzIG9ubHkgc3VwcG9ydGVkIGJ5IHRoZSBWZXJ0ZXggQUkuJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFByaXZhdGUgbWV0aG9kIGZvciB1cHNjYWxpbmcgYW4gaW1hZ2UuXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHVwc2NhbGVJbWFnZUludGVybmFsKFxuICAgIHBhcmFtczogX2ludGVybmFsX3R5cGVzLlVwc2NhbGVJbWFnZUFQSVBhcmFtZXRlcnNJbnRlcm5hbCxcbiAgKTogUHJvbWlzZTx0eXBlcy5VcHNjYWxlSW1hZ2VSZXNwb25zZT4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTx0eXBlcy5VcHNjYWxlSW1hZ2VSZXNwb25zZT47XG5cbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMudXBzY2FsZUltYWdlQVBJUGFyYW1ldGVyc0ludGVybmFsVG9WZXJ0ZXgoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bW9kZWx9OnByZWRpY3QnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKS50aGVuKChqc29uUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ganNvblJlc3BvbnNlIGFzIHR5cGVzLlVwc2NhbGVJbWFnZVJlc3BvbnNlO1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2RrSHR0cFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICBoZWFkZXJzOiBodHRwUmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICAgIH0gYXMgdHlwZXMuSHR0cFJlc3BvbnNlO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLlVwc2NhbGVJbWFnZVJlc3BvbnNlPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLnVwc2NhbGVJbWFnZVJlc3BvbnNlRnJvbVZlcnRleChhcGlSZXNwb25zZSk7XG4gICAgICAgIGNvbnN0IHR5cGVkUmVzcCA9IG5ldyB0eXBlcy5VcHNjYWxlSW1hZ2VSZXNwb25zZSgpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHR5cGVkUmVzcCwgcmVzcCk7XG4gICAgICAgIHJldHVybiB0eXBlZFJlc3A7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIG1ldGhvZCBpcyBvbmx5IHN1cHBvcnRlZCBieSB0aGUgVmVydGV4IEFJLicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWNvbnRleHR1YWxpemVzIGFuIGltYWdlLlxuICAgKlxuICAgKiBUaGVyZSBhcmUgdHdvIHR5cGVzIG9mIHJlY29udGV4dHVhbGl6YXRpb24gY3VycmVudGx5IHN1cHBvcnRlZDpcbiAgICogMSkgSW1hZ2VuIFByb2R1Y3QgUmVjb250ZXh0IC0gR2VuZXJhdGUgaW1hZ2VzIG9mIHByb2R1Y3RzIGluIG5ldyBzY2VuZXNcbiAgICogICAgYW5kIGNvbnRleHRzLlxuICAgKiAyKSBWaXJ0dWFsIFRyeS1PbjogR2VuZXJhdGUgaW1hZ2VzIG9mIHBlcnNvbnMgbW9kZWxpbmcgZmFzaGlvbiBwcm9kdWN0cy5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciByZWNvbnRleHR1YWxpemluZyBhbiBpbWFnZS5cbiAgICogQHJldHVybiBUaGUgcmVzcG9uc2UgZnJvbSB0aGUgQVBJLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCByZXNwb25zZTEgPSBhd2FpdCBhaS5tb2RlbHMucmVjb250ZXh0SW1hZ2Uoe1xuICAgKiAgbW9kZWw6ICdpbWFnZW4tcHJvZHVjdC1yZWNvbnRleHQtcHJldmlldy0wNi0zMCcsXG4gICAqICBzb3VyY2U6IHtcbiAgICogICAgcHJvbXB0OiAnSW4gYSBtb2Rlcm4ga2l0Y2hlbiBzZXR0aW5nLicsXG4gICAqICAgIHByb2R1Y3RJbWFnZXM6IFtwcm9kdWN0SW1hZ2VdLFxuICAgKiAgfSxcbiAgICogIGNvbmZpZzoge1xuICAgKiAgICBudW1iZXJPZkltYWdlczogMSxcbiAgICogIH0sXG4gICAqIH0pO1xuICAgKiBjb25zb2xlLmxvZyhyZXNwb25zZTE/LmdlbmVyYXRlZEltYWdlcz8uWzBdPy5pbWFnZT8uaW1hZ2VCeXRlcyk7XG4gICAqXG4gICAqIGNvbnN0IHJlc3BvbnNlMiA9IGF3YWl0IGFpLm1vZGVscy5yZWNvbnRleHRJbWFnZSh7XG4gICAqICBtb2RlbDogJ3ZpcnR1YWwtdHJ5LW9uLXByZXZpZXctMDgtMDQnLFxuICAgKiAgc291cmNlOiB7XG4gICAqICAgIHBlcnNvbkltYWdlOiBwZXJzb25JbWFnZSxcbiAgICogICAgcHJvZHVjdEltYWdlczogW3Byb2R1Y3RJbWFnZV0sXG4gICAqICB9LFxuICAgKiAgY29uZmlnOiB7XG4gICAqICAgIG51bWJlck9mSW1hZ2VzOiAxLFxuICAgKiAgfSxcbiAgICogfSk7XG4gICAqIGNvbnNvbGUubG9nKHJlc3BvbnNlMj8uZ2VuZXJhdGVkSW1hZ2VzPy5bMF0/LmltYWdlPy5pbWFnZUJ5dGVzKTtcbiAgICogYGBgXG4gICAqL1xuICBhc3luYyByZWNvbnRleHRJbWFnZShcbiAgICBwYXJhbXM6IHR5cGVzLlJlY29udGV4dEltYWdlUGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5SZWNvbnRleHRJbWFnZVJlc3BvbnNlPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLlJlY29udGV4dEltYWdlUmVzcG9uc2U+O1xuXG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLnJlY29udGV4dEltYWdlUGFyYW1ldGVyc1RvVmVydGV4KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne21vZGVsfTpwcmVkaWN0JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuUmVjb250ZXh0SW1hZ2VSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5yZWNvbnRleHRJbWFnZVJlc3BvbnNlRnJvbVZlcnRleChhcGlSZXNwb25zZSk7XG4gICAgICAgIGNvbnN0IHR5cGVkUmVzcCA9IG5ldyB0eXBlcy5SZWNvbnRleHRJbWFnZVJlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgbWV0aG9kIGlzIG9ubHkgc3VwcG9ydGVkIGJ5IHRoZSBWZXJ0ZXggQUkuJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNlZ21lbnRzIGFuIGltYWdlLCBjcmVhdGluZyBhIG1hc2sgb2YgYSBzcGVjaWZpZWQgYXJlYS5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBzZWdtZW50aW5nIGFuIGltYWdlLlxuICAgKiBAcmV0dXJuIFRoZSByZXNwb25zZSBmcm9tIHRoZSBBUEkuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYWkubW9kZWxzLnNlZ21lbnRJbWFnZSh7XG4gICAqICBtb2RlbDogJ2ltYWdlLXNlZ21lbnRhdGlvbi0wMDEnLFxuICAgKiAgc291cmNlOiB7XG4gICAqICAgIGltYWdlOiBpbWFnZSxcbiAgICogIH0sXG4gICAqICBjb25maWc6IHtcbiAgICogICAgbW9kZTogJ2ZvcmVncm91bmQnLFxuICAgKiAgfSxcbiAgICogfSk7XG4gICAqIGNvbnNvbGUubG9nKHJlc3BvbnNlPy5nZW5lcmF0ZWRNYXNrcz8uWzBdPy5tYXNrPy5pbWFnZUJ5dGVzKTtcbiAgICogYGBgXG4gICAqL1xuICBhc3luYyBzZWdtZW50SW1hZ2UoXG4gICAgcGFyYW1zOiB0eXBlcy5TZWdtZW50SW1hZ2VQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLlNlZ21lbnRJbWFnZVJlc3BvbnNlPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLlNlZ21lbnRJbWFnZVJlc3BvbnNlPjtcblxuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5zZWdtZW50SW1hZ2VQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bW9kZWx9OnByZWRpY3QnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5TZWdtZW50SW1hZ2VSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5zZWdtZW50SW1hZ2VSZXNwb25zZUZyb21WZXJ0ZXgoYXBpUmVzcG9uc2UpO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuU2VnbWVudEltYWdlUmVzcG9uc2UoKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICAgICAgICByZXR1cm4gdHlwZWRSZXNwO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBtZXRob2QgaXMgb25seSBzdXBwb3J0ZWQgYnkgdGhlIFZlcnRleCBBSS4nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2hlcyBpbmZvcm1hdGlvbiBhYm91dCBhIG1vZGVsIGJ5IG5hbWUuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IG1vZGVsSW5mbyA9IGF3YWl0IGFpLm1vZGVscy5nZXQoe21vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaCd9KTtcbiAgICogYGBgXG4gICAqL1xuICBhc3luYyBnZXQocGFyYW1zOiB0eXBlcy5HZXRNb2RlbFBhcmFtZXRlcnMpOiBQcm9taXNlPHR5cGVzLk1vZGVsPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLk1vZGVsPjtcblxuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5nZXRNb2RlbFBhcmFtZXRlcnNUb1ZlcnRleChcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3tuYW1lfScsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuTW9kZWw+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMubW9kZWxGcm9tVmVydGV4KGFwaVJlc3BvbnNlKTtcblxuICAgICAgICByZXR1cm4gcmVzcCBhcyB0eXBlcy5Nb2RlbDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5nZXRNb2RlbFBhcmFtZXRlcnNUb01sZGV2KHRoaXMuYXBpQ2xpZW50LCBwYXJhbXMpO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bmFtZX0nLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLk1vZGVsPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLm1vZGVsRnJvbU1sZGV2KGFwaVJlc3BvbnNlKTtcblxuICAgICAgICByZXR1cm4gcmVzcCBhcyB0eXBlcy5Nb2RlbDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbGlzdEludGVybmFsKFxuICAgIHBhcmFtczogdHlwZXMuTGlzdE1vZGVsc1BhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuTGlzdE1vZGVsc1Jlc3BvbnNlPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkxpc3RNb2RlbHNSZXNwb25zZT47XG5cbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMubGlzdE1vZGVsc1BhcmFtZXRlcnNUb1ZlcnRleChcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3ttb2RlbHNfdXJsfScsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCkudGhlbigoanNvblJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGpzb25SZXNwb25zZSBhcyB0eXBlcy5MaXN0TW9kZWxzUmVzcG9uc2U7XG4gICAgICAgICAgICByZXNwb25zZS5zZGtIdHRwUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IGh0dHBSZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgICAgfSBhcyB0eXBlcy5IdHRwUmVzcG9uc2U7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuTGlzdE1vZGVsc1Jlc3BvbnNlPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmxpc3RNb2RlbHNSZXNwb25zZUZyb21WZXJ0ZXgoYXBpUmVzcG9uc2UpO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuTGlzdE1vZGVsc1Jlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5saXN0TW9kZWxzUGFyYW1ldGVyc1RvTWxkZXYoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bW9kZWxzX3VybH0nLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpLnRoZW4oKGpzb25SZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBqc29uUmVzcG9uc2UgYXMgdHlwZXMuTGlzdE1vZGVsc1Jlc3BvbnNlO1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2RrSHR0cFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICBoZWFkZXJzOiBodHRwUmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICAgIH0gYXMgdHlwZXMuSHR0cFJlc3BvbnNlO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkxpc3RNb2RlbHNSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5saXN0TW9kZWxzUmVzcG9uc2VGcm9tTWxkZXYoYXBpUmVzcG9uc2UpO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuTGlzdE1vZGVsc1Jlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGEgdHVuZWQgbW9kZWwgYnkgaXRzIG5hbWUuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgdXBkYXRpbmcgdGhlIG1vZGVsLlxuICAgKiBAcmV0dXJuIFRoZSByZXNwb25zZSBmcm9tIHRoZSBBUEkuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYWkubW9kZWxzLnVwZGF0ZSh7XG4gICAqICAgbW9kZWw6ICd0dW5lZC1tb2RlbC1uYW1lJyxcbiAgICogICBjb25maWc6IHtcbiAgICogICAgIGRpc3BsYXlOYW1lOiAnTmV3IGRpc3BsYXkgbmFtZScsXG4gICAqICAgICBkZXNjcmlwdGlvbjogJ05ldyBkZXNjcmlwdGlvbicsXG4gICAqICAgfSxcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgYXN5bmMgdXBkYXRlKHBhcmFtczogdHlwZXMuVXBkYXRlTW9kZWxQYXJhbWV0ZXJzKTogUHJvbWlzZTx0eXBlcy5Nb2RlbD4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTx0eXBlcy5Nb2RlbD47XG5cbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMudXBkYXRlTW9kZWxQYXJhbWV0ZXJzVG9WZXJ0ZXgoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bW9kZWx9JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLk1vZGVsPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLm1vZGVsRnJvbVZlcnRleChhcGlSZXNwb25zZSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3AgYXMgdHlwZXMuTW9kZWw7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMudXBkYXRlTW9kZWxQYXJhbWV0ZXJzVG9NbGRldihcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3tuYW1lfScsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5Nb2RlbD47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5tb2RlbEZyb21NbGRldihhcGlSZXNwb25zZSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3AgYXMgdHlwZXMuTW9kZWw7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlcyBhIHR1bmVkIG1vZGVsIGJ5IGl0cyBuYW1lLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIGRlbGV0aW5nIHRoZSBtb2RlbC5cbiAgICogQHJldHVybiBUaGUgcmVzcG9uc2UgZnJvbSB0aGUgQVBJLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFpLm1vZGVscy5kZWxldGUoe21vZGVsOiAndHVuZWQtbW9kZWwtbmFtZSd9KTtcbiAgICogYGBgXG4gICAqL1xuICBhc3luYyBkZWxldGUoXG4gICAgcGFyYW1zOiB0eXBlcy5EZWxldGVNb2RlbFBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuRGVsZXRlTW9kZWxSZXNwb25zZT4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTx0eXBlcy5EZWxldGVNb2RlbFJlc3BvbnNlPjtcblxuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5kZWxldGVNb2RlbFBhcmFtZXRlcnNUb1ZlcnRleChcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3tuYW1lfScsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCkudGhlbigoanNvblJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGpzb25SZXNwb25zZSBhcyB0eXBlcy5EZWxldGVNb2RlbFJlc3BvbnNlO1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2RrSHR0cFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICBoZWFkZXJzOiBodHRwUmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICAgIH0gYXMgdHlwZXMuSHR0cFJlc3BvbnNlO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkRlbGV0ZU1vZGVsUmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuZGVsZXRlTW9kZWxSZXNwb25zZUZyb21WZXJ0ZXgoYXBpUmVzcG9uc2UpO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuRGVsZXRlTW9kZWxSZXNwb25zZSgpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHR5cGVkUmVzcCwgcmVzcCk7XG4gICAgICAgIHJldHVybiB0eXBlZFJlc3A7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuZGVsZXRlTW9kZWxQYXJhbWV0ZXJzVG9NbGRldihcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3tuYW1lfScsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCkudGhlbigoanNvblJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGpzb25SZXNwb25zZSBhcyB0eXBlcy5EZWxldGVNb2RlbFJlc3BvbnNlO1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2RrSHR0cFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICBoZWFkZXJzOiBodHRwUmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICAgIH0gYXMgdHlwZXMuSHR0cFJlc3BvbnNlO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkRlbGV0ZU1vZGVsUmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuZGVsZXRlTW9kZWxSZXNwb25zZUZyb21NbGRldihhcGlSZXNwb25zZSk7XG4gICAgICAgIGNvbnN0IHR5cGVkUmVzcCA9IG5ldyB0eXBlcy5EZWxldGVNb2RlbFJlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb3VudHMgdGhlIG51bWJlciBvZiB0b2tlbnMgaW4gdGhlIGdpdmVuIGNvbnRlbnRzLiBNdWx0aW1vZGFsIGlucHV0IGlzXG4gICAqIHN1cHBvcnRlZCBmb3IgR2VtaW5pIG1vZGVscy5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBjb3VudGluZyB0b2tlbnMuXG4gICAqIEByZXR1cm4gVGhlIHJlc3BvbnNlIGZyb20gdGhlIEFQSS5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhaS5tb2RlbHMuY291bnRUb2tlbnMoe1xuICAgKiAgbW9kZWw6ICdnZW1pbmktMi4wLWZsYXNoJyxcbiAgICogIGNvbnRlbnRzOiAnVGhlIHF1aWNrIGJyb3duIGZveCBqdW1wcyBvdmVyIHRoZSBsYXp5IGRvZy4nXG4gICAqIH0pO1xuICAgKiBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAqIGBgYFxuICAgKi9cbiAgYXN5bmMgY291bnRUb2tlbnMoXG4gICAgcGFyYW1zOiB0eXBlcy5Db3VudFRva2Vuc1BhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuQ291bnRUb2tlbnNSZXNwb25zZT4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTx0eXBlcy5Db3VudFRva2Vuc1Jlc3BvbnNlPjtcblxuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5jb3VudFRva2Vuc1BhcmFtZXRlcnNUb1ZlcnRleChcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3ttb2RlbH06Y291bnRUb2tlbnMnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKS50aGVuKChqc29uUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ganNvblJlc3BvbnNlIGFzIHR5cGVzLkNvdW50VG9rZW5zUmVzcG9uc2U7XG4gICAgICAgICAgICByZXNwb25zZS5zZGtIdHRwUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IGh0dHBSZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgICAgfSBhcyB0eXBlcy5IdHRwUmVzcG9uc2U7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuQ291bnRUb2tlbnNSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5jb3VudFRva2Vuc1Jlc3BvbnNlRnJvbVZlcnRleChhcGlSZXNwb25zZSk7XG4gICAgICAgIGNvbnN0IHR5cGVkUmVzcCA9IG5ldyB0eXBlcy5Db3VudFRva2Vuc1Jlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5jb3VudFRva2Vuc1BhcmFtZXRlcnNUb01sZGV2KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne21vZGVsfTpjb3VudFRva2VucycsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpLnRoZW4oKGpzb25SZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBqc29uUmVzcG9uc2UgYXMgdHlwZXMuQ291bnRUb2tlbnNSZXNwb25zZTtcbiAgICAgICAgICAgIHJlc3BvbnNlLnNka0h0dHBSZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgaGVhZGVyczogaHR0cFJlc3BvbnNlLmhlYWRlcnMsXG4gICAgICAgICAgICB9IGFzIHR5cGVzLkh0dHBSZXNwb25zZTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5Db3VudFRva2Vuc1Jlc3BvbnNlPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmNvdW50VG9rZW5zUmVzcG9uc2VGcm9tTWxkZXYoYXBpUmVzcG9uc2UpO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuQ291bnRUb2tlbnNSZXNwb25zZSgpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHR5cGVkUmVzcCwgcmVzcCk7XG4gICAgICAgIHJldHVybiB0eXBlZFJlc3A7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2l2ZW4gYSBsaXN0IG9mIGNvbnRlbnRzLCByZXR1cm5zIGEgY29ycmVzcG9uZGluZyBUb2tlbnNJbmZvIGNvbnRhaW5pbmdcbiAgICogdGhlIGxpc3Qgb2YgdG9rZW5zIGFuZCBsaXN0IG9mIHRva2VuIGlkcy5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgR2VtaW5pIERldmVsb3BlciBBUEkuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgY29tcHV0aW5nIHRva2Vucy5cbiAgICogQHJldHVybiBUaGUgcmVzcG9uc2UgZnJvbSB0aGUgQVBJLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFpLm1vZGVscy5jb21wdXRlVG9rZW5zKHtcbiAgICogIG1vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaCcsXG4gICAqICBjb250ZW50czogJ1doYXQgaXMgeW91ciBuYW1lPydcbiAgICogfSk7XG4gICAqIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICogYGBgXG4gICAqL1xuICBhc3luYyBjb21wdXRlVG9rZW5zKFxuICAgIHBhcmFtczogdHlwZXMuQ29tcHV0ZVRva2Vuc1BhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuQ29tcHV0ZVRva2Vuc1Jlc3BvbnNlPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkNvbXB1dGVUb2tlbnNSZXNwb25zZT47XG5cbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuY29tcHV0ZVRva2Vuc1BhcmFtZXRlcnNUb1ZlcnRleChcbiAgICAgICAgdGhpcy5hcGlDbGllbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3ttb2RlbH06Y29tcHV0ZVRva2VucycsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpLnRoZW4oKGpzb25SZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBqc29uUmVzcG9uc2UgYXMgdHlwZXMuQ29tcHV0ZVRva2Vuc1Jlc3BvbnNlO1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2RrSHR0cFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICBoZWFkZXJzOiBodHRwUmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICAgIH0gYXMgdHlwZXMuSHR0cFJlc3BvbnNlO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkNvbXB1dGVUb2tlbnNSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5jb21wdXRlVG9rZW5zUmVzcG9uc2VGcm9tVmVydGV4KGFwaVJlc3BvbnNlKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkNvbXB1dGVUb2tlbnNSZXNwb25zZSgpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHR5cGVkUmVzcCwgcmVzcCk7XG4gICAgICAgIHJldHVybiB0eXBlZFJlc3A7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIG1ldGhvZCBpcyBvbmx5IHN1cHBvcnRlZCBieSB0aGUgVmVydGV4IEFJLicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQcml2YXRlIG1ldGhvZCBmb3IgZ2VuZXJhdGluZyB2aWRlb3MuXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGdlbmVyYXRlVmlkZW9zSW50ZXJuYWwoXG4gICAgcGFyYW1zOiB0eXBlcy5HZW5lcmF0ZVZpZGVvc1BhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuR2VuZXJhdGVWaWRlb3NPcGVyYXRpb24+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuR2VuZXJhdGVWaWRlb3NPcGVyYXRpb24+O1xuXG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlVmlkZW9zUGFyYW1ldGVyc1RvVmVydGV4KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne21vZGVsfTpwcmVkaWN0TG9uZ1J1bm5pbmcnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5HZW5lcmF0ZVZpZGVvc09wZXJhdGlvbj47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5nZW5lcmF0ZVZpZGVvc09wZXJhdGlvbkZyb21WZXJ0ZXgoYXBpUmVzcG9uc2UpO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuR2VuZXJhdGVWaWRlb3NPcGVyYXRpb24oKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICAgICAgICByZXR1cm4gdHlwZWRSZXNwO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlVmlkZW9zUGFyYW1ldGVyc1RvTWxkZXYoXG4gICAgICAgIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bW9kZWx9OnByZWRpY3RMb25nUnVubmluZycsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uRnJvbU1sZGV2KGFwaVJlc3BvbnNlKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gQ29kZSBnZW5lcmF0ZWQgYnkgdGhlIEdvb2dsZSBHZW4gQUkgU0RLIGdlbmVyYXRvciBETyBOT1QgRURJVC5cblxuaW1wb3J0IHtBcGlDbGllbnR9IGZyb20gJy4vX2FwaV9jbGllbnQuanMnO1xuaW1wb3J0ICogYXMgY29tbW9uIGZyb20gJy4vX2NvbW1vbi5qcyc7XG5pbXBvcnQge0Jhc2VNb2R1bGV9IGZyb20gJy4vX2NvbW1vbi5qcyc7XG5pbXBvcnQgKiBhcyBjb252ZXJ0ZXJzIGZyb20gJy4vY29udmVydGVycy9fb3BlcmF0aW9uc19jb252ZXJ0ZXJzLmpzJztcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4vdHlwZXMuanMnO1xuXG5leHBvcnQgY2xhc3MgT3BlcmF0aW9ucyBleHRlbmRzIEJhc2VNb2R1bGUge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGFwaUNsaWVudDogQXBpQ2xpZW50KSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzdGF0dXMgb2YgYSBsb25nLXJ1bm5pbmcgb3BlcmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyBUaGUgcGFyYW1ldGVycyBmb3IgdGhlIGdldCBvcGVyYXRpb24gcmVxdWVzdC5cbiAgICogQHJldHVybiBUaGUgdXBkYXRlZCBPcGVyYXRpb24gb2JqZWN0LCB3aXRoIHRoZSBsYXRlc3Qgc3RhdHVzIG9yIHJlc3VsdC5cbiAgICovXG4gIGFzeW5jIGdldFZpZGVvc09wZXJhdGlvbihcbiAgICBwYXJhbWV0ZXJzOiB0eXBlcy5PcGVyYXRpb25HZXRQYXJhbWV0ZXJzPFxuICAgICAgdHlwZXMuR2VuZXJhdGVWaWRlb3NSZXNwb25zZSxcbiAgICAgIHR5cGVzLkdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uXG4gICAgPixcbiAgKTogUHJvbWlzZTx0eXBlcy5HZW5lcmF0ZVZpZGVvc09wZXJhdGlvbj4ge1xuICAgIGNvbnN0IG9wZXJhdGlvbiA9IHBhcmFtZXRlcnMub3BlcmF0aW9uO1xuICAgIGNvbnN0IGNvbmZpZyA9IHBhcmFtZXRlcnMuY29uZmlnO1xuXG4gICAgaWYgKG9wZXJhdGlvbi5uYW1lID09PSB1bmRlZmluZWQgfHwgb3BlcmF0aW9uLm5hbWUgPT09ICcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ09wZXJhdGlvbiBuYW1lIGlzIHJlcXVpcmVkLicpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGNvbnN0IHJlc291cmNlTmFtZSA9IG9wZXJhdGlvbi5uYW1lLnNwbGl0KCcvb3BlcmF0aW9ucy8nKVswXTtcbiAgICAgIGxldCBodHRwT3B0aW9uczogdHlwZXMuSHR0cE9wdGlvbnMgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChjb25maWcgJiYgJ2h0dHBPcHRpb25zJyBpbiBjb25maWcpIHtcbiAgICAgICAgaHR0cE9wdGlvbnMgPSBjb25maWcuaHR0cE9wdGlvbnM7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJhd09wZXJhdGlvbiA9IGF3YWl0IHRoaXMuZmV0Y2hQcmVkaWN0VmlkZW9zT3BlcmF0aW9uSW50ZXJuYWwoe1xuICAgICAgICBvcGVyYXRpb25OYW1lOiBvcGVyYXRpb24ubmFtZSxcbiAgICAgICAgcmVzb3VyY2VOYW1lOiByZXNvdXJjZU5hbWUsXG4gICAgICAgIGNvbmZpZzoge2h0dHBPcHRpb25zOiBodHRwT3B0aW9uc30sXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG9wZXJhdGlvbi5fZnJvbUFQSVJlc3BvbnNlKHtcbiAgICAgICAgYXBpUmVzcG9uc2U6IHJhd09wZXJhdGlvbixcbiAgICAgICAgX2lzVmVydGV4QUk6IHRydWUsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmF3T3BlcmF0aW9uID0gYXdhaXQgdGhpcy5nZXRWaWRlb3NPcGVyYXRpb25JbnRlcm5hbCh7XG4gICAgICAgIG9wZXJhdGlvbk5hbWU6IG9wZXJhdGlvbi5uYW1lLFxuICAgICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG9wZXJhdGlvbi5fZnJvbUFQSVJlc3BvbnNlKHtcbiAgICAgICAgYXBpUmVzcG9uc2U6IHJhd09wZXJhdGlvbixcbiAgICAgICAgX2lzVmVydGV4QUk6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHN0YXR1cyBvZiBhIGxvbmctcnVubmluZyBvcGVyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIFRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgZ2V0IG9wZXJhdGlvbiByZXF1ZXN0LlxuICAgKiBAcmV0dXJuIFRoZSB1cGRhdGVkIE9wZXJhdGlvbiBvYmplY3QsIHdpdGggdGhlIGxhdGVzdCBzdGF0dXMgb3IgcmVzdWx0LlxuICAgKi9cbiAgYXN5bmMgZ2V0PFQsIFUgZXh0ZW5kcyB0eXBlcy5PcGVyYXRpb248VD4+KFxuICAgIHBhcmFtZXRlcnM6IHR5cGVzLk9wZXJhdGlvbkdldFBhcmFtZXRlcnM8VCwgVT4sXG4gICk6IFByb21pc2U8dHlwZXMuT3BlcmF0aW9uPFQ+PiB7XG4gICAgY29uc3Qgb3BlcmF0aW9uID0gcGFyYW1ldGVycy5vcGVyYXRpb247XG4gICAgY29uc3QgY29uZmlnID0gcGFyYW1ldGVycy5jb25maWc7XG5cbiAgICBpZiAob3BlcmF0aW9uLm5hbWUgPT09IHVuZGVmaW5lZCB8fCBvcGVyYXRpb24ubmFtZSA9PT0gJycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignT3BlcmF0aW9uIG5hbWUgaXMgcmVxdWlyZWQuJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgY29uc3QgcmVzb3VyY2VOYW1lID0gb3BlcmF0aW9uLm5hbWUuc3BsaXQoJy9vcGVyYXRpb25zLycpWzBdO1xuICAgICAgbGV0IGh0dHBPcHRpb25zOiB0eXBlcy5IdHRwT3B0aW9ucyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGNvbmZpZyAmJiAnaHR0cE9wdGlvbnMnIGluIGNvbmZpZykge1xuICAgICAgICBodHRwT3B0aW9ucyA9IGNvbmZpZy5odHRwT3B0aW9ucztcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmF3T3BlcmF0aW9uID0gYXdhaXQgdGhpcy5mZXRjaFByZWRpY3RWaWRlb3NPcGVyYXRpb25JbnRlcm5hbCh7XG4gICAgICAgIG9wZXJhdGlvbk5hbWU6IG9wZXJhdGlvbi5uYW1lLFxuICAgICAgICByZXNvdXJjZU5hbWU6IHJlc291cmNlTmFtZSxcbiAgICAgICAgY29uZmlnOiB7aHR0cE9wdGlvbnM6IGh0dHBPcHRpb25zfSxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gb3BlcmF0aW9uLl9mcm9tQVBJUmVzcG9uc2Uoe1xuICAgICAgICBhcGlSZXNwb25zZTogcmF3T3BlcmF0aW9uLFxuICAgICAgICBfaXNWZXJ0ZXhBSTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByYXdPcGVyYXRpb24gPSBhd2FpdCB0aGlzLmdldFZpZGVvc09wZXJhdGlvbkludGVybmFsKHtcbiAgICAgICAgb3BlcmF0aW9uTmFtZTogb3BlcmF0aW9uLm5hbWUsXG4gICAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gb3BlcmF0aW9uLl9mcm9tQVBJUmVzcG9uc2Uoe1xuICAgICAgICBhcGlSZXNwb25zZTogcmF3T3BlcmF0aW9uLFxuICAgICAgICBfaXNWZXJ0ZXhBSTogZmFsc2UsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldFZpZGVvc09wZXJhdGlvbkludGVybmFsKFxuICAgIHBhcmFtczogdHlwZXMuR2V0T3BlcmF0aW9uUGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj47XG5cbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuZ2V0T3BlcmF0aW9uUGFyYW1ldGVyc1RvVmVydGV4KHBhcmFtcyk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3tvcGVyYXRpb25OYW1lfScsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmdldE9wZXJhdGlvblBhcmFtZXRlcnNUb01sZGV2KHBhcmFtcyk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3tvcGVyYXRpb25OYW1lfScsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBmZXRjaFByZWRpY3RWaWRlb3NPcGVyYXRpb25JbnRlcm5hbChcbiAgICBwYXJhbXM6IHR5cGVzLkZldGNoUHJlZGljdE9wZXJhdGlvblBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+O1xuXG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmZldGNoUHJlZGljdE9wZXJhdGlvblBhcmFtZXRlcnNUb1ZlcnRleChwYXJhbXMpO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7cmVzb3VyY2VOYW1lfTpmZXRjaFByZWRpY3RPcGVyYXRpb24nLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj47XG5cbiAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIG1ldGhvZCBpcyBvbmx5IHN1cHBvcnRlZCBieSB0aGUgVmVydGV4IEFJLicpO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gQ29kZSBnZW5lcmF0ZWQgYnkgdGhlIEdvb2dsZSBHZW4gQUkgU0RLIGdlbmVyYXRvciBETyBOT1QgRURJVC5cblxuaW1wb3J0IHtBcGlDbGllbnR9IGZyb20gJy4uL19hcGlfY2xpZW50LmpzJztcbmltcG9ydCAqIGFzIGNvbW1vbiBmcm9tICcuLi9fY29tbW9uLmpzJztcbmltcG9ydCAqIGFzIHQgZnJvbSAnLi4vX3RyYW5zZm9ybWVycy5qcyc7XG5pbXBvcnQgdHlwZSAqIGFzIHR5cGVzIGZyb20gJy4uL3R5cGVzLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGJsb2JUb01sZGV2KGZyb21PYmplY3Q6IHR5cGVzLkJsb2IpOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21EYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGF0YSddKTtcbiAgaWYgKGZyb21EYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGF0YSddLCBmcm9tRGF0YSk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZGlzcGxheU5hbWUnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignZGlzcGxheU5hbWUgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NaW1lVHlwZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21pbWVUeXBlJ10pO1xuICBpZiAoZnJvbU1pbWVUeXBlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWltZVR5cGUnXSwgZnJvbU1pbWVUeXBlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRlbnRUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Db250ZW50LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tUGFydHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYXJ0cyddKTtcbiAgaWYgKGZyb21QYXJ0cyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IGZyb21QYXJ0cztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBwYXJ0VG9NbGRldihpdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncGFydHMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Sb2xlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncm9sZSddKTtcbiAgaWYgKGZyb21Sb2xlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncm9sZSddLCBmcm9tUm9sZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBdXRoVG9rZW5Db25maWdUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ3JlYXRlQXV0aFRva2VuQ29uZmlnLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRXhwaXJlVGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2V4cGlyZVRpbWUnXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tRXhwaXJlVGltZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydleHBpcmVUaW1lJ10sIGZyb21FeHBpcmVUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21OZXdTZXNzaW9uRXhwaXJlVGltZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ25ld1Nlc3Npb25FeHBpcmVUaW1lJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTmV3U2Vzc2lvbkV4cGlyZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnbmV3U2Vzc2lvbkV4cGlyZVRpbWUnXSxcbiAgICAgIGZyb21OZXdTZXNzaW9uRXhwaXJlVGltZSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVVzZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd1c2VzJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVVzZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsndXNlcyddLCBmcm9tVXNlcyk7XG4gIH1cblxuICBjb25zdCBmcm9tTGl2ZUNvbm5lY3RDb25zdHJhaW50cyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2xpdmVDb25uZWN0Q29uc3RyYWludHMnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21MaXZlQ29ubmVjdENvbnN0cmFpbnRzICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ2JpZGlHZW5lcmF0ZUNvbnRlbnRTZXR1cCddLFxuICAgICAgbGl2ZUNvbm5lY3RDb25zdHJhaW50c1RvTWxkZXYoYXBpQ2xpZW50LCBmcm9tTGl2ZUNvbm5lY3RDb25zdHJhaW50cyksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Mb2NrQWRkaXRpb25hbEZpZWxkcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2xvY2tBZGRpdGlvbmFsRmllbGRzJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTG9ja0FkZGl0aW9uYWxGaWVsZHMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnZmllbGRNYXNrJ10sXG4gICAgICBmcm9tTG9ja0FkZGl0aW9uYWxGaWVsZHMsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUF1dGhUb2tlblBhcmFtZXRlcnNUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuQ3JlYXRlQXV0aFRva2VuUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb25maWcnXSxcbiAgICAgIGNyZWF0ZUF1dGhUb2tlbkNvbmZpZ1RvTWxkZXYoYXBpQ2xpZW50LCBmcm9tQ29uZmlnLCB0b09iamVjdCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUF1dGhUb2tlblBhcmFtZXRlcnNUb1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuQ3JlYXRlQXV0aFRva2VuUGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb25maWcgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gVmVydGV4IEFJLicpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsZURhdGFUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5GaWxlRGF0YSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rpc3BsYXlOYW1lJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2Rpc3BsYXlOYW1lIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBjb25zdCBmcm9tRmlsZVVyaSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ZpbGVVcmknXSk7XG4gIGlmIChmcm9tRmlsZVVyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2ZpbGVVcmknXSwgZnJvbUZpbGVVcmkpO1xuICB9XG5cbiAgY29uc3QgZnJvbU1pbWVUeXBlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbWltZVR5cGUnXSk7XG4gIGlmIChmcm9tTWltZVR5cGUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydtaW1lVHlwZSddLCBmcm9tTWltZVR5cGUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZnVuY3Rpb25DYWxsVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuRnVuY3Rpb25DYWxsLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tSWQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydpZCddKTtcbiAgaWYgKGZyb21JZCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2lkJ10sIGZyb21JZCk7XG4gIH1cblxuICBjb25zdCBmcm9tQXJncyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2FyZ3MnXSk7XG4gIGlmIChmcm9tQXJncyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2FyZ3MnXSwgZnJvbUFyZ3MpO1xuICB9XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYXJ0aWFsQXJncyddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwYXJ0aWFsQXJncyBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3dpbGxDb250aW51ZSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd3aWxsQ29udGludWUgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdvb2dsZU1hcHNUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5Hb29nbGVNYXBzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYXV0aENvbmZpZyddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdhdXRoQ29uZmlnIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBjb25zdCBmcm9tRW5hYmxlV2lkZ2V0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZW5hYmxlV2lkZ2V0J10pO1xuICBpZiAoZnJvbUVuYWJsZVdpZGdldCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2VuYWJsZVdpZGdldCddLCBmcm9tRW5hYmxlV2lkZ2V0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdvb2dsZVNlYXJjaFRvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdvb2dsZVNlYXJjaCxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2V4Y2x1ZGVEb21haW5zJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2V4Y2x1ZGVEb21haW5zIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYmxvY2tpbmdDb25maWRlbmNlJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnYmxvY2tpbmdDb25maWRlbmNlIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRpbWVSYW5nZUZpbHRlciA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3RpbWVSYW5nZUZpbHRlcicsXG4gIF0pO1xuICBpZiAoZnJvbVRpbWVSYW5nZUZpbHRlciAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RpbWVSYW5nZUZpbHRlciddLCBmcm9tVGltZVJhbmdlRmlsdGVyKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpdmVDb25uZWN0Q29uZmlnVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuTGl2ZUNvbm5lY3RDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21HZW5lcmF0aW9uQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZ2VuZXJhdGlvbkNvbmZpZycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUdlbmVyYXRpb25Db25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc2V0dXAnLCAnZ2VuZXJhdGlvbkNvbmZpZyddLFxuICAgICAgZnJvbUdlbmVyYXRpb25Db25maWcsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZXNwb25zZU1vZGFsaXRpZXMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdyZXNwb25zZU1vZGFsaXRpZXMnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21SZXNwb25zZU1vZGFsaXRpZXMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc2V0dXAnLCAnZ2VuZXJhdGlvbkNvbmZpZycsICdyZXNwb25zZU1vZGFsaXRpZXMnXSxcbiAgICAgIGZyb21SZXNwb25zZU1vZGFsaXRpZXMsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UZW1wZXJhdHVyZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RlbXBlcmF0dXJlJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRlbXBlcmF0dXJlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3NldHVwJywgJ2dlbmVyYXRpb25Db25maWcnLCAndGVtcGVyYXR1cmUnXSxcbiAgICAgIGZyb21UZW1wZXJhdHVyZSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvcFAgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b3BQJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRvcFAgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc2V0dXAnLCAnZ2VuZXJhdGlvbkNvbmZpZycsICd0b3BQJ10sXG4gICAgICBmcm9tVG9wUCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVRvcEsgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b3BLJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVRvcEsgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc2V0dXAnLCAnZ2VuZXJhdGlvbkNvbmZpZycsICd0b3BLJ10sXG4gICAgICBmcm9tVG9wSyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU1heE91dHB1dFRva2VucyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ21heE91dHB1dFRva2VucycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU1heE91dHB1dFRva2VucyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdnZW5lcmF0aW9uQ29uZmlnJywgJ21heE91dHB1dFRva2VucyddLFxuICAgICAgZnJvbU1heE91dHB1dFRva2VucyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU1lZGlhUmVzb2x1dGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ21lZGlhUmVzb2x1dGlvbicsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU1lZGlhUmVzb2x1dGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdnZW5lcmF0aW9uQ29uZmlnJywgJ21lZGlhUmVzb2x1dGlvbiddLFxuICAgICAgZnJvbU1lZGlhUmVzb2x1dGlvbixcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVNlZWQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzZWVkJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVNlZWQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc2V0dXAnLCAnZ2VuZXJhdGlvbkNvbmZpZycsICdzZWVkJ10sXG4gICAgICBmcm9tU2VlZCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVNwZWVjaENvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3NwZWVjaENvbmZpZyddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21TcGVlY2hDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc2V0dXAnLCAnZ2VuZXJhdGlvbkNvbmZpZycsICdzcGVlY2hDb25maWcnXSxcbiAgICAgIHQudExpdmVTcGVlY2hDb25maWcoZnJvbVNwZWVjaENvbmZpZyksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaGlua2luZ0NvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3RoaW5raW5nQ29uZmlnJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVGhpbmtpbmdDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc2V0dXAnLCAnZ2VuZXJhdGlvbkNvbmZpZycsICd0aGlua2luZ0NvbmZpZyddLFxuICAgICAgZnJvbVRoaW5raW5nQ29uZmlnLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tRW5hYmxlQWZmZWN0aXZlRGlhbG9nID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZW5hYmxlQWZmZWN0aXZlRGlhbG9nJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tRW5hYmxlQWZmZWN0aXZlRGlhbG9nICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3NldHVwJywgJ2dlbmVyYXRpb25Db25maWcnLCAnZW5hYmxlQWZmZWN0aXZlRGlhbG9nJ10sXG4gICAgICBmcm9tRW5hYmxlQWZmZWN0aXZlRGlhbG9nLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tU3lzdGVtSW5zdHJ1Y3Rpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzeXN0ZW1JbnN0cnVjdGlvbicsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVN5c3RlbUluc3RydWN0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICBwYXJlbnRPYmplY3QsXG4gICAgICBbJ3NldHVwJywgJ3N5c3RlbUluc3RydWN0aW9uJ10sXG4gICAgICBjb250ZW50VG9NbGRldih0LnRDb250ZW50KGZyb21TeXN0ZW1JbnN0cnVjdGlvbikpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVG9vbHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0b29scyddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21Ub29scyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IHQudFRvb2xzKGZyb21Ub29scyk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbFRvTWxkZXYodC50VG9vbChpdGVtKSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydzZXR1cCcsICd0b29scyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNlc3Npb25SZXN1bXB0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2Vzc2lvblJlc3VtcHRpb24nLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21TZXNzaW9uUmVzdW1wdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdzZXNzaW9uUmVzdW1wdGlvbiddLFxuICAgICAgc2Vzc2lvblJlc3VtcHRpb25Db25maWdUb01sZGV2KGZyb21TZXNzaW9uUmVzdW1wdGlvbiksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2lucHV0QXVkaW9UcmFuc2NyaXB0aW9uJyxcbiAgXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tSW5wdXRBdWRpb1RyYW5zY3JpcHRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc2V0dXAnLCAnaW5wdXRBdWRpb1RyYW5zY3JpcHRpb24nXSxcbiAgICAgIGZyb21JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbixcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbU91dHB1dEF1ZGlvVHJhbnNjcmlwdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ291dHB1dEF1ZGlvVHJhbnNjcmlwdGlvbicsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbU91dHB1dEF1ZGlvVHJhbnNjcmlwdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdvdXRwdXRBdWRpb1RyYW5zY3JpcHRpb24nXSxcbiAgICAgIGZyb21PdXRwdXRBdWRpb1RyYW5zY3JpcHRpb24sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21SZWFsdGltZUlucHV0Q29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncmVhbHRpbWVJbnB1dENvbmZpZycsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVJlYWx0aW1lSW5wdXRDb25maWcgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc2V0dXAnLCAncmVhbHRpbWVJbnB1dENvbmZpZyddLFxuICAgICAgZnJvbVJlYWx0aW1lSW5wdXRDb25maWcsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db250ZXh0V2luZG93Q29tcHJlc3Npb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdjb250ZXh0V2luZG93Q29tcHJlc3Npb24nLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21Db250ZXh0V2luZG93Q29tcHJlc3Npb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnc2V0dXAnLCAnY29udGV4dFdpbmRvd0NvbXByZXNzaW9uJ10sXG4gICAgICBmcm9tQ29udGV4dFdpbmRvd0NvbXByZXNzaW9uLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJvYWN0aXZpdHkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwcm9hY3Rpdml0eSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21Qcm9hY3Rpdml0eSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdwcm9hY3Rpdml0eSddLFxuICAgICAgZnJvbVByb2FjdGl2aXR5LFxuICAgICk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXhwbGljaXRWYWRTaWduYWwnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdleHBsaWNpdFZhZFNpZ25hbCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpdmVDb25uZWN0Q29uc3RyYWludHNUb01sZGV2KFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgZnJvbU9iamVjdDogdHlwZXMuTGl2ZUNvbm5lY3RDb25zdHJhaW50cyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbW9kZWwnXSk7XG4gIGlmIChmcm9tTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydzZXR1cCcsICdtb2RlbCddLFxuICAgICAgdC50TW9kZWwoYXBpQ2xpZW50LCBmcm9tTW9kZWwpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2NvbmZpZyddLFxuICAgICAgbGl2ZUNvbm5lY3RDb25maWdUb01sZGV2KGZyb21Db25maWcsIHRvT2JqZWN0KSxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFydFRvTWxkZXYoZnJvbU9iamVjdDogdHlwZXMuUGFydCk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU1lZGlhUmVzb2x1dGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ21lZGlhUmVzb2x1dGlvbicsXG4gIF0pO1xuICBpZiAoZnJvbU1lZGlhUmVzb2x1dGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ21lZGlhUmVzb2x1dGlvbiddLCBmcm9tTWVkaWFSZXNvbHV0aW9uKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db2RlRXhlY3V0aW9uUmVzdWx0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY29kZUV4ZWN1dGlvblJlc3VsdCcsXG4gIF0pO1xuICBpZiAoZnJvbUNvZGVFeGVjdXRpb25SZXN1bHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydjb2RlRXhlY3V0aW9uUmVzdWx0J10sXG4gICAgICBmcm9tQ29kZUV4ZWN1dGlvblJlc3VsdCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUV4ZWN1dGFibGVDb2RlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZXhlY3V0YWJsZUNvZGUnLFxuICBdKTtcbiAgaWYgKGZyb21FeGVjdXRhYmxlQ29kZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2V4ZWN1dGFibGVDb2RlJ10sIGZyb21FeGVjdXRhYmxlQ29kZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRmlsZURhdGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmaWxlRGF0YSddKTtcbiAgaWYgKGZyb21GaWxlRGF0YSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2ZpbGVEYXRhJ10sXG4gICAgICBmaWxlRGF0YVRvTWxkZXYoZnJvbUZpbGVEYXRhKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUZ1bmN0aW9uQ2FsbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Z1bmN0aW9uQ2FsbCddKTtcbiAgaWYgKGZyb21GdW5jdGlvbkNhbGwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydmdW5jdGlvbkNhbGwnXSxcbiAgICAgIGZ1bmN0aW9uQ2FsbFRvTWxkZXYoZnJvbUZ1bmN0aW9uQ2FsbCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GdW5jdGlvblJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnZnVuY3Rpb25SZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbUZ1bmN0aW9uUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmdW5jdGlvblJlc3BvbnNlJ10sIGZyb21GdW5jdGlvblJlc3BvbnNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21JbmxpbmVEYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnaW5saW5lRGF0YSddKTtcbiAgaWYgKGZyb21JbmxpbmVEYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnaW5saW5lRGF0YSddLFxuICAgICAgYmxvYlRvTWxkZXYoZnJvbUlubGluZURhdGEpLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVGV4dCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RleHQnXSk7XG4gIGlmIChmcm9tVGV4dCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3RleHQnXSwgZnJvbVRleHQpO1xuICB9XG5cbiAgY29uc3QgZnJvbVRob3VnaHQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd0aG91Z2h0J10pO1xuICBpZiAoZnJvbVRob3VnaHQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aG91Z2h0J10sIGZyb21UaG91Z2h0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UaG91Z2h0U2lnbmF0dXJlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndGhvdWdodFNpZ25hdHVyZScsXG4gIF0pO1xuICBpZiAoZnJvbVRob3VnaHRTaWduYXR1cmUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0aG91Z2h0U2lnbmF0dXJlJ10sIGZyb21UaG91Z2h0U2lnbmF0dXJlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21WaWRlb01ldGFkYXRhID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndmlkZW9NZXRhZGF0YScsXG4gIF0pO1xuICBpZiAoZnJvbVZpZGVvTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd2aWRlb01ldGFkYXRhJ10sIGZyb21WaWRlb01ldGFkYXRhKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlc3Npb25SZXN1bXB0aW9uQ29uZmlnVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuU2Vzc2lvblJlc3VtcHRpb25Db25maWcsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21IYW5kbGUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydoYW5kbGUnXSk7XG4gIGlmIChmcm9tSGFuZGxlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnaGFuZGxlJ10sIGZyb21IYW5kbGUpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3RyYW5zcGFyZW50J10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3RyYW5zcGFyZW50IHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b29sVG9NbGRldihmcm9tT2JqZWN0OiB0eXBlcy5Ub29sKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tRnVuY3Rpb25EZWNsYXJhdGlvbnMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdmdW5jdGlvbkRlY2xhcmF0aW9ucycsXG4gIF0pO1xuICBpZiAoZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbUZ1bmN0aW9uRGVjbGFyYXRpb25zO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zZm9ybWVkTGlzdCkpIHtcbiAgICAgIHRyYW5zZm9ybWVkTGlzdCA9IHRyYW5zZm9ybWVkTGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Z1bmN0aW9uRGVjbGFyYXRpb25zJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncmV0cmlldmFsJ10pICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3JldHJpZXZhbCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbUdvb2dsZVNlYXJjaFJldHJpZXZhbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2dvb2dsZVNlYXJjaFJldHJpZXZhbCcsXG4gIF0pO1xuICBpZiAoZnJvbUdvb2dsZVNlYXJjaFJldHJpZXZhbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2dvb2dsZVNlYXJjaFJldHJpZXZhbCddLFxuICAgICAgZnJvbUdvb2dsZVNlYXJjaFJldHJpZXZhbCxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbXB1dGVyVXNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29tcHV0ZXJVc2UnXSk7XG4gIGlmIChmcm9tQ29tcHV0ZXJVc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjb21wdXRlclVzZSddLCBmcm9tQ29tcHV0ZXJVc2UpO1xuICB9XG5cbiAgY29uc3QgZnJvbUZpbGVTZWFyY2ggPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmaWxlU2VhcmNoJ10pO1xuICBpZiAoZnJvbUZpbGVTZWFyY2ggIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydmaWxlU2VhcmNoJ10sIGZyb21GaWxlU2VhcmNoKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db2RlRXhlY3V0aW9uID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnY29kZUV4ZWN1dGlvbicsXG4gIF0pO1xuICBpZiAoZnJvbUNvZGVFeGVjdXRpb24gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjb2RlRXhlY3V0aW9uJ10sIGZyb21Db2RlRXhlY3V0aW9uKTtcbiAgfVxuXG4gIGlmIChcbiAgICBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlbnRlcnByaXNlV2ViU2VhcmNoJ10pICE9PSB1bmRlZmluZWRcbiAgKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ2VudGVycHJpc2VXZWJTZWFyY2ggcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tR29vZ2xlTWFwcyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2dvb2dsZU1hcHMnXSk7XG4gIGlmIChmcm9tR29vZ2xlTWFwcyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ2dvb2dsZU1hcHMnXSxcbiAgICAgIGdvb2dsZU1hcHNUb01sZGV2KGZyb21Hb29nbGVNYXBzKSxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUdvb2dsZVNlYXJjaCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2dvb2dsZVNlYXJjaCddKTtcbiAgaWYgKGZyb21Hb29nbGVTZWFyY2ggIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydnb29nbGVTZWFyY2gnXSxcbiAgICAgIGdvb2dsZVNlYXJjaFRvTWxkZXYoZnJvbUdvb2dsZVNlYXJjaCksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21VcmxDb250ZXh0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndXJsQ29udGV4dCddKTtcbiAgaWYgKGZyb21VcmxDb250ZXh0ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndXJsQ29udGV4dCddLCBmcm9tVXJsQ29udGV4dCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi9fYXBpX2NsaWVudC5qcyc7XG5pbXBvcnQgKiBhcyBjb21tb24gZnJvbSAnLi9fY29tbW9uLmpzJztcbmltcG9ydCB7QmFzZU1vZHVsZX0gZnJvbSAnLi9fY29tbW9uLmpzJztcbmltcG9ydCAqIGFzIGNvbnZlcnRlcnMgZnJvbSAnLi9jb252ZXJ0ZXJzL190b2tlbnNfY29udmVydGVycy5qcyc7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuL3R5cGVzLmpzJztcblxuLyoqXG4gKiBSZXR1cm5zIGEgY29tbWEtc2VwYXJhdGVkIGxpc3Qgb2YgZmllbGQgbWFza3MgZnJvbSBhIGdpdmVuIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gc2V0dXAgVGhlIG9iamVjdCB0byBleHRyYWN0IGZpZWxkIG1hc2tzIGZyb20uXG4gKiBAcmV0dXJuIEEgY29tbWEtc2VwYXJhdGVkIGxpc3Qgb2YgZmllbGQgbWFza3MuXG4gKi9cbmZ1bmN0aW9uIGdldEZpZWxkTWFza3Moc2V0dXA6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KTogc3RyaW5nIHtcbiAgY29uc3QgZmllbGRzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIGZvciAoY29uc3Qga2V5IGluIHNldHVwKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzZXR1cCwga2V5KSkge1xuICAgICAgY29uc3QgdmFsdWUgPSBzZXR1cFtrZXldO1xuICAgICAgLy8gMm5kIGxheWVyLCByZWN1cnNpdmVseSBnZXQgZmllbGQgbWFza3Mgc2VlIFRPRE8oYi80MTgyOTAxMDApXG4gICAgICBpZiAoXG4gICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgdmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICBPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID4gMFxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkID0gT2JqZWN0LmtleXModmFsdWUpLm1hcCgoa2spID0+IGAke2tleX0uJHtra31gKTtcbiAgICAgICAgZmllbGRzLnB1c2goLi4uZmllbGQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmllbGRzLnB1c2goa2V5KTsgLy8gMXN0IGxheWVyXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZpZWxkcy5qb2luKCcsJyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYmlkaUdlbmVyYXRlQ29udGVudFNldHVwLlxuICogQHBhcmFtIHJlcXVlc3REaWN0IC0gVGhlIHJlcXVlc3QgZGljdGlvbmFyeS5cbiAqIEBwYXJhbSBjb25maWcgLSBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QuXG4gKiBAcmV0dXJuIC0gVGhlIG1vZGlmaWVkIHJlcXVlc3QgZGljdGlvbmFyeS5cbiAqL1xuZnVuY3Rpb24gY29udmVydEJpZGlTZXR1cFRvVG9rZW5TZXR1cChcbiAgcmVxdWVzdERpY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICBjb25maWc/OiB7bG9ja0FkZGl0aW9uYWxGaWVsZHM/OiBzdHJpbmdbXX0sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIC8vIENvbnZlcnQgYmlkaUdlbmVyYXRlQ29udGVudFNldHVwIGZyb20gYmlkaUdlbmVyYXRlQ29udGVudFNldHVwLnNldHVwLlxuICBsZXQgc2V0dXBGb3JNYXNrR2VuZXJhdGlvbjogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCBudWxsID0gbnVsbDtcbiAgY29uc3QgYmlkaUdlbmVyYXRlQ29udGVudFNldHVwVmFsdWUgPSByZXF1ZXN0RGljdFsnYmlkaUdlbmVyYXRlQ29udGVudFNldHVwJ107XG4gIGlmIChcbiAgICB0eXBlb2YgYmlkaUdlbmVyYXRlQ29udGVudFNldHVwVmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgYmlkaUdlbmVyYXRlQ29udGVudFNldHVwVmFsdWUgIT09IG51bGwgJiZcbiAgICAnc2V0dXAnIGluIGJpZGlHZW5lcmF0ZUNvbnRlbnRTZXR1cFZhbHVlXG4gICkge1xuICAgIC8vIE5vdyB3ZSBrbm93IGJpZGlHZW5lcmF0ZUNvbnRlbnRTZXR1cFZhbHVlIGlzIGFuIG9iamVjdCBhbmQgaGFzIGEgJ3NldHVwJ1xuICAgIC8vIHByb3BlcnR5LlxuICAgIGNvbnN0IGlubmVyU2V0dXAgPSAoYmlkaUdlbmVyYXRlQ29udGVudFNldHVwVmFsdWUgYXMge3NldHVwOiB1bmtub3dufSlcbiAgICAgIC5zZXR1cDtcblxuICAgIGlmICh0eXBlb2YgaW5uZXJTZXR1cCA9PT0gJ29iamVjdCcgJiYgaW5uZXJTZXR1cCAhPT0gbnVsbCkge1xuICAgICAgLy8gVmFsaWQgaW5uZXIgc2V0dXAgZm91bmQuXG4gICAgICByZXF1ZXN0RGljdFsnYmlkaUdlbmVyYXRlQ29udGVudFNldHVwJ10gPSBpbm5lclNldHVwO1xuICAgICAgc2V0dXBGb3JNYXNrR2VuZXJhdGlvbiA9IGlubmVyU2V0dXAgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGBiaWRpR2VuZXJhdGVDb250ZW50U2V0dXBWYWx1ZS5zZXR1cGAgaXMgbm90IGEgdmFsaWQgb2JqZWN0OyB0cmVhdCBhc1xuICAgICAgLy8gaWYgYmlkaUdlbmVyYXRlQ29udGVudFNldHVwIGlzIGludmFsaWQuXG4gICAgICBkZWxldGUgcmVxdWVzdERpY3RbJ2JpZGlHZW5lcmF0ZUNvbnRlbnRTZXR1cCddO1xuICAgIH1cbiAgfSBlbHNlIGlmIChiaWRpR2VuZXJhdGVDb250ZW50U2V0dXBWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gYGJpZGlHZW5lcmF0ZUNvbnRlbnRTZXR1cGAgZXhpc3RzIGJ1dCBub3QgaW4gdGhlIGV4cGVjdGVkXG4gICAgLy8gc2hhcGUge3NldHVwOiB7Li4ufX07IHRyZWF0IGFzIGludmFsaWQuXG4gICAgZGVsZXRlIHJlcXVlc3REaWN0WydiaWRpR2VuZXJhdGVDb250ZW50U2V0dXAnXTtcbiAgfVxuXG4gIGNvbnN0IHByZUV4aXN0aW5nRmllbGRNYXNrID0gcmVxdWVzdERpY3RbJ2ZpZWxkTWFzayddO1xuICAvLyBIYW5kbGUgbWFzayBnZW5lcmF0aW9uIHNldHVwLlxuICBpZiAoc2V0dXBGb3JNYXNrR2VuZXJhdGlvbikge1xuICAgIGNvbnN0IGdlbmVyYXRlZE1hc2tGcm9tQmlkaSA9IGdldEZpZWxkTWFza3Moc2V0dXBGb3JNYXNrR2VuZXJhdGlvbik7XG5cbiAgICBpZiAoXG4gICAgICBBcnJheS5pc0FycmF5KGNvbmZpZz8ubG9ja0FkZGl0aW9uYWxGaWVsZHMpICYmXG4gICAgICBjb25maWc/LmxvY2tBZGRpdGlvbmFsRmllbGRzLmxlbmd0aCA9PT0gMFxuICAgICkge1xuICAgICAgLy8gQ2FzZSAxOiBsb2NrQWRkaXRpb25hbEZpZWxkcyBpcyBhbiBlbXB0eSBhcnJheS4gTG9jayBvbmx5IGZpZWxkcyBmcm9tXG4gICAgICAvLyBiaWRpIHNldHVwLlxuICAgICAgaWYgKGdlbmVyYXRlZE1hc2tGcm9tQmlkaSkge1xuICAgICAgICAvLyBPbmx5IGFzc2lnbiBpZiBtYXNrIGlzIG5vdCBlbXB0eVxuICAgICAgICByZXF1ZXN0RGljdFsnZmllbGRNYXNrJ10gPSBnZW5lcmF0ZWRNYXNrRnJvbUJpZGk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGUgcmVxdWVzdERpY3RbJ2ZpZWxkTWFzayddOyAvLyBJZiBtYXNrIGlzIGVtcHR5LCBlZmZlY3RpdmVseSBub1xuICAgICAgICAvLyBzcGVjaWZpYyBmaWVsZHMgbG9ja2VkIGJ5IGJpZGlcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFxuICAgICAgY29uZmlnPy5sb2NrQWRkaXRpb25hbEZpZWxkcyAmJlxuICAgICAgY29uZmlnLmxvY2tBZGRpdGlvbmFsRmllbGRzLmxlbmd0aCA+IDAgJiZcbiAgICAgIHByZUV4aXN0aW5nRmllbGRNYXNrICE9PSBudWxsICYmXG4gICAgICBBcnJheS5pc0FycmF5KHByZUV4aXN0aW5nRmllbGRNYXNrKSAmJlxuICAgICAgcHJlRXhpc3RpbmdGaWVsZE1hc2subGVuZ3RoID4gMFxuICAgICkge1xuICAgICAgLy8gQ2FzZSAyOiBMb2NrIGZpZWxkcyBmcm9tIGJpZGkgc2V0dXAgKyBhZGRpdGlvbmFsIGZpZWxkc1xuICAgICAgLy8gKHByZUV4aXN0aW5nRmllbGRNYXNrKS5cblxuICAgICAgY29uc3QgZ2VuZXJhdGlvbkNvbmZpZ0ZpZWxkcyA9IFtcbiAgICAgICAgJ3RlbXBlcmF0dXJlJyxcbiAgICAgICAgJ3RvcEsnLFxuICAgICAgICAndG9wUCcsXG4gICAgICAgICdtYXhPdXRwdXRUb2tlbnMnLFxuICAgICAgICAncmVzcG9uc2VNb2RhbGl0aWVzJyxcbiAgICAgICAgJ3NlZWQnLFxuICAgICAgICAnc3BlZWNoQ29uZmlnJyxcbiAgICAgIF07XG5cbiAgICAgIGxldCBtYXBwZWRGaWVsZHNGcm9tUHJlRXhpc3Rpbmc6IHN0cmluZ1tdID0gW107XG4gICAgICBpZiAocHJlRXhpc3RpbmdGaWVsZE1hc2subGVuZ3RoID4gMCkge1xuICAgICAgICBtYXBwZWRGaWVsZHNGcm9tUHJlRXhpc3RpbmcgPSBwcmVFeGlzdGluZ0ZpZWxkTWFzay5tYXAoKGZpZWxkKSA9PiB7XG4gICAgICAgICAgaWYgKGdlbmVyYXRpb25Db25maWdGaWVsZHMuaW5jbHVkZXMoZmllbGQpKSB7XG4gICAgICAgICAgICByZXR1cm4gYGdlbmVyYXRpb25Db25maWcuJHtmaWVsZH1gO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmllbGQ7IC8vIEtlZXAgb3JpZ2luYWwgZmllbGQgbmFtZSBpZiBub3QgaW5cbiAgICAgICAgICAvLyBnZW5lcmF0aW9uQ29uZmlnRmllbGRzXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBmaW5hbE1hc2tQYXJ0czogc3RyaW5nW10gPSBbXTtcbiAgICAgIGlmIChnZW5lcmF0ZWRNYXNrRnJvbUJpZGkpIHtcbiAgICAgICAgZmluYWxNYXNrUGFydHMucHVzaChnZW5lcmF0ZWRNYXNrRnJvbUJpZGkpO1xuICAgICAgfVxuICAgICAgaWYgKG1hcHBlZEZpZWxkc0Zyb21QcmVFeGlzdGluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZpbmFsTWFza1BhcnRzLnB1c2goLi4ubWFwcGVkRmllbGRzRnJvbVByZUV4aXN0aW5nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZpbmFsTWFza1BhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVxdWVzdERpY3RbJ2ZpZWxkTWFzayddID0gZmluYWxNYXNrUGFydHMuam9pbignLCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgbm8gZmllbGRzIGZyb20gYmlkaSBhbmQgbm8gdmFsaWQgYWRkaXRpb25hbCBmaWVsZHMgZnJvbVxuICAgICAgICAvLyBwcmUtZXhpc3RpbmcgbWFzay5cbiAgICAgICAgZGVsZXRlIHJlcXVlc3REaWN0WydmaWVsZE1hc2snXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2FzZSAzOiBcIkxvY2sgYWxsIGZpZWxkc1wiIChtZWFuaW5nLCBkb24ndCBzZW5kIGEgZmllbGRfbWFzaywgbGV0IHNlcnZlclxuICAgICAgLy8gZGVmYXVsdHMgYXBwbHkgb3IgYWxsIGFyZSBtdXRhYmxlKS4gVGhpcyBpcyBoaXQgaWY6XG4gICAgICAvLyAgLSBgY29uZmlnLmxvY2tBZGRpdGlvbmFsRmllbGRzYCBpcyB1bmRlZmluZWQuXG4gICAgICAvLyAgLSBgY29uZmlnLmxvY2tBZGRpdGlvbmFsRmllbGRzYCBpcyBub24tZW1wdHksIEJVVFxuICAgICAgLy8gIGBwcmVFeGlzdGluZ0ZpZWxkTWFza2AgaXMgbnVsbCwgbm90IGEgc3RyaW5nLCBvciBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICBkZWxldGUgcmVxdWVzdERpY3RbJ2ZpZWxkTWFzayddO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBObyB2YWxpZCBgYmlkaUdlbmVyYXRlQ29udGVudFNldHVwYCB3YXMgZm91bmQgb3IgZXh0cmFjdGVkLlxuICAgIC8vIFwiTG9jayBhZGRpdGlvbmFsIG51bGwgZmllbGRzIGlmIGFueVwiLlxuICAgIGlmIChcbiAgICAgIHByZUV4aXN0aW5nRmllbGRNYXNrICE9PSBudWxsICYmXG4gICAgICBBcnJheS5pc0FycmF5KHByZUV4aXN0aW5nRmllbGRNYXNrKSAmJlxuICAgICAgcHJlRXhpc3RpbmdGaWVsZE1hc2subGVuZ3RoID4gMFxuICAgICkge1xuICAgICAgLy8gSWYgdGhlcmUncyBhIHByZS1leGlzdGluZyBmaWVsZCBtYXNrLCBpdCdzIGEgc3RyaW5nLCBhbmQgaXQncyBub3RcbiAgICAgIC8vIGVtcHR5LCB0aGVuIHdlIHNob3VsZCBsb2NrIGFsbCBmaWVsZHMuXG4gICAgICByZXF1ZXN0RGljdFsnZmllbGRNYXNrJ10gPSBwcmVFeGlzdGluZ0ZpZWxkTWFzay5qb2luKCcsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSByZXF1ZXN0RGljdFsnZmllbGRNYXNrJ107XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcXVlc3REaWN0O1xufVxuXG5leHBvcnQgY2xhc3MgVG9rZW5zIGV4dGVuZHMgQmFzZU1vZHVsZSB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgYXBpQ2xpZW50OiBBcGlDbGllbnQpIHtcbiAgICBzdXBlcigpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGVwaGVtZXJhbCBhdXRoIHRva2VuIHJlc291cmNlLlxuICAgKlxuICAgKiBAZXhwZXJpbWVudGFsXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIEVwaGVtZXJhbCBhdXRoIHRva2VucyBpcyBvbmx5IHN1cHBvcnRlZCBpbiB0aGUgR2VtaW5pIERldmVsb3BlciBBUEkuXG4gICAqIEl0IGNhbiBiZSB1c2VkIGZvciB0aGUgc2Vzc2lvbiBjb25uZWN0aW9uIHRvIHRoZSBMaXZlIGNvbnN0cmFpbmVkIEFQSS5cbiAgICogU3VwcG9ydCBpbiB2MWFscGhhIG9ubHkuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgdGhlIGNyZWF0ZSByZXF1ZXN0LlxuICAgKiBAcmV0dXJuIFRoZSBjcmVhdGVkIGF1dGggdG9rZW4uXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IGFpID0gbmV3IEdvb2dsZUdlbkFJKHtcbiAgICogICAgIGFwaUtleTogdG9rZW4ubmFtZSxcbiAgICogICAgIGh0dHBPcHRpb25zOiB7IGFwaVZlcnNpb246ICd2MWFscGhhJyB9ICAvLyBTdXBwb3J0IGluIHYxYWxwaGEgb25seS5cbiAgICogfSk7XG4gICAqXG4gICAqIC8vIENhc2UgMTogSWYgTGl2ZUVwaGVtZXJhbFBhcmFtZXRlcnMgaXMgdW5zZXQsIHVubG9jayBMaXZlQ29ubmVjdENvbmZpZ1xuICAgKiAvLyB3aGVuIHVzaW5nIHRoZSB0b2tlbiBpbiBMaXZlIEFQSSBzZXNzaW9ucy4gRWFjaCBzZXNzaW9uIGNvbm5lY3Rpb24gY2FuXG4gICAqIC8vIHVzZSBhIGRpZmZlcmVudCBjb25maWd1cmF0aW9uLlxuICAgKiBjb25zdCBjb25maWc6IENyZWF0ZUF1dGhUb2tlbkNvbmZpZyA9IHtcbiAgICogICAgIHVzZXM6IDMsXG4gICAqICAgICBleHBpcmVUaW1lOiAnMjAyNS0wNS0wMVQwMDowMDowMFonLFxuICAgKiB9XG4gICAqIGNvbnN0IHRva2VuID0gYXdhaXQgYWkudG9rZW5zLmNyZWF0ZShjb25maWcpO1xuICAgKlxuICAgKiAvLyBDYXNlIDI6IElmIExpdmVFcGhlbWVyYWxQYXJhbWV0ZXJzIGlzIHNldCwgbG9jayBhbGwgZmllbGRzIGluXG4gICAqIC8vIExpdmVDb25uZWN0Q29uZmlnIHdoZW4gdXNpbmcgdGhlIHRva2VuIGluIExpdmUgQVBJIHNlc3Npb25zLiBGb3JcbiAgICogLy8gZXhhbXBsZSwgY2hhbmdpbmcgYG91dHB1dEF1ZGlvVHJhbnNjcmlwdGlvbmAgaW4gdGhlIExpdmUgQVBJXG4gICAqIC8vIGNvbm5lY3Rpb24gd2lsbCBiZSBpZ25vcmVkIGJ5IHRoZSBBUEkuXG4gICAqIGNvbnN0IGNvbmZpZzogQ3JlYXRlQXV0aFRva2VuQ29uZmlnID1cbiAgICogICAgIHVzZXM6IDMsXG4gICAqICAgICBleHBpcmVUaW1lOiAnMjAyNS0wNS0wMVQwMDowMDowMFonLFxuICAgKiAgICAgTGl2ZUVwaGVtZXJhbFBhcmFtZXRlcnM6IHtcbiAgICogICAgICAgIG1vZGVsOiAnZ2VtaW5pLTIuMC1mbGFzaC0wMDEnLFxuICAgKiAgICAgICAgY29uZmlnOiB7XG4gICAqICAgICAgICAgICAncmVzcG9uc2VNb2RhbGl0aWVzJzogWydBVURJTyddLFxuICAgKiAgICAgICAgICAgJ3N5c3RlbUluc3RydWN0aW9uJzogJ0Fsd2F5cyBhbnN3ZXIgaW4gRW5nbGlzaC4nLFxuICAgKiAgICAgICAgfVxuICAgKiAgICAgfVxuICAgKiB9XG4gICAqIGNvbnN0IHRva2VuID0gYXdhaXQgYWkudG9rZW5zLmNyZWF0ZShjb25maWcpO1xuICAgKlxuICAgKiAvLyBDYXNlIDM6IElmIExpdmVFcGhlbWVyYWxQYXJhbWV0ZXJzIGlzIHNldCBhbmQgbG9ja0FkZGl0aW9uYWxGaWVsZHMgaXNcbiAgICogLy8gc2V0LCBsb2NrIExpdmVDb25uZWN0Q29uZmlnIHdpdGggc2V0IGFuZCBhZGRpdGlvbmFsIGZpZWxkcyAoZS5nLlxuICAgKiAvLyByZXNwb25zZU1vZGFsaXRpZXMsIHN5c3RlbUluc3RydWN0aW9uLCB0ZW1wZXJhdHVyZSBpbiB0aGlzIGV4YW1wbGUpIHdoZW5cbiAgICogLy8gdXNpbmcgdGhlIHRva2VuIGluIExpdmUgQVBJIHNlc3Npb25zLlxuICAgKiBjb25zdCBjb25maWc6IENyZWF0ZUF1dGhUb2tlbkNvbmZpZyA9XG4gICAqICAgICB1c2VzOiAzLFxuICAgKiAgICAgZXhwaXJlVGltZTogJzIwMjUtMDUtMDFUMDA6MDA6MDBaJyxcbiAgICogICAgIExpdmVFcGhlbWVyYWxQYXJhbWV0ZXJzOiB7XG4gICAqICAgICAgICBtb2RlbDogJ2dlbWluaS0yLjAtZmxhc2gtMDAxJyxcbiAgICogICAgICAgIGNvbmZpZzoge1xuICAgKiAgICAgICAgICAgJ3Jlc3BvbnNlTW9kYWxpdGllcyc6IFsnQVVESU8nXSxcbiAgICogICAgICAgICAgICdzeXN0ZW1JbnN0cnVjdGlvbic6ICdBbHdheXMgYW5zd2VyIGluIEVuZ2xpc2guJyxcbiAgICogICAgICAgIH1cbiAgICogICAgIH0sXG4gICAqICAgICBsb2NrQWRkaXRpb25hbEZpZWxkczogWyd0ZW1wZXJhdHVyZSddLFxuICAgKiB9XG4gICAqIGNvbnN0IHRva2VuID0gYXdhaXQgYWkudG9rZW5zLmNyZWF0ZShjb25maWcpO1xuICAgKlxuICAgKiAvLyBDYXNlIDQ6IElmIExpdmVFcGhlbWVyYWxQYXJhbWV0ZXJzIGlzIHNldCBhbmQgbG9ja0FkZGl0aW9uYWxGaWVsZHMgaXNcbiAgICogLy8gZW1wdHkgYXJyYXksIGxvY2sgTGl2ZUNvbm5lY3RDb25maWcgd2l0aCBzZXQgZmllbGRzIChlLmcuXG4gICAqIC8vIHJlc3BvbnNlTW9kYWxpdGllcywgc3lzdGVtSW5zdHJ1Y3Rpb24gaW4gdGhpcyBleGFtcGxlKSB3aGVuIHVzaW5nIHRoZVxuICAgKiAvLyB0b2tlbiBpbiBMaXZlIEFQSSBzZXNzaW9ucy5cbiAgICogY29uc3QgY29uZmlnOiBDcmVhdGVBdXRoVG9rZW5Db25maWcgPVxuICAgKiAgICAgdXNlczogMyxcbiAgICogICAgIGV4cGlyZVRpbWU6ICcyMDI1LTA1LTAxVDAwOjAwOjAwWicsXG4gICAqICAgICBMaXZlRXBoZW1lcmFsUGFyYW1ldGVyczoge1xuICAgKiAgICAgICAgbW9kZWw6ICdnZW1pbmktMi4wLWZsYXNoLTAwMScsXG4gICAqICAgICAgICBjb25maWc6IHtcbiAgICogICAgICAgICAgICdyZXNwb25zZU1vZGFsaXRpZXMnOiBbJ0FVRElPJ10sXG4gICAqICAgICAgICAgICAnc3lzdGVtSW5zdHJ1Y3Rpb24nOiAnQWx3YXlzIGFuc3dlciBpbiBFbmdsaXNoLicsXG4gICAqICAgICAgICB9XG4gICAqICAgICB9LFxuICAgKiAgICAgbG9ja0FkZGl0aW9uYWxGaWVsZHM6IFtdLFxuICAgKiB9XG4gICAqIGNvbnN0IHRva2VuID0gYXdhaXQgYWkudG9rZW5zLmNyZWF0ZShjb25maWcpO1xuICAgKiBgYGBcbiAgICovXG5cbiAgYXN5bmMgY3JlYXRlKFxuICAgIHBhcmFtczogdHlwZXMuQ3JlYXRlQXV0aFRva2VuUGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5BdXRoVG9rZW4+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuQXV0aFRva2VuPjtcbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIGNsaWVudC50b2tlbnMuY3JlYXRlIG1ldGhvZCBpcyBvbmx5IHN1cHBvcnRlZCBieSB0aGUgR2VtaW5pIERldmVsb3BlciBBUEkuJyxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmNyZWF0ZUF1dGhUb2tlblBhcmFtZXRlcnNUb01sZGV2KFxuICAgICAgICB0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAnYXV0aF90b2tlbnMnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuXG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnY29uZmlnJ107XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICBjb25zdCB0cmFuc2Zvcm1lZEJvZHkgPSBjb252ZXJ0QmlkaVNldHVwVG9Ub2tlblNldHVwKGJvZHksIHBhcmFtcy5jb25maWcpO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0cmFuc2Zvcm1lZEJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuQXV0aFRva2VuPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKHJlc3ApID0+IHtcbiAgICAgICAgcmV0dXJuIHJlc3AgYXMgdHlwZXMuQXV0aFRva2VuO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vLyBDb2RlIGdlbmVyYXRlZCBieSB0aGUgR29vZ2xlIEdlbiBBSSBTREsgZ2VuZXJhdG9yIERPIE5PVCBFRElULlxuXG5pbXBvcnQgKiBhcyBjb21tb24gZnJvbSAnLi4vX2NvbW1vbi5qcyc7XG5pbXBvcnQgdHlwZSAqIGFzIHR5cGVzIGZyb20gJy4uL3R5cGVzLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZURvY3VtZW50Q29uZmlnVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuRGVsZXRlRG9jdW1lbnRDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21Gb3JjZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2ZvcmNlJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUZvcmNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ19xdWVyeScsICdmb3JjZSddLCBmcm9tRm9yY2UpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlRG9jdW1lbnRQYXJhbWV0ZXJzVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuRGVsZXRlRG9jdW1lbnRQYXJhbWV0ZXJzLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ191cmwnLCAnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgZGVsZXRlRG9jdW1lbnRDb25maWdUb01sZGV2KGZyb21Db25maWcsIHRvT2JqZWN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERvY3VtZW50UGFyYW1ldGVyc1RvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkdldERvY3VtZW50UGFyYW1ldGVycyxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydfdXJsJywgJ25hbWUnXSwgZnJvbU5hbWUpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGlzdERvY3VtZW50c0NvbmZpZ1RvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpc3REb2N1bWVudHNDb25maWcsXG4gIHBhcmVudE9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21QYWdlU2l6ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhZ2VTaXplJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVBhZ2VTaXplICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ19xdWVyeScsICdwYWdlU2l6ZSddLCBmcm9tUGFnZVNpemUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVBhZ2VUb2tlbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhZ2VUb2tlbiddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21QYWdlVG9rZW4gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnX3F1ZXJ5JywgJ3BhZ2VUb2tlbiddLCBmcm9tUGFnZVRva2VuKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3REb2N1bWVudHNQYXJhbWV0ZXJzVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuTGlzdERvY3VtZW50c1BhcmFtZXRlcnMsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21QYXJlbnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYXJlbnQnXSk7XG4gIGlmIChmcm9tUGFyZW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnX3VybCcsICdwYXJlbnQnXSwgZnJvbVBhcmVudCk7XG4gIH1cblxuICBjb25zdCBmcm9tQ29uZmlnID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnY29uZmlnJ10pO1xuICBpZiAoZnJvbUNvbmZpZyAhPSBudWxsKSB7XG4gICAgbGlzdERvY3VtZW50c0NvbmZpZ1RvTWxkZXYoZnJvbUNvbmZpZywgdG9PYmplY3QpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGlzdERvY3VtZW50c1Jlc3BvbnNlRnJvbU1sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXN0RG9jdW1lbnRzUmVzcG9uc2UsXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21TZGtIdHRwUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZGtIdHRwUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21TZGtIdHRwUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzZGtIdHRwUmVzcG9uc2UnXSwgZnJvbVNka0h0dHBSZXNwb25zZSk7XG4gIH1cblxuICBjb25zdCBmcm9tTmV4dFBhZ2VUb2tlbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ25leHRQYWdlVG9rZW4nLFxuICBdKTtcbiAgaWYgKGZyb21OZXh0UGFnZVRva2VuICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmV4dFBhZ2VUb2tlbiddLCBmcm9tTmV4dFBhZ2VUb2tlbik7XG4gIH1cblxuICBjb25zdCBmcm9tRG9jdW1lbnRzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZG9jdW1lbnRzJ10pO1xuICBpZiAoZnJvbURvY3VtZW50cyAhPSBudWxsKSB7XG4gICAgbGV0IHRyYW5zZm9ybWVkTGlzdCA9IGZyb21Eb2N1bWVudHM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZG9jdW1lbnRzJ10sIHRyYW5zZm9ybWVkTGlzdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vLyBDb2RlIGdlbmVyYXRlZCBieSB0aGUgR29vZ2xlIEdlbiBBSSBTREsgZ2VuZXJhdG9yIERPIE5PVCBFRElULlxuXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi9fYXBpX2NsaWVudC5qcyc7XG5pbXBvcnQgKiBhcyBjb21tb24gZnJvbSAnLi9fY29tbW9uLmpzJztcbmltcG9ydCB7QmFzZU1vZHVsZX0gZnJvbSAnLi9fY29tbW9uLmpzJztcbmltcG9ydCAqIGFzIGNvbnZlcnRlcnMgZnJvbSAnLi9jb252ZXJ0ZXJzL19kb2N1bWVudHNfY29udmVydGVycy5qcyc7XG5pbXBvcnQge1BhZ2VkSXRlbSwgUGFnZWRJdGVtQ29uZmlnLCBQYWdlcn0gZnJvbSAnLi9wYWdlcnMuanMnO1xuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSAnLi90eXBlcy5qcyc7XG5cbmV4cG9ydCBjbGFzcyBEb2N1bWVudHMgZXh0ZW5kcyBCYXNlTW9kdWxlIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBhcGlDbGllbnQ6IEFwaUNsaWVudCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogTGlzdHMgZG9jdW1lbnRzLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIHRoZSBsaXN0IHJlcXVlc3QuXG4gICAqIEByZXR1cm4gLSBBIHBhZ2VyIG9mIGRvY3VtZW50cy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgZG9jdW1lbnRzID0gYXdhaXQgYWkuZG9jdW1lbnRzLmxpc3Qoe3BhcmVudDoncmFnX3N0b3JlX25hbWUnLCBjb25maWc6IHsncGFnZVNpemUnOiAyfX0pO1xuICAgKiBmb3IgYXdhaXQgKGNvbnN0IGRvY3VtZW50IG9mIGRvY3VtZW50cykge1xuICAgKiAgIGNvbnNvbGUubG9nKGRvY3VtZW50KTtcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG5cbiAgbGlzdCA9IGFzeW5jIChcbiAgICBwYXJhbXM6IHR5cGVzLkxpc3REb2N1bWVudHNQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPFBhZ2VyPHR5cGVzLkRvY3VtZW50Pj4gPT4ge1xuICAgIHJldHVybiBuZXcgUGFnZXI8dHlwZXMuRG9jdW1lbnQ+KFxuICAgICAgUGFnZWRJdGVtLlBBR0VEX0lURU1fRE9DVU1FTlRTLFxuICAgICAgKHg6IFBhZ2VkSXRlbUNvbmZpZykgPT5cbiAgICAgICAgdGhpcy5saXN0SW50ZXJuYWwoe3BhcmVudDogcGFyYW1zLnBhcmVudCwgY29uZmlnOiB4LmNvbmZpZ30pLFxuICAgICAgYXdhaXQgdGhpcy5saXN0SW50ZXJuYWwocGFyYW1zKSxcbiAgICAgIHBhcmFtcyxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXRzIGEgRG9jdW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgZ2V0dGluZyBhIGRvY3VtZW50LlxuICAgKiBAcmV0dXJuIERvY3VtZW50LlxuICAgKi9cblxuICBhc3luYyBnZXQocGFyYW1zOiB0eXBlcy5HZXREb2N1bWVudFBhcmFtZXRlcnMpOiBQcm9taXNlPHR5cGVzLkRvY3VtZW50PiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkRvY3VtZW50PjtcblxuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGlzIG1ldGhvZCBpcyBvbmx5IHN1cHBvcnRlZCBieSB0aGUgR2VtaW5pIERldmVsb3BlciBBUEkuJyxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmdldERvY3VtZW50UGFyYW1ldGVyc1RvTWxkZXYocGFyYW1zKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne25hbWV9JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5Eb2N1bWVudD47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChyZXNwKSA9PiB7XG4gICAgICAgIHJldHVybiByZXNwIGFzIHR5cGVzLkRvY3VtZW50O1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZXMgYSBEb2N1bWVudC5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBkZWxldGluZyBhIGRvY3VtZW50LlxuICAgKi9cblxuICBhc3luYyBkZWxldGUocGFyYW1zOiB0eXBlcy5EZWxldGVEb2N1bWVudFBhcmFtZXRlcnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBtZXRob2QgaXMgb25seSBzdXBwb3J0ZWQgYnkgdGhlIEdlbWluaSBEZXZlbG9wZXIgQVBJLicsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5kZWxldGVEb2N1bWVudFBhcmFtZXRlcnNUb01sZGV2KHBhcmFtcyk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3tuYW1lfScsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICBhd2FpdCB0aGlzLmFwaUNsaWVudC5yZXF1ZXN0KHtcbiAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgaHR0cE1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBsaXN0SW50ZXJuYWwoXG4gICAgcGFyYW1zOiB0eXBlcy5MaXN0RG9jdW1lbnRzUGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5MaXN0RG9jdW1lbnRzUmVzcG9uc2U+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuTGlzdERvY3VtZW50c1Jlc3BvbnNlPjtcblxuICAgIGxldCBwYXRoOiBzdHJpbmcgPSAnJztcbiAgICBsZXQgcXVlcnlQYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGlzIG1ldGhvZCBpcyBvbmx5IHN1cHBvcnRlZCBieSB0aGUgR2VtaW5pIERldmVsb3BlciBBUEkuJyxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmxpc3REb2N1bWVudHNQYXJhbWV0ZXJzVG9NbGRldihwYXJhbXMpO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7cGFyZW50fS9kb2N1bWVudHMnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkxpc3REb2N1bWVudHNSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5saXN0RG9jdW1lbnRzUmVzcG9uc2VGcm9tTWxkZXYoYXBpUmVzcG9uc2UpO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuTGlzdERvY3VtZW50c1Jlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gQ29kZSBnZW5lcmF0ZWQgYnkgdGhlIEdvb2dsZSBHZW4gQUkgU0RLIGdlbmVyYXRvciBETyBOT1QgRURJVC5cblxuaW1wb3J0IHtBcGlDbGllbnR9IGZyb20gJy4vX2FwaV9jbGllbnQuanMnO1xuaW1wb3J0ICogYXMgY29tbW9uIGZyb20gJy4vX2NvbW1vbi5qcyc7XG5pbXBvcnQge0Jhc2VNb2R1bGV9IGZyb20gJy4vX2NvbW1vbi5qcyc7XG5pbXBvcnQgKiBhcyBjb252ZXJ0ZXJzIGZyb20gJy4vY29udmVydGVycy9fZmlsZXNlYXJjaHN0b3Jlc19jb252ZXJ0ZXJzLmpzJztcbmltcG9ydCB7RG9jdW1lbnRzfSBmcm9tICcuL2RvY3VtZW50cy5qcyc7XG5pbXBvcnQge1BhZ2VkSXRlbSwgUGFnZXJ9IGZyb20gJy4vcGFnZXJzLmpzJztcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4vdHlwZXMuanMnO1xuXG5leHBvcnQgY2xhc3MgRmlsZVNlYXJjaFN0b3JlcyBleHRlbmRzIEJhc2VNb2R1bGUge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICAgIHB1YmxpYyByZWFkb25seSBkb2N1bWVudHM6IERvY3VtZW50cyA9IG5ldyBEb2N1bWVudHMoYXBpQ2xpZW50KSxcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0cyBmaWxlIHNlYXJjaCBzdG9yZXMuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgdGhlIGxpc3QgcmVxdWVzdC5cbiAgICogQHJldHVybiAtIEEgcGFnZXIgb2YgZmlsZSBzZWFyY2ggc3RvcmVzLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBmaWxlU2VhcmNoU3RvcmVzID0gYXdhaXQgYWkuZmlsZVNlYXJjaFN0b3Jlcy5saXN0KHtjb25maWc6IHsncGFnZVNpemUnOiAyfX0pO1xuICAgKiBmb3IgYXdhaXQgKGNvbnN0IGZpbGVTZWFyY2hTdG9yZSBvZiBmaWxlU2VhcmNoU3RvcmVzKSB7XG4gICAqICAgY29uc29sZS5sb2coZmlsZVNlYXJjaFN0b3JlKTtcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG5cbiAgbGlzdCA9IGFzeW5jIChcbiAgICBwYXJhbXM6IHR5cGVzLkxpc3RGaWxlU2VhcmNoU3RvcmVzUGFyYW1ldGVycyA9IHt9LFxuICApOiBQcm9taXNlPFBhZ2VyPHR5cGVzLkZpbGVTZWFyY2hTdG9yZT4+ID0+IHtcbiAgICByZXR1cm4gbmV3IFBhZ2VyPHR5cGVzLkZpbGVTZWFyY2hTdG9yZT4oXG4gICAgICBQYWdlZEl0ZW0uUEFHRURfSVRFTV9GSUxFX1NFQVJDSF9TVE9SRVMsXG4gICAgICAoeDogdHlwZXMuTGlzdEZpbGVTZWFyY2hTdG9yZXNQYXJhbWV0ZXJzKSA9PiB0aGlzLmxpc3RJbnRlcm5hbCh4KSxcbiAgICAgIGF3YWl0IHRoaXMubGlzdEludGVybmFsKHBhcmFtcyksXG4gICAgICBwYXJhbXMsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBsb2FkcyBhIGZpbGUgYXN5bmNocm9ub3VzbHkgdG8gYSBnaXZlbiBGaWxlIFNlYXJjaCBTdG9yZS5cbiAgICogVGhpcyBtZXRob2QgaXMgbm90IGF2YWlsYWJsZSBpbiBWZXJ0ZXggQUkuXG4gICAqIFN1cHBvcnRlZCB1cGxvYWQgc291cmNlczpcbiAgICogLSBOb2RlLmpzOiBGaWxlIHBhdGggKHN0cmluZykgb3IgQmxvYiBvYmplY3QuXG4gICAqIC0gQnJvd3NlcjogQmxvYiBvYmplY3QgKGUuZy4sIEZpbGUpLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBUaGUgYG1pbWVUeXBlYCBjYW4gYmUgc3BlY2lmaWVkIGluIHRoZSBgY29uZmlnYCBwYXJhbWV0ZXIuIElmIG9taXR0ZWQ6XG4gICAqICAtIEZvciBmaWxlIHBhdGggKHN0cmluZykgaW5wdXRzLCB0aGUgYG1pbWVUeXBlYCB3aWxsIGJlIGluZmVycmVkIGZyb20gdGhlXG4gICAqICAgICBmaWxlIGV4dGVuc2lvbi5cbiAgICogIC0gRm9yIEJsb2Igb2JqZWN0IGlucHV0cywgdGhlIGBtaW1lVHlwZWAgd2lsbCBiZSBzZXQgdG8gdGhlIEJsb2IncyBgdHlwZWBcbiAgICogICAgIHByb3BlcnR5LlxuICAgKlxuICAgKiBUaGlzIHNlY3Rpb24gY2FuIGNvbnRhaW4gbXVsdGlwbGUgcGFyYWdyYXBocyBhbmQgY29kZSBleGFtcGxlcy5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIE9wdGlvbmFsIHBhcmFtZXRlcnMgc3BlY2lmaWVkIGluIHRoZVxuICAgKiAgICAgICAgYHR5cGVzLlVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlUGFyYW1ldGVyc2AgaW50ZXJmYWNlLlxuICAgKiAgICAgICAgIEBzZWUge0BsaW5rIHR5cGVzLlVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlUGFyYW1ldGVycyNjb25maWd9IGZvciB0aGUgb3B0aW9uYWxcbiAgICogICAgICAgICBjb25maWcgaW4gdGhlIHBhcmFtZXRlcnMuXG4gICAqIEByZXR1cm4gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBsb25nIHJ1bm5pbmcgb3BlcmF0aW9uLlxuICAgKiBAdGhyb3dzIEFuIGVycm9yIGlmIGNhbGxlZCBvbiBhIFZlcnRleCBBSSBjbGllbnQuXG4gICAqIEB0aHJvd3MgQW4gZXJyb3IgaWYgdGhlIGBtaW1lVHlwZWAgaXMgbm90IHByb3ZpZGVkIGFuZCBjYW4gbm90IGJlIGluZmVycmVkLFxuICAgKiB0aGUgYG1pbWVUeXBlYCBjYW4gYmUgcHJvdmlkZWQgaW4gdGhlIGBwYXJhbXMuY29uZmlnYCBwYXJhbWV0ZXIuXG4gICAqIEB0aHJvd3MgQW4gZXJyb3Igb2NjdXJzIGlmIGEgc3VpdGFibGUgdXBsb2FkIGxvY2F0aW9uIGNhbm5vdCBiZSBlc3RhYmxpc2hlZC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogVGhlIGZvbGxvd2luZyBjb2RlIHVwbG9hZHMgYSBmaWxlIHRvIGEgZ2l2ZW4gZmlsZSBzZWFyY2ggc3RvcmUuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IG9wZXJhdGlvbiA9IGF3YWl0IGFpLmZpbGVTZWFyY2hTdG9yZXMudXBsb2FkKHtmaWxlU2VhcmNoU3RvcmVOYW1lOiAnZmlsZVNlYXJjaFN0b3Jlcy9mb28tYmFyJywgZmlsZTogJ2ZpbGUudHh0JywgY29uZmlnOiB7XG4gICAqICAgbWltZVR5cGU6ICd0ZXh0L3BsYWluJyxcbiAgICogfX0pO1xuICAgKiBjb25zb2xlLmxvZyhvcGVyYXRpb24ubmFtZSk7XG4gICAqIGBgYFxuICAgKi9cbiAgYXN5bmMgdXBsb2FkVG9GaWxlU2VhcmNoU3RvcmUoXG4gICAgcGFyYW1zOiB0eXBlcy5VcGxvYWRUb0ZpbGVTZWFyY2hTdG9yZVBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuVXBsb2FkVG9GaWxlU2VhcmNoU3RvcmVPcGVyYXRpb24+IHtcbiAgICBpZiAodGhpcy5hcGlDbGllbnQuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdWZXJ0ZXggQUkgZG9lcyBub3Qgc3VwcG9ydCB1cGxvYWRpbmcgZmlsZXMgdG8gYSBmaWxlIHNlYXJjaCBzdG9yZS4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5hcGlDbGllbnQudXBsb2FkRmlsZVRvRmlsZVNlYXJjaFN0b3JlKFxuICAgICAgcGFyYW1zLmZpbGVTZWFyY2hTdG9yZU5hbWUsXG4gICAgICBwYXJhbXMuZmlsZSxcbiAgICAgIHBhcmFtcy5jb25maWcsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgRmlsZSBTZWFyY2ggU3RvcmUuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgY3JlYXRpbmcgYSBGaWxlIFNlYXJjaCBTdG9yZS5cbiAgICogQHJldHVybiBGaWxlU2VhcmNoU3RvcmUuXG4gICAqL1xuXG4gIGFzeW5jIGNyZWF0ZShcbiAgICBwYXJhbXM6IHR5cGVzLkNyZWF0ZUZpbGVTZWFyY2hTdG9yZVBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuRmlsZVNlYXJjaFN0b3JlPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkZpbGVTZWFyY2hTdG9yZT47XG5cbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBtZXRob2QgaXMgb25seSBzdXBwb3J0ZWQgYnkgdGhlIEdlbWluaSBEZXZlbG9wZXIgQVBJLicsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5jcmVhdGVGaWxlU2VhcmNoU3RvcmVQYXJhbWV0ZXJzVG9NbGRldihwYXJhbXMpO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICdmaWxlU2VhcmNoU3RvcmVzJyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuRmlsZVNlYXJjaFN0b3JlPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKHJlc3ApID0+IHtcbiAgICAgICAgcmV0dXJuIHJlc3AgYXMgdHlwZXMuRmlsZVNlYXJjaFN0b3JlO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBGaWxlIFNlYXJjaCBTdG9yZS5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBnZXR0aW5nIGEgRmlsZSBTZWFyY2ggU3RvcmUuXG4gICAqIEByZXR1cm4gRmlsZVNlYXJjaFN0b3JlLlxuICAgKi9cblxuICBhc3luYyBnZXQoXG4gICAgcGFyYW1zOiB0eXBlcy5HZXRGaWxlU2VhcmNoU3RvcmVQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkZpbGVTZWFyY2hTdG9yZT4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTx0eXBlcy5GaWxlU2VhcmNoU3RvcmU+O1xuXG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoaXMgbWV0aG9kIGlzIG9ubHkgc3VwcG9ydGVkIGJ5IHRoZSBHZW1pbmkgRGV2ZWxvcGVyIEFQSS4nLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuZ2V0RmlsZVNlYXJjaFN0b3JlUGFyYW1ldGVyc1RvTWxkZXYocGFyYW1zKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne25hbWV9JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5GaWxlU2VhcmNoU3RvcmU+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigocmVzcCkgPT4ge1xuICAgICAgICByZXR1cm4gcmVzcCBhcyB0eXBlcy5GaWxlU2VhcmNoU3RvcmU7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlcyBhIEZpbGUgU2VhcmNoIFN0b3JlLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIGRlbGV0aW5nIGEgRmlsZSBTZWFyY2ggU3RvcmUuXG4gICAqL1xuXG4gIGFzeW5jIGRlbGV0ZShwYXJhbXM6IHR5cGVzLkRlbGV0ZUZpbGVTZWFyY2hTdG9yZVBhcmFtZXRlcnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBtZXRob2QgaXMgb25seSBzdXBwb3J0ZWQgYnkgdGhlIEdlbWluaSBEZXZlbG9wZXIgQVBJLicsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5kZWxldGVGaWxlU2VhcmNoU3RvcmVQYXJhbWV0ZXJzVG9NbGRldihwYXJhbXMpO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd7bmFtZX0nLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgYXdhaXQgdGhpcy5hcGlDbGllbnQucmVxdWVzdCh7XG4gICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgIGh0dHBNZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbGlzdEludGVybmFsKFxuICAgIHBhcmFtczogdHlwZXMuTGlzdEZpbGVTZWFyY2hTdG9yZXNQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkxpc3RGaWxlU2VhcmNoU3RvcmVzUmVzcG9uc2U+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuTGlzdEZpbGVTZWFyY2hTdG9yZXNSZXNwb25zZT47XG5cbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBtZXRob2QgaXMgb25seSBzdXBwb3J0ZWQgYnkgdGhlIEdlbWluaSBEZXZlbG9wZXIgQVBJLicsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5saXN0RmlsZVNlYXJjaFN0b3Jlc1BhcmFtZXRlcnNUb01sZGV2KHBhcmFtcyk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ2ZpbGVTZWFyY2hTdG9yZXMnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkxpc3RGaWxlU2VhcmNoU3RvcmVzUmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9XG4gICAgICAgICAgY29udmVydGVycy5saXN0RmlsZVNlYXJjaFN0b3Jlc1Jlc3BvbnNlRnJvbU1sZGV2KGFwaVJlc3BvbnNlKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkxpc3RGaWxlU2VhcmNoU3RvcmVzUmVzcG9uc2UoKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICAgICAgICByZXR1cm4gdHlwZWRSZXNwO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyB1cGxvYWRUb0ZpbGVTZWFyY2hTdG9yZUludGVybmFsKFxuICAgIHBhcmFtczogdHlwZXMuVXBsb2FkVG9GaWxlU2VhcmNoU3RvcmVQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLlVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlUmVzdW1hYmxlUmVzcG9uc2U+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuVXBsb2FkVG9GaWxlU2VhcmNoU3RvcmVSZXN1bWFibGVSZXNwb25zZT47XG5cbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBtZXRob2QgaXMgb25seSBzdXBwb3J0ZWQgYnkgdGhlIEdlbWluaSBEZXZlbG9wZXIgQVBJLicsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy51cGxvYWRUb0ZpbGVTZWFyY2hTdG9yZVBhcmFtZXRlcnNUb01sZGV2KHBhcmFtcyk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3VwbG9hZC92MWJldGEve2ZpbGVfc2VhcmNoX3N0b3JlX25hbWV9OnVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlJyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuVXBsb2FkVG9GaWxlU2VhcmNoU3RvcmVSZXN1bWFibGVSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID1cbiAgICAgICAgICBjb252ZXJ0ZXJzLnVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlUmVzdW1hYmxlUmVzcG9uc2VGcm9tTWxkZXYoXG4gICAgICAgICAgICBhcGlSZXNwb25zZSxcbiAgICAgICAgICApO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuVXBsb2FkVG9GaWxlU2VhcmNoU3RvcmVSZXN1bWFibGVSZXNwb25zZSgpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHR5cGVkUmVzcCwgcmVzcCk7XG4gICAgICAgIHJldHVybiB0eXBlZFJlc3A7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW1wb3J0cyBhIEZpbGUgZnJvbSBGaWxlIFNlcnZpY2UgdG8gYSBGaWxlU2VhcmNoU3RvcmUuXG4gICAqXG4gICAqIFRoaXMgaXMgYSBsb25nLXJ1bm5pbmcgb3BlcmF0aW9uLCBzZWUgYWlwLmRldi8xNTFcbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBpbXBvcnRpbmcgYSBmaWxlIHRvIGEgZmlsZSBzZWFyY2ggc3RvcmUuXG4gICAqIEByZXR1cm4gSW1wb3J0RmlsZU9wZXJhdGlvbi5cbiAgICovXG5cbiAgYXN5bmMgaW1wb3J0RmlsZShcbiAgICBwYXJhbXM6IHR5cGVzLkltcG9ydEZpbGVQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLkltcG9ydEZpbGVPcGVyYXRpb24+IHtcbiAgICBsZXQgcmVzcG9uc2U6IFByb21pc2U8dHlwZXMuSW1wb3J0RmlsZU9wZXJhdGlvbj47XG5cbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBtZXRob2QgaXMgb25seSBzdXBwb3J0ZWQgYnkgdGhlIEdlbWluaSBEZXZlbG9wZXIgQVBJLicsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5pbXBvcnRGaWxlUGFyYW1ldGVyc1RvTWxkZXYocGFyYW1zKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne2ZpbGVfc2VhcmNoX3N0b3JlX25hbWV9OmltcG9ydEZpbGUnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5JbXBvcnRGaWxlT3BlcmF0aW9uPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmltcG9ydEZpbGVPcGVyYXRpb25Gcm9tTWxkZXYoYXBpUmVzcG9uc2UpO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuSW1wb3J0RmlsZU9wZXJhdGlvbigpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHR5cGVkUmVzcCwgcmVzcCk7XG4gICAgICAgIHJldHVybiB0eXBlZFJlc3A7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbi8qKlxuICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIxMTc1MjNcbiAqL1xubGV0IHV1aWQ0SW50ZXJuYWwgPSBmdW5jdGlvbiAoKTogc3RyaW5nIHtcbiAgY29uc3QgeyBjcnlwdG8gfSA9IGdsb2JhbFRoaXMgYXMgYW55O1xuICBpZiAoY3J5cHRvPy5yYW5kb21VVUlEKSB7XG4gICAgdXVpZDRJbnRlcm5hbCA9IGNyeXB0by5yYW5kb21VVUlELmJpbmQoY3J5cHRvKTtcbiAgICByZXR1cm4gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgfVxuICBjb25zdCB1OCA9IG5ldyBVaW50OEFycmF5KDEpO1xuICBjb25zdCByYW5kb21CeXRlID0gY3J5cHRvID8gKCkgPT4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyh1OClbMF0hIDogKCkgPT4gKE1hdGgucmFuZG9tKCkgKiAweGZmKSAmIDB4ZmY7XG4gIHJldHVybiAnMTAwMDAwMDAtMTAwMC00MDAwLTgwMDAtMTAwMDAwMDAwMDAwJy5yZXBsYWNlKC9bMDE4XS9nLCAoYykgPT5cbiAgICAoK2MgXiAocmFuZG9tQnl0ZSgpICYgKDE1ID4+ICgrYyAvIDQpKSkpLnRvU3RyaW5nKDE2KSxcbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1dWlkNCA9ICgpOiBzdHJpbmcgPT4gdXVpZDRJbnRlcm5hbCgpO1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQWJvcnRFcnJvcihlcnI6IHVua25vd24pIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgZXJyID09PSAnb2JqZWN0JyAmJlxuICAgIGVyciAhPT0gbnVsbCAmJlxuICAgIC8vIFNwZWMtY29tcGxpYW50IGZldGNoIGltcGxlbWVudGF0aW9uc1xuICAgICgoJ25hbWUnIGluIGVyciAmJiAoZXJyIGFzIGFueSkubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB8fFxuICAgICAgLy8gRXhwbyBmZXRjaFxuICAgICAgKCdtZXNzYWdlJyBpbiBlcnIgJiYgU3RyaW5nKChlcnIgYXMgYW55KS5tZXNzYWdlKS5pbmNsdWRlcygnRmV0Y2hSZXF1ZXN0Q2FuY2VsZWRFeGNlcHRpb24nKSkpXG4gICk7XG59XG5cbmV4cG9ydCBjb25zdCBjYXN0VG9FcnJvciA9IChlcnI6IGFueSk6IEVycm9yID0+IHtcbiAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gZXJyO1xuICBpZiAodHlwZW9mIGVyciA9PT0gJ29iamVjdCcgJiYgZXJyICE9PSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZXJyKSA9PT0gJ1tvYmplY3QgRXJyb3JdJykge1xuICAgICAgICAvLyBAdHMtaWdub3JlIC0gbm90IGFsbCBlbnZzIGhhdmUgbmF0aXZlIHN1cHBvcnQgZm9yIGNhdXNlIHlldFxuICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihlcnIubWVzc2FnZSwgZXJyLmNhdXNlID8geyBjYXVzZTogZXJyLmNhdXNlIH0gOiB7fSk7XG4gICAgICAgIGlmIChlcnIuc3RhY2spIGVycm9yLnN0YWNrID0gZXJyLnN0YWNrO1xuICAgICAgICAvLyBAdHMtaWdub3JlIC0gbm90IGFsbCBlbnZzIGhhdmUgbmF0aXZlIHN1cHBvcnQgZm9yIGNhdXNlIHlldFxuICAgICAgICBpZiAoZXJyLmNhdXNlICYmICFlcnJvci5jYXVzZSkgZXJyb3IuY2F1c2UgPSBlcnIuY2F1c2U7XG4gICAgICAgIGlmIChlcnIubmFtZSkgZXJyb3IubmFtZSA9IGVyci5uYW1lO1xuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KGVycikpO1xuICAgIH0gY2F0Y2gge31cbiAgfVxuICByZXR1cm4gbmV3IEVycm9yKGVycik7XG59O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHsgY2FzdFRvRXJyb3IgfSBmcm9tICcuLi9pbnRlcm5hbC9lcnJvcnMuanMnO1xuXG5leHBvcnQgY2xhc3MgR2VtaW5pTmV4dEdlbkFQSUNsaWVudEVycm9yIGV4dGVuZHMgRXJyb3Ige31cblxuZXhwb3J0IGNsYXNzIEFQSUVycm9yPFxuICBUU3RhdHVzIGV4dGVuZHMgbnVtYmVyIHwgdW5kZWZpbmVkID0gbnVtYmVyIHwgdW5kZWZpbmVkLFxuICBUSGVhZGVycyBleHRlbmRzIEhlYWRlcnMgfCB1bmRlZmluZWQgPSBIZWFkZXJzIHwgdW5kZWZpbmVkLFxuICBURXJyb3IgZXh0ZW5kcyBPYmplY3QgfCB1bmRlZmluZWQgPSBPYmplY3QgfCB1bmRlZmluZWQsXG4+IGV4dGVuZHMgR2VtaW5pTmV4dEdlbkFQSUNsaWVudEVycm9yIHtcbiAgLyoqIEhUVFAgc3RhdHVzIGZvciB0aGUgcmVzcG9uc2UgdGhhdCBjYXVzZWQgdGhlIGVycm9yICovXG4gIHJlYWRvbmx5IHN0YXR1czogVFN0YXR1cztcbiAgLyoqIEhUVFAgaGVhZGVycyBmb3IgdGhlIHJlc3BvbnNlIHRoYXQgY2F1c2VkIHRoZSBlcnJvciAqL1xuICByZWFkb25seSBoZWFkZXJzOiBUSGVhZGVycztcbiAgLyoqIEpTT04gYm9keSBvZiB0aGUgcmVzcG9uc2UgdGhhdCBjYXVzZWQgdGhlIGVycm9yICovXG4gIHJlYWRvbmx5IGVycm9yOiBURXJyb3I7XG5cbiAgY29uc3RydWN0b3Ioc3RhdHVzOiBUU3RhdHVzLCBlcnJvcjogVEVycm9yLCBtZXNzYWdlOiBzdHJpbmcgfCB1bmRlZmluZWQsIGhlYWRlcnM6IFRIZWFkZXJzKSB7XG4gICAgc3VwZXIoYCR7QVBJRXJyb3IubWFrZU1lc3NhZ2Uoc3RhdHVzLCBlcnJvciwgbWVzc2FnZSl9YCk7XG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgdGhpcy5oZWFkZXJzID0gaGVhZGVycztcbiAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBtYWtlTWVzc2FnZShzdGF0dXM6IG51bWJlciB8IHVuZGVmaW5lZCwgZXJyb3I6IGFueSwgbWVzc2FnZTogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgbXNnID1cbiAgICAgIGVycm9yPy5tZXNzYWdlID9cbiAgICAgICAgdHlwZW9mIGVycm9yLm1lc3NhZ2UgPT09ICdzdHJpbmcnID9cbiAgICAgICAgICBlcnJvci5tZXNzYWdlXG4gICAgICAgIDogSlNPTi5zdHJpbmdpZnkoZXJyb3IubWVzc2FnZSlcbiAgICAgIDogZXJyb3IgPyBKU09OLnN0cmluZ2lmeShlcnJvcilcbiAgICAgIDogbWVzc2FnZTtcblxuICAgIGlmIChzdGF0dXMgJiYgbXNnKSB7XG4gICAgICByZXR1cm4gYCR7c3RhdHVzfSAke21zZ31gO1xuICAgIH1cbiAgICBpZiAoc3RhdHVzKSB7XG4gICAgICByZXR1cm4gYCR7c3RhdHVzfSBzdGF0dXMgY29kZSAobm8gYm9keSlgO1xuICAgIH1cbiAgICBpZiAobXNnKSB7XG4gICAgICByZXR1cm4gbXNnO1xuICAgIH1cbiAgICByZXR1cm4gJyhubyBzdGF0dXMgY29kZSBvciBib2R5KSc7XG4gIH1cblxuICBzdGF0aWMgZ2VuZXJhdGUoXG4gICAgc3RhdHVzOiBudW1iZXIgfCB1bmRlZmluZWQsXG4gICAgZXJyb3JSZXNwb25zZTogT2JqZWN0IHwgdW5kZWZpbmVkLFxuICAgIG1lc3NhZ2U6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgICBoZWFkZXJzOiBIZWFkZXJzIHwgdW5kZWZpbmVkLFxuICApOiBBUElFcnJvciB7XG4gICAgaWYgKCFzdGF0dXMgfHwgIWhlYWRlcnMpIHtcbiAgICAgIHJldHVybiBuZXcgQVBJQ29ubmVjdGlvbkVycm9yKHsgbWVzc2FnZSwgY2F1c2U6IGNhc3RUb0Vycm9yKGVycm9yUmVzcG9uc2UpIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGVycm9yID0gZXJyb3JSZXNwb25zZSBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuXG4gICAgaWYgKHN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICByZXR1cm4gbmV3IEJhZFJlcXVlc3RFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzID09PSA0MDEpIHtcbiAgICAgIHJldHVybiBuZXcgQXV0aGVudGljYXRpb25FcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzID09PSA0MDMpIHtcbiAgICAgIHJldHVybiBuZXcgUGVybWlzc2lvbkRlbmllZEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cblxuICAgIGlmIChzdGF0dXMgPT09IDQwNCkge1xuICAgICAgcmV0dXJuIG5ldyBOb3RGb3VuZEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cblxuICAgIGlmIChzdGF0dXMgPT09IDQwOSkge1xuICAgICAgcmV0dXJuIG5ldyBDb25mbGljdEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cblxuICAgIGlmIChzdGF0dXMgPT09IDQyMikge1xuICAgICAgcmV0dXJuIG5ldyBVbnByb2Nlc3NhYmxlRW50aXR5RXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXR1cyA9PT0gNDI5KSB7XG4gICAgICByZXR1cm4gbmV3IFJhdGVMaW1pdEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cblxuICAgIGlmIChzdGF0dXMgPj0gNTAwKSB7XG4gICAgICByZXR1cm4gbmV3IEludGVybmFsU2VydmVyRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBBUElFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQVBJVXNlckFib3J0RXJyb3IgZXh0ZW5kcyBBUElFcnJvcjx1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkPiB7XG4gIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSB9OiB7IG1lc3NhZ2U/OiBzdHJpbmcgfSA9IHt9KSB7XG4gICAgc3VwZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIG1lc3NhZ2UgfHwgJ1JlcXVlc3Qgd2FzIGFib3J0ZWQuJywgdW5kZWZpbmVkKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQVBJQ29ubmVjdGlvbkVycm9yIGV4dGVuZHMgQVBJRXJyb3I8dW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZD4ge1xuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UsIGNhdXNlIH06IHsgbWVzc2FnZT86IHN0cmluZyB8IHVuZGVmaW5lZDsgY2F1c2U/OiBFcnJvciB8IHVuZGVmaW5lZCB9KSB7XG4gICAgc3VwZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIG1lc3NhZ2UgfHwgJ0Nvbm5lY3Rpb24gZXJyb3IuJywgdW5kZWZpbmVkKTtcbiAgICAvLyBpbiBzb21lIGVudmlyb25tZW50cyB0aGUgJ2NhdXNlJyBwcm9wZXJ0eSBpcyBhbHJlYWR5IGRlY2xhcmVkXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGlmIChjYXVzZSkgdGhpcy5jYXVzZSA9IGNhdXNlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBUElDb25uZWN0aW9uVGltZW91dEVycm9yIGV4dGVuZHMgQVBJQ29ubmVjdGlvbkVycm9yIHtcbiAgY29uc3RydWN0b3IoeyBtZXNzYWdlIH06IHsgbWVzc2FnZT86IHN0cmluZyB9ID0ge30pIHtcbiAgICBzdXBlcih7IG1lc3NhZ2U6IG1lc3NhZ2UgPz8gJ1JlcXVlc3QgdGltZWQgb3V0LicgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJhZFJlcXVlc3RFcnJvciBleHRlbmRzIEFQSUVycm9yPDQwMCwgSGVhZGVycz4ge31cblxuZXhwb3J0IGNsYXNzIEF1dGhlbnRpY2F0aW9uRXJyb3IgZXh0ZW5kcyBBUElFcnJvcjw0MDEsIEhlYWRlcnM+IHt9XG5cbmV4cG9ydCBjbGFzcyBQZXJtaXNzaW9uRGVuaWVkRXJyb3IgZXh0ZW5kcyBBUElFcnJvcjw0MDMsIEhlYWRlcnM+IHt9XG5cbmV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgQVBJRXJyb3I8NDA0LCBIZWFkZXJzPiB7fVxuXG5leHBvcnQgY2xhc3MgQ29uZmxpY3RFcnJvciBleHRlbmRzIEFQSUVycm9yPDQwOSwgSGVhZGVycz4ge31cblxuZXhwb3J0IGNsYXNzIFVucHJvY2Vzc2FibGVFbnRpdHlFcnJvciBleHRlbmRzIEFQSUVycm9yPDQyMiwgSGVhZGVycz4ge31cblxuZXhwb3J0IGNsYXNzIFJhdGVMaW1pdEVycm9yIGV4dGVuZHMgQVBJRXJyb3I8NDI5LCBIZWFkZXJzPiB7fVxuXG5leHBvcnQgY2xhc3MgSW50ZXJuYWxTZXJ2ZXJFcnJvciBleHRlbmRzIEFQSUVycm9yPG51bWJlciwgSGVhZGVycz4ge31cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEdlbWluaU5leHRHZW5BUElDbGllbnRFcnJvciB9IGZyb20gJy4uLy4uL2NvcmUvZXJyb3IuanMnO1xuXG4vLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybC1zY2hlbWUtc3RyaW5nXG5jb25zdCBzdGFydHNXaXRoU2NoZW1lUmVnZXhwID0gL15bYS16XVthLXowLTkrLi1dKjovaTtcblxuZXhwb3J0IGNvbnN0IGlzQWJzb2x1dGVVUkwgPSAodXJsOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIHN0YXJ0c1dpdGhTY2hlbWVSZWdleHAudGVzdCh1cmwpO1xufTtcblxubGV0IGlzQXJyYXlJbnRlcm5hbCA9ICh2YWw6IHVua25vd24pOiB2YWwgaXMgdW5rbm93bltdID0+IChcbiAgKGlzQXJyYXlJbnRlcm5hbCA9IEFycmF5LmlzQXJyYXkpLCBpc0FycmF5SW50ZXJuYWwodmFsKVxuKTtcbmV4cG9ydCBjb25zdCBpc0FycmF5ID0gaXNBcnJheUludGVybmFsO1xubGV0IGlzUmVhZG9ubHlBcnJheUludGVybmFsID0gaXNBcnJheSBhcyAodmFsOiB1bmtub3duKSA9PiB2YWwgaXMgcmVhZG9ubHkgdW5rbm93bltdO1xuZXhwb3J0IGNvbnN0IGlzUmVhZG9ubHlBcnJheSA9IGlzUmVhZG9ubHlBcnJheUludGVybmFsO1xuXG4vKiogUmV0dXJucyBhbiBvYmplY3QgaWYgdGhlIGdpdmVuIHZhbHVlIGlzbid0IGFuIG9iamVjdCwgb3RoZXJ3aXNlIHJldHVybnMgYXMtaXMgKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXliZU9iaih4OiB1bmtub3duKTogb2JqZWN0IHtcbiAgaWYgKHR5cGVvZiB4ICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIHJldHVybiB4ID8/IHt9O1xufVxuXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzQ0OTEyODdcbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5T2JqKG9iajogT2JqZWN0IHwgbnVsbCB8IHVuZGVmaW5lZCk6IGJvb2xlYW4ge1xuICBpZiAoIW9iaikgcmV0dXJuIHRydWU7XG4gIGZvciAoY29uc3QgX2sgaW4gb2JqKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyBodHRwczovL2VzbGludC5vcmcvZG9jcy9sYXRlc3QvcnVsZXMvbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG5leHBvcnQgZnVuY3Rpb24gaGFzT3duPFQgZXh0ZW5kcyBvYmplY3QgPSBvYmplY3Q+KG9iajogVCwga2V5OiBQcm9wZXJ0eUtleSk6IGtleSBpcyBrZXlvZiBUIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc09iaihvYmo6IHVua25vd24pOiBvYmogaXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICByZXR1cm4gb2JqICE9IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkob2JqKTtcbn1cblxuZXhwb3J0IGNvbnN0IGVuc3VyZVByZXNlbnQgPSA8VD4odmFsdWU6IFQgfCBudWxsIHwgdW5kZWZpbmVkKTogVCA9PiB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEdlbWluaU5leHRHZW5BUElDbGllbnRFcnJvcihgRXhwZWN0ZWQgYSB2YWx1ZSB0byBiZSBnaXZlbiBidXQgcmVjZWl2ZWQgJHt2YWx1ZX0gaW5zdGVhZC5gKTtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZVBvc2l0aXZlSW50ZWdlciA9IChuYW1lOiBzdHJpbmcsIG46IHVua25vd24pOiBudW1iZXIgPT4ge1xuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8ICFOdW1iZXIuaXNJbnRlZ2VyKG4pKSB7XG4gICAgdGhyb3cgbmV3IEdlbWluaU5leHRHZW5BUElDbGllbnRFcnJvcihgJHtuYW1lfSBtdXN0IGJlIGFuIGludGVnZXJgKTtcbiAgfVxuICBpZiAobiA8IDApIHtcbiAgICB0aHJvdyBuZXcgR2VtaW5pTmV4dEdlbkFQSUNsaWVudEVycm9yKGAke25hbWV9IG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyYCk7XG4gIH1cbiAgcmV0dXJuIG47XG59O1xuXG5leHBvcnQgY29uc3QgY29lcmNlSW50ZWdlciA9ICh2YWx1ZTogdW5rbm93bik6IG51bWJlciA9PiB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSk7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSByZXR1cm4gcGFyc2VJbnQodmFsdWUsIDEwKTtcblxuICB0aHJvdyBuZXcgR2VtaW5pTmV4dEdlbkFQSUNsaWVudEVycm9yKGBDb3VsZCBub3QgY29lcmNlICR7dmFsdWV9ICh0eXBlOiAke3R5cGVvZiB2YWx1ZX0pIGludG8gYSBudW1iZXJgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjb2VyY2VGbG9hdCA9ICh2YWx1ZTogdW5rbm93bik6IG51bWJlciA9PiB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSByZXR1cm4gdmFsdWU7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSk7XG5cbiAgdGhyb3cgbmV3IEdlbWluaU5leHRHZW5BUElDbGllbnRFcnJvcihgQ291bGQgbm90IGNvZXJjZSAke3ZhbHVlfSAodHlwZTogJHt0eXBlb2YgdmFsdWV9KSBpbnRvIGEgbnVtYmVyYCk7XG59O1xuXG5leHBvcnQgY29uc3QgY29lcmNlQm9vbGVhbiA9ICh2YWx1ZTogdW5rbm93bik6IGJvb2xlYW4gPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHJldHVybiB2YWx1ZTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHJldHVybiB2YWx1ZSA9PT0gJ3RydWUnO1xuICByZXR1cm4gQm9vbGVhbih2YWx1ZSk7XG59O1xuXG5leHBvcnQgY29uc3QgbWF5YmVDb2VyY2VJbnRlZ2VyID0gKHZhbHVlOiB1bmtub3duKTogbnVtYmVyIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiBjb2VyY2VJbnRlZ2VyKHZhbHVlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBtYXliZUNvZXJjZUZsb2F0ID0gKHZhbHVlOiB1bmtub3duKTogbnVtYmVyIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiBjb2VyY2VGbG9hdCh2YWx1ZSk7XG59O1xuXG5leHBvcnQgY29uc3QgbWF5YmVDb2VyY2VCb29sZWFuID0gKHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICByZXR1cm4gY29lcmNlQm9vbGVhbih2YWx1ZSk7XG59O1xuXG5leHBvcnQgY29uc3Qgc2FmZUpTT04gPSAodGV4dDogc3RyaW5nKSA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UodGV4dCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn07XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5leHBvcnQgY29uc3Qgc2xlZXAgPSAobXM6IG51bWJlcikgPT4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gJzAuMC4xJztcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuLi92ZXJzaW9uLmpzJztcblxuZXhwb3J0IGNvbnN0IGlzUnVubmluZ0luQnJvd3NlciA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnKVxuICApO1xufTtcblxudHlwZSBEZXRlY3RlZFBsYXRmb3JtID0gJ2Rlbm8nIHwgJ25vZGUnIHwgJ2VkZ2UnIHwgJ3Vua25vd24nO1xuXG4vKipcbiAqIE5vdGUgdGhpcyBkb2VzIG5vdCBkZXRlY3QgJ2Jyb3dzZXInOyBmb3IgdGhhdCwgdXNlIGdldEJyb3dzZXJJbmZvKCkuXG4gKi9cbmZ1bmN0aW9uIGdldERldGVjdGVkUGxhdGZvcm0oKTogRGV0ZWN0ZWRQbGF0Zm9ybSB7XG4gIGlmICh0eXBlb2YgRGVubyAhPT0gJ3VuZGVmaW5lZCcgJiYgRGVuby5idWlsZCAhPSBudWxsKSB7XG4gICAgcmV0dXJuICdkZW5vJztcbiAgfVxuICBpZiAodHlwZW9mIEVkZ2VSdW50aW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiAnZWRnZSc7XG4gIH1cbiAgaWYgKFxuICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChcbiAgICAgIHR5cGVvZiAoZ2xvYmFsVGhpcyBhcyBhbnkpLnByb2Nlc3MgIT09ICd1bmRlZmluZWQnID8gKGdsb2JhbFRoaXMgYXMgYW55KS5wcm9jZXNzIDogMCxcbiAgICApID09PSAnW29iamVjdCBwcm9jZXNzXSdcbiAgKSB7XG4gICAgcmV0dXJuICdub2RlJztcbiAgfVxuICByZXR1cm4gJ3Vua25vd24nO1xufVxuXG5kZWNsYXJlIGNvbnN0IERlbm86IGFueTtcbmRlY2xhcmUgY29uc3QgRWRnZVJ1bnRpbWU6IGFueTtcbnR5cGUgQXJjaCA9ICd4MzInIHwgJ3g2NCcgfCAnYXJtJyB8ICdhcm02NCcgfCBgb3RoZXI6JHtzdHJpbmd9YCB8ICd1bmtub3duJztcbnR5cGUgUGxhdGZvcm1OYW1lID1cbiAgfCAnTWFjT1MnXG4gIHwgJ0xpbnV4J1xuICB8ICdXaW5kb3dzJ1xuICB8ICdGcmVlQlNEJ1xuICB8ICdPcGVuQlNEJ1xuICB8ICdpT1MnXG4gIHwgJ0FuZHJvaWQnXG4gIHwgYE90aGVyOiR7c3RyaW5nfWBcbiAgfCAnVW5rbm93bic7XG50eXBlIEJyb3dzZXIgPSAnaWUnIHwgJ2VkZ2UnIHwgJ2Nocm9tZScgfCAnZmlyZWZveCcgfCAnc2FmYXJpJztcbnR5cGUgUGxhdGZvcm1Qcm9wZXJ0aWVzID0ge1xuICAnWC1TdGFpbmxlc3MtTGFuZyc6ICdqcyc7XG4gICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBzdHJpbmc7XG4gICdYLVN0YWlubGVzcy1PUyc6IFBsYXRmb3JtTmFtZTtcbiAgJ1gtU3RhaW5sZXNzLUFyY2gnOiBBcmNoO1xuICAnWC1TdGFpbmxlc3MtUnVudGltZSc6ICdub2RlJyB8ICdkZW5vJyB8ICdlZGdlJyB8IGBicm93c2VyOiR7QnJvd3Nlcn1gIHwgJ3Vua25vd24nO1xuICAnWC1TdGFpbmxlc3MtUnVudGltZS1WZXJzaW9uJzogc3RyaW5nO1xufTtcbmNvbnN0IGdldFBsYXRmb3JtUHJvcGVydGllcyA9ICgpOiBQbGF0Zm9ybVByb3BlcnRpZXMgPT4ge1xuICBjb25zdCBkZXRlY3RlZFBsYXRmb3JtID0gZ2V0RGV0ZWN0ZWRQbGF0Zm9ybSgpO1xuICBpZiAoZGV0ZWN0ZWRQbGF0Zm9ybSA9PT0gJ2Rlbm8nKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogbm9ybWFsaXplUGxhdGZvcm0oRGVuby5idWlsZC5vcyksXG4gICAgICAnWC1TdGFpbmxlc3MtQXJjaCc6IG5vcm1hbGl6ZUFyY2goRGVuby5idWlsZC5hcmNoKSxcbiAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ2Rlbm8nLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6XG4gICAgICAgIHR5cGVvZiBEZW5vLnZlcnNpb24gPT09ICdzdHJpbmcnID8gRGVuby52ZXJzaW9uIDogRGVuby52ZXJzaW9uPy5kZW5vID8/ICd1bmtub3duJyxcbiAgICB9O1xuICB9XG4gIGlmICh0eXBlb2YgRWRnZVJ1bnRpbWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogJ1Vua25vd24nLFxuICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiBgb3RoZXI6JHtFZGdlUnVudGltZX1gLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUnOiAnZWRnZScsXG4gICAgICAnWC1TdGFpbmxlc3MtUnVudGltZS1WZXJzaW9uJzogKGdsb2JhbFRoaXMgYXMgYW55KS5wcm9jZXNzLnZlcnNpb24sXG4gICAgfTtcbiAgfVxuICAvLyBDaGVjayBpZiBOb2RlLmpzXG4gIGlmIChkZXRlY3RlZFBsYXRmb3JtID09PSAnbm9kZScpIHtcbiAgICByZXR1cm4ge1xuICAgICAgJ1gtU3RhaW5sZXNzLUxhbmcnOiAnanMnLFxuICAgICAgJ1gtU3RhaW5sZXNzLVBhY2thZ2UtVmVyc2lvbic6IFZFUlNJT04sXG4gICAgICAnWC1TdGFpbmxlc3MtT1MnOiBub3JtYWxpemVQbGF0Zm9ybSgoZ2xvYmFsVGhpcyBhcyBhbnkpLnByb2Nlc3MucGxhdGZvcm0gPz8gJ3Vua25vd24nKSxcbiAgICAgICdYLVN0YWlubGVzcy1BcmNoJzogbm9ybWFsaXplQXJjaCgoZ2xvYmFsVGhpcyBhcyBhbnkpLnByb2Nlc3MuYXJjaCA/PyAndW5rbm93bicpLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUnOiAnbm9kZScsXG4gICAgICAnWC1TdGFpbmxlc3MtUnVudGltZS1WZXJzaW9uJzogKGdsb2JhbFRoaXMgYXMgYW55KS5wcm9jZXNzLnZlcnNpb24gPz8gJ3Vua25vd24nLFxuICAgIH07XG4gIH1cblxuICBjb25zdCBicm93c2VySW5mbyA9IGdldEJyb3dzZXJJbmZvKCk7XG4gIGlmIChicm93c2VySW5mbykge1xuICAgIHJldHVybiB7XG4gICAgICAnWC1TdGFpbmxlc3MtTGFuZyc6ICdqcycsXG4gICAgICAnWC1TdGFpbmxlc3MtUGFja2FnZS1WZXJzaW9uJzogVkVSU0lPTixcbiAgICAgICdYLVN0YWlubGVzcy1PUyc6ICdVbmtub3duJyxcbiAgICAgICdYLVN0YWlubGVzcy1BcmNoJzogJ3Vua25vd24nLFxuICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUnOiBgYnJvd3Nlcjoke2Jyb3dzZXJJbmZvLmJyb3dzZXJ9YCxcbiAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lLVZlcnNpb24nOiBicm93c2VySW5mby52ZXJzaW9uLFxuICAgIH07XG4gIH1cblxuICAvLyBUT0RPIGFkZCBzdXBwb3J0IGZvciBDbG91ZGZsYXJlIHdvcmtlcnMsIGV0Yy5cbiAgcmV0dXJuIHtcbiAgICAnWC1TdGFpbmxlc3MtTGFuZyc6ICdqcycsXG4gICAgJ1gtU3RhaW5sZXNzLVBhY2thZ2UtVmVyc2lvbic6IFZFUlNJT04sXG4gICAgJ1gtU3RhaW5sZXNzLU9TJzogJ1Vua25vd24nLFxuICAgICdYLVN0YWlubGVzcy1BcmNoJzogJ3Vua25vd24nLFxuICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ3Vua25vd24nLFxuICAgICdYLVN0YWlubGVzcy1SdW50aW1lLVZlcnNpb24nOiAndW5rbm93bicsXG4gIH07XG59O1xuXG50eXBlIEJyb3dzZXJJbmZvID0ge1xuICBicm93c2VyOiBCcm93c2VyO1xuICB2ZXJzaW9uOiBzdHJpbmc7XG59O1xuXG5kZWNsYXJlIGNvbnN0IG5hdmlnYXRvcjogeyB1c2VyQWdlbnQ6IHN0cmluZyB9IHwgdW5kZWZpbmVkO1xuXG4vLyBOb3RlOiBtb2RpZmllZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9KUy1EZXZUb29scy9ob3N0LWVudmlyb25tZW50L2Jsb2IvYjFhYjc5ZWNkZTM3ZGI1ZDZlMTYzYzA1MGU1NGZlN2QyODdkN2M5Mi9zcmMvaXNvbW9ycGhpYy5icm93c2VyLnRzXG5mdW5jdGlvbiBnZXRCcm93c2VySW5mbygpOiBCcm93c2VySW5mbyB8IG51bGwge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcgfHwgIW5hdmlnYXRvcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gTk9URTogVGhlIG9yZGVyIG1hdHRlcnMgaGVyZSFcbiAgY29uc3QgYnJvd3NlclBhdHRlcm5zID0gW1xuICAgIHsga2V5OiAnZWRnZScgYXMgY29uc3QsIHBhdHRlcm46IC9FZGdlKD86XFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgeyBrZXk6ICdpZScgYXMgY29uc3QsIHBhdHRlcm46IC9NU0lFKD86XFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgeyBrZXk6ICdpZScgYXMgY29uc3QsIHBhdHRlcm46IC9UcmlkZW50KD86LipydlxcOihcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgeyBrZXk6ICdjaHJvbWUnIGFzIGNvbnN0LCBwYXR0ZXJuOiAvQ2hyb21lKD86XFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgeyBrZXk6ICdmaXJlZm94JyBhcyBjb25zdCwgcGF0dGVybjogL0ZpcmVmb3goPzpcXFcrKFxcZCspXFwuKFxcZCspKD86XFwuKFxcZCspKT8pPy8gfSxcbiAgICB7IGtleTogJ3NhZmFyaScgYXMgY29uc3QsIHBhdHRlcm46IC8oPzpWZXJzaW9uXFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8oPzpcXFcrTW9iaWxlXFxTKik/XFxXK1NhZmFyaS8gfSxcbiAgXTtcblxuICAvLyBGaW5kIHRoZSBGSVJTVCBtYXRjaGluZyBicm93c2VyXG4gIGZvciAoY29uc3QgeyBrZXksIHBhdHRlcm4gfSBvZiBicm93c2VyUGF0dGVybnMpIHtcbiAgICBjb25zdCBtYXRjaCA9IHBhdHRlcm4uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIGNvbnN0IG1ham9yID0gbWF0Y2hbMV0gfHwgMDtcbiAgICAgIGNvbnN0IG1pbm9yID0gbWF0Y2hbMl0gfHwgMDtcbiAgICAgIGNvbnN0IHBhdGNoID0gbWF0Y2hbM10gfHwgMDtcblxuICAgICAgcmV0dXJuIHsgYnJvd3Nlcjoga2V5LCB2ZXJzaW9uOiBgJHttYWpvcn0uJHttaW5vcn0uJHtwYXRjaH1gIH07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmNvbnN0IG5vcm1hbGl6ZUFyY2ggPSAoYXJjaDogc3RyaW5nKTogQXJjaCA9PiB7XG4gIC8vIE5vZGUgZG9jczpcbiAgLy8gLSBodHRwczovL25vZGVqcy5vcmcvYXBpL3Byb2Nlc3MuaHRtbCNwcm9jZXNzYXJjaFxuICAvLyBEZW5vIGRvY3M6XG4gIC8vIC0gaHR0cHM6Ly9kb2MuZGVuby5sYW5kL2Rlbm8vc3RhYmxlL34vRGVuby5idWlsZFxuICBpZiAoYXJjaCA9PT0gJ3gzMicpIHJldHVybiAneDMyJztcbiAgaWYgKGFyY2ggPT09ICd4ODZfNjQnIHx8IGFyY2ggPT09ICd4NjQnKSByZXR1cm4gJ3g2NCc7XG4gIGlmIChhcmNoID09PSAnYXJtJykgcmV0dXJuICdhcm0nO1xuICBpZiAoYXJjaCA9PT0gJ2FhcmNoNjQnIHx8IGFyY2ggPT09ICdhcm02NCcpIHJldHVybiAnYXJtNjQnO1xuICBpZiAoYXJjaCkgcmV0dXJuIGBvdGhlcjoke2FyY2h9YDtcbiAgcmV0dXJuICd1bmtub3duJztcbn07XG5cbmNvbnN0IG5vcm1hbGl6ZVBsYXRmb3JtID0gKHBsYXRmb3JtOiBzdHJpbmcpOiBQbGF0Zm9ybU5hbWUgPT4ge1xuICAvLyBOb2RlIHBsYXRmb3JtczpcbiAgLy8gLSBodHRwczovL25vZGVqcy5vcmcvYXBpL3Byb2Nlc3MuaHRtbCNwcm9jZXNzcGxhdGZvcm1cbiAgLy8gRGVubyBwbGF0Zm9ybXM6XG4gIC8vIC0gaHR0cHM6Ly9kb2MuZGVuby5sYW5kL2Rlbm8vc3RhYmxlL34vRGVuby5idWlsZFxuICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9kZW5vbGFuZC9kZW5vL2lzc3Vlcy8xNDc5OVxuXG4gIHBsYXRmb3JtID0gcGxhdGZvcm0udG9Mb3dlckNhc2UoKTtcblxuICAvLyBOT1RFOiB0aGlzIGlPUyBjaGVjayBpcyB1bnRlc3RlZCBhbmQgbWF5IG5vdCB3b3JrXG4gIC8vIE5vZGUgZG9lcyBub3Qgd29yayBuYXRpdmVseSBvbiBJT1MsIHRoZXJlIGlzIGEgZm9yayBhdFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzLW1vYmlsZS9ub2RlanMtbW9iaWxlXG4gIC8vIGhvd2V2ZXIgaXQgaXMgdW5rbm93biBhdCB0aGUgdGltZSBvZiB3cml0aW5nIGhvdyB0byBkZXRlY3QgaWYgaXQgaXMgcnVubmluZ1xuICBpZiAocGxhdGZvcm0uaW5jbHVkZXMoJ2lvcycpKSByZXR1cm4gJ2lPUyc7XG4gIGlmIChwbGF0Zm9ybSA9PT0gJ2FuZHJvaWQnKSByZXR1cm4gJ0FuZHJvaWQnO1xuICBpZiAocGxhdGZvcm0gPT09ICdkYXJ3aW4nKSByZXR1cm4gJ01hY09TJztcbiAgaWYgKHBsYXRmb3JtID09PSAnd2luMzInKSByZXR1cm4gJ1dpbmRvd3MnO1xuICBpZiAocGxhdGZvcm0gPT09ICdmcmVlYnNkJykgcmV0dXJuICdGcmVlQlNEJztcbiAgaWYgKHBsYXRmb3JtID09PSAnb3BlbmJzZCcpIHJldHVybiAnT3BlbkJTRCc7XG4gIGlmIChwbGF0Zm9ybSA9PT0gJ2xpbnV4JykgcmV0dXJuICdMaW51eCc7XG4gIGlmIChwbGF0Zm9ybSkgcmV0dXJuIGBPdGhlcjoke3BsYXRmb3JtfWA7XG4gIHJldHVybiAnVW5rbm93bic7XG59O1xuXG5sZXQgX3BsYXRmb3JtSGVhZGVyczogUGxhdGZvcm1Qcm9wZXJ0aWVzO1xuZXhwb3J0IGNvbnN0IGdldFBsYXRmb3JtSGVhZGVycyA9ICgpID0+IHtcbiAgcmV0dXJuIChfcGxhdGZvcm1IZWFkZXJzID8/PSBnZXRQbGF0Zm9ybVByb3BlcnRpZXMoKSk7XG59O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuLyoqXG4gKiBUaGlzIG1vZHVsZSBwcm92aWRlcyBpbnRlcm5hbCBzaGltcyBhbmQgdXRpbGl0eSBmdW5jdGlvbnMgZm9yIGVudmlyb25tZW50cyB3aGVyZSBjZXJ0YWluIE5vZGUuanMgb3IgZ2xvYmFsIHR5cGVzIG1heSBub3QgYmUgYXZhaWxhYmxlLlxuICpcbiAqIFRoZXNlIGFyZSB1c2VkIHRvIGVuc3VyZSB3ZSBjYW4gcHJvdmlkZSBhIGNvbnNpc3RlbnQgYmVoYXZpb3VyIGJldHdlZW4gZGlmZmVyZW50IEphdmFTY3JpcHQgZW52aXJvbm1lbnRzIGFuZCBnb29kIGVycm9yXG4gKiBtZXNzYWdlcyBpbiBjYXNlcyB3aGVyZSBhbiBlbnZpcm9ubWVudCBpc24ndCBmdWxseSBzdXBwb3J0ZWQuXG4gKi9cblxuaW1wb3J0IHR5cGUgeyBGZXRjaCB9IGZyb20gJy4vYnVpbHRpbi10eXBlcy5qcyc7XG5pbXBvcnQgdHlwZSB7IFJlYWRhYmxlU3RyZWFtIH0gZnJvbSAnLi9zaGltLXR5cGVzLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRGZXRjaCgpOiBGZXRjaCB7XG4gIGlmICh0eXBlb2YgZmV0Y2ggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZldGNoIGFzIGFueTtcbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAnYGZldGNoYCBpcyBub3QgZGVmaW5lZCBhcyBhIGdsb2JhbDsgRWl0aGVyIHBhc3MgYGZldGNoYCB0byB0aGUgY2xpZW50LCBgbmV3IEdlbWluaU5leHRHZW5BUElDbGllbnQoeyBmZXRjaCB9KWAgb3IgcG9seWZpbGwgdGhlIGdsb2JhbCwgYGdsb2JhbFRoaXMuZmV0Y2ggPSBmZXRjaGAnLFxuICApO1xufVxuXG50eXBlIFJlYWRhYmxlU3RyZWFtQXJncyA9IENvbnN0cnVjdG9yUGFyYW1ldGVyczx0eXBlb2YgUmVhZGFibGVTdHJlYW0+O1xuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVJlYWRhYmxlU3RyZWFtKC4uLmFyZ3M6IFJlYWRhYmxlU3RyZWFtQXJncyk6IFJlYWRhYmxlU3RyZWFtIHtcbiAgY29uc3QgUmVhZGFibGVTdHJlYW0gPSAoZ2xvYmFsVGhpcyBhcyBhbnkpLlJlYWRhYmxlU3RyZWFtO1xuICBpZiAodHlwZW9mIFJlYWRhYmxlU3RyZWFtID09PSAndW5kZWZpbmVkJykge1xuICAgIC8vIE5vdGU6IEFsbCBvZiB0aGUgcGxhdGZvcm1zIC8gcnVudGltZXMgd2Ugb2ZmaWNpYWxseSBzdXBwb3J0IGFscmVhZHkgZGVmaW5lXG4gICAgLy8gYFJlYWRhYmxlU3RyZWFtYCBhcyBhIGdsb2JhbCwgc28gdGhpcyBzaG91bGQgb25seSBldmVyIGJlIGhpdCBvbiB1bnN1cHBvcnRlZCBydW50aW1lcy5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnYFJlYWRhYmxlU3RyZWFtYCBpcyBub3QgZGVmaW5lZCBhcyBhIGdsb2JhbDsgWW91IHdpbGwgbmVlZCB0byBwb2x5ZmlsbCBpdCwgYGdsb2JhbFRoaXMuUmVhZGFibGVTdHJlYW0gPSBSZWFkYWJsZVN0cmVhbWAnLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtKC4uLmFyZ3MpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1Gcm9tPFQ+KGl0ZXJhYmxlOiBJdGVyYWJsZTxUPiB8IEFzeW5jSXRlcmFibGU8VD4pOiBSZWFkYWJsZVN0cmVhbTxUPiB7XG4gIGxldCBpdGVyOiBBc3luY0l0ZXJhdG9yPFQ+IHwgSXRlcmF0b3I8VD4gPVxuICAgIFN5bWJvbC5hc3luY0l0ZXJhdG9yIGluIGl0ZXJhYmxlID8gaXRlcmFibGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkgOiBpdGVyYWJsZVtTeW1ib2wuaXRlcmF0b3JdKCk7XG5cbiAgcmV0dXJuIG1ha2VSZWFkYWJsZVN0cmVhbSh7XG4gICAgc3RhcnQoKSB7fSxcbiAgICBhc3luYyBwdWxsKGNvbnRyb2xsZXI6IGFueSkge1xuICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgaXRlci5uZXh0KCk7XG4gICAgICBpZiAoZG9uZSkge1xuICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUodmFsdWUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgY2FuY2VsKCkge1xuICAgICAgYXdhaXQgaXRlci5yZXR1cm4/LigpO1xuICAgIH0sXG4gIH0pO1xufVxuXG4vKipcbiAqIE1vc3QgYnJvd3NlcnMgZG9uJ3QgeWV0IGhhdmUgYXN5bmMgaXRlcmFibGUgc3VwcG9ydCBmb3IgUmVhZGFibGVTdHJlYW0sXG4gKiBhbmQgTm9kZSBoYXMgYSB2ZXJ5IGRpZmZlcmVudCB3YXkgb2YgcmVhZGluZyBieXRlcyBmcm9tIGl0cyBcIlJlYWRhYmxlU3RyZWFtXCIuXG4gKlxuICogVGhpcyBwb2x5ZmlsbCB3YXMgcHVsbGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL01hdHRpYXNCdWVsZW5zL3dlYi1zdHJlYW1zLXBvbHlmaWxsL3B1bGwvMTIyI2lzc3VlY29tbWVudC0xNjI3MzU0NDkwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZVN0cmVhbVRvQXN5bmNJdGVyYWJsZTxUPihzdHJlYW06IGFueSk6IEFzeW5jSXRlcmFibGVJdGVyYXRvcjxUPiB7XG4gIGlmIChzdHJlYW1bU3ltYm9sLmFzeW5jSXRlcmF0b3JdKSByZXR1cm4gc3RyZWFtO1xuXG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgcmV0dXJuIHtcbiAgICBhc3luYyBuZXh0KCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgaWYgKHJlc3VsdD8uZG9uZSkgcmVhZGVyLnJlbGVhc2VMb2NrKCk7IC8vIHJlbGVhc2UgbG9jayB3aGVuIHN0cmVhbSBiZWNvbWVzIGNsb3NlZFxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWFkZXIucmVsZWFzZUxvY2soKTsgLy8gcmVsZWFzZSBsb2NrIHdoZW4gc3RyZWFtIGJlY29tZXMgZXJyb3JlZFxuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgcmV0dXJuKCkge1xuICAgICAgY29uc3QgY2FuY2VsUHJvbWlzZSA9IHJlYWRlci5jYW5jZWwoKTtcbiAgICAgIHJlYWRlci5yZWxlYXNlTG9jaygpO1xuICAgICAgYXdhaXQgY2FuY2VsUHJvbWlzZTtcbiAgICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfTtcbiAgICB9LFxuICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICB9O1xufVxuXG4vKipcbiAqIENhbmNlbHMgYSBSZWFkYWJsZVN0cmVhbSB3ZSBkb24ndCBuZWVkIHRvIGNvbnN1bWUuXG4gKiBTZWUgaHR0cHM6Ly91bmRpY2kubm9kZWpzLm9yZy8jLz9pZD1nYXJiYWdlLWNvbGxlY3Rpb25cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIENhbmNlbFJlYWRhYmxlU3RyZWFtKHN0cmVhbTogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmIChzdHJlYW0gPT09IG51bGwgfHwgdHlwZW9mIHN0cmVhbSAhPT0gJ29iamVjdCcpIHJldHVybjtcblxuICBpZiAoc3RyZWFtW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSkge1xuICAgIGF3YWl0IHN0cmVhbVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKS5yZXR1cm4/LigpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgY29uc3QgY2FuY2VsUHJvbWlzZSA9IHJlYWRlci5jYW5jZWwoKTtcbiAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gIGF3YWl0IGNhbmNlbFByb21pc2U7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBOdWxsYWJsZUhlYWRlcnMgfSBmcm9tICcuL2hlYWRlcnMuanMnO1xuXG5pbXBvcnQgdHlwZSB7IEJvZHlJbml0IH0gZnJvbSAnLi9idWlsdGluLXR5cGVzLmpzJztcbmltcG9ydCB7IFN0cmVhbSB9IGZyb20gJy4uL2NvcmUvc3RyZWFtaW5nLmpzJztcbmltcG9ydCB0eXBlIHsgSFRUUE1ldGhvZCwgTWVyZ2VkUmVxdWVzdEluaXQgfSBmcm9tICcuL3R5cGVzLmpzJztcbmltcG9ydCB7IHR5cGUgSGVhZGVyc0xpa2UgfSBmcm9tICcuL2hlYWRlcnMuanMnO1xuXG5leHBvcnQgdHlwZSBGaW5hbFJlcXVlc3RPcHRpb25zID0gUmVxdWVzdE9wdGlvbnMgJiB7IG1ldGhvZDogSFRUUE1ldGhvZDsgcGF0aDogc3RyaW5nIH07XG5cbmV4cG9ydCB0eXBlIFJlcXVlc3RPcHRpb25zID0ge1xuICAvKipcbiAgICogVGhlIEhUVFAgbWV0aG9kIGZvciB0aGUgcmVxdWVzdCAoZS5nLiwgJ2dldCcsICdwb3N0JywgJ3B1dCcsICdkZWxldGUnKS5cbiAgICovXG4gIG1ldGhvZD86IEhUVFBNZXRob2Q7XG5cbiAgLyoqXG4gICAqIFRoZSBVUkwgcGF0aCBmb3IgdGhlIHJlcXVlc3QuXG4gICAqXG4gICAqIEBleGFtcGxlIFwiL3YxL2Zvb1wiXG4gICAqL1xuICBwYXRoPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBRdWVyeSBwYXJhbWV0ZXJzIHRvIGluY2x1ZGUgaW4gdGhlIHJlcXVlc3QgVVJMLlxuICAgKi9cbiAgcXVlcnk/OiBvYmplY3QgfCB1bmRlZmluZWQgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgcmVxdWVzdCBib2R5LiBDYW4gYmUgYSBzdHJpbmcsIEpTT04gb2JqZWN0LCBGb3JtRGF0YSwgb3Igb3RoZXIgc3VwcG9ydGVkIHR5cGVzLlxuICAgKi9cbiAgYm9keT86IHVua25vd247XG5cbiAgLyoqXG4gICAqIEhUVFAgaGVhZGVycyB0byBpbmNsdWRlIHdpdGggdGhlIHJlcXVlc3QuIENhbiBiZSBhIEhlYWRlcnMgb2JqZWN0LCBwbGFpbiBvYmplY3QsIG9yIGFycmF5IG9mIHR1cGxlcy5cbiAgICovXG4gIGhlYWRlcnM/OiBIZWFkZXJzTGlrZTtcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHRpbWVzIHRoYXQgdGhlIGNsaWVudCB3aWxsIHJldHJ5IGEgcmVxdWVzdCBpbiBjYXNlIG9mIGFcbiAgICogdGVtcG9yYXJ5IGZhaWx1cmUsIGxpa2UgYSBuZXR3b3JrIGVycm9yIG9yIGEgNVhYIGVycm9yIGZyb20gdGhlIHNlcnZlci5cbiAgICpcbiAgICogQGRlZmF1bHQgMlxuICAgKi9cbiAgbWF4UmV0cmllcz86IG51bWJlcjtcblxuICBzdHJlYW0/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSAoaW4gbWlsbGlzZWNvbmRzKSB0aGF0IHRoZSBjbGllbnQgc2hvdWxkIHdhaXQgZm9yIGEgcmVzcG9uc2VcbiAgICogZnJvbSB0aGUgc2VydmVyIGJlZm9yZSB0aW1pbmcgb3V0IGEgc2luZ2xlIHJlcXVlc3QuXG4gICAqXG4gICAqIEB1bml0IG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgdGltZW91dD86IG51bWJlcjtcblxuICAvKipcbiAgICogQWRkaXRpb25hbCBgUmVxdWVzdEluaXRgIG9wdGlvbnMgdG8gYmUgcGFzc2VkIHRvIHRoZSB1bmRlcmx5aW5nIGBmZXRjaGAgY2FsbC5cbiAgICogVGhlc2Ugb3B0aW9ucyB3aWxsIGJlIG1lcmdlZCB3aXRoIHRoZSBjbGllbnQncyBkZWZhdWx0IGZldGNoIG9wdGlvbnMuXG4gICAqL1xuICBmZXRjaE9wdGlvbnM/OiBNZXJnZWRSZXF1ZXN0SW5pdDtcblxuICAvKipcbiAgICogQW4gQWJvcnRTaWduYWwgdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3QuXG4gICAqL1xuICBzaWduYWw/OiBBYm9ydFNpZ25hbCB8IHVuZGVmaW5lZCB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgdW5pcXVlIGtleSBmb3IgdGhpcyByZXF1ZXN0IHRvIGVuYWJsZSBpZGVtcG90ZW5jeS5cbiAgICovXG4gIGlkZW1wb3RlbmN5S2V5Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgZGVmYXVsdCBiYXNlIFVSTCBmb3IgdGhpcyBzcGVjaWZpYyByZXF1ZXN0LlxuICAgKi9cbiAgZGVmYXVsdEJhc2VVUkw/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgX19iaW5hcnlSZXNwb25zZT86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIF9fc3RyZWFtQ2xhc3M/OiB0eXBlb2YgU3RyZWFtO1xufTtcblxuZXhwb3J0IHR5cGUgRW5jb2RlZENvbnRlbnQgPSB7IGJvZHlIZWFkZXJzOiBIZWFkZXJzTGlrZTsgYm9keTogQm9keUluaXQgfTtcbmV4cG9ydCB0eXBlIFJlcXVlc3RFbmNvZGVyID0gKHJlcXVlc3Q6IHsgaGVhZGVyczogTnVsbGFibGVIZWFkZXJzOyBib2R5OiB1bmtub3duIH0pID0+IEVuY29kZWRDb250ZW50O1xuXG5leHBvcnQgY29uc3QgRmFsbGJhY2tFbmNvZGVyOiBSZXF1ZXN0RW5jb2RlciA9ICh7IGhlYWRlcnMsIGJvZHkgfSkgPT4ge1xuICByZXR1cm4ge1xuICAgIGJvZHlIZWFkZXJzOiB7XG4gICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH0sXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gIH07XG59O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHsgdHlwZSBSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJy4vcmVxdWVzdC1vcHRpb25zLmpzJztcbmltcG9ydCB0eXBlIHsgRmlsZVByb3BlcnR5QmFnLCBGZXRjaCB9IGZyb20gJy4vYnVpbHRpbi10eXBlcy5qcyc7XG5pbXBvcnQgdHlwZSB7IEJhc2VHZW1pbmlOZXh0R2VuQVBJQ2xpZW50IH0gZnJvbSAnLi4vY2xpZW50LmpzJztcbmltcG9ydCB7IFJlYWRhYmxlU3RyZWFtRnJvbSB9IGZyb20gJy4vc2hpbXMuanMnO1xuXG5leHBvcnQgdHlwZSBCbG9iUGFydCA9IHN0cmluZyB8IEFycmF5QnVmZmVyIHwgQXJyYXlCdWZmZXJWaWV3IHwgQmxvYiB8IERhdGFWaWV3O1xudHlwZSBGc1JlYWRTdHJlYW0gPSBBc3luY0l0ZXJhYmxlPFVpbnQ4QXJyYXk+ICYgeyBwYXRoOiBzdHJpbmcgfCB7IHRvU3RyaW5nKCk6IHN0cmluZyB9IH07XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9vdmVuLXNoL2J1bi9pc3N1ZXMvNTk4MFxuaW50ZXJmYWNlIEJ1bkZpbGUgZXh0ZW5kcyBCbG9iIHtcbiAgcmVhZG9ubHkgbmFtZT86IHN0cmluZyB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGNvbnN0IGNoZWNrRmlsZVN1cHBvcnQgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2YgRmlsZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zdCB7IHByb2Nlc3MgfSA9IGdsb2JhbFRoaXMgYXMgYW55O1xuICAgIGNvbnN0IGlzT2xkTm9kZSA9XG4gICAgICB0eXBlb2YgcHJvY2Vzcz8udmVyc2lvbnM/Lm5vZGUgPT09ICdzdHJpbmcnICYmIHBhcnNlSW50KHByb2Nlc3MudmVyc2lvbnMubm9kZS5zcGxpdCgnLicpKSA8IDIwO1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdgRmlsZWAgaXMgbm90IGRlZmluZWQgYXMgYSBnbG9iYWwsIHdoaWNoIGlzIHJlcXVpcmVkIGZvciBmaWxlIHVwbG9hZHMuJyArXG4gICAgICAgIChpc09sZE5vZGUgP1xuICAgICAgICAgIFwiIFVwZGF0ZSB0byBOb2RlIDIwIExUUyBvciBuZXdlciwgb3Igc2V0IGBnbG9iYWxUaGlzLkZpbGVgIHRvIGBpbXBvcnQoJ25vZGU6YnVmZmVyJykuRmlsZWAuXCJcbiAgICAgICAgOiAnJyksXG4gICAgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBUeXBpY2FsbHksIHRoaXMgaXMgYSBuYXRpdmUgXCJGaWxlXCIgY2xhc3MuXG4gKlxuICogV2UgcHJvdmlkZSB0aGUge0BsaW5rIHRvRmlsZX0gdXRpbGl0eSB0byBjb252ZXJ0IGEgdmFyaWV0eSBvZiBvYmplY3RzXG4gKiBpbnRvIHRoZSBGaWxlIGNsYXNzLlxuICpcbiAqIEZvciBjb252ZW5pZW5jZSwgeW91IGNhbiBhbHNvIHBhc3MgYSBmZXRjaCBSZXNwb25zZSwgb3IgaW4gTm9kZSxcbiAqIHRoZSByZXN1bHQgb2YgZnMuY3JlYXRlUmVhZFN0cmVhbSgpLlxuICovXG5leHBvcnQgdHlwZSBVcGxvYWRhYmxlID0gRmlsZSB8IFJlc3BvbnNlIHwgRnNSZWFkU3RyZWFtIHwgQnVuRmlsZTtcblxuLyoqXG4gKiBDb25zdHJ1Y3QgYSBgRmlsZWAgaW5zdGFuY2UuIFRoaXMgaXMgdXNlZCB0byBlbnN1cmUgYSBoZWxwZnVsIGVycm9yIGlzIHRocm93blxuICogZm9yIGVudmlyb25tZW50cyB0aGF0IGRvbid0IGRlZmluZSBhIGdsb2JhbCBgRmlsZWAgeWV0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZUZpbGUoXG4gIGZpbGVCaXRzOiBCbG9iUGFydFtdLFxuICBmaWxlTmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICBvcHRpb25zPzogRmlsZVByb3BlcnR5QmFnLFxuKTogRmlsZSB7XG4gIGNoZWNrRmlsZVN1cHBvcnQoKTtcbiAgcmV0dXJuIG5ldyBGaWxlKGZpbGVCaXRzIGFzIGFueSwgZmlsZU5hbWUgPz8gJ3Vua25vd25fZmlsZScsIG9wdGlvbnMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmFtZSh2YWx1ZTogYW55KTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuICgoXG4gICAgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgIHZhbHVlICE9PSBudWxsICYmXG4gICAgICAoKCduYW1lJyBpbiB2YWx1ZSAmJiB2YWx1ZS5uYW1lICYmIFN0cmluZyh2YWx1ZS5uYW1lKSkgfHxcbiAgICAgICAgKCd1cmwnIGluIHZhbHVlICYmIHZhbHVlLnVybCAmJiBTdHJpbmcodmFsdWUudXJsKSkgfHxcbiAgICAgICAgKCdmaWxlbmFtZScgaW4gdmFsdWUgJiYgdmFsdWUuZmlsZW5hbWUgJiYgU3RyaW5nKHZhbHVlLmZpbGVuYW1lKSkgfHxcbiAgICAgICAgKCdwYXRoJyBpbiB2YWx1ZSAmJiB2YWx1ZS5wYXRoICYmIFN0cmluZyh2YWx1ZS5wYXRoKSkpKSB8fFxuICAgICcnXG4gIClcbiAgICAuc3BsaXQoL1tcXFxcL10vKVxuICAgIC5wb3AoKSB8fCB1bmRlZmluZWQpO1xufVxuXG5leHBvcnQgY29uc3QgaXNBc3luY0l0ZXJhYmxlID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBBc3luY0l0ZXJhYmxlPGFueT4gPT5cbiAgdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG5cbi8qKlxuICogUmV0dXJucyBhIG11bHRpcGFydC9mb3JtLWRhdGEgcmVxdWVzdCBpZiBhbnkgcGFydCBvZiB0aGUgZ2l2ZW4gcmVxdWVzdCBib2R5IGNvbnRhaW5zIGEgRmlsZSAvIEJsb2IgdmFsdWUuXG4gKiBPdGhlcndpc2UgcmV0dXJucyB0aGUgcmVxdWVzdCBhcyBpcy5cbiAqL1xuZXhwb3J0IGNvbnN0IG1heWJlTXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zID0gYXN5bmMgKFxuICBvcHRzOiBSZXF1ZXN0T3B0aW9ucyxcbiAgZmV0Y2g6IEJhc2VHZW1pbmlOZXh0R2VuQVBJQ2xpZW50IHwgRmV0Y2gsXG4pOiBQcm9taXNlPFJlcXVlc3RPcHRpb25zPiA9PiB7XG4gIGlmICghaGFzVXBsb2FkYWJsZVZhbHVlKG9wdHMuYm9keSkpIHJldHVybiBvcHRzO1xuXG4gIHJldHVybiB7IC4uLm9wdHMsIGJvZHk6IGF3YWl0IGNyZWF0ZUZvcm0ob3B0cy5ib2R5LCBmZXRjaCkgfTtcbn07XG5cbnR5cGUgTXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zID0gT21pdDxSZXF1ZXN0T3B0aW9ucywgJ2JvZHknPiAmIHsgYm9keTogdW5rbm93biB9O1xuXG5leHBvcnQgY29uc3QgbXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zID0gYXN5bmMgKFxuICBvcHRzOiBNdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMsXG4gIGZldGNoOiBCYXNlR2VtaW5pTmV4dEdlbkFQSUNsaWVudCB8IEZldGNoLFxuKTogUHJvbWlzZTxSZXF1ZXN0T3B0aW9ucz4gPT4ge1xuICByZXR1cm4geyAuLi5vcHRzLCBib2R5OiBhd2FpdCBjcmVhdGVGb3JtKG9wdHMuYm9keSwgZmV0Y2gpIH07XG59O1xuXG5jb25zdCBzdXBwb3J0c0Zvcm1EYXRhTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwPEZldGNoLCBQcm9taXNlPGJvb2xlYW4+PigpO1xuXG4vKipcbiAqIG5vZGUtZmV0Y2ggZG9lc24ndCBzdXBwb3J0IHRoZSBnbG9iYWwgRm9ybURhdGEgb2JqZWN0IGluIHJlY2VudCBub2RlIHZlcnNpb25zLiBJbnN0ZWFkIG9mIHNlbmRpbmdcbiAqIHByb3Blcmx5LWVuY29kZWQgZm9ybSBkYXRhLCBpdCBqdXN0IHN0cmluZ2lmaWVzIHRoZSBvYmplY3QsIHJlc3VsdGluZyBpbiBhIHJlcXVlc3QgYm9keSBvZiBcIltvYmplY3QgRm9ybURhdGFdXCIuXG4gKiBUaGlzIGZ1bmN0aW9uIGRldGVjdHMgaWYgdGhlIGZldGNoIGZ1bmN0aW9uIHByb3ZpZGVkIHN1cHBvcnRzIHRoZSBnbG9iYWwgRm9ybURhdGEgb2JqZWN0IHRvIGF2b2lkXG4gKiBjb25mdXNpbmcgZXJyb3IgbWVzc2FnZXMgbGF0ZXIgb24uXG4gKi9cbmZ1bmN0aW9uIHN1cHBvcnRzRm9ybURhdGEoZmV0Y2hPYmplY3Q6IEJhc2VHZW1pbmlOZXh0R2VuQVBJQ2xpZW50IHwgRmV0Y2gpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgY29uc3QgZmV0Y2g6IEZldGNoID0gdHlwZW9mIGZldGNoT2JqZWN0ID09PSAnZnVuY3Rpb24nID8gZmV0Y2hPYmplY3QgOiAoZmV0Y2hPYmplY3QgYXMgYW55KS5mZXRjaDtcbiAgY29uc3QgY2FjaGVkID0gc3VwcG9ydHNGb3JtRGF0YU1hcC5nZXQoZmV0Y2gpO1xuICBpZiAoY2FjaGVkKSByZXR1cm4gY2FjaGVkO1xuICBjb25zdCBwcm9taXNlID0gKGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgRmV0Y2hSZXNwb25zZSA9IChcbiAgICAgICAgJ1Jlc3BvbnNlJyBpbiBmZXRjaCA/XG4gICAgICAgICAgZmV0Y2guUmVzcG9uc2VcbiAgICAgICAgOiAoYXdhaXQgZmV0Y2goJ2RhdGE6LCcpKS5jb25zdHJ1Y3RvcikgYXMgdHlwZW9mIFJlc3BvbnNlO1xuICAgICAgY29uc3QgZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgaWYgKGRhdGEudG9TdHJpbmcoKSA9PT0gKGF3YWl0IG5ldyBGZXRjaFJlc3BvbnNlKGRhdGEpLnRleHQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCB7XG4gICAgICAvLyBhdm9pZCBmYWxzZSBuZWdhdGl2ZXNcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSkoKTtcbiAgc3VwcG9ydHNGb3JtRGF0YU1hcC5zZXQoZmV0Y2gsIHByb21pc2UpO1xuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUZvcm0gPSBhc3luYyA8VCA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+PihcbiAgYm9keTogVCB8IHVuZGVmaW5lZCxcbiAgZmV0Y2g6IEJhc2VHZW1pbmlOZXh0R2VuQVBJQ2xpZW50IHwgRmV0Y2gsXG4pOiBQcm9taXNlPEZvcm1EYXRhPiA9PiB7XG4gIGlmICghKGF3YWl0IHN1cHBvcnRzRm9ybURhdGEoZmV0Y2gpKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIHByb3ZpZGVkIGZldGNoIGZ1bmN0aW9uIGRvZXMgbm90IHN1cHBvcnQgZmlsZSB1cGxvYWRzIHdpdGggdGhlIGN1cnJlbnQgZ2xvYmFsIEZvcm1EYXRhIGNsYXNzLicsXG4gICAgKTtcbiAgfVxuICBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gIGF3YWl0IFByb21pc2UuYWxsKE9iamVjdC5lbnRyaWVzKGJvZHkgfHwge30pLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBhZGRGb3JtVmFsdWUoZm9ybSwga2V5LCB2YWx1ZSkpKTtcbiAgcmV0dXJuIGZvcm07XG59O1xuXG4vLyBXZSBjaGVjayBmb3IgQmxvYiBub3QgRmlsZSBiZWNhdXNlIEJ1bi5GaWxlIGRvZXNuJ3QgaW5oZXJpdCBmcm9tIEZpbGUsXG4vLyBidXQgdGhleSBib3RoIGluaGVyaXQgZnJvbSBCbG9iIGFuZCBoYXZlIGEgYG5hbWVgIHByb3BlcnR5IGF0IHJ1bnRpbWUuXG5jb25zdCBpc05hbWVkQmxvYiA9ICh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIEJsb2IgPT4gdmFsdWUgaW5zdGFuY2VvZiBCbG9iICYmICduYW1lJyBpbiB2YWx1ZTtcblxuY29uc3QgaXNVcGxvYWRhYmxlID0gKHZhbHVlOiB1bmtub3duKSA9PlxuICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gIHZhbHVlICE9PSBudWxsICYmXG4gICh2YWx1ZSBpbnN0YW5jZW9mIFJlc3BvbnNlIHx8IGlzQXN5bmNJdGVyYWJsZSh2YWx1ZSkgfHwgaXNOYW1lZEJsb2IodmFsdWUpKTtcblxuY29uc3QgaGFzVXBsb2FkYWJsZVZhbHVlID0gKHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiA9PiB7XG4gIGlmIChpc1VwbG9hZGFibGUodmFsdWUpKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSByZXR1cm4gdmFsdWUuc29tZShoYXNVcGxvYWRhYmxlVmFsdWUpO1xuICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIGZvciAoY29uc3QgayBpbiB2YWx1ZSkge1xuICAgICAgaWYgKGhhc1VwbG9hZGFibGVWYWx1ZSgodmFsdWUgYXMgYW55KVtrXSkpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5jb25zdCBhZGRGb3JtVmFsdWUgPSBhc3luYyAoZm9ybTogRm9ybURhdGEsIGtleTogc3RyaW5nLCB2YWx1ZTogdW5rbm93bik6IFByb21pc2U8dm9pZD4gPT4ge1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICBgUmVjZWl2ZWQgbnVsbCBmb3IgXCIke2tleX1cIjsgdG8gcGFzcyBudWxsIGluIEZvcm1EYXRhLCB5b3UgbXVzdCB1c2UgdGhlIHN0cmluZyAnbnVsbCdgLFxuICAgICk7XG4gIH1cblxuICAvLyBUT0RPOiBtYWtlIG5lc3RlZCBmb3JtYXRzIGNvbmZpZ3VyYWJsZVxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgZm9ybS5hcHBlbmQoa2V5LCBTdHJpbmcodmFsdWUpKTtcbiAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFJlc3BvbnNlKSB7XG4gICAgZm9ybS5hcHBlbmQoa2V5LCBtYWtlRmlsZShbYXdhaXQgdmFsdWUuYmxvYigpXSwgZ2V0TmFtZSh2YWx1ZSkpKTtcbiAgfSBlbHNlIGlmIChpc0FzeW5jSXRlcmFibGUodmFsdWUpKSB7XG4gICAgZm9ybS5hcHBlbmQoa2V5LCBtYWtlRmlsZShbYXdhaXQgbmV3IFJlc3BvbnNlKFJlYWRhYmxlU3RyZWFtRnJvbSh2YWx1ZSkpLmJsb2IoKV0sIGdldE5hbWUodmFsdWUpKSk7XG4gIH0gZWxzZSBpZiAoaXNOYW1lZEJsb2IodmFsdWUpKSB7XG4gICAgZm9ybS5hcHBlbmQoa2V5LCB2YWx1ZSwgZ2V0TmFtZSh2YWx1ZSkpO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwodmFsdWUubWFwKChlbnRyeSkgPT4gYWRkRm9ybVZhbHVlKGZvcm0sIGtleSArICdbXScsIGVudHJ5KSkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIE9iamVjdC5lbnRyaWVzKHZhbHVlKS5tYXAoKFtuYW1lLCBwcm9wXSkgPT4gYWRkRm9ybVZhbHVlKGZvcm0sIGAke2tleX1bJHtuYW1lfV1gLCBwcm9wKSksXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgYEludmFsaWQgdmFsdWUgZ2l2ZW4gdG8gZm9ybSwgZXhwZWN0ZWQgYSBzdHJpbmcsIG51bWJlciwgYm9vbGVhbiwgb2JqZWN0LCBBcnJheSwgRmlsZSBvciBCbG9iIGJ1dCBnb3QgJHt2YWx1ZX0gaW5zdGVhZGAsXG4gICAgKTtcbiAgfVxufTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7IEJsb2JQYXJ0LCBnZXROYW1lLCBtYWtlRmlsZSwgaXNBc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi91cGxvYWRzLmpzJztcbmltcG9ydCB0eXBlIHsgRmlsZVByb3BlcnR5QmFnIH0gZnJvbSAnLi9idWlsdGluLXR5cGVzLmpzJztcbmltcG9ydCB7IGNoZWNrRmlsZVN1cHBvcnQgfSBmcm9tICcuL3VwbG9hZHMuanMnO1xuXG5leHBvcnQgdHlwZSBCbG9iTGlrZVBhcnQgPSBzdHJpbmcgfCBBcnJheUJ1ZmZlciB8IEFycmF5QnVmZmVyVmlldyB8IEJsb2JMaWtlIHwgRGF0YVZpZXc7XG5cbi8qKlxuICogSW50ZW5kZWQgdG8gbWF0Y2ggRE9NIEJsb2IsIG5vZGUtZmV0Y2ggQmxvYiwgbm9kZTpidWZmZXIgQmxvYiwgZXRjLlxuICogRG9uJ3QgYWRkIGFycmF5QnVmZmVyIGhlcmUsIG5vZGUtZmV0Y2ggZG9lc24ndCBoYXZlIGl0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmxvYkxpa2Uge1xuICAvKiogW01ETiBSZWZlcmVuY2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9CbG9iL3NpemUpICovXG4gIHJlYWRvbmx5IHNpemU6IG51bWJlcjtcbiAgLyoqIFtNRE4gUmVmZXJlbmNlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvQmxvYi90eXBlKSAqL1xuICByZWFkb25seSB0eXBlOiBzdHJpbmc7XG4gIC8qKiBbTUROIFJlZmVyZW5jZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0Jsb2IvdGV4dCkgKi9cbiAgdGV4dCgpOiBQcm9taXNlPHN0cmluZz47XG4gIC8qKiBbTUROIFJlZmVyZW5jZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0Jsb2Ivc2xpY2UpICovXG4gIHNsaWNlKHN0YXJ0PzogbnVtYmVyLCBlbmQ/OiBudW1iZXIpOiBCbG9iTGlrZTtcbn1cblxuLyoqXG4gKiBUaGlzIGNoZWNrIGFkZHMgdGhlIGFycmF5QnVmZmVyKCkgbWV0aG9kIHR5cGUgYmVjYXVzZSBpdCBpcyBhdmFpbGFibGUgYW5kIHVzZWQgYXQgcnVudGltZVxuICovXG5jb25zdCBpc0Jsb2JMaWtlID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBCbG9iTGlrZSAmIHsgYXJyYXlCdWZmZXIoKTogUHJvbWlzZTxBcnJheUJ1ZmZlcj4gfSA9PlxuICB2YWx1ZSAhPSBudWxsICYmXG4gIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgdHlwZW9mIHZhbHVlLnNpemUgPT09ICdudW1iZXInICYmXG4gIHR5cGVvZiB2YWx1ZS50eXBlID09PSAnc3RyaW5nJyAmJlxuICB0eXBlb2YgdmFsdWUudGV4dCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICB0eXBlb2YgdmFsdWUuc2xpY2UgPT09ICdmdW5jdGlvbicgJiZcbiAgdHlwZW9mIHZhbHVlLmFycmF5QnVmZmVyID09PSAnZnVuY3Rpb24nO1xuXG4vKipcbiAqIEludGVuZGVkIHRvIG1hdGNoIERPTSBGaWxlLCBub2RlOmJ1ZmZlciBGaWxlLCB1bmRpY2kgRmlsZSwgZXRjLlxuICovXG5pbnRlcmZhY2UgRmlsZUxpa2UgZXh0ZW5kcyBCbG9iTGlrZSB7XG4gIC8qKiBbTUROIFJlZmVyZW5jZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0ZpbGUvbGFzdE1vZGlmaWVkKSAqL1xuICByZWFkb25seSBsYXN0TW9kaWZpZWQ6IG51bWJlcjtcbiAgLyoqIFtNRE4gUmVmZXJlbmNlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvRmlsZS9uYW1lKSAqL1xuICByZWFkb25seSBuYW1lPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIFRoaXMgY2hlY2sgYWRkcyB0aGUgYXJyYXlCdWZmZXIoKSBtZXRob2QgdHlwZSBiZWNhdXNlIGl0IGlzIGF2YWlsYWJsZSBhbmQgdXNlZCBhdCBydW50aW1lXG4gKi9cbmNvbnN0IGlzRmlsZUxpa2UgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIEZpbGVMaWtlICYgeyBhcnJheUJ1ZmZlcigpOiBQcm9taXNlPEFycmF5QnVmZmVyPiB9ID0+XG4gIHZhbHVlICE9IG51bGwgJiZcbiAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICB0eXBlb2YgdmFsdWUubmFtZSA9PT0gJ3N0cmluZycgJiZcbiAgdHlwZW9mIHZhbHVlLmxhc3RNb2RpZmllZCA9PT0gJ251bWJlcicgJiZcbiAgaXNCbG9iTGlrZSh2YWx1ZSk7XG5cbi8qKlxuICogSW50ZW5kZWQgdG8gbWF0Y2ggRE9NIFJlc3BvbnNlLCBub2RlLWZldGNoIFJlc3BvbnNlLCB1bmRpY2kgUmVzcG9uc2UsIGV0Yy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZUxpa2Uge1xuICB1cmw6IHN0cmluZztcbiAgYmxvYigpOiBQcm9taXNlPEJsb2JMaWtlPjtcbn1cblxuY29uc3QgaXNSZXNwb25zZUxpa2UgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIFJlc3BvbnNlTGlrZSA9PlxuICB2YWx1ZSAhPSBudWxsICYmXG4gIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgdHlwZW9mIHZhbHVlLnVybCA9PT0gJ3N0cmluZycgJiZcbiAgdHlwZW9mIHZhbHVlLmJsb2IgPT09ICdmdW5jdGlvbic7XG5cbmV4cG9ydCB0eXBlIFRvRmlsZUlucHV0ID1cbiAgfCBGaWxlTGlrZVxuICB8IFJlc3BvbnNlTGlrZVxuICB8IEV4Y2x1ZGU8QmxvYkxpa2VQYXJ0LCBzdHJpbmc+XG4gIHwgQXN5bmNJdGVyYWJsZTxCbG9iTGlrZVBhcnQ+O1xuXG4vKipcbiAqIEhlbHBlciBmb3IgY3JlYXRpbmcgYSB7QGxpbmsgRmlsZX0gdG8gcGFzcyB0byBhbiBTREsgdXBsb2FkIG1ldGhvZCBmcm9tIGEgdmFyaWV0eSBvZiBkaWZmZXJlbnQgZGF0YSBmb3JtYXRzXG4gKiBAcGFyYW0gdmFsdWUgdGhlIHJhdyBjb250ZW50IG9mIHRoZSBmaWxlLiBDYW4gYmUgYW4ge0BsaW5rIFVwbG9hZGFibGV9LCBCbG9iTGlrZVBhcnQsIG9yIEFzeW5jSXRlcmFibGUgb2YgQmxvYkxpa2VQYXJ0c1xuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBmaWxlLiBJZiBvbWl0dGVkLCB0b0ZpbGUgd2lsbCB0cnkgdG8gZGV0ZXJtaW5lIGEgZmlsZSBuYW1lIGZyb20gYml0cyBpZiBwb3NzaWJsZVxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIGFkZGl0aW9uYWwgcHJvcGVydGllc1xuICogQHBhcmFtIHtzdHJpbmc9fSBvcHRpb25zLnR5cGUgdGhlIE1JTUUgdHlwZSBvZiB0aGUgY29udGVudFxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRpb25zLmxhc3RNb2RpZmllZCB0aGUgbGFzdCBtb2RpZmllZCB0aW1lc3RhbXBcbiAqIEByZXR1cm5zIGEge0BsaW5rIEZpbGV9IHdpdGggdGhlIGdpdmVuIHByb3BlcnRpZXNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvRmlsZShcbiAgdmFsdWU6IFRvRmlsZUlucHV0IHwgUHJvbWlzZUxpa2U8VG9GaWxlSW5wdXQ+LFxuICBuYW1lPzogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgb3B0aW9ucz86IEZpbGVQcm9wZXJ0eUJhZyB8IHVuZGVmaW5lZCxcbik6IFByb21pc2U8RmlsZT4ge1xuICBjaGVja0ZpbGVTdXBwb3J0KCk7XG5cbiAgLy8gSWYgaXQncyBhIHByb21pc2UsIHJlc29sdmUgaXQuXG4gIHZhbHVlID0gYXdhaXQgdmFsdWU7XG5cbiAgLy8gSWYgd2UndmUgYmVlbiBnaXZlbiBhIGBGaWxlYCB3ZSBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nXG4gIGlmIChpc0ZpbGVMaWtlKHZhbHVlKSkge1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEZpbGUpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VGaWxlKFthd2FpdCB2YWx1ZS5hcnJheUJ1ZmZlcigpXSwgdmFsdWUubmFtZSk7XG4gIH1cblxuICBpZiAoaXNSZXNwb25zZUxpa2UodmFsdWUpKSB7XG4gICAgY29uc3QgYmxvYiA9IGF3YWl0IHZhbHVlLmJsb2IoKTtcbiAgICBuYW1lIHx8PSBuZXcgVVJMKHZhbHVlLnVybCkucGF0aG5hbWUuc3BsaXQoL1tcXFxcL10vKS5wb3AoKTtcblxuICAgIHJldHVybiBtYWtlRmlsZShhd2FpdCBnZXRCeXRlcyhibG9iKSwgbmFtZSwgb3B0aW9ucyk7XG4gIH1cblxuICBjb25zdCBwYXJ0cyA9IGF3YWl0IGdldEJ5dGVzKHZhbHVlKTtcblxuICBuYW1lIHx8PSBnZXROYW1lKHZhbHVlKTtcblxuICBpZiAoIW9wdGlvbnM/LnR5cGUpIHtcbiAgICBjb25zdCB0eXBlID0gcGFydHMuZmluZCgocGFydCkgPT4gdHlwZW9mIHBhcnQgPT09ICdvYmplY3QnICYmICd0eXBlJyBpbiBwYXJ0ICYmIHBhcnQudHlwZSk7XG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgb3B0aW9ucyA9IHsgLi4ub3B0aW9ucywgdHlwZSB9O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBtYWtlRmlsZShwYXJ0cywgbmFtZSwgb3B0aW9ucyk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEJ5dGVzKHZhbHVlOiBCbG9iTGlrZVBhcnQgfCBBc3luY0l0ZXJhYmxlPEJsb2JMaWtlUGFydD4pOiBQcm9taXNlPEFycmF5PEJsb2JQYXJ0Pj4ge1xuICBsZXQgcGFydHM6IEFycmF5PEJsb2JQYXJ0PiA9IFtdO1xuICBpZiAoXG4gICAgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fFxuICAgIEFycmF5QnVmZmVyLmlzVmlldyh2YWx1ZSkgfHwgLy8gaW5jbHVkZXMgVWludDhBcnJheSwgQnVmZmVyLCBldGMuXG4gICAgdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlclxuICApIHtcbiAgICBwYXJ0cy5wdXNoKHZhbHVlKTtcbiAgfSBlbHNlIGlmIChpc0Jsb2JMaWtlKHZhbHVlKSkge1xuICAgIHBhcnRzLnB1c2godmFsdWUgaW5zdGFuY2VvZiBCbG9iID8gdmFsdWUgOiBhd2FpdCB2YWx1ZS5hcnJheUJ1ZmZlcigpKTtcbiAgfSBlbHNlIGlmIChcbiAgICBpc0FzeW5jSXRlcmFibGUodmFsdWUpIC8vIGluY2x1ZGVzIFJlYWRhYmxlLCBSZWFkYWJsZVN0cmVhbSwgZXRjLlxuICApIHtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHZhbHVlKSB7XG4gICAgICBwYXJ0cy5wdXNoKC4uLihhd2FpdCBnZXRCeXRlcyhjaHVuayBhcyBCbG9iTGlrZVBhcnQpKSk7IC8vIFRPRE8sIGNvbnNpZGVyIHZhbGlkYXRpbmc/XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IGNvbnN0cnVjdG9yID0gdmFsdWU/LmNvbnN0cnVjdG9yPy5uYW1lO1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBVbmV4cGVjdGVkIGRhdGEgdHlwZTogJHt0eXBlb2YgdmFsdWV9JHtcbiAgICAgICAgY29uc3RydWN0b3IgPyBgOyBjb25zdHJ1Y3RvcjogJHtjb25zdHJ1Y3Rvcn1gIDogJydcbiAgICAgIH0ke3Byb3BzRm9yRXJyb3IodmFsdWUpfWAsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBwYXJ0cztcbn1cblxuZnVuY3Rpb24gcHJvcHNGb3JFcnJvcih2YWx1ZTogdW5rbm93bik6IHN0cmluZyB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnIHx8IHZhbHVlID09PSBudWxsKSByZXR1cm4gJyc7XG4gIGNvbnN0IHByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpO1xuICByZXR1cm4gYDsgcHJvcHM6IFske3Byb3BzLm1hcCgocCkgPT4gYFwiJHtwfVwiYCkuam9pbignLCAnKX1dYDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEJhc2VHZW1pbmlOZXh0R2VuQVBJQ2xpZW50IH0gZnJvbSAnLi4vY2xpZW50LmpzJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFQSVJlc291cmNlIHtcbiAgLyoqXG4gICAqIFRoZSBrZXkgcGF0aCBmcm9tIHRoZSBjbGllbnQuIEZvciBleGFtcGxlLCBhIHJlc291cmNlIGFjY2Vzc2libGUgYXMgYGNsaWVudC5yZXNvdXJjZS5zdWJyZXNvdXJjZWAgd291bGRcbiAgICogaGF2ZSBhIHByb3BlcnR5IGBzdGF0aWMgb3ZlcnJpZGUgcmVhZG9ubHkgX2tleSA9IE9iamVjdC5mcmVlemUoWydyZXNvdXJjZScsICdzdWJyZXNvdXJjZSddIGFzIGNvbnN0KTtgLlxuICAgKi9cbiAgc3RhdGljIHJlYWRvbmx5IF9rZXk6IHJlYWRvbmx5IHN0cmluZ1tdID0gW107XG4gIHByb3RlY3RlZCBfY2xpZW50OiBCYXNlR2VtaW5pTmV4dEdlbkFQSUNsaWVudDtcblxuICBjb25zdHJ1Y3RvcihjbGllbnQ6IEJhc2VHZW1pbmlOZXh0R2VuQVBJQ2xpZW50KSB7XG4gICAgdGhpcy5fY2xpZW50ID0gY2xpZW50O1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQgeyBHZW1pbmlOZXh0R2VuQVBJQ2xpZW50RXJyb3IgfSBmcm9tICcuLi8uLi9jb3JlL2Vycm9yLmpzJztcblxuLyoqXG4gKiBQZXJjZW50LWVuY29kZSBldmVyeXRoaW5nIHRoYXQgaXNuJ3Qgc2FmZSB0byBoYXZlIGluIGEgcGF0aCB3aXRob3V0IGVuY29kaW5nIHNhZmUgY2hhcnMuXG4gKlxuICogVGFrZW4gZnJvbSBodHRwczovL2RhdGF0cmFja2VyLmlldGYub3JnL2RvYy9odG1sL3JmYzM5ODYjc2VjdGlvbi0zLjM6XG4gKiA+IHVucmVzZXJ2ZWQgID0gQUxQSEEgLyBESUdJVCAvIFwiLVwiIC8gXCIuXCIgLyBcIl9cIiAvIFwiflwiXG4gKiA+IHN1Yi1kZWxpbXMgID0gXCIhXCIgLyBcIiRcIiAvIFwiJlwiIC8gXCInXCIgLyBcIihcIiAvIFwiKVwiIC8gXCIqXCIgLyBcIitcIiAvIFwiLFwiIC8gXCI7XCIgLyBcIj1cIlxuICogPiBwY2hhciAgICAgICA9IHVucmVzZXJ2ZWQgLyBwY3QtZW5jb2RlZCAvIHN1Yi1kZWxpbXMgLyBcIjpcIiAvIFwiQFwiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVVUklQYXRoKHN0cjogc3RyaW5nKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvW15BLVphLXowLTlcXC0uX34hJCYnKCkqKyw7PTpAXSsvZywgZW5jb2RlVVJJQ29tcG9uZW50KTtcbn1cblxuY29uc3QgRU1QVFkgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSk7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVQYXRoVGFnRnVuY3Rpb24gPSAocGF0aEVuY29kZXIgPSBlbmNvZGVVUklQYXRoKSA9PlxuICAoZnVuY3Rpb24gcGF0aChzdGF0aWNzOiByZWFkb25seSBzdHJpbmdbXSwgLi4ucGFyYW1zOiByZWFkb25seSB1bmtub3duW10pOiBzdHJpbmcge1xuICAgIC8vIElmIHRoZXJlIGFyZSBubyBwYXJhbXMsIG5vIHByb2Nlc3NpbmcgaXMgbmVlZGVkLlxuICAgIGlmIChzdGF0aWNzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIHN0YXRpY3NbMF0hO1xuXG4gICAgbGV0IHBvc3RQYXRoID0gZmFsc2U7XG4gICAgY29uc3QgaW52YWxpZFNlZ21lbnRzID0gW107XG4gICAgY29uc3QgcGF0aCA9IHN0YXRpY3MucmVkdWNlKChwcmV2aW91c1ZhbHVlLCBjdXJyZW50VmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoL1s/I10vLnRlc3QoY3VycmVudFZhbHVlKSkge1xuICAgICAgICBwb3N0UGF0aCA9IHRydWU7XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcmFtc1tpbmRleF07XG4gICAgICBsZXQgZW5jb2RlZCA9IChwb3N0UGF0aCA/IGVuY29kZVVSSUNvbXBvbmVudCA6IHBhdGhFbmNvZGVyKSgnJyArIHZhbHVlKTtcbiAgICAgIGlmIChcbiAgICAgICAgaW5kZXggIT09IHBhcmFtcy5sZW5ndGggJiZcbiAgICAgICAgKHZhbHVlID09IG51bGwgfHxcbiAgICAgICAgICAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgLy8gaGFuZGxlIHZhbHVlcyBmcm9tIG90aGVyIHJlYWxtc1xuICAgICAgICAgICAgdmFsdWUudG9TdHJpbmcgPT09XG4gICAgICAgICAgICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZihPYmplY3QuZ2V0UHJvdG90eXBlT2YoKHZhbHVlIGFzIGFueSkuaGFzT3duUHJvcGVydHkgPz8gRU1QVFkpID8/IEVNUFRZKVxuICAgICAgICAgICAgICAgID8udG9TdHJpbmcpKVxuICAgICAgKSB7XG4gICAgICAgIGVuY29kZWQgPSB2YWx1ZSArICcnO1xuICAgICAgICBpbnZhbGlkU2VnbWVudHMucHVzaCh7XG4gICAgICAgICAgc3RhcnQ6IHByZXZpb3VzVmFsdWUubGVuZ3RoICsgY3VycmVudFZhbHVlLmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGg6IGVuY29kZWQubGVuZ3RoLFxuICAgICAgICAgIGVycm9yOiBgVmFsdWUgb2YgdHlwZSAke09iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcbiAgICAgICAgICAgIC5jYWxsKHZhbHVlKVxuICAgICAgICAgICAgLnNsaWNlKDgsIC0xKX0gaXMgbm90IGEgdmFsaWQgcGF0aCBwYXJhbWV0ZXJgLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcmV2aW91c1ZhbHVlICsgY3VycmVudFZhbHVlICsgKGluZGV4ID09PSBwYXJhbXMubGVuZ3RoID8gJycgOiBlbmNvZGVkKTtcbiAgICB9LCAnJyk7XG5cbiAgICBjb25zdCBwYXRoT25seSA9IHBhdGguc3BsaXQoL1s/I10vLCAxKVswXSE7XG4gICAgY29uc3QgaW52YWxpZFNlZ21lbnRQYXR0ZXJuID0gLyg/PD1efFxcLykoPzpcXC58JTJlKXsxLDJ9KD89XFwvfCQpL2dpO1xuICAgIGxldCBtYXRjaDtcblxuICAgIC8vIEZpbmQgYWxsIGludmFsaWQgc2VnbWVudHNcbiAgICB3aGlsZSAoKG1hdGNoID0gaW52YWxpZFNlZ21lbnRQYXR0ZXJuLmV4ZWMocGF0aE9ubHkpKSAhPT0gbnVsbCkge1xuICAgICAgaW52YWxpZFNlZ21lbnRzLnB1c2goe1xuICAgICAgICBzdGFydDogbWF0Y2guaW5kZXgsXG4gICAgICAgIGxlbmd0aDogbWF0Y2hbMF0ubGVuZ3RoLFxuICAgICAgICBlcnJvcjogYFZhbHVlIFwiJHttYXRjaFswXX1cIiBjYW5cXCd0IGJlIHNhZmVseSBwYXNzZWQgYXMgYSBwYXRoIHBhcmFtZXRlcmAsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpbnZhbGlkU2VnbWVudHMuc29ydCgoYSwgYikgPT4gYS5zdGFydCAtIGIuc3RhcnQpO1xuXG4gICAgaWYgKGludmFsaWRTZWdtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBsZXQgbGFzdEVuZCA9IDA7XG4gICAgICBjb25zdCB1bmRlcmxpbmUgPSBpbnZhbGlkU2VnbWVudHMucmVkdWNlKChhY2MsIHNlZ21lbnQpID0+IHtcbiAgICAgICAgY29uc3Qgc3BhY2VzID0gJyAnLnJlcGVhdChzZWdtZW50LnN0YXJ0IC0gbGFzdEVuZCk7XG4gICAgICAgIGNvbnN0IGFycm93cyA9ICdeJy5yZXBlYXQoc2VnbWVudC5sZW5ndGgpO1xuICAgICAgICBsYXN0RW5kID0gc2VnbWVudC5zdGFydCArIHNlZ21lbnQubGVuZ3RoO1xuICAgICAgICByZXR1cm4gYWNjICsgc3BhY2VzICsgYXJyb3dzO1xuICAgICAgfSwgJycpO1xuXG4gICAgICB0aHJvdyBuZXcgR2VtaW5pTmV4dEdlbkFQSUNsaWVudEVycm9yKFxuICAgICAgICBgUGF0aCBwYXJhbWV0ZXJzIHJlc3VsdCBpbiBwYXRoIHdpdGggaW52YWxpZCBzZWdtZW50czpcXG4ke2ludmFsaWRTZWdtZW50c1xuICAgICAgICAgIC5tYXAoKGUpID0+IGUuZXJyb3IpXG4gICAgICAgICAgLmpvaW4oJ1xcbicpfVxcbiR7cGF0aH1cXG4ke3VuZGVybGluZX1gLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0aDtcbiAgfSk7XG5cbi8qKlxuICogVVJJLWVuY29kZXMgcGF0aCBwYXJhbXMgYW5kIGVuc3VyZXMgbm8gdW5zYWZlIC8uLyBvciAvLi4vIHBhdGggc2VnbWVudHMgYXJlIGludHJvZHVjZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBwYXRoID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZVBhdGhUYWdGdW5jdGlvbihlbmNvZGVVUklQYXRoKTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSAnLi4vY29yZS9yZXNvdXJjZS5qcyc7XG5pbXBvcnQgKiBhcyBFcnJvcnMgZnJvbSAnLi4vY29yZS9lcnJvci5qcyc7XG5pbXBvcnQgKiBhcyBJbnRlcmFjdGlvbnNBUEkgZnJvbSAnLi9pbnRlcmFjdGlvbnMuanMnO1xuaW1wb3J0IHsgQVBJUHJvbWlzZSB9IGZyb20gJy4uL2NvcmUvYXBpLXByb21pc2UuanMnO1xuaW1wb3J0IHsgU3RyZWFtIH0gZnJvbSAnLi4vY29yZS9zdHJlYW1pbmcuanMnO1xuaW1wb3J0IHsgUmVxdWVzdE9wdGlvbnMgfSBmcm9tICcuLi9pbnRlcm5hbC9yZXF1ZXN0LW9wdGlvbnMuanMnO1xuaW1wb3J0IHsgcGF0aCB9IGZyb20gJy4uL2ludGVybmFsL3V0aWxzL3BhdGguanMnO1xuXG5leHBvcnQgY2xhc3MgQmFzZUludGVyYWN0aW9ucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IF9rZXk6IHJlYWRvbmx5IFsnaW50ZXJhY3Rpb25zJ10gPSBPYmplY3QuZnJlZXplKFsnaW50ZXJhY3Rpb25zJ10gYXMgY29uc3QpO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGludGVyYWN0aW9uLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBpbnRlcmFjdGlvbiA9IGF3YWl0IGNsaWVudC5pbnRlcmFjdGlvbnMuY3JlYXRlKHtcbiAgICogICBpbnB1dDogJ3N0cmluZycsXG4gICAqICAgbW9kZWw6ICdnZW1pbmktMi41LXBybycsXG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICovXG4gIGNyZWF0ZShwYXJhbXM6IENyZWF0ZU1vZGVsSW50ZXJhY3Rpb25QYXJhbXNOb25TdHJlYW1pbmcsIG9wdGlvbnM/OiBSZXF1ZXN0T3B0aW9ucyk6IEFQSVByb21pc2U8SW50ZXJhY3Rpb24+O1xuICBjcmVhdGUoXG4gICAgcGFyYW1zOiBDcmVhdGVNb2RlbEludGVyYWN0aW9uUGFyYW1zU3RyZWFtaW5nLFxuICAgIG9wdGlvbnM/OiBSZXF1ZXN0T3B0aW9ucyxcbiAgKTogQVBJUHJvbWlzZTxTdHJlYW08SW50ZXJhY3Rpb25TU0VFdmVudD4+O1xuICBjcmVhdGUocGFyYW1zOiBDcmVhdGVBZ2VudEludGVyYWN0aW9uUGFyYW1zTm9uU3RyZWFtaW5nLCBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMpOiBBUElQcm9taXNlPEludGVyYWN0aW9uPjtcbiAgY3JlYXRlKFxuICAgIHBhcmFtczogQ3JlYXRlQWdlbnRJbnRlcmFjdGlvblBhcmFtc1N0cmVhbWluZyxcbiAgICBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFQSVByb21pc2U8U3RyZWFtPEludGVyYWN0aW9uU1NFRXZlbnQ+PjtcbiAgY3JlYXRlKFxuICAgIHBhcmFtczogQmFzZUNyZWF0ZU1vZGVsSW50ZXJhY3Rpb25QYXJhbXMgfCBCYXNlQ3JlYXRlQWdlbnRJbnRlcmFjdGlvblBhcmFtcyxcbiAgICBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFQSVByb21pc2U8U3RyZWFtPEludGVyYWN0aW9uU1NFRXZlbnQ+IHwgSW50ZXJhY3Rpb24+O1xuICBjcmVhdGUoXG4gICAgcGFyYW1zOiBJbnRlcmFjdGlvbkNyZWF0ZVBhcmFtcyxcbiAgICBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFQSVByb21pc2U8SW50ZXJhY3Rpb24+IHwgQVBJUHJvbWlzZTxTdHJlYW08SW50ZXJhY3Rpb25TU0VFdmVudD4+IHtcbiAgICBjb25zdCB7IGFwaV92ZXJzaW9uID0gdGhpcy5fY2xpZW50LmFwaVZlcnNpb24sIC4uLmJvZHkgfSA9IHBhcmFtcztcbiAgICBpZiAoJ21vZGVsJyBpbiBib2R5ICYmICdhZ2VudF9jb25maWcnIGluIGJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcnMuR2VtaW5pTmV4dEdlbkFQSUNsaWVudEVycm9yKFxuICAgICAgICBgSW52YWxpZCByZXF1ZXN0OiBzcGVjaWZpZWQgXFxgbW9kZWxcXGAgYW5kIFxcYGFnZW50X2NvbmZpZ1xcYC4gSWYgc3BlY2lmeWluZyBcXGBtb2RlbFxcYCwgdXNlIFxcYGdlbmVyYXRpb25fY29uZmlnXFxgLmAsXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoJ2FnZW50JyBpbiBib2R5ICYmICdnZW5lcmF0aW9uX2NvbmZpZycgaW4gYm9keSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9ycy5HZW1pbmlOZXh0R2VuQVBJQ2xpZW50RXJyb3IoXG4gICAgICAgIGBJbnZhbGlkIHJlcXVlc3Q6IHNwZWNpZmllZCBcXGBhZ2VudFxcYCBhbmQgXFxgZ2VuZXJhdGlvbl9jb25maWdcXGAuIElmIHNwZWNpZnlpbmcgXFxgYWdlbnRcXGAsIHVzZSBcXGBhZ2VudF9jb25maWdcXGAuYCxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChwYXRoYC8ke2FwaV92ZXJzaW9ufS9pbnRlcmFjdGlvbnNgLCB7XG4gICAgICBib2R5LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIHN0cmVhbTogcGFyYW1zLnN0cmVhbSA/PyBmYWxzZSxcbiAgICB9KSBhcyBBUElQcm9taXNlPEludGVyYWN0aW9uPiB8IEFQSVByb21pc2U8U3RyZWFtPEludGVyYWN0aW9uU1NFRXZlbnQ+PjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGVzIHRoZSBpbnRlcmFjdGlvbiBieSBpZC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgaW50ZXJhY3Rpb24gPSBhd2FpdCBjbGllbnQuaW50ZXJhY3Rpb25zLmRlbGV0ZSgnaWQnKTtcbiAgICogYGBgXG4gICAqL1xuICBkZWxldGUoXG4gICAgaWQ6IHN0cmluZyxcbiAgICBwYXJhbXM6IEludGVyYWN0aW9uRGVsZXRlUGFyYW1zIHwgbnVsbCB8IHVuZGVmaW5lZCA9IHt9LFxuICAgIG9wdGlvbnM/OiBSZXF1ZXN0T3B0aW9ucyxcbiAgKTogQVBJUHJvbWlzZTx1bmtub3duPiB7XG4gICAgY29uc3QgeyBhcGlfdmVyc2lvbiA9IHRoaXMuX2NsaWVudC5hcGlWZXJzaW9uIH0gPSBwYXJhbXMgPz8ge307XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUocGF0aGAvJHthcGlfdmVyc2lvbn0vaW50ZXJhY3Rpb25zLyR7aWR9YCwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VscyBhbiBpbnRlcmFjdGlvbiBieSBpZC4gVGhpcyBvbmx5IGFwcGxpZXMgdG8gYmFja2dyb3VuZCBpbnRlcmFjdGlvbnMgdGhhdCBhcmUgc3RpbGwgcnVubmluZy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgaW50ZXJhY3Rpb24gPSBhd2FpdCBjbGllbnQuaW50ZXJhY3Rpb25zLmNhbmNlbCgnaWQnKTtcbiAgICogYGBgXG4gICAqL1xuICBjYW5jZWwoXG4gICAgaWQ6IHN0cmluZyxcbiAgICBwYXJhbXM6IEludGVyYWN0aW9uQ2FuY2VsUGFyYW1zIHwgbnVsbCB8IHVuZGVmaW5lZCA9IHt9LFxuICAgIG9wdGlvbnM/OiBSZXF1ZXN0T3B0aW9ucyxcbiAgKTogQVBJUHJvbWlzZTxJbnRlcmFjdGlvbj4ge1xuICAgIGNvbnN0IHsgYXBpX3ZlcnNpb24gPSB0aGlzLl9jbGllbnQuYXBpVmVyc2lvbiB9ID0gcGFyYW1zID8/IHt9O1xuICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChwYXRoYC8ke2FwaV92ZXJzaW9ufS9pbnRlcmFjdGlvbnMvJHtpZH0vY2FuY2VsYCwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBmdWxsIGRldGFpbHMgb2YgYSBzaW5nbGUgaW50ZXJhY3Rpb24gYmFzZWQgb24gaXRzIGBJbnRlcmFjdGlvbi5pZGAuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IGludGVyYWN0aW9uID0gYXdhaXQgY2xpZW50LmludGVyYWN0aW9ucy5nZXQoJ2lkJyk7XG4gICAqIGBgYFxuICAgKi9cbiAgZ2V0KFxuICAgIGlkOiBzdHJpbmcsXG4gICAgcGFyYW1zPzogSW50ZXJhY3Rpb25HZXRQYXJhbXNOb25TdHJlYW1pbmcsXG4gICAgb3B0aW9ucz86IFJlcXVlc3RPcHRpb25zLFxuICApOiBBUElQcm9taXNlPEludGVyYWN0aW9uPjtcbiAgZ2V0KFxuICAgIGlkOiBzdHJpbmcsXG4gICAgcGFyYW1zOiBJbnRlcmFjdGlvbkdldFBhcmFtc1N0cmVhbWluZyxcbiAgICBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFQSVByb21pc2U8U3RyZWFtPEludGVyYWN0aW9uU1NFRXZlbnQ+PjtcbiAgZ2V0KFxuICAgIGlkOiBzdHJpbmcsXG4gICAgcGFyYW1zPzogSW50ZXJhY3Rpb25HZXRQYXJhbXNCYXNlIHwgdW5kZWZpbmVkLFxuICAgIG9wdGlvbnM/OiBSZXF1ZXN0T3B0aW9ucyxcbiAgKTogQVBJUHJvbWlzZTxTdHJlYW08SW50ZXJhY3Rpb25TU0VFdmVudD4gfCBJbnRlcmFjdGlvbj47XG4gIGdldChcbiAgICBpZDogc3RyaW5nLFxuICAgIHBhcmFtczogSW50ZXJhY3Rpb25HZXRQYXJhbXMgfCB1bmRlZmluZWQgPSB7fSxcbiAgICBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMsXG4gICk6IEFQSVByb21pc2U8SW50ZXJhY3Rpb24+IHwgQVBJUHJvbWlzZTxTdHJlYW08SW50ZXJhY3Rpb25TU0VFdmVudD4+IHtcbiAgICBjb25zdCB7IGFwaV92ZXJzaW9uID0gdGhpcy5fY2xpZW50LmFwaVZlcnNpb24sIC4uLnF1ZXJ5IH0gPSBwYXJhbXMgPz8ge307XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQocGF0aGAvJHthcGlfdmVyc2lvbn0vaW50ZXJhY3Rpb25zLyR7aWR9YCwge1xuICAgICAgcXVlcnksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgc3RyZWFtOiBwYXJhbXM/LnN0cmVhbSA/PyBmYWxzZSxcbiAgICB9KSBhcyBBUElQcm9taXNlPEludGVyYWN0aW9uPiB8IEFQSVByb21pc2U8U3RyZWFtPEludGVyYWN0aW9uU1NFRXZlbnQ+PjtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIEludGVyYWN0aW9ucyBleHRlbmRzIEJhc2VJbnRlcmFjdGlvbnMge31cblxuLyoqXG4gKiBUaGUgY29uZmlndXJhdGlvbiBmb3IgYWxsb3dlZCB0b29scy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBbGxvd2VkVG9vbHMge1xuICAvKipcbiAgICogVGhlIG1vZGUgb2YgdGhlIHRvb2wgY2hvaWNlLlxuICAgKi9cbiAgbW9kZT86IFRvb2xDaG9pY2VUeXBlO1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZXMgb2YgdGhlIGFsbG93ZWQgdG9vbHMuXG4gICAqL1xuICB0b29scz86IEFycmF5PHN0cmluZz47XG59XG5cbi8qKlxuICogQ2l0YXRpb24gaW5mb3JtYXRpb24gZm9yIG1vZGVsLWdlbmVyYXRlZCBjb250ZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFubm90YXRpb24ge1xuICAvKipcbiAgICogRW5kIG9mIHRoZSBhdHRyaWJ1dGVkIHNlZ21lbnQsIGV4Y2x1c2l2ZS5cbiAgICovXG4gIGVuZF9pbmRleD86IG51bWJlcjtcblxuICAvKipcbiAgICogU291cmNlIGF0dHJpYnV0ZWQgZm9yIGEgcG9ydGlvbiBvZiB0aGUgdGV4dC4gQ291bGQgYmUgYSBVUkwsIHRpdGxlLCBvclxuICAgKiBvdGhlciBpZGVudGlmaWVyLlxuICAgKi9cbiAgc291cmNlPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTdGFydCBvZiBzZWdtZW50IG9mIHRoZSByZXNwb25zZSB0aGF0IGlzIGF0dHJpYnV0ZWQgdG8gdGhpcyBzb3VyY2UuXG4gICAqXG4gICAqIEluZGV4IGluZGljYXRlcyB0aGUgc3RhcnQgb2YgdGhlIHNlZ21lbnQsIG1lYXN1cmVkIGluIGJ5dGVzLlxuICAgKi9cbiAgc3RhcnRfaW5kZXg/OiBudW1iZXI7XG59XG5cbi8qKlxuICogQW4gYXVkaW8gY29udGVudCBibG9jay5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBdWRpb0NvbnRlbnQge1xuICB0eXBlOiAnYXVkaW8nO1xuXG4gIGRhdGE/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBtaW1lIHR5cGUgb2YgdGhlIGF1ZGlvLlxuICAgKi9cbiAgbWltZV90eXBlPzogQXVkaW9NaW1lVHlwZTtcblxuICB1cmk/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogVGhlIG1pbWUgdHlwZSBvZiB0aGUgYXVkaW8uXG4gKi9cbmV4cG9ydCB0eXBlIEF1ZGlvTWltZVR5cGUgPVxuICB8ICdhdWRpby93YXYnXG4gIHwgJ2F1ZGlvL21wMydcbiAgfCAnYXVkaW8vYWlmZidcbiAgfCAnYXVkaW8vYWFjJ1xuICB8ICdhdWRpby9vZ2cnXG4gIHwgJ2F1ZGlvL2ZsYWMnXG4gIHwgKHN0cmluZyAmIHt9KTtcblxuLyoqXG4gKiBUaGUgYXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIGNvZGUgZXhlY3V0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvZGVFeGVjdXRpb25DYWxsQXJndW1lbnRzIHtcbiAgLyoqXG4gICAqIFRoZSBjb2RlIHRvIGJlIGV4ZWN1dGVkLlxuICAgKi9cbiAgY29kZT86IHN0cmluZztcblxuICAvKipcbiAgICogUHJvZ3JhbW1pbmcgbGFuZ3VhZ2Ugb2YgdGhlIGBjb2RlYC5cbiAgICovXG4gIGxhbmd1YWdlPzogJ3B5dGhvbic7XG59XG5cbi8qKlxuICogQ29kZSBleGVjdXRpb24gY29udGVudC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb2RlRXhlY3V0aW9uQ2FsbENvbnRlbnQge1xuICB0eXBlOiAnY29kZV9leGVjdXRpb25fY2FsbCc7XG5cbiAgLyoqXG4gICAqIEEgdW5pcXVlIElEIGZvciB0aGlzIHNwZWNpZmljIHRvb2wgY2FsbC5cbiAgICovXG4gIGlkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgYXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIGNvZGUgZXhlY3V0aW9uLlxuICAgKi9cbiAgYXJndW1lbnRzPzogQ29kZUV4ZWN1dGlvbkNhbGxBcmd1bWVudHM7XG59XG5cbi8qKlxuICogQ29kZSBleGVjdXRpb24gcmVzdWx0IGNvbnRlbnQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29kZUV4ZWN1dGlvblJlc3VsdENvbnRlbnQge1xuICB0eXBlOiAnY29kZV9leGVjdXRpb25fcmVzdWx0JztcblxuICAvKipcbiAgICogSUQgdG8gbWF0Y2ggdGhlIElEIGZyb20gdGhlIGNvZGUgZXhlY3V0aW9uIGNhbGwgYmxvY2suXG4gICAqL1xuICBjYWxsX2lkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBjb2RlIGV4ZWN1dGlvbiByZXN1bHRlZCBpbiBhbiBlcnJvci5cbiAgICovXG4gIGlzX2Vycm9yPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIG91dHB1dCBvZiB0aGUgY29kZSBleGVjdXRpb24uXG4gICAqL1xuICByZXN1bHQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgc2lnbmF0dXJlIGhhc2ggZm9yIGJhY2tlbmQgdmFsaWRhdGlvbi5cbiAgICovXG4gIHNpZ25hdHVyZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb250ZW50RGVsdGEge1xuICBkZWx0YT86XG4gICAgfCBDb250ZW50RGVsdGEuVGV4dERlbHRhXG4gICAgfCBDb250ZW50RGVsdGEuSW1hZ2VEZWx0YVxuICAgIHwgQ29udGVudERlbHRhLkF1ZGlvRGVsdGFcbiAgICB8IENvbnRlbnREZWx0YS5Eb2N1bWVudERlbHRhXG4gICAgfCBDb250ZW50RGVsdGEuVmlkZW9EZWx0YVxuICAgIHwgQ29udGVudERlbHRhLlRob3VnaHRTdW1tYXJ5RGVsdGFcbiAgICB8IENvbnRlbnREZWx0YS5UaG91Z2h0U2lnbmF0dXJlRGVsdGFcbiAgICB8IENvbnRlbnREZWx0YS5GdW5jdGlvbkNhbGxEZWx0YVxuICAgIHwgQ29udGVudERlbHRhLkZ1bmN0aW9uUmVzdWx0RGVsdGFcbiAgICB8IENvbnRlbnREZWx0YS5Db2RlRXhlY3V0aW9uQ2FsbERlbHRhXG4gICAgfCBDb250ZW50RGVsdGEuQ29kZUV4ZWN1dGlvblJlc3VsdERlbHRhXG4gICAgfCBDb250ZW50RGVsdGEuVVJMQ29udGV4dENhbGxEZWx0YVxuICAgIHwgQ29udGVudERlbHRhLlVSTENvbnRleHRSZXN1bHREZWx0YVxuICAgIHwgQ29udGVudERlbHRhLkdvb2dsZVNlYXJjaENhbGxEZWx0YVxuICAgIHwgQ29udGVudERlbHRhLkdvb2dsZVNlYXJjaFJlc3VsdERlbHRhXG4gICAgfCBDb250ZW50RGVsdGEuTUNQU2VydmVyVG9vbENhbGxEZWx0YVxuICAgIHwgQ29udGVudERlbHRhLk1DUFNlcnZlclRvb2xSZXN1bHREZWx0YVxuICAgIHwgQ29udGVudERlbHRhLkZpbGVTZWFyY2hSZXN1bHREZWx0YTtcblxuICAvKipcbiAgICogVGhlIGV2ZW50X2lkIHRva2VuIHRvIGJlIHVzZWQgdG8gcmVzdW1lIHRoZSBpbnRlcmFjdGlvbiBzdHJlYW0sIGZyb21cbiAgICogdGhpcyBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkPzogc3RyaW5nO1xuXG4gIGV2ZW50X3R5cGU/OiAnY29udGVudC5kZWx0YSc7XG5cbiAgaW5kZXg/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ29udGVudERlbHRhIHtcbiAgZXhwb3J0IGludGVyZmFjZSBUZXh0RGVsdGEge1xuICAgIHR5cGU6ICd0ZXh0JztcblxuICAgIC8qKlxuICAgICAqIENpdGF0aW9uIGluZm9ybWF0aW9uIGZvciBtb2RlbC1nZW5lcmF0ZWQgY29udGVudC5cbiAgICAgKi9cbiAgICBhbm5vdGF0aW9ucz86IEFycmF5PEludGVyYWN0aW9uc0FQSS5Bbm5vdGF0aW9uPjtcblxuICAgIHRleHQ/OiBzdHJpbmc7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIEltYWdlRGVsdGEge1xuICAgIHR5cGU6ICdpbWFnZSc7XG5cbiAgICBkYXRhPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1pbWUgdHlwZSBvZiB0aGUgaW1hZ2UuXG4gICAgICovXG4gICAgbWltZV90eXBlPzogSW50ZXJhY3Rpb25zQVBJLkltYWdlTWltZVR5cGU7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgbWVkaWEuXG4gICAgICovXG4gICAgcmVzb2x1dGlvbj86ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCcgfCAndWx0cmFfaGlnaCc7XG5cbiAgICB1cmk/OiBzdHJpbmc7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIEF1ZGlvRGVsdGEge1xuICAgIHR5cGU6ICdhdWRpbyc7XG5cbiAgICBkYXRhPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1pbWUgdHlwZSBvZiB0aGUgYXVkaW8uXG4gICAgICovXG4gICAgbWltZV90eXBlPzogSW50ZXJhY3Rpb25zQVBJLkF1ZGlvTWltZVR5cGU7XG5cbiAgICB1cmk/OiBzdHJpbmc7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIERvY3VtZW50RGVsdGEge1xuICAgIHR5cGU6ICdkb2N1bWVudCc7XG5cbiAgICBkYXRhPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1pbWUgdHlwZSBvZiB0aGUgZG9jdW1lbnQuXG4gICAgICovXG4gICAgbWltZV90eXBlPzogSW50ZXJhY3Rpb25zQVBJLkRvY3VtZW50TWltZVR5cGU7XG5cbiAgICB1cmk/OiBzdHJpbmc7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFZpZGVvRGVsdGEge1xuICAgIHR5cGU6ICd2aWRlbyc7XG5cbiAgICBkYXRhPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1pbWUgdHlwZSBvZiB0aGUgdmlkZW8uXG4gICAgICovXG4gICAgbWltZV90eXBlPzogSW50ZXJhY3Rpb25zQVBJLlZpZGVvTWltZVR5cGU7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgbWVkaWEuXG4gICAgICovXG4gICAgcmVzb2x1dGlvbj86ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCcgfCAndWx0cmFfaGlnaCc7XG5cbiAgICB1cmk/OiBzdHJpbmc7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFRob3VnaHRTdW1tYXJ5RGVsdGEge1xuICAgIHR5cGU6ICd0aG91Z2h0X3N1bW1hcnknO1xuXG4gICAgLyoqXG4gICAgICogQSB0ZXh0IGNvbnRlbnQgYmxvY2suXG4gICAgICovXG4gICAgY29udGVudD86IEludGVyYWN0aW9uc0FQSS5UZXh0Q29udGVudCB8IEludGVyYWN0aW9uc0FQSS5JbWFnZUNvbnRlbnQ7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFRob3VnaHRTaWduYXR1cmVEZWx0YSB7XG4gICAgdHlwZTogJ3Rob3VnaHRfc2lnbmF0dXJlJztcblxuICAgIC8qKlxuICAgICAqIFNpZ25hdHVyZSB0byBtYXRjaCB0aGUgYmFja2VuZCBzb3VyY2UgdG8gYmUgcGFydCBvZiB0aGUgZ2VuZXJhdGlvbi5cbiAgICAgKi9cbiAgICBzaWduYXR1cmU/OiBzdHJpbmc7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uQ2FsbERlbHRhIHtcbiAgICB0eXBlOiAnZnVuY3Rpb25fY2FsbCc7XG5cbiAgICAvKipcbiAgICAgKiBBIHVuaXF1ZSBJRCBmb3IgdGhpcyBzcGVjaWZpYyB0b29sIGNhbGwuXG4gICAgICovXG4gICAgaWQ/OiBzdHJpbmc7XG5cbiAgICBhcmd1bWVudHM/OiB7IFtrZXk6IHN0cmluZ106IHVua25vd24gfTtcblxuICAgIG5hbWU/OiBzdHJpbmc7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uUmVzdWx0RGVsdGEge1xuICAgIHR5cGU6ICdmdW5jdGlvbl9yZXN1bHQnO1xuXG4gICAgLyoqXG4gICAgICogSUQgdG8gbWF0Y2ggdGhlIElEIGZyb20gdGhlIGZ1bmN0aW9uIGNhbGwgYmxvY2suXG4gICAgICovXG4gICAgY2FsbF9pZD86IHN0cmluZztcblxuICAgIGlzX2Vycm9yPzogYm9vbGVhbjtcblxuICAgIG5hbWU/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUb29sIGNhbGwgcmVzdWx0IGRlbHRhLlxuICAgICAqL1xuICAgIHJlc3VsdD86IEZ1bmN0aW9uUmVzdWx0RGVsdGEuSXRlbXMgfCBzdHJpbmc7XG4gIH1cblxuICBleHBvcnQgbmFtZXNwYWNlIEZ1bmN0aW9uUmVzdWx0RGVsdGEge1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgSXRlbXMge1xuICAgICAgaXRlbXM/OiBBcnJheTxzdHJpbmcgfCBJbnRlcmFjdGlvbnNBUEkuSW1hZ2VDb250ZW50IHwgdW5rbm93bj47XG4gICAgfVxuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBDb2RlRXhlY3V0aW9uQ2FsbERlbHRhIHtcbiAgICB0eXBlOiAnY29kZV9leGVjdXRpb25fY2FsbCc7XG5cbiAgICAvKipcbiAgICAgKiBBIHVuaXF1ZSBJRCBmb3IgdGhpcyBzcGVjaWZpYyB0b29sIGNhbGwuXG4gICAgICovXG4gICAgaWQ/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIGNvZGUgZXhlY3V0aW9uLlxuICAgICAqL1xuICAgIGFyZ3VtZW50cz86IEludGVyYWN0aW9uc0FQSS5Db2RlRXhlY3V0aW9uQ2FsbEFyZ3VtZW50cztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgQ29kZUV4ZWN1dGlvblJlc3VsdERlbHRhIHtcbiAgICB0eXBlOiAnY29kZV9leGVjdXRpb25fcmVzdWx0JztcblxuICAgIC8qKlxuICAgICAqIElEIHRvIG1hdGNoIHRoZSBJRCBmcm9tIHRoZSBmdW5jdGlvbiBjYWxsIGJsb2NrLlxuICAgICAqL1xuICAgIGNhbGxfaWQ/OiBzdHJpbmc7XG5cbiAgICBpc19lcnJvcj86IGJvb2xlYW47XG5cbiAgICByZXN1bHQ/OiBzdHJpbmc7XG5cbiAgICBzaWduYXR1cmU/OiBzdHJpbmc7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFVSTENvbnRleHRDYWxsRGVsdGEge1xuICAgIHR5cGU6ICd1cmxfY29udGV4dF9jYWxsJztcblxuICAgIC8qKlxuICAgICAqIEEgdW5pcXVlIElEIGZvciB0aGlzIHNwZWNpZmljIHRvb2wgY2FsbC5cbiAgICAgKi9cbiAgICBpZD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcmd1bWVudHMgdG8gcGFzcyB0byB0aGUgVVJMIGNvbnRleHQuXG4gICAgICovXG4gICAgYXJndW1lbnRzPzogSW50ZXJhY3Rpb25zQVBJLlVSTENvbnRleHRDYWxsQXJndW1lbnRzO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBVUkxDb250ZXh0UmVzdWx0RGVsdGEge1xuICAgIHR5cGU6ICd1cmxfY29udGV4dF9yZXN1bHQnO1xuXG4gICAgLyoqXG4gICAgICogSUQgdG8gbWF0Y2ggdGhlIElEIGZyb20gdGhlIGZ1bmN0aW9uIGNhbGwgYmxvY2suXG4gICAgICovXG4gICAgY2FsbF9pZD86IHN0cmluZztcblxuICAgIGlzX2Vycm9yPzogYm9vbGVhbjtcblxuICAgIHJlc3VsdD86IEFycmF5PEludGVyYWN0aW9uc0FQSS5VUkxDb250ZXh0UmVzdWx0PjtcblxuICAgIHNpZ25hdHVyZT86IHN0cmluZztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgR29vZ2xlU2VhcmNoQ2FsbERlbHRhIHtcbiAgICB0eXBlOiAnZ29vZ2xlX3NlYXJjaF9jYWxsJztcblxuICAgIC8qKlxuICAgICAqIEEgdW5pcXVlIElEIGZvciB0aGlzIHNwZWNpZmljIHRvb2wgY2FsbC5cbiAgICAgKi9cbiAgICBpZD86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcmd1bWVudHMgdG8gcGFzcyB0byBHb29nbGUgU2VhcmNoLlxuICAgICAqL1xuICAgIGFyZ3VtZW50cz86IEludGVyYWN0aW9uc0FQSS5Hb29nbGVTZWFyY2hDYWxsQXJndW1lbnRzO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBHb29nbGVTZWFyY2hSZXN1bHREZWx0YSB7XG4gICAgdHlwZTogJ2dvb2dsZV9zZWFyY2hfcmVzdWx0JztcblxuICAgIC8qKlxuICAgICAqIElEIHRvIG1hdGNoIHRoZSBJRCBmcm9tIHRoZSBmdW5jdGlvbiBjYWxsIGJsb2NrLlxuICAgICAqL1xuICAgIGNhbGxfaWQ/OiBzdHJpbmc7XG5cbiAgICBpc19lcnJvcj86IGJvb2xlYW47XG5cbiAgICByZXN1bHQ/OiBBcnJheTxJbnRlcmFjdGlvbnNBUEkuR29vZ2xlU2VhcmNoUmVzdWx0PjtcblxuICAgIHNpZ25hdHVyZT86IHN0cmluZztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgTUNQU2VydmVyVG9vbENhbGxEZWx0YSB7XG4gICAgdHlwZTogJ21jcF9zZXJ2ZXJfdG9vbF9jYWxsJztcblxuICAgIC8qKlxuICAgICAqIEEgdW5pcXVlIElEIGZvciB0aGlzIHNwZWNpZmljIHRvb2wgY2FsbC5cbiAgICAgKi9cbiAgICBpZD86IHN0cmluZztcblxuICAgIGFyZ3VtZW50cz86IHsgW2tleTogc3RyaW5nXTogdW5rbm93biB9O1xuXG4gICAgbmFtZT86IHN0cmluZztcblxuICAgIHNlcnZlcl9uYW1lPzogc3RyaW5nO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBNQ1BTZXJ2ZXJUb29sUmVzdWx0RGVsdGEge1xuICAgIHR5cGU6ICdtY3Bfc2VydmVyX3Rvb2xfcmVzdWx0JztcblxuICAgIC8qKlxuICAgICAqIElEIHRvIG1hdGNoIHRoZSBJRCBmcm9tIHRoZSBmdW5jdGlvbiBjYWxsIGJsb2NrLlxuICAgICAqL1xuICAgIGNhbGxfaWQ/OiBzdHJpbmc7XG5cbiAgICBuYW1lPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVG9vbCBjYWxsIHJlc3VsdCBkZWx0YS5cbiAgICAgKi9cbiAgICByZXN1bHQ/OiBNQ1BTZXJ2ZXJUb29sUmVzdWx0RGVsdGEuSXRlbXMgfCBzdHJpbmc7XG5cbiAgICBzZXJ2ZXJfbmFtZT86IHN0cmluZztcbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgTUNQU2VydmVyVG9vbFJlc3VsdERlbHRhIHtcbiAgICBleHBvcnQgaW50ZXJmYWNlIEl0ZW1zIHtcbiAgICAgIGl0ZW1zPzogQXJyYXk8c3RyaW5nIHwgSW50ZXJhY3Rpb25zQVBJLkltYWdlQ29udGVudCB8IHVua25vd24+O1xuICAgIH1cbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgRmlsZVNlYXJjaFJlc3VsdERlbHRhIHtcbiAgICB0eXBlOiAnZmlsZV9zZWFyY2hfcmVzdWx0JztcblxuICAgIHJlc3VsdD86IEFycmF5PEZpbGVTZWFyY2hSZXN1bHREZWx0YS5SZXN1bHQ+O1xuICB9XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBGaWxlU2VhcmNoUmVzdWx0RGVsdGEge1xuICAgIC8qKlxuICAgICAqIFRoZSByZXN1bHQgb2YgdGhlIEZpbGUgU2VhcmNoLlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgUmVzdWx0IHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIG5hbWUgb2YgdGhlIGZpbGUgc2VhcmNoIHN0b3JlLlxuICAgICAgICovXG4gICAgICBmaWxlX3NlYXJjaF9zdG9yZT86IHN0cmluZztcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgdGV4dCBvZiB0aGUgc2VhcmNoIHJlc3VsdC5cbiAgICAgICAqL1xuICAgICAgdGV4dD86IHN0cmluZztcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgdGl0bGUgb2YgdGhlIHNlYXJjaCByZXN1bHQuXG4gICAgICAgKi9cbiAgICAgIHRpdGxlPzogc3RyaW5nO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbnRlbnRTdGFydCB7XG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgcmVzcG9uc2UuXG4gICAqL1xuICBjb250ZW50PzpcbiAgICB8IFRleHRDb250ZW50XG4gICAgfCBJbWFnZUNvbnRlbnRcbiAgICB8IEF1ZGlvQ29udGVudFxuICAgIHwgRG9jdW1lbnRDb250ZW50XG4gICAgfCBWaWRlb0NvbnRlbnRcbiAgICB8IFRob3VnaHRDb250ZW50XG4gICAgfCBGdW5jdGlvbkNhbGxDb250ZW50XG4gICAgfCBGdW5jdGlvblJlc3VsdENvbnRlbnRcbiAgICB8IENvZGVFeGVjdXRpb25DYWxsQ29udGVudFxuICAgIHwgQ29kZUV4ZWN1dGlvblJlc3VsdENvbnRlbnRcbiAgICB8IFVSTENvbnRleHRDYWxsQ29udGVudFxuICAgIHwgVVJMQ29udGV4dFJlc3VsdENvbnRlbnRcbiAgICB8IEdvb2dsZVNlYXJjaENhbGxDb250ZW50XG4gICAgfCBHb29nbGVTZWFyY2hSZXN1bHRDb250ZW50XG4gICAgfCBNQ1BTZXJ2ZXJUb29sQ2FsbENvbnRlbnRcbiAgICB8IE1DUFNlcnZlclRvb2xSZXN1bHRDb250ZW50XG4gICAgfCBGaWxlU2VhcmNoUmVzdWx0Q29udGVudDtcblxuICAvKipcbiAgICogVGhlIGV2ZW50X2lkIHRva2VuIHRvIGJlIHVzZWQgdG8gcmVzdW1lIHRoZSBpbnRlcmFjdGlvbiBzdHJlYW0sIGZyb21cbiAgICogdGhpcyBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkPzogc3RyaW5nO1xuXG4gIGV2ZW50X3R5cGU/OiAnY29udGVudC5zdGFydCc7XG5cbiAgaW5kZXg/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGVudFN0b3Age1xuICAvKipcbiAgICogVGhlIGV2ZW50X2lkIHRva2VuIHRvIGJlIHVzZWQgdG8gcmVzdW1lIHRoZSBpbnRlcmFjdGlvbiBzdHJlYW0sIGZyb21cbiAgICogdGhpcyBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkPzogc3RyaW5nO1xuXG4gIGV2ZW50X3R5cGU/OiAnY29udGVudC5zdG9wJztcblxuICBpbmRleD86IG51bWJlcjtcbn1cblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIGZvciB0aGUgRGVlcCBSZXNlYXJjaCBhZ2VudC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZWVwUmVzZWFyY2hBZ2VudENvbmZpZyB7XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGluY2x1ZGUgdGhvdWdodCBzdW1tYXJpZXMgaW4gdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgdGhpbmtpbmdfc3VtbWFyaWVzPzogJ2F1dG8nIHwgJ25vbmUnO1xuXG4gIHR5cGU/OiAnZGVlcC1yZXNlYXJjaCc7XG59XG5cbi8qKlxuICogQSBkb2N1bWVudCBjb250ZW50IGJsb2NrLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIERvY3VtZW50Q29udGVudCB7XG4gIHR5cGU6ICdkb2N1bWVudCc7XG5cbiAgZGF0YT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG1pbWUgdHlwZSBvZiB0aGUgZG9jdW1lbnQuXG4gICAqL1xuICBtaW1lX3R5cGU/OiBEb2N1bWVudE1pbWVUeXBlO1xuXG4gIHVyaT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBUaGUgbWltZSB0eXBlIG9mIHRoZSBkb2N1bWVudC5cbiAqL1xuZXhwb3J0IHR5cGUgRG9jdW1lbnRNaW1lVHlwZSA9IChzdHJpbmcgJiB7fSkgfCAnYXBwbGljYXRpb24vcGRmJztcblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIGZvciBkeW5hbWljIGFnZW50cy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEeW5hbWljQWdlbnRDb25maWcge1xuICB0eXBlPzogJ2R5bmFtaWMnO1xuXG4gIFtrOiBzdHJpbmddOiB1bmtub3duO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yRXZlbnQge1xuICAvKipcbiAgICogRXJyb3IgbWVzc2FnZSBmcm9tIGFuIGludGVyYWN0aW9uLlxuICAgKi9cbiAgZXJyb3I/OiBFcnJvckV2ZW50LkVycm9yO1xuXG4gIC8qKlxuICAgKiBUaGUgZXZlbnRfaWQgdG9rZW4gdG8gYmUgdXNlZCB0byByZXN1bWUgdGhlIGludGVyYWN0aW9uIHN0cmVhbSwgZnJvbVxuICAgKiB0aGlzIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ/OiBzdHJpbmc7XG5cbiAgZXZlbnRfdHlwZT86ICdlcnJvcic7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgRXJyb3JFdmVudCB7XG4gIC8qKlxuICAgKiBFcnJvciBtZXNzYWdlIGZyb20gYW4gaW50ZXJhY3Rpb24uXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEVycm9yIHtcbiAgICAvKipcbiAgICAgKiBBIFVSSSB0aGF0IGlkZW50aWZpZXMgdGhlIGVycm9yIHR5cGUuXG4gICAgICovXG4gICAgY29kZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEEgaHVtYW4tcmVhZGFibGUgZXJyb3IgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICB9XG59XG5cbi8qKlxuICogRmlsZSBTZWFyY2ggcmVzdWx0IGNvbnRlbnQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZVNlYXJjaFJlc3VsdENvbnRlbnQge1xuICB0eXBlOiAnZmlsZV9zZWFyY2hfcmVzdWx0JztcblxuICAvKipcbiAgICogVGhlIHJlc3VsdHMgb2YgdGhlIEZpbGUgU2VhcmNoLlxuICAgKi9cbiAgcmVzdWx0PzogQXJyYXk8RmlsZVNlYXJjaFJlc3VsdENvbnRlbnQuUmVzdWx0Pjtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBGaWxlU2VhcmNoUmVzdWx0Q29udGVudCB7XG4gIC8qKlxuICAgKiBUaGUgcmVzdWx0IG9mIHRoZSBGaWxlIFNlYXJjaC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgUmVzdWx0IHtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZmlsZSBzZWFyY2ggc3RvcmUuXG4gICAgICovXG4gICAgZmlsZV9zZWFyY2hfc3RvcmU/OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dCBvZiB0aGUgc2VhcmNoIHJlc3VsdC5cbiAgICAgKi9cbiAgICB0ZXh0Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRpdGxlIG9mIHRoZSBzZWFyY2ggcmVzdWx0LlxuICAgICAqL1xuICAgIHRpdGxlPzogc3RyaW5nO1xuICB9XG59XG5cbi8qKlxuICogQSB0b29sIHRoYXQgY2FuIGJlIHVzZWQgYnkgdGhlIG1vZGVsLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uIHtcbiAgdHlwZTogJ2Z1bmN0aW9uJztcblxuICAvKipcbiAgICogQSBkZXNjcmlwdGlvbiBvZiB0aGUgZnVuY3Rpb24uXG4gICAqL1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uLlxuICAgKi9cbiAgbmFtZT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIEpTT04gU2NoZW1hIGZvciB0aGUgZnVuY3Rpb24ncyBwYXJhbWV0ZXJzLlxuICAgKi9cbiAgcGFyYW1ldGVycz86IHVua25vd247XG59XG5cbi8qKlxuICogQSBmdW5jdGlvbiB0b29sIGNhbGwgY29udGVudCBibG9jay5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvbkNhbGxDb250ZW50IHtcbiAgLyoqXG4gICAqIEEgdW5pcXVlIElEIGZvciB0aGlzIHNwZWNpZmljIHRvb2wgY2FsbC5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBhcmd1bWVudHMgdG8gcGFzcyB0byB0aGUgZnVuY3Rpb24uXG4gICAqL1xuICBhcmd1bWVudHM6IHsgW2tleTogc3RyaW5nXTogdW5rbm93biB9O1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgdG9vbCB0byBjYWxsLlxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuXG4gIHR5cGU6ICdmdW5jdGlvbl9jYWxsJztcbn1cblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRvb2wgcmVzdWx0IGNvbnRlbnQgYmxvY2suXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRnVuY3Rpb25SZXN1bHRDb250ZW50IHtcbiAgLyoqXG4gICAqIElEIHRvIG1hdGNoIHRoZSBJRCBmcm9tIHRoZSBmdW5jdGlvbiBjYWxsIGJsb2NrLlxuICAgKi9cbiAgY2FsbF9pZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcmVzdWx0IG9mIHRoZSB0b29sIGNhbGwuXG4gICAqL1xuICByZXN1bHQ6IEZ1bmN0aW9uUmVzdWx0Q29udGVudC5JdGVtcyB8IHVua25vd24gfCBzdHJpbmc7XG5cbiAgdHlwZTogJ2Z1bmN0aW9uX3Jlc3VsdCc7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIHRvb2wgY2FsbCByZXN1bHRlZCBpbiBhbiBlcnJvci5cbiAgICovXG4gIGlzX2Vycm9yPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIHRvb2wgdGhhdCB3YXMgY2FsbGVkLlxuICAgKi9cbiAgbmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBGdW5jdGlvblJlc3VsdENvbnRlbnQge1xuICBleHBvcnQgaW50ZXJmYWNlIEl0ZW1zIHtcbiAgICBpdGVtcz86IEFycmF5PHN0cmluZyB8IEludGVyYWN0aW9uc0FQSS5JbWFnZUNvbnRlbnQgfCB1bmtub3duPjtcbiAgfVxufVxuXG4vKipcbiAqIENvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyBmb3IgbW9kZWwgaW50ZXJhY3Rpb25zLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdlbmVyYXRpb25Db25maWcge1xuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHRva2VucyB0byBpbmNsdWRlIGluIHRoZSByZXNwb25zZS5cbiAgICovXG4gIG1heF9vdXRwdXRfdG9rZW5zPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBTZWVkIHVzZWQgaW4gZGVjb2RpbmcgZm9yIHJlcHJvZHVjaWJpbGl0eS5cbiAgICovXG4gIHNlZWQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIHNwZWVjaCBpbnRlcmFjdGlvbi5cbiAgICovXG4gIHNwZWVjaF9jb25maWc/OiBBcnJheTxTcGVlY2hDb25maWc+O1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgY2hhcmFjdGVyIHNlcXVlbmNlcyB0aGF0IHdpbGwgc3RvcCBvdXRwdXQgaW50ZXJhY3Rpb24uXG4gICAqL1xuICBzdG9wX3NlcXVlbmNlcz86IEFycmF5PHN0cmluZz47XG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIHRoZSByYW5kb21uZXNzIG9mIHRoZSBvdXRwdXQuXG4gICAqL1xuICB0ZW1wZXJhdHVyZT86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGxldmVsIG9mIHRob3VnaHQgdG9rZW5zIHRoYXQgdGhlIG1vZGVsIHNob3VsZCBnZW5lcmF0ZS5cbiAgICovXG4gIHRoaW5raW5nX2xldmVsPzogVGhpbmtpbmdMZXZlbDtcblxuICAvKipcbiAgICogV2hldGhlciB0byBpbmNsdWRlIHRob3VnaHQgc3VtbWFyaWVzIGluIHRoZSByZXNwb25zZS5cbiAgICovXG4gIHRoaW5raW5nX3N1bW1hcmllcz86ICdhdXRvJyB8ICdub25lJztcblxuICAvKipcbiAgICogVGhlIHRvb2wgY2hvaWNlIGZvciB0aGUgaW50ZXJhY3Rpb24uXG4gICAqL1xuICB0b29sX2Nob2ljZT86IFRvb2xDaG9pY2U7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIGN1bXVsYXRpdmUgcHJvYmFiaWxpdHkgb2YgdG9rZW5zIHRvIGNvbnNpZGVyIHdoZW4gc2FtcGxpbmcuXG4gICAqL1xuICB0b3BfcD86IG51bWJlcjtcbn1cblxuLyoqXG4gKiBUaGUgYXJndW1lbnRzIHRvIHBhc3MgdG8gR29vZ2xlIFNlYXJjaC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHb29nbGVTZWFyY2hDYWxsQXJndW1lbnRzIHtcbiAgLyoqXG4gICAqIFdlYiBzZWFyY2ggcXVlcmllcyBmb3IgdGhlIGZvbGxvd2luZy11cCB3ZWIgc2VhcmNoLlxuICAgKi9cbiAgcXVlcmllcz86IEFycmF5PHN0cmluZz47XG59XG5cbi8qKlxuICogR29vZ2xlIFNlYXJjaCBjb250ZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdvb2dsZVNlYXJjaENhbGxDb250ZW50IHtcbiAgdHlwZTogJ2dvb2dsZV9zZWFyY2hfY2FsbCc7XG5cbiAgLyoqXG4gICAqIEEgdW5pcXVlIElEIGZvciB0aGlzIHNwZWNpZmljIHRvb2wgY2FsbC5cbiAgICovXG4gIGlkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgYXJndW1lbnRzIHRvIHBhc3MgdG8gR29vZ2xlIFNlYXJjaC5cbiAgICovXG4gIGFyZ3VtZW50cz86IEdvb2dsZVNlYXJjaENhbGxBcmd1bWVudHM7XG59XG5cbi8qKlxuICogVGhlIHJlc3VsdCBvZiB0aGUgR29vZ2xlIFNlYXJjaC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHb29nbGVTZWFyY2hSZXN1bHQge1xuICAvKipcbiAgICogV2ViIGNvbnRlbnQgc25pcHBldCB0aGF0IGNhbiBiZSBlbWJlZGRlZCBpbiBhIHdlYiBwYWdlIG9yIGFuIGFwcCB3ZWJ2aWV3LlxuICAgKi9cbiAgcmVuZGVyZWRfY29udGVudD86IHN0cmluZztcblxuICAvKipcbiAgICogVGl0bGUgb2YgdGhlIHNlYXJjaCByZXN1bHQuXG4gICAqL1xuICB0aXRsZT86IHN0cmluZztcblxuICAvKipcbiAgICogVVJJIHJlZmVyZW5jZSBvZiB0aGUgc2VhcmNoIHJlc3VsdC5cbiAgICovXG4gIHVybD86IHN0cmluZztcbn1cblxuLyoqXG4gKiBHb29nbGUgU2VhcmNoIHJlc3VsdCBjb250ZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdvb2dsZVNlYXJjaFJlc3VsdENvbnRlbnQge1xuICB0eXBlOiAnZ29vZ2xlX3NlYXJjaF9yZXN1bHQnO1xuXG4gIC8qKlxuICAgKiBJRCB0byBtYXRjaCB0aGUgSUQgZnJvbSB0aGUgZ29vZ2xlIHNlYXJjaCBjYWxsIGJsb2NrLlxuICAgKi9cbiAgY2FsbF9pZD86IHN0cmluZztcblxuICAvKipcbiAgICogV2hldGhlciB0aGUgR29vZ2xlIFNlYXJjaCByZXN1bHRlZCBpbiBhbiBlcnJvci5cbiAgICovXG4gIGlzX2Vycm9yPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIHJlc3VsdHMgb2YgdGhlIEdvb2dsZSBTZWFyY2guXG4gICAqL1xuICByZXN1bHQ/OiBBcnJheTxHb29nbGVTZWFyY2hSZXN1bHQ+O1xuXG4gIC8qKlxuICAgKiBUaGUgc2lnbmF0dXJlIG9mIHRoZSBHb29nbGUgU2VhcmNoIHJlc3VsdC5cbiAgICovXG4gIHNpZ25hdHVyZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBBbiBpbWFnZSBjb250ZW50IGJsb2NrLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEltYWdlQ29udGVudCB7XG4gIHR5cGU6ICdpbWFnZSc7XG5cbiAgZGF0YT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG1pbWUgdHlwZSBvZiB0aGUgaW1hZ2UuXG4gICAqL1xuICBtaW1lX3R5cGU/OiBJbWFnZU1pbWVUeXBlO1xuXG4gIC8qKlxuICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgbWVkaWEuXG4gICAqL1xuICByZXNvbHV0aW9uPzogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJyB8ICd1bHRyYV9oaWdoJztcblxuICB1cmk/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogVGhlIG1pbWUgdHlwZSBvZiB0aGUgaW1hZ2UuXG4gKi9cbmV4cG9ydCB0eXBlIEltYWdlTWltZVR5cGUgPVxuICB8ICdpbWFnZS9wbmcnXG4gIHwgJ2ltYWdlL2pwZWcnXG4gIHwgJ2ltYWdlL3dlYnAnXG4gIHwgJ2ltYWdlL2hlaWMnXG4gIHwgJ2ltYWdlL2hlaWYnXG4gIHwgKHN0cmluZyAmIHt9KTtcblxuLyoqXG4gKiBUaGUgSW50ZXJhY3Rpb24gcmVzb3VyY2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW50ZXJhY3Rpb24ge1xuICAvKipcbiAgICogT3V0cHV0IG9ubHkuIEEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBpbnRlcmFjdGlvbiBjb21wbGV0aW9uLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogT3V0cHV0IG9ubHkuIFRoZSBzdGF0dXMgb2YgdGhlIGludGVyYWN0aW9uLlxuICAgKi9cbiAgc3RhdHVzOiAnaW5fcHJvZ3Jlc3MnIHwgJ3JlcXVpcmVzX2FjdGlvbicgfCAnY29tcGxldGVkJyB8ICdmYWlsZWQnIHwgJ2NhbmNlbGxlZCc7XG5cbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBgQWdlbnRgIHVzZWQgZm9yIGdlbmVyYXRpbmcgdGhlIGludGVyYWN0aW9uLlxuICAgKi9cbiAgYWdlbnQ/OiAoc3RyaW5nICYge30pIHwgJ2RlZXAtcmVzZWFyY2gtcHJvLXByZXZpZXctMTItMjAyNSc7XG5cbiAgLyoqXG4gICAqIE91dHB1dCBvbmx5LiBUaGUgdGltZSBhdCB3aGljaCB0aGUgcmVzcG9uc2Ugd2FzIGNyZWF0ZWQgaW4gSVNPIDg2MDEgZm9ybWF0XG4gICAqIChZWVlZLU1NLUREVGhoOm1tOnNzWikuXG4gICAqL1xuICBjcmVhdGVkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgYE1vZGVsYCB1c2VkIGZvciBnZW5lcmF0aW5nIHRoZSBpbnRlcmFjdGlvbi5cbiAgICovXG4gIG1vZGVsPzogTW9kZWw7XG5cbiAgLyoqXG4gICAqIE91dHB1dCBvbmx5LiBUaGUgb2JqZWN0IHR5cGUgb2YgdGhlIGludGVyYWN0aW9uLiBBbHdheXMgc2V0IHRvIGBpbnRlcmFjdGlvbmAuXG4gICAqL1xuICBvYmplY3Q/OiAnaW50ZXJhY3Rpb24nO1xuXG4gIC8qKlxuICAgKiBPdXRwdXQgb25seS4gUmVzcG9uc2VzIGZyb20gdGhlIG1vZGVsLlxuICAgKi9cbiAgb3V0cHV0cz86IEFycmF5PFxuICAgIHwgVGV4dENvbnRlbnRcbiAgICB8IEltYWdlQ29udGVudFxuICAgIHwgQXVkaW9Db250ZW50XG4gICAgfCBEb2N1bWVudENvbnRlbnRcbiAgICB8IFZpZGVvQ29udGVudFxuICAgIHwgVGhvdWdodENvbnRlbnRcbiAgICB8IEZ1bmN0aW9uQ2FsbENvbnRlbnRcbiAgICB8IEZ1bmN0aW9uUmVzdWx0Q29udGVudFxuICAgIHwgQ29kZUV4ZWN1dGlvbkNhbGxDb250ZW50XG4gICAgfCBDb2RlRXhlY3V0aW9uUmVzdWx0Q29udGVudFxuICAgIHwgVVJMQ29udGV4dENhbGxDb250ZW50XG4gICAgfCBVUkxDb250ZXh0UmVzdWx0Q29udGVudFxuICAgIHwgR29vZ2xlU2VhcmNoQ2FsbENvbnRlbnRcbiAgICB8IEdvb2dsZVNlYXJjaFJlc3VsdENvbnRlbnRcbiAgICB8IE1DUFNlcnZlclRvb2xDYWxsQ29udGVudFxuICAgIHwgTUNQU2VydmVyVG9vbFJlc3VsdENvbnRlbnRcbiAgICB8IEZpbGVTZWFyY2hSZXN1bHRDb250ZW50XG4gID47XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgcHJldmlvdXMgaW50ZXJhY3Rpb24sIGlmIGFueS5cbiAgICovXG4gIHByZXZpb3VzX2ludGVyYWN0aW9uX2lkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBPdXRwdXQgb25seS4gVGhlIHJvbGUgb2YgdGhlIGludGVyYWN0aW9uLlxuICAgKi9cbiAgcm9sZT86IHN0cmluZztcblxuICAvKipcbiAgICogT3V0cHV0IG9ubHkuIFRoZSB0aW1lIGF0IHdoaWNoIHRoZSByZXNwb25zZSB3YXMgbGFzdCB1cGRhdGVkIGluIElTTyA4NjAxIGZvcm1hdFxuICAgKiAoWVlZWS1NTS1ERFRoaDptbTpzc1opLlxuICAgKi9cbiAgdXBkYXRlZD86IHN0cmluZztcblxuICAvKipcbiAgICogT3V0cHV0IG9ubHkuIFN0YXRpc3RpY3Mgb24gdGhlIGludGVyYWN0aW9uIHJlcXVlc3QncyB0b2tlbiB1c2FnZS5cbiAgICovXG4gIHVzYWdlPzogVXNhZ2U7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW50ZXJhY3Rpb25FdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgZXZlbnRfaWQgdG9rZW4gdG8gYmUgdXNlZCB0byByZXN1bWUgdGhlIGludGVyYWN0aW9uIHN0cmVhbSwgZnJvbVxuICAgKiB0aGlzIGV2ZW50LlxuICAgKi9cbiAgZXZlbnRfaWQ/OiBzdHJpbmc7XG5cbiAgZXZlbnRfdHlwZT86ICdpbnRlcmFjdGlvbi5zdGFydCcgfCAnaW50ZXJhY3Rpb24uY29tcGxldGUnO1xuXG4gIC8qKlxuICAgKiBUaGUgSW50ZXJhY3Rpb24gcmVzb3VyY2UuXG4gICAqL1xuICBpbnRlcmFjdGlvbj86IEludGVyYWN0aW9uO1xufVxuXG5leHBvcnQgdHlwZSBJbnRlcmFjdGlvblNTRUV2ZW50ID1cbiAgfCBJbnRlcmFjdGlvbkV2ZW50XG4gIHwgSW50ZXJhY3Rpb25TdGF0dXNVcGRhdGVcbiAgfCBDb250ZW50U3RhcnRcbiAgfCBDb250ZW50RGVsdGFcbiAgfCBDb250ZW50U3RvcFxuICB8IEVycm9yRXZlbnQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW50ZXJhY3Rpb25TdGF0dXNVcGRhdGUge1xuICAvKipcbiAgICogVGhlIGV2ZW50X2lkIHRva2VuIHRvIGJlIHVzZWQgdG8gcmVzdW1lIHRoZSBpbnRlcmFjdGlvbiBzdHJlYW0sIGZyb21cbiAgICogdGhpcyBldmVudC5cbiAgICovXG4gIGV2ZW50X2lkPzogc3RyaW5nO1xuXG4gIGV2ZW50X3R5cGU/OiAnaW50ZXJhY3Rpb24uc3RhdHVzX3VwZGF0ZSc7XG5cbiAgaW50ZXJhY3Rpb25faWQ/OiBzdHJpbmc7XG5cbiAgc3RhdHVzPzogJ2luX3Byb2dyZXNzJyB8ICdyZXF1aXJlc19hY3Rpb24nIHwgJ2NvbXBsZXRlZCcgfCAnZmFpbGVkJyB8ICdjYW5jZWxsZWQnO1xufVxuXG4vKipcbiAqIE1DUFNlcnZlciB0b29sIGNhbGwgY29udGVudC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNQ1BTZXJ2ZXJUb29sQ2FsbENvbnRlbnQge1xuICAvKipcbiAgICogQSB1bmlxdWUgSUQgZm9yIHRoaXMgc3BlY2lmaWMgdG9vbCBjYWxsLlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIEpTT04gb2JqZWN0IG9mIGFyZ3VtZW50cyBmb3IgdGhlIGZ1bmN0aW9uLlxuICAgKi9cbiAgYXJndW1lbnRzOiB7IFtrZXk6IHN0cmluZ106IHVua25vd24gfTtcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIHRvb2wgd2hpY2ggd2FzIGNhbGxlZC5cbiAgICovXG4gIG5hbWU6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIHVzZWQgTUNQIHNlcnZlci5cbiAgICovXG4gIHNlcnZlcl9uYW1lOiBzdHJpbmc7XG5cbiAgdHlwZTogJ21jcF9zZXJ2ZXJfdG9vbF9jYWxsJztcbn1cblxuLyoqXG4gKiBNQ1BTZXJ2ZXIgdG9vbCByZXN1bHQgY29udGVudC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNQ1BTZXJ2ZXJUb29sUmVzdWx0Q29udGVudCB7XG4gIC8qKlxuICAgKiBJRCB0byBtYXRjaCB0aGUgSUQgZnJvbSB0aGUgTUNQIHNlcnZlciB0b29sIGNhbGwgYmxvY2suXG4gICAqL1xuICBjYWxsX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSByZXN1bHQgb2YgdGhlIHRvb2wgY2FsbC5cbiAgICovXG4gIHJlc3VsdDogTUNQU2VydmVyVG9vbFJlc3VsdENvbnRlbnQuSXRlbXMgfCB1bmtub3duIHwgc3RyaW5nO1xuXG4gIHR5cGU6ICdtY3Bfc2VydmVyX3Rvb2xfcmVzdWx0JztcblxuICAvKipcbiAgICogTmFtZSBvZiB0aGUgdG9vbCB3aGljaCBpcyBjYWxsZWQgZm9yIHRoaXMgc3BlY2lmaWMgdG9vbCBjYWxsLlxuICAgKi9cbiAgbmFtZT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIHVzZWQgTUNQIHNlcnZlci5cbiAgICovXG4gIHNlcnZlcl9uYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIE1DUFNlcnZlclRvb2xSZXN1bHRDb250ZW50IHtcbiAgZXhwb3J0IGludGVyZmFjZSBJdGVtcyB7XG4gICAgaXRlbXM/OiBBcnJheTxzdHJpbmcgfCBJbnRlcmFjdGlvbnNBUEkuSW1hZ2VDb250ZW50IHwgdW5rbm93bj47XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgbW9kZWwgdGhhdCB3aWxsIGNvbXBsZXRlIHlvdXIgcHJvbXB0LlxcblxcblNlZSBbbW9kZWxzXShodHRwczovL2FpLmdvb2dsZS5kZXYvZ2VtaW5pLWFwaS9kb2NzL21vZGVscykgZm9yIGFkZGl0aW9uYWwgZGV0YWlscy5cbiAqL1xuZXhwb3J0IHR5cGUgTW9kZWwgPVxuICB8ICdnZW1pbmktMi41LXBybydcbiAgfCAnZ2VtaW5pLTIuNS1mbGFzaCdcbiAgfCAnZ2VtaW5pLTIuNS1mbGFzaC1wcmV2aWV3LTA5LTIwMjUnXG4gIHwgJ2dlbWluaS0yLjUtZmxhc2gtbGl0ZSdcbiAgfCAnZ2VtaW5pLTIuNS1mbGFzaC1saXRlLXByZXZpZXctMDktMjAyNSdcbiAgfCAnZ2VtaW5pLTIuNS1mbGFzaC1wcmV2aWV3LW5hdGl2ZS1hdWRpby1kaWFsb2cnXG4gIHwgJ2dlbWluaS0yLjUtZmxhc2gtaW1hZ2UtcHJldmlldydcbiAgfCAnZ2VtaW5pLTIuNS1wcm8tcHJldmlldy10dHMnXG4gIHwgJ2dlbWluaS0zLXByby1wcmV2aWV3J1xuICB8IChzdHJpbmcgJiB7fSk7XG5cbi8qKlxuICogVGhlIGNvbmZpZ3VyYXRpb24gZm9yIHNwZWVjaCBpbnRlcmFjdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTcGVlY2hDb25maWcge1xuICAvKipcbiAgICogVGhlIGxhbmd1YWdlIG9mIHRoZSBzcGVlY2guXG4gICAqL1xuICBsYW5ndWFnZT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHNwZWFrZXIncyBuYW1lLCBpdCBzaG91bGQgbWF0Y2ggdGhlIHNwZWFrZXIgbmFtZSBnaXZlbiBpbiB0aGUgcHJvbXB0LlxuICAgKi9cbiAgc3BlYWtlcj86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHZvaWNlIG9mIHRoZSBzcGVha2VyLlxuICAgKi9cbiAgdm9pY2U/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQSB0ZXh0IGNvbnRlbnQgYmxvY2suXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGV4dENvbnRlbnQge1xuICB0eXBlOiAndGV4dCc7XG5cbiAgLyoqXG4gICAqIENpdGF0aW9uIGluZm9ybWF0aW9uIGZvciBtb2RlbC1nZW5lcmF0ZWQgY29udGVudC5cbiAgICovXG4gIGFubm90YXRpb25zPzogQXJyYXk8QW5ub3RhdGlvbj47XG5cbiAgLyoqXG4gICAqIFRoZSB0ZXh0IGNvbnRlbnQuXG4gICAqL1xuICB0ZXh0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBUaGlua2luZ0xldmVsID0gJ21pbmltYWwnIHwgJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJztcblxuLyoqXG4gKiBBIHRob3VnaHQgY29udGVudCBibG9jay5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUaG91Z2h0Q29udGVudCB7XG4gIHR5cGU6ICd0aG91Z2h0JztcblxuICAvKipcbiAgICogU2lnbmF0dXJlIHRvIG1hdGNoIHRoZSBiYWNrZW5kIHNvdXJjZSB0byBiZSBwYXJ0IG9mIHRoZSBnZW5lcmF0aW9uLlxuICAgKi9cbiAgc2lnbmF0dXJlPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBIHN1bW1hcnkgb2YgdGhlIHRob3VnaHQuXG4gICAqL1xuICBzdW1tYXJ5PzogQXJyYXk8VGV4dENvbnRlbnQgfCBJbWFnZUNvbnRlbnQ+O1xufVxuXG4vKipcbiAqIEEgdG9vbCB0aGF0IGNhbiBiZSB1c2VkIGJ5IHRoZSBtb2RlbC5cbiAqL1xuZXhwb3J0IHR5cGUgVG9vbCA9XG4gIHwgRnVuY3Rpb25cbiAgfCBUb29sLkdvb2dsZVNlYXJjaFxuICB8IFRvb2wuQ29kZUV4ZWN1dGlvblxuICB8IFRvb2wuVVJMQ29udGV4dFxuICB8IFRvb2wuQ29tcHV0ZXJVc2VcbiAgfCBUb29sLk1DUFNlcnZlclxuICB8IFRvb2wuRmlsZVNlYXJjaDtcblxuZXhwb3J0IG5hbWVzcGFjZSBUb29sIHtcbiAgLyoqXG4gICAqIEEgdG9vbCB0aGF0IGNhbiBiZSB1c2VkIGJ5IHRoZSBtb2RlbCB0byBzZWFyY2ggR29vZ2xlLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBHb29nbGVTZWFyY2gge1xuICAgIHR5cGU6ICdnb29nbGVfc2VhcmNoJztcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHRvb2wgdGhhdCBjYW4gYmUgdXNlZCBieSB0aGUgbW9kZWwgdG8gZXhlY3V0ZSBjb2RlLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBDb2RlRXhlY3V0aW9uIHtcbiAgICB0eXBlOiAnY29kZV9leGVjdXRpb24nO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgdG9vbCB0aGF0IGNhbiBiZSB1c2VkIGJ5IHRoZSBtb2RlbCB0byBmZXRjaCBVUkwgY29udGV4dC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVVJMQ29udGV4dCB7XG4gICAgdHlwZTogJ3VybF9jb250ZXh0JztcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHRvb2wgdGhhdCBjYW4gYmUgdXNlZCBieSB0aGUgbW9kZWwgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgY29tcHV0ZXIuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIENvbXB1dGVyVXNlIHtcbiAgICB0eXBlOiAnY29tcHV0ZXJfdXNlJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBlbnZpcm9ubWVudCBiZWluZyBvcGVyYXRlZC5cbiAgICAgKi9cbiAgICBlbnZpcm9ubWVudD86ICdicm93c2VyJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBsaXN0IG9mIHByZWRlZmluZWQgZnVuY3Rpb25zIHRoYXQgYXJlIGV4Y2x1ZGVkIGZyb20gdGhlIG1vZGVsIGNhbGwuXG4gICAgICovXG4gICAgZXhjbHVkZWRQcmVkZWZpbmVkRnVuY3Rpb25zPzogQXJyYXk8c3RyaW5nPjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIE1DUFNlcnZlciBpcyBhIHNlcnZlciB0aGF0IGNhbiBiZSBjYWxsZWQgYnkgdGhlIG1vZGVsIHRvIHBlcmZvcm0gYWN0aW9ucy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgTUNQU2VydmVyIHtcbiAgICB0eXBlOiAnbWNwX3NlcnZlcic7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYWxsb3dlZCB0b29scy5cbiAgICAgKi9cbiAgICBhbGxvd2VkX3Rvb2xzPzogQXJyYXk8SW50ZXJhY3Rpb25zQVBJLkFsbG93ZWRUb29scz47XG5cbiAgICAvKipcbiAgICAgKiBPcHRpb25hbDogRmllbGRzIGZvciBhdXRoZW50aWNhdGlvbiBoZWFkZXJzLCB0aW1lb3V0cywgZXRjLiwgaWYgbmVlZGVkLlxuICAgICAqL1xuICAgIGhlYWRlcnM/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIE1DUFNlcnZlci5cbiAgICAgKi9cbiAgICBuYW1lPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZ1bGwgVVJMIGZvciB0aGUgTUNQU2VydmVyIGVuZHBvaW50LlxuICAgICAqIEV4YW1wbGU6IFwiaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vbWNwXCJcbiAgICAgKi9cbiAgICB1cmw/OiBzdHJpbmc7XG4gIH1cblxuICAvKipcbiAgICogQSB0b29sIHRoYXQgY2FuIGJlIHVzZWQgYnkgdGhlIG1vZGVsIHRvIHNlYXJjaCBmaWxlcy5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRmlsZVNlYXJjaCB7XG4gICAgdHlwZTogJ2ZpbGVfc2VhcmNoJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBmaWxlIHNlYXJjaCBzdG9yZSBuYW1lcyB0byBzZWFyY2guXG4gICAgICovXG4gICAgZmlsZV9zZWFyY2hfc3RvcmVfbmFtZXM/OiBBcnJheTxzdHJpbmc+O1xuXG4gICAgLyoqXG4gICAgICogTWV0YWRhdGEgZmlsdGVyIHRvIGFwcGx5IHRvIHRoZSBzZW1hbnRpYyByZXRyaWV2YWwgZG9jdW1lbnRzIGFuZCBjaHVua3MuXG4gICAgICovXG4gICAgbWV0YWRhdGFfZmlsdGVyPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBzZW1hbnRpYyByZXRyaWV2YWwgY2h1bmtzIHRvIHJldHJpZXZlLlxuICAgICAqL1xuICAgIHRvcF9rPzogbnVtYmVyO1xuICB9XG59XG5cbi8qKlxuICogVGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRvb2wgY2hvaWNlLlxuICovXG5leHBvcnQgdHlwZSBUb29sQ2hvaWNlID0gVG9vbENob2ljZVR5cGUgfCBUb29sQ2hvaWNlQ29uZmlnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRvb2xDaG9pY2VDb25maWcge1xuICAvKipcbiAgICogVGhlIGNvbmZpZ3VyYXRpb24gZm9yIGFsbG93ZWQgdG9vbHMuXG4gICAqL1xuICBhbGxvd2VkX3Rvb2xzPzogQWxsb3dlZFRvb2xzO1xufVxuXG5leHBvcnQgdHlwZSBUb29sQ2hvaWNlVHlwZSA9ICdhdXRvJyB8ICdhbnknIHwgJ25vbmUnIHwgJ3ZhbGlkYXRlZCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHVybiB7XG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgdHVybi5cbiAgICovXG4gIGNvbnRlbnQ/OlxuICAgIHwgc3RyaW5nXG4gICAgfCBBcnJheTxcbiAgICAgICAgfCBUZXh0Q29udGVudFxuICAgICAgICB8IEltYWdlQ29udGVudFxuICAgICAgICB8IEF1ZGlvQ29udGVudFxuICAgICAgICB8IERvY3VtZW50Q29udGVudFxuICAgICAgICB8IFZpZGVvQ29udGVudFxuICAgICAgICB8IFRob3VnaHRDb250ZW50XG4gICAgICAgIHwgRnVuY3Rpb25DYWxsQ29udGVudFxuICAgICAgICB8IEZ1bmN0aW9uUmVzdWx0Q29udGVudFxuICAgICAgICB8IENvZGVFeGVjdXRpb25DYWxsQ29udGVudFxuICAgICAgICB8IENvZGVFeGVjdXRpb25SZXN1bHRDb250ZW50XG4gICAgICAgIHwgVVJMQ29udGV4dENhbGxDb250ZW50XG4gICAgICAgIHwgVVJMQ29udGV4dFJlc3VsdENvbnRlbnRcbiAgICAgICAgfCBHb29nbGVTZWFyY2hDYWxsQ29udGVudFxuICAgICAgICB8IEdvb2dsZVNlYXJjaFJlc3VsdENvbnRlbnRcbiAgICAgICAgfCBNQ1BTZXJ2ZXJUb29sQ2FsbENvbnRlbnRcbiAgICAgICAgfCBNQ1BTZXJ2ZXJUb29sUmVzdWx0Q29udGVudFxuICAgICAgICB8IEZpbGVTZWFyY2hSZXN1bHRDb250ZW50XG4gICAgICA+O1xuXG4gIC8qKlxuICAgKiBUaGUgb3JpZ2luYXRvciBvZiB0aGlzIHR1cm4uIE11c3QgYmUgdXNlciBmb3IgaW5wdXQgb3IgbW9kZWwgZm9yXG4gICAqIG1vZGVsIG91dHB1dC5cbiAgICovXG4gIHJvbGU/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogVGhlIGFyZ3VtZW50cyB0byBwYXNzIHRvIHRoZSBVUkwgY29udGV4dC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVUkxDb250ZXh0Q2FsbEFyZ3VtZW50cyB7XG4gIC8qKlxuICAgKiBUaGUgVVJMcyB0byBmZXRjaC5cbiAgICovXG4gIHVybHM/OiBBcnJheTxzdHJpbmc+O1xufVxuXG4vKipcbiAqIFVSTCBjb250ZXh0IGNvbnRlbnQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVVJMQ29udGV4dENhbGxDb250ZW50IHtcbiAgdHlwZTogJ3VybF9jb250ZXh0X2NhbGwnO1xuXG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBJRCBmb3IgdGhpcyBzcGVjaWZpYyB0b29sIGNhbGwuXG4gICAqL1xuICBpZD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGFyZ3VtZW50cyB0byBwYXNzIHRvIHRoZSBVUkwgY29udGV4dC5cbiAgICovXG4gIGFyZ3VtZW50cz86IFVSTENvbnRleHRDYWxsQXJndW1lbnRzO1xufVxuXG4vKipcbiAqIFRoZSByZXN1bHQgb2YgdGhlIFVSTCBjb250ZXh0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVSTENvbnRleHRSZXN1bHQge1xuICAvKipcbiAgICogVGhlIHN0YXR1cyBvZiB0aGUgVVJMIHJldHJpZXZhbC5cbiAgICovXG4gIHN0YXR1cz86ICdzdWNjZXNzJyB8ICdlcnJvcicgfCAncGF5d2FsbCcgfCAndW5zYWZlJztcblxuICAvKipcbiAgICogVGhlIFVSTCB0aGF0IHdhcyBmZXRjaGVkLlxuICAgKi9cbiAgdXJsPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFVSTCBjb250ZXh0IHJlc3VsdCBjb250ZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVSTENvbnRleHRSZXN1bHRDb250ZW50IHtcbiAgdHlwZTogJ3VybF9jb250ZXh0X3Jlc3VsdCc7XG5cbiAgLyoqXG4gICAqIElEIHRvIG1hdGNoIHRoZSBJRCBmcm9tIHRoZSB1cmwgY29udGV4dCBjYWxsIGJsb2NrLlxuICAgKi9cbiAgY2FsbF9pZD86IHN0cmluZztcblxuICAvKipcbiAgICogV2hldGhlciB0aGUgVVJMIGNvbnRleHQgcmVzdWx0ZWQgaW4gYW4gZXJyb3IuXG4gICAqL1xuICBpc19lcnJvcj86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRoZSByZXN1bHRzIG9mIHRoZSBVUkwgY29udGV4dC5cbiAgICovXG4gIHJlc3VsdD86IEFycmF5PFVSTENvbnRleHRSZXN1bHQ+O1xuXG4gIC8qKlxuICAgKiBUaGUgc2lnbmF0dXJlIG9mIHRoZSBVUkwgY29udGV4dCByZXN1bHQuXG4gICAqL1xuICBzaWduYXR1cmU/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogU3RhdGlzdGljcyBvbiB0aGUgaW50ZXJhY3Rpb24gcmVxdWVzdCdzIHRva2VuIHVzYWdlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzYWdlIHtcbiAgLyoqXG4gICAqIEEgYnJlYWtkb3duIG9mIGNhY2hlZCB0b2tlbiB1c2FnZSBieSBtb2RhbGl0eS5cbiAgICovXG4gIGNhY2hlZF90b2tlbnNfYnlfbW9kYWxpdHk/OiBBcnJheTxVc2FnZS5DYWNoZWRUb2tlbnNCeU1vZGFsaXR5PjtcblxuICAvKipcbiAgICogQSBicmVha2Rvd24gb2YgaW5wdXQgdG9rZW4gdXNhZ2UgYnkgbW9kYWxpdHkuXG4gICAqL1xuICBpbnB1dF90b2tlbnNfYnlfbW9kYWxpdHk/OiBBcnJheTxVc2FnZS5JbnB1dFRva2Vuc0J5TW9kYWxpdHk+O1xuXG4gIC8qKlxuICAgKiBBIGJyZWFrZG93biBvZiBvdXRwdXQgdG9rZW4gdXNhZ2UgYnkgbW9kYWxpdHkuXG4gICAqL1xuICBvdXRwdXRfdG9rZW5zX2J5X21vZGFsaXR5PzogQXJyYXk8VXNhZ2UuT3V0cHV0VG9rZW5zQnlNb2RhbGl0eT47XG5cbiAgLyoqXG4gICAqIEEgYnJlYWtkb3duIG9mIHRvb2wtdXNlIHRva2VuIHVzYWdlIGJ5IG1vZGFsaXR5LlxuICAgKi9cbiAgdG9vbF91c2VfdG9rZW5zX2J5X21vZGFsaXR5PzogQXJyYXk8VXNhZ2UuVG9vbFVzZVRva2Vuc0J5TW9kYWxpdHk+O1xuXG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgdG9rZW5zIGluIHRoZSBjYWNoZWQgcGFydCBvZiB0aGUgcHJvbXB0ICh0aGUgY2FjaGVkIGNvbnRlbnQpLlxuICAgKi9cbiAgdG90YWxfY2FjaGVkX3Rva2Vucz86IG51bWJlcjtcblxuICAvKipcbiAgICogTnVtYmVyIG9mIHRva2VucyBpbiB0aGUgcHJvbXB0IChjb250ZXh0KS5cbiAgICovXG4gIHRvdGFsX2lucHV0X3Rva2Vucz86IG51bWJlcjtcblxuICAvKipcbiAgICogVG90YWwgbnVtYmVyIG9mIHRva2VucyBhY3Jvc3MgYWxsIHRoZSBnZW5lcmF0ZWQgcmVzcG9uc2VzLlxuICAgKi9cbiAgdG90YWxfb3V0cHV0X3Rva2Vucz86IG51bWJlcjtcblxuICAvKipcbiAgICogTnVtYmVyIG9mIHRva2VucyBvZiB0aG91Z2h0cyBmb3IgdGhpbmtpbmcgbW9kZWxzLlxuICAgKi9cbiAgdG90YWxfcmVhc29uaW5nX3Rva2Vucz86IG51bWJlcjtcblxuICAvKipcbiAgICogVG90YWwgdG9rZW4gY291bnQgZm9yIHRoZSBpbnRlcmFjdGlvbiByZXF1ZXN0IChwcm9tcHQgKyByZXNwb25zZXMgKyBvdGhlclxuICAgKiBpbnRlcm5hbCB0b2tlbnMpLlxuICAgKi9cbiAgdG90YWxfdG9rZW5zPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgdG9rZW5zIHByZXNlbnQgaW4gdG9vbC11c2UgcHJvbXB0KHMpLlxuICAgKi9cbiAgdG90YWxfdG9vbF91c2VfdG9rZW5zPzogbnVtYmVyO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIFVzYWdlIHtcbiAgLyoqXG4gICAqIFRoZSB0b2tlbiBjb3VudCBmb3IgYSBzaW5nbGUgcmVzcG9uc2UgbW9kYWxpdHkuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIENhY2hlZFRva2Vuc0J5TW9kYWxpdHkge1xuICAgIC8qKlxuICAgICAqIFRoZSBtb2RhbGl0eSBhc3NvY2lhdGVkIHdpdGggdGhlIHRva2VuIGNvdW50LlxuICAgICAqL1xuICAgIG1vZGFsaXR5PzogJ3RleHQnIHwgJ2ltYWdlJyB8ICdhdWRpbyc7XG5cbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgdG9rZW5zIGZvciB0aGUgbW9kYWxpdHkuXG4gICAgICovXG4gICAgdG9rZW5zPzogbnVtYmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSB0b2tlbiBjb3VudCBmb3IgYSBzaW5nbGUgcmVzcG9uc2UgbW9kYWxpdHkuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIElucHV0VG9rZW5zQnlNb2RhbGl0eSB7XG4gICAgLyoqXG4gICAgICogVGhlIG1vZGFsaXR5IGFzc29jaWF0ZWQgd2l0aCB0aGUgdG9rZW4gY291bnQuXG4gICAgICovXG4gICAgbW9kYWxpdHk/OiAndGV4dCcgfCAnaW1hZ2UnIHwgJ2F1ZGlvJztcblxuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiB0b2tlbnMgZm9yIHRoZSBtb2RhbGl0eS5cbiAgICAgKi9cbiAgICB0b2tlbnM/OiBudW1iZXI7XG4gIH1cblxuICAvKipcbiAgICogVGhlIHRva2VuIGNvdW50IGZvciBhIHNpbmdsZSByZXNwb25zZSBtb2RhbGl0eS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgT3V0cHV0VG9rZW5zQnlNb2RhbGl0eSB7XG4gICAgLyoqXG4gICAgICogVGhlIG1vZGFsaXR5IGFzc29jaWF0ZWQgd2l0aCB0aGUgdG9rZW4gY291bnQuXG4gICAgICovXG4gICAgbW9kYWxpdHk/OiAndGV4dCcgfCAnaW1hZ2UnIHwgJ2F1ZGlvJztcblxuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiB0b2tlbnMgZm9yIHRoZSBtb2RhbGl0eS5cbiAgICAgKi9cbiAgICB0b2tlbnM/OiBudW1iZXI7XG4gIH1cblxuICAvKipcbiAgICogVGhlIHRva2VuIGNvdW50IGZvciBhIHNpbmdsZSByZXNwb25zZSBtb2RhbGl0eS5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgVG9vbFVzZVRva2Vuc0J5TW9kYWxpdHkge1xuICAgIC8qKlxuICAgICAqIFRoZSBtb2RhbGl0eSBhc3NvY2lhdGVkIHdpdGggdGhlIHRva2VuIGNvdW50LlxuICAgICAqL1xuICAgIG1vZGFsaXR5PzogJ3RleHQnIHwgJ2ltYWdlJyB8ICdhdWRpbyc7XG5cbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgdG9rZW5zIGZvciB0aGUgbW9kYWxpdHkuXG4gICAgICovXG4gICAgdG9rZW5zPzogbnVtYmVyO1xuICB9XG59XG5cbi8qKlxuICogQSB2aWRlbyBjb250ZW50IGJsb2NrLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvQ29udGVudCB7XG4gIHR5cGU6ICd2aWRlbyc7XG5cbiAgZGF0YT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG1pbWUgdHlwZSBvZiB0aGUgdmlkZW8uXG4gICAqL1xuICBtaW1lX3R5cGU/OiBWaWRlb01pbWVUeXBlO1xuXG4gIC8qKlxuICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgbWVkaWEuXG4gICAqL1xuICByZXNvbHV0aW9uPzogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJyB8ICd1bHRyYV9oaWdoJztcblxuICB1cmk/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogVGhlIG1pbWUgdHlwZSBvZiB0aGUgdmlkZW8uXG4gKi9cbmV4cG9ydCB0eXBlIFZpZGVvTWltZVR5cGUgPVxuICB8ICd2aWRlby9tcDQnXG4gIHwgJ3ZpZGVvL21wZWcnXG4gIHwgJ3ZpZGVvL21vdidcbiAgfCAndmlkZW8vYXZpJ1xuICB8ICd2aWRlby94LWZsdidcbiAgfCAndmlkZW8vbXBnJ1xuICB8ICd2aWRlby93ZWJtJ1xuICB8ICd2aWRlby93bXYnXG4gIHwgJ3ZpZGVvLzNncHAnXG4gIHwgKHN0cmluZyAmIHt9KTtcblxuZXhwb3J0IHR5cGUgSW50ZXJhY3Rpb25EZWxldGVSZXNwb25zZSA9IHVua25vd247XG5cbmV4cG9ydCB0eXBlIEludGVyYWN0aW9uQ3JlYXRlUGFyYW1zID1cbiAgfCBDcmVhdGVNb2RlbEludGVyYWN0aW9uUGFyYW1zTm9uU3RyZWFtaW5nXG4gIHwgQ3JlYXRlTW9kZWxJbnRlcmFjdGlvblBhcmFtc1N0cmVhbWluZ1xuICB8IENyZWF0ZUFnZW50SW50ZXJhY3Rpb25QYXJhbXNOb25TdHJlYW1pbmdcbiAgfCBDcmVhdGVBZ2VudEludGVyYWN0aW9uUGFyYW1zU3RyZWFtaW5nO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJhc2VDcmVhdGVNb2RlbEludGVyYWN0aW9uUGFyYW1zIHtcbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IFRoZSBpbnB1dHMgZm9yIHRoZSBpbnRlcmFjdGlvbi5cbiAgICovXG4gIGlucHV0OlxuICAgIHwgc3RyaW5nXG4gICAgfCBBcnJheTxcbiAgICAgICAgfCBUZXh0Q29udGVudFxuICAgICAgICB8IEltYWdlQ29udGVudFxuICAgICAgICB8IEF1ZGlvQ29udGVudFxuICAgICAgICB8IERvY3VtZW50Q29udGVudFxuICAgICAgICB8IFZpZGVvQ29udGVudFxuICAgICAgICB8IFRob3VnaHRDb250ZW50XG4gICAgICAgIHwgRnVuY3Rpb25DYWxsQ29udGVudFxuICAgICAgICB8IEZ1bmN0aW9uUmVzdWx0Q29udGVudFxuICAgICAgICB8IENvZGVFeGVjdXRpb25DYWxsQ29udGVudFxuICAgICAgICB8IENvZGVFeGVjdXRpb25SZXN1bHRDb250ZW50XG4gICAgICAgIHwgVVJMQ29udGV4dENhbGxDb250ZW50XG4gICAgICAgIHwgVVJMQ29udGV4dFJlc3VsdENvbnRlbnRcbiAgICAgICAgfCBHb29nbGVTZWFyY2hDYWxsQ29udGVudFxuICAgICAgICB8IEdvb2dsZVNlYXJjaFJlc3VsdENvbnRlbnRcbiAgICAgICAgfCBNQ1BTZXJ2ZXJUb29sQ2FsbENvbnRlbnRcbiAgICAgICAgfCBNQ1BTZXJ2ZXJUb29sUmVzdWx0Q29udGVudFxuICAgICAgICB8IEZpbGVTZWFyY2hSZXN1bHRDb250ZW50XG4gICAgICA+XG4gICAgfCBBcnJheTxUdXJuPlxuICAgIHwgVGV4dENvbnRlbnRcbiAgICB8IEltYWdlQ29udGVudFxuICAgIHwgQXVkaW9Db250ZW50XG4gICAgfCBEb2N1bWVudENvbnRlbnRcbiAgICB8IFZpZGVvQ29udGVudFxuICAgIHwgVGhvdWdodENvbnRlbnRcbiAgICB8IEZ1bmN0aW9uQ2FsbENvbnRlbnRcbiAgICB8IEZ1bmN0aW9uUmVzdWx0Q29udGVudFxuICAgIHwgQ29kZUV4ZWN1dGlvbkNhbGxDb250ZW50XG4gICAgfCBDb2RlRXhlY3V0aW9uUmVzdWx0Q29udGVudFxuICAgIHwgVVJMQ29udGV4dENhbGxDb250ZW50XG4gICAgfCBVUkxDb250ZXh0UmVzdWx0Q29udGVudFxuICAgIHwgR29vZ2xlU2VhcmNoQ2FsbENvbnRlbnRcbiAgICB8IEdvb2dsZVNlYXJjaFJlc3VsdENvbnRlbnRcbiAgICB8IE1DUFNlcnZlclRvb2xDYWxsQ29udGVudFxuICAgIHwgTUNQU2VydmVyVG9vbFJlc3VsdENvbnRlbnRcbiAgICB8IEZpbGVTZWFyY2hSZXN1bHRDb250ZW50O1xuXG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiBUaGUgbmFtZSBvZiB0aGUgYE1vZGVsYCB1c2VkIGZvciBnZW5lcmF0aW5nIHRoZSBpbnRlcmFjdGlvbi5cbiAgICovXG4gIG1vZGVsOiBNb2RlbDtcblxuICAvKipcbiAgICogUGF0aCBwYXJhbTogV2hpY2ggdmVyc2lvbiBvZiB0aGUgQVBJIHRvIHVzZS5cbiAgICovXG4gIGFwaV92ZXJzaW9uPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiBXaGV0aGVyIHRvIHJ1biB0aGUgbW9kZWwgaW50ZXJhY3Rpb24gaW4gdGhlIGJhY2tncm91bmQuXG4gICAqL1xuICBiYWNrZ3JvdW5kPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogQm9keSBwYXJhbTogSW5wdXQgb25seS4gQ29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzIGZvciB0aGUgbW9kZWwgaW50ZXJhY3Rpb24uXG4gICAqL1xuICBnZW5lcmF0aW9uX2NvbmZpZz86IEdlbmVyYXRpb25Db25maWc7XG5cbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IFRoZSBJRCBvZiB0aGUgcHJldmlvdXMgaW50ZXJhY3Rpb24sIGlmIGFueS5cbiAgICovXG4gIHByZXZpb3VzX2ludGVyYWN0aW9uX2lkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiBFbmZvcmNlcyB0aGF0IHRoZSBnZW5lcmF0ZWQgcmVzcG9uc2UgaXMgYSBKU09OIG9iamVjdCB0aGF0IGNvbXBsaWVzIHdpdGhcbiAgICogdGhlIEpTT04gc2NoZW1hIHNwZWNpZmllZCBpbiB0aGlzIGZpZWxkLlxuICAgKi9cbiAgcmVzcG9uc2VfZm9ybWF0PzogdW5rbm93bjtcblxuICAvKipcbiAgICogQm9keSBwYXJhbTogVGhlIG1pbWUgdHlwZSBvZiB0aGUgcmVzcG9uc2UuIFRoaXMgaXMgcmVxdWlyZWQgaWYgcmVzcG9uc2VfZm9ybWF0IGlzIHNldC5cbiAgICovXG4gIHJlc3BvbnNlX21pbWVfdHlwZT86IHN0cmluZztcblxuICAvKipcbiAgICogQm9keSBwYXJhbTogVGhlIHJlcXVlc3RlZCBtb2RhbGl0aWVzIG9mIHRoZSByZXNwb25zZSAoVEVYVCwgSU1BR0UsIEFVRElPKS5cbiAgICovXG4gIHJlc3BvbnNlX21vZGFsaXRpZXM/OiBBcnJheTwndGV4dCcgfCAnaW1hZ2UnIHwgJ2F1ZGlvJz47XG5cbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IElucHV0IG9ubHkuIFdoZXRoZXIgdG8gc3RvcmUgdGhlIHJlc3BvbnNlIGFuZCByZXF1ZXN0IGZvciBsYXRlciByZXRyaWV2YWwuXG4gICAqL1xuICBzdG9yZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IElucHV0IG9ubHkuIFdoZXRoZXIgdGhlIGludGVyYWN0aW9uIHdpbGwgYmUgc3RyZWFtZWQuXG4gICAqL1xuICBzdHJlYW0/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiBTeXN0ZW0gaW5zdHJ1Y3Rpb24gZm9yIHRoZSBpbnRlcmFjdGlvbi5cbiAgICovXG4gIHN5c3RlbV9pbnN0cnVjdGlvbj86IHN0cmluZztcblxuICAvKipcbiAgICogQm9keSBwYXJhbTogQSBsaXN0IG9mIHRvb2wgZGVjbGFyYXRpb25zIHRoZSBtb2RlbCBtYXkgY2FsbCBkdXJpbmcgaW50ZXJhY3Rpb24uXG4gICAqL1xuICB0b29scz86IEFycmF5PFRvb2w+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJhc2VDcmVhdGVBZ2VudEludGVyYWN0aW9uUGFyYW1zIHtcbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IFRoZSBuYW1lIG9mIHRoZSBgQWdlbnRgIHVzZWQgZm9yIGdlbmVyYXRpbmcgdGhlIGludGVyYWN0aW9uLlxuICAgKi9cbiAgYWdlbnQ6IChzdHJpbmcgJiB7fSkgfCAnZGVlcC1yZXNlYXJjaC1wcm8tcHJldmlldy0xMi0yMDI1JztcblxuICAvKipcbiAgICogQm9keSBwYXJhbTogVGhlIGlucHV0cyBmb3IgdGhlIGludGVyYWN0aW9uLlxuICAgKi9cbiAgaW5wdXQ6XG4gICAgfCBzdHJpbmdcbiAgICB8IEFycmF5PFxuICAgICAgICB8IFRleHRDb250ZW50XG4gICAgICAgIHwgSW1hZ2VDb250ZW50XG4gICAgICAgIHwgQXVkaW9Db250ZW50XG4gICAgICAgIHwgRG9jdW1lbnRDb250ZW50XG4gICAgICAgIHwgVmlkZW9Db250ZW50XG4gICAgICAgIHwgVGhvdWdodENvbnRlbnRcbiAgICAgICAgfCBGdW5jdGlvbkNhbGxDb250ZW50XG4gICAgICAgIHwgRnVuY3Rpb25SZXN1bHRDb250ZW50XG4gICAgICAgIHwgQ29kZUV4ZWN1dGlvbkNhbGxDb250ZW50XG4gICAgICAgIHwgQ29kZUV4ZWN1dGlvblJlc3VsdENvbnRlbnRcbiAgICAgICAgfCBVUkxDb250ZXh0Q2FsbENvbnRlbnRcbiAgICAgICAgfCBVUkxDb250ZXh0UmVzdWx0Q29udGVudFxuICAgICAgICB8IEdvb2dsZVNlYXJjaENhbGxDb250ZW50XG4gICAgICAgIHwgR29vZ2xlU2VhcmNoUmVzdWx0Q29udGVudFxuICAgICAgICB8IE1DUFNlcnZlclRvb2xDYWxsQ29udGVudFxuICAgICAgICB8IE1DUFNlcnZlclRvb2xSZXN1bHRDb250ZW50XG4gICAgICAgIHwgRmlsZVNlYXJjaFJlc3VsdENvbnRlbnRcbiAgICAgID5cbiAgICB8IEFycmF5PFR1cm4+XG4gICAgfCBUZXh0Q29udGVudFxuICAgIHwgSW1hZ2VDb250ZW50XG4gICAgfCBBdWRpb0NvbnRlbnRcbiAgICB8IERvY3VtZW50Q29udGVudFxuICAgIHwgVmlkZW9Db250ZW50XG4gICAgfCBUaG91Z2h0Q29udGVudFxuICAgIHwgRnVuY3Rpb25DYWxsQ29udGVudFxuICAgIHwgRnVuY3Rpb25SZXN1bHRDb250ZW50XG4gICAgfCBDb2RlRXhlY3V0aW9uQ2FsbENvbnRlbnRcbiAgICB8IENvZGVFeGVjdXRpb25SZXN1bHRDb250ZW50XG4gICAgfCBVUkxDb250ZXh0Q2FsbENvbnRlbnRcbiAgICB8IFVSTENvbnRleHRSZXN1bHRDb250ZW50XG4gICAgfCBHb29nbGVTZWFyY2hDYWxsQ29udGVudFxuICAgIHwgR29vZ2xlU2VhcmNoUmVzdWx0Q29udGVudFxuICAgIHwgTUNQU2VydmVyVG9vbENhbGxDb250ZW50XG4gICAgfCBNQ1BTZXJ2ZXJUb29sUmVzdWx0Q29udGVudFxuICAgIHwgRmlsZVNlYXJjaFJlc3VsdENvbnRlbnQ7XG5cbiAgLyoqXG4gICAqIFBhdGggcGFyYW06IFdoaWNoIHZlcnNpb24gb2YgdGhlIEFQSSB0byB1c2UuXG4gICAqL1xuICBhcGlfdmVyc2lvbj86IHN0cmluZztcblxuICAvKipcbiAgICogQm9keSBwYXJhbTogQ29uZmlndXJhdGlvbiBmb3IgdGhlIGFnZW50LlxuICAgKi9cbiAgYWdlbnRfY29uZmlnPzogRHluYW1pY0FnZW50Q29uZmlnIHwgRGVlcFJlc2VhcmNoQWdlbnRDb25maWc7XG5cbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IFdoZXRoZXIgdG8gcnVuIHRoZSBtb2RlbCBpbnRlcmFjdGlvbiBpbiB0aGUgYmFja2dyb3VuZC5cbiAgICovXG4gIGJhY2tncm91bmQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiBUaGUgSUQgb2YgdGhlIHByZXZpb3VzIGludGVyYWN0aW9uLCBpZiBhbnkuXG4gICAqL1xuICBwcmV2aW91c19pbnRlcmFjdGlvbl9pZD86IHN0cmluZztcblxuICAvKipcbiAgICogQm9keSBwYXJhbTogRW5mb3JjZXMgdGhhdCB0aGUgZ2VuZXJhdGVkIHJlc3BvbnNlIGlzIGEgSlNPTiBvYmplY3QgdGhhdCBjb21wbGllcyB3aXRoXG4gICAqIHRoZSBKU09OIHNjaGVtYSBzcGVjaWZpZWQgaW4gdGhpcyBmaWVsZC5cbiAgICovXG4gIHJlc3BvbnNlX2Zvcm1hdD86IHVua25vd247XG5cbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IFRoZSBtaW1lIHR5cGUgb2YgdGhlIHJlc3BvbnNlLiBUaGlzIGlzIHJlcXVpcmVkIGlmIHJlc3BvbnNlX2Zvcm1hdCBpcyBzZXQuXG4gICAqL1xuICByZXNwb25zZV9taW1lX3R5cGU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IFRoZSByZXF1ZXN0ZWQgbW9kYWxpdGllcyBvZiB0aGUgcmVzcG9uc2UgKFRFWFQsIElNQUdFLCBBVURJTykuXG4gICAqL1xuICByZXNwb25zZV9tb2RhbGl0aWVzPzogQXJyYXk8J3RleHQnIHwgJ2ltYWdlJyB8ICdhdWRpbyc+O1xuXG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiBJbnB1dCBvbmx5LiBXaGV0aGVyIHRvIHN0b3JlIHRoZSByZXNwb25zZSBhbmQgcmVxdWVzdCBmb3IgbGF0ZXIgcmV0cmlldmFsLlxuICAgKi9cbiAgc3RvcmU/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiBJbnB1dCBvbmx5LiBXaGV0aGVyIHRoZSBpbnRlcmFjdGlvbiB3aWxsIGJlIHN0cmVhbWVkLlxuICAgKi9cbiAgc3RyZWFtPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogQm9keSBwYXJhbTogU3lzdGVtIGluc3RydWN0aW9uIGZvciB0aGUgaW50ZXJhY3Rpb24uXG4gICAqL1xuICBzeXN0ZW1faW5zdHJ1Y3Rpb24/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IEEgbGlzdCBvZiB0b29sIGRlY2xhcmF0aW9ucyB0aGUgbW9kZWwgbWF5IGNhbGwgZHVyaW5nIGludGVyYWN0aW9uLlxuICAgKi9cbiAgdG9vbHM/OiBBcnJheTxUb29sPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVNb2RlbEludGVyYWN0aW9uUGFyYW1zTm9uU3RyZWFtaW5nIGV4dGVuZHMgQmFzZUNyZWF0ZU1vZGVsSW50ZXJhY3Rpb25QYXJhbXMge1xuICAvKipcbiAgICogQm9keSBwYXJhbTogSW5wdXQgb25seS4gV2hldGhlciB0aGUgaW50ZXJhY3Rpb24gd2lsbCBiZSBzdHJlYW1lZC5cbiAgICovXG4gIHN0cmVhbT86IGZhbHNlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZU1vZGVsSW50ZXJhY3Rpb25QYXJhbXNTdHJlYW1pbmcgZXh0ZW5kcyBCYXNlQ3JlYXRlTW9kZWxJbnRlcmFjdGlvblBhcmFtcyB7XG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiBJbnB1dCBvbmx5LiBXaGV0aGVyIHRoZSBpbnRlcmFjdGlvbiB3aWxsIGJlIHN0cmVhbWVkLlxuICAgKi9cbiAgc3RyZWFtOiB0cnVlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUFnZW50SW50ZXJhY3Rpb25QYXJhbXNOb25TdHJlYW1pbmcgZXh0ZW5kcyBCYXNlQ3JlYXRlQWdlbnRJbnRlcmFjdGlvblBhcmFtcyB7XG4gIC8qKlxuICAgKiBCb2R5IHBhcmFtOiBJbnB1dCBvbmx5LiBXaGV0aGVyIHRoZSBpbnRlcmFjdGlvbiB3aWxsIGJlIHN0cmVhbWVkLlxuICAgKi9cbiAgc3RyZWFtPzogZmFsc2U7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlQWdlbnRJbnRlcmFjdGlvblBhcmFtc1N0cmVhbWluZyBleHRlbmRzIEJhc2VDcmVhdGVBZ2VudEludGVyYWN0aW9uUGFyYW1zIHtcbiAgLyoqXG4gICAqIEJvZHkgcGFyYW06IElucHV0IG9ubHkuIFdoZXRoZXIgdGhlIGludGVyYWN0aW9uIHdpbGwgYmUgc3RyZWFtZWQuXG4gICAqL1xuICBzdHJlYW06IHRydWU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW50ZXJhY3Rpb25EZWxldGVQYXJhbXMge1xuICAvKipcbiAgICogV2hpY2ggdmVyc2lvbiBvZiB0aGUgQVBJIHRvIHVzZS5cbiAgICovXG4gIGFwaV92ZXJzaW9uPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEludGVyYWN0aW9uQ2FuY2VsUGFyYW1zIHtcbiAgLyoqXG4gICAqIFdoaWNoIHZlcnNpb24gb2YgdGhlIEFQSSB0byB1c2UuXG4gICAqL1xuICBhcGlfdmVyc2lvbj86IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgSW50ZXJhY3Rpb25HZXRQYXJhbXMgPSBJbnRlcmFjdGlvbkdldFBhcmFtc05vblN0cmVhbWluZyB8IEludGVyYWN0aW9uR2V0UGFyYW1zU3RyZWFtaW5nO1xuXG5leHBvcnQgaW50ZXJmYWNlIEludGVyYWN0aW9uR2V0UGFyYW1zQmFzZSB7XG4gIC8qKlxuICAgKiBQYXRoIHBhcmFtOiBXaGljaCB2ZXJzaW9uIG9mIHRoZSBBUEkgdG8gdXNlLlxuICAgKi9cbiAgYXBpX3ZlcnNpb24/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFF1ZXJ5IHBhcmFtOiBPcHRpb25hbC4gSWYgc2V0LCByZXN1bWVzIHRoZSBpbnRlcmFjdGlvbiBzdHJlYW0gZnJvbSB0aGUgbmV4dCBjaHVuayBhZnRlciB0aGUgZXZlbnQgbWFya2VkIGJ5IHRoZSBldmVudCBpZC4gQ2FuIG9ubHkgYmUgdXNlZCBpZiBgc3RyZWFtYCBpcyB0cnVlLlxuICAgKi9cbiAgbGFzdF9ldmVudF9pZD86IHN0cmluZztcblxuICAvKipcbiAgICogUXVlcnkgcGFyYW06IElmIHNldCB0byB0cnVlLCB0aGUgZ2VuZXJhdGVkIGNvbnRlbnQgd2lsbCBiZSBzdHJlYW1lZCBpbmNyZW1lbnRhbGx5LlxuICAgKi9cbiAgc3RyZWFtPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBJbnRlcmFjdGlvbkdldFBhcmFtcyB7XG4gIGV4cG9ydCB0eXBlIEludGVyYWN0aW9uR2V0UGFyYW1zTm9uU3RyZWFtaW5nID0gSW50ZXJhY3Rpb25zQVBJLkludGVyYWN0aW9uR2V0UGFyYW1zTm9uU3RyZWFtaW5nO1xuICBleHBvcnQgdHlwZSBJbnRlcmFjdGlvbkdldFBhcmFtc1N0cmVhbWluZyA9IEludGVyYWN0aW9uc0FQSS5JbnRlcmFjdGlvbkdldFBhcmFtc1N0cmVhbWluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnRlcmFjdGlvbkdldFBhcmFtc05vblN0cmVhbWluZyBleHRlbmRzIEludGVyYWN0aW9uR2V0UGFyYW1zQmFzZSB7XG4gIC8qKlxuICAgKiBRdWVyeSBwYXJhbTogSWYgc2V0IHRvIHRydWUsIHRoZSBnZW5lcmF0ZWQgY29udGVudCB3aWxsIGJlIHN0cmVhbWVkIGluY3JlbWVudGFsbHkuXG4gICAqL1xuICBzdHJlYW0/OiBmYWxzZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnRlcmFjdGlvbkdldFBhcmFtc1N0cmVhbWluZyBleHRlbmRzIEludGVyYWN0aW9uR2V0UGFyYW1zQmFzZSB7XG4gIC8qKlxuICAgKiBRdWVyeSBwYXJhbTogSWYgc2V0IHRvIHRydWUsIHRoZSBnZW5lcmF0ZWQgY29udGVudCB3aWxsIGJlIHN0cmVhbWVkIGluY3JlbWVudGFsbHkuXG4gICAqL1xuICBzdHJlYW06IHRydWU7XG59XG5cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBJbnRlcmFjdGlvbnMge1xuICBleHBvcnQge1xuICAgIHR5cGUgQWxsb3dlZFRvb2xzIGFzIEFsbG93ZWRUb29scyxcbiAgICB0eXBlIEFubm90YXRpb24gYXMgQW5ub3RhdGlvbixcbiAgICB0eXBlIEF1ZGlvQ29udGVudCBhcyBBdWRpb0NvbnRlbnQsXG4gICAgdHlwZSBBdWRpb01pbWVUeXBlIGFzIEF1ZGlvTWltZVR5cGUsXG4gICAgdHlwZSBDb2RlRXhlY3V0aW9uQ2FsbEFyZ3VtZW50cyBhcyBDb2RlRXhlY3V0aW9uQ2FsbEFyZ3VtZW50cyxcbiAgICB0eXBlIENvZGVFeGVjdXRpb25DYWxsQ29udGVudCBhcyBDb2RlRXhlY3V0aW9uQ2FsbENvbnRlbnQsXG4gICAgdHlwZSBDb2RlRXhlY3V0aW9uUmVzdWx0Q29udGVudCBhcyBDb2RlRXhlY3V0aW9uUmVzdWx0Q29udGVudCxcbiAgICB0eXBlIENvbnRlbnREZWx0YSBhcyBDb250ZW50RGVsdGEsXG4gICAgdHlwZSBDb250ZW50U3RhcnQgYXMgQ29udGVudFN0YXJ0LFxuICAgIHR5cGUgQ29udGVudFN0b3AgYXMgQ29udGVudFN0b3AsXG4gICAgdHlwZSBEZWVwUmVzZWFyY2hBZ2VudENvbmZpZyBhcyBEZWVwUmVzZWFyY2hBZ2VudENvbmZpZyxcbiAgICB0eXBlIERvY3VtZW50Q29udGVudCBhcyBEb2N1bWVudENvbnRlbnQsXG4gICAgdHlwZSBEb2N1bWVudE1pbWVUeXBlIGFzIERvY3VtZW50TWltZVR5cGUsXG4gICAgdHlwZSBEeW5hbWljQWdlbnRDb25maWcgYXMgRHluYW1pY0FnZW50Q29uZmlnLFxuICAgIHR5cGUgRXJyb3JFdmVudCBhcyBFcnJvckV2ZW50LFxuICAgIHR5cGUgRmlsZVNlYXJjaFJlc3VsdENvbnRlbnQgYXMgRmlsZVNlYXJjaFJlc3VsdENvbnRlbnQsXG4gICAgdHlwZSBGdW5jdGlvbiBhcyBGdW5jdGlvbixcbiAgICB0eXBlIEZ1bmN0aW9uQ2FsbENvbnRlbnQgYXMgRnVuY3Rpb25DYWxsQ29udGVudCxcbiAgICB0eXBlIEZ1bmN0aW9uUmVzdWx0Q29udGVudCBhcyBGdW5jdGlvblJlc3VsdENvbnRlbnQsXG4gICAgdHlwZSBHZW5lcmF0aW9uQ29uZmlnIGFzIEdlbmVyYXRpb25Db25maWcsXG4gICAgdHlwZSBHb29nbGVTZWFyY2hDYWxsQXJndW1lbnRzIGFzIEdvb2dsZVNlYXJjaENhbGxBcmd1bWVudHMsXG4gICAgdHlwZSBHb29nbGVTZWFyY2hDYWxsQ29udGVudCBhcyBHb29nbGVTZWFyY2hDYWxsQ29udGVudCxcbiAgICB0eXBlIEdvb2dsZVNlYXJjaFJlc3VsdCBhcyBHb29nbGVTZWFyY2hSZXN1bHQsXG4gICAgdHlwZSBHb29nbGVTZWFyY2hSZXN1bHRDb250ZW50IGFzIEdvb2dsZVNlYXJjaFJlc3VsdENvbnRlbnQsXG4gICAgdHlwZSBJbWFnZUNvbnRlbnQgYXMgSW1hZ2VDb250ZW50LFxuICAgIHR5cGUgSW1hZ2VNaW1lVHlwZSBhcyBJbWFnZU1pbWVUeXBlLFxuICAgIHR5cGUgSW50ZXJhY3Rpb24gYXMgSW50ZXJhY3Rpb24sXG4gICAgdHlwZSBJbnRlcmFjdGlvbkV2ZW50IGFzIEludGVyYWN0aW9uRXZlbnQsXG4gICAgdHlwZSBJbnRlcmFjdGlvblNTRUV2ZW50IGFzIEludGVyYWN0aW9uU1NFRXZlbnQsXG4gICAgdHlwZSBJbnRlcmFjdGlvblN0YXR1c1VwZGF0ZSBhcyBJbnRlcmFjdGlvblN0YXR1c1VwZGF0ZSxcbiAgICB0eXBlIE1DUFNlcnZlclRvb2xDYWxsQ29udGVudCBhcyBNQ1BTZXJ2ZXJUb29sQ2FsbENvbnRlbnQsXG4gICAgdHlwZSBNQ1BTZXJ2ZXJUb29sUmVzdWx0Q29udGVudCBhcyBNQ1BTZXJ2ZXJUb29sUmVzdWx0Q29udGVudCxcbiAgICB0eXBlIE1vZGVsIGFzIE1vZGVsLFxuICAgIHR5cGUgU3BlZWNoQ29uZmlnIGFzIFNwZWVjaENvbmZpZyxcbiAgICB0eXBlIFRleHRDb250ZW50IGFzIFRleHRDb250ZW50LFxuICAgIHR5cGUgVGhpbmtpbmdMZXZlbCBhcyBUaGlua2luZ0xldmVsLFxuICAgIHR5cGUgVGhvdWdodENvbnRlbnQgYXMgVGhvdWdodENvbnRlbnQsXG4gICAgdHlwZSBUb29sIGFzIFRvb2wsXG4gICAgdHlwZSBUb29sQ2hvaWNlIGFzIFRvb2xDaG9pY2UsXG4gICAgdHlwZSBUb29sQ2hvaWNlQ29uZmlnIGFzIFRvb2xDaG9pY2VDb25maWcsXG4gICAgdHlwZSBUb29sQ2hvaWNlVHlwZSBhcyBUb29sQ2hvaWNlVHlwZSxcbiAgICB0eXBlIFR1cm4gYXMgVHVybixcbiAgICB0eXBlIFVSTENvbnRleHRDYWxsQXJndW1lbnRzIGFzIFVSTENvbnRleHRDYWxsQXJndW1lbnRzLFxuICAgIHR5cGUgVVJMQ29udGV4dENhbGxDb250ZW50IGFzIFVSTENvbnRleHRDYWxsQ29udGVudCxcbiAgICB0eXBlIFVSTENvbnRleHRSZXN1bHQgYXMgVVJMQ29udGV4dFJlc3VsdCxcbiAgICB0eXBlIFVSTENvbnRleHRSZXN1bHRDb250ZW50IGFzIFVSTENvbnRleHRSZXN1bHRDb250ZW50LFxuICAgIHR5cGUgVXNhZ2UgYXMgVXNhZ2UsXG4gICAgdHlwZSBWaWRlb0NvbnRlbnQgYXMgVmlkZW9Db250ZW50LFxuICAgIHR5cGUgVmlkZW9NaW1lVHlwZSBhcyBWaWRlb01pbWVUeXBlLFxuICAgIHR5cGUgSW50ZXJhY3Rpb25EZWxldGVSZXNwb25zZSBhcyBJbnRlcmFjdGlvbkRlbGV0ZVJlc3BvbnNlLFxuICAgIHR5cGUgSW50ZXJhY3Rpb25DcmVhdGVQYXJhbXMgYXMgSW50ZXJhY3Rpb25DcmVhdGVQYXJhbXMsXG4gICAgdHlwZSBDcmVhdGVNb2RlbEludGVyYWN0aW9uUGFyYW1zTm9uU3RyZWFtaW5nIGFzIENyZWF0ZU1vZGVsSW50ZXJhY3Rpb25QYXJhbXNOb25TdHJlYW1pbmcsXG4gICAgdHlwZSBDcmVhdGVNb2RlbEludGVyYWN0aW9uUGFyYW1zU3RyZWFtaW5nIGFzIENyZWF0ZU1vZGVsSW50ZXJhY3Rpb25QYXJhbXNTdHJlYW1pbmcsXG4gICAgdHlwZSBDcmVhdGVBZ2VudEludGVyYWN0aW9uUGFyYW1zTm9uU3RyZWFtaW5nIGFzIENyZWF0ZUFnZW50SW50ZXJhY3Rpb25QYXJhbXNOb25TdHJlYW1pbmcsXG4gICAgdHlwZSBDcmVhdGVBZ2VudEludGVyYWN0aW9uUGFyYW1zU3RyZWFtaW5nIGFzIENyZWF0ZUFnZW50SW50ZXJhY3Rpb25QYXJhbXNTdHJlYW1pbmcsXG4gICAgdHlwZSBJbnRlcmFjdGlvbkRlbGV0ZVBhcmFtcyBhcyBJbnRlcmFjdGlvbkRlbGV0ZVBhcmFtcyxcbiAgICB0eXBlIEludGVyYWN0aW9uQ2FuY2VsUGFyYW1zIGFzIEludGVyYWN0aW9uQ2FuY2VsUGFyYW1zLFxuICAgIHR5cGUgSW50ZXJhY3Rpb25HZXRQYXJhbXMgYXMgSW50ZXJhY3Rpb25HZXRQYXJhbXMsXG4gICAgdHlwZSBJbnRlcmFjdGlvbkdldFBhcmFtc05vblN0cmVhbWluZyBhcyBJbnRlcmFjdGlvbkdldFBhcmFtc05vblN0cmVhbWluZyxcbiAgICB0eXBlIEludGVyYWN0aW9uR2V0UGFyYW1zU3RyZWFtaW5nIGFzIEludGVyYWN0aW9uR2V0UGFyYW1zU3RyZWFtaW5nLFxuICB9O1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdEJ5dGVzKGJ1ZmZlcnM6IFVpbnQ4QXJyYXlbXSk6IFVpbnQ4QXJyYXkge1xuICBsZXQgbGVuZ3RoID0gMDtcbiAgZm9yIChjb25zdCBidWZmZXIgb2YgYnVmZmVycykge1xuICAgIGxlbmd0aCArPSBidWZmZXIubGVuZ3RoO1xuICB9XG4gIGNvbnN0IG91dHB1dCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gIGxldCBpbmRleCA9IDA7XG4gIGZvciAoY29uc3QgYnVmZmVyIG9mIGJ1ZmZlcnMpIHtcbiAgICBvdXRwdXQuc2V0KGJ1ZmZlciwgaW5kZXgpO1xuICAgIGluZGV4ICs9IGJ1ZmZlci5sZW5ndGg7XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5sZXQgZW5jb2RlVVRGOF86IChzdHI6IHN0cmluZykgPT4gVWludDhBcnJheTtcbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVVVEY4KHN0cjogc3RyaW5nKSB7XG4gIGxldCBlbmNvZGVyO1xuICByZXR1cm4gKFxuICAgIGVuY29kZVVURjhfID8/XG4gICAgKChlbmNvZGVyID0gbmV3IChnbG9iYWxUaGlzIGFzIGFueSkuVGV4dEVuY29kZXIoKSksIChlbmNvZGVVVEY4XyA9IGVuY29kZXIuZW5jb2RlLmJpbmQoZW5jb2RlcikpKVxuICApKHN0cik7XG59XG5cbmxldCBkZWNvZGVVVEY4XzogKGJ5dGVzOiBVaW50OEFycmF5KSA9PiBzdHJpbmc7XG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlVVRGOChieXRlczogVWludDhBcnJheSkge1xuICBsZXQgZGVjb2RlcjtcbiAgcmV0dXJuIChcbiAgICBkZWNvZGVVVEY4XyA/P1xuICAgICgoZGVjb2RlciA9IG5ldyAoZ2xvYmFsVGhpcyBhcyBhbnkpLlRleHREZWNvZGVyKCkpLCAoZGVjb2RlVVRGOF8gPSBkZWNvZGVyLmRlY29kZS5iaW5kKGRlY29kZXIpKSlcbiAgKShieXRlcyk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQgeyBjb25jYXRCeXRlcywgZGVjb2RlVVRGOCwgZW5jb2RlVVRGOCB9IGZyb20gJy4uL3V0aWxzL2J5dGVzLmpzJztcblxuZXhwb3J0IHR5cGUgQnl0ZXMgPSBzdHJpbmcgfCBBcnJheUJ1ZmZlciB8IFVpbnQ4QXJyYXkgfCBudWxsIHwgdW5kZWZpbmVkO1xuXG4vKipcbiAqIEEgcmUtaW1wbGVtZW50YXRpb24gb2YgaHR0cHgncyBgTGluZURlY29kZXJgIGluIFB5dGhvbiB0aGF0IGhhbmRsZXMgaW5jcmVtZW50YWxseVxuICogcmVhZGluZyBsaW5lcyBmcm9tIHRleHQuXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL2VuY29kZS9odHRweC9ibG9iLzkyMDMzM2VhOTgxMThlOWNmNjE3ZjI0NjkwNWQ3YjIwMjUxMDk0MWMvaHR0cHgvX2RlY29kZXJzLnB5I0wyNThcbiAqL1xuZXhwb3J0IGNsYXNzIExpbmVEZWNvZGVyIHtcbiAgLy8gcHJldHRpZXItaWdub3JlXG4gIHN0YXRpYyBORVdMSU5FX0NIQVJTID0gbmV3IFNldChbJ1xcbicsICdcXHInXSk7XG4gIHN0YXRpYyBORVdMSU5FX1JFR0VYUCA9IC9cXHJcXG58W1xcblxccl0vZztcblxuICBwcml2YXRlIGJ1ZmZlcjogVWludDhBcnJheTtcbiAgcHJpdmF0ZSBjYXJyaWFnZVJldHVybkluZGV4OiBudW1iZXIgfCBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICB0aGlzLmNhcnJpYWdlUmV0dXJuSW5kZXggPSBudWxsO1xuICB9XG5cbiAgZGVjb2RlKGNodW5rOiBCeXRlcyk6IHN0cmluZ1tdIHtcbiAgICBpZiAoY2h1bmsgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGNvbnN0IGJpbmFyeUNodW5rID1cbiAgICAgIGNodW5rIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgPyBuZXcgVWludDhBcnJheShjaHVuaylcbiAgICAgIDogdHlwZW9mIGNodW5rID09PSAnc3RyaW5nJyA/IGVuY29kZVVURjgoY2h1bmspXG4gICAgICA6IGNodW5rO1xuXG4gICAgdGhpcy5idWZmZXIgPSBjb25jYXRCeXRlcyhbdGhpcy5idWZmZXIsIGJpbmFyeUNodW5rXSk7XG5cbiAgICBjb25zdCBsaW5lczogc3RyaW5nW10gPSBbXTtcbiAgICBsZXQgcGF0dGVybkluZGV4O1xuICAgIHdoaWxlICgocGF0dGVybkluZGV4ID0gZmluZE5ld2xpbmVJbmRleCh0aGlzLmJ1ZmZlciwgdGhpcy5jYXJyaWFnZVJldHVybkluZGV4KSkgIT0gbnVsbCkge1xuICAgICAgaWYgKHBhdHRlcm5JbmRleC5jYXJyaWFnZSAmJiB0aGlzLmNhcnJpYWdlUmV0dXJuSW5kZXggPT0gbnVsbCkge1xuICAgICAgICAvLyBza2lwIHVudGlsIHdlIGVpdGhlciBnZXQgYSBjb3JyZXNwb25kaW5nIGBcXG5gLCBhIG5ldyBgXFxyYCBvciBub3RoaW5nXG4gICAgICAgIHRoaXMuY2FycmlhZ2VSZXR1cm5JbmRleCA9IHBhdHRlcm5JbmRleC5pbmRleDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIHdlIGdvdCBkb3VibGUgXFxyIG9yIFxccnRleHRcXG5cbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5jYXJyaWFnZVJldHVybkluZGV4ICE9IG51bGwgJiZcbiAgICAgICAgKHBhdHRlcm5JbmRleC5pbmRleCAhPT0gdGhpcy5jYXJyaWFnZVJldHVybkluZGV4ICsgMSB8fCBwYXR0ZXJuSW5kZXguY2FycmlhZ2UpXG4gICAgICApIHtcbiAgICAgICAgbGluZXMucHVzaChkZWNvZGVVVEY4KHRoaXMuYnVmZmVyLnN1YmFycmF5KDAsIHRoaXMuY2FycmlhZ2VSZXR1cm5JbmRleCAtIDEpKSk7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gdGhpcy5idWZmZXIuc3ViYXJyYXkodGhpcy5jYXJyaWFnZVJldHVybkluZGV4KTtcbiAgICAgICAgdGhpcy5jYXJyaWFnZVJldHVybkluZGV4ID0gbnVsbDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVuZEluZGV4ID1cbiAgICAgICAgdGhpcy5jYXJyaWFnZVJldHVybkluZGV4ICE9PSBudWxsID8gcGF0dGVybkluZGV4LnByZWNlZGluZyAtIDEgOiBwYXR0ZXJuSW5kZXgucHJlY2VkaW5nO1xuXG4gICAgICBjb25zdCBsaW5lID0gZGVjb2RlVVRGOCh0aGlzLmJ1ZmZlci5zdWJhcnJheSgwLCBlbmRJbmRleCkpO1xuICAgICAgbGluZXMucHVzaChsaW5lKTtcblxuICAgICAgdGhpcy5idWZmZXIgPSB0aGlzLmJ1ZmZlci5zdWJhcnJheShwYXR0ZXJuSW5kZXguaW5kZXgpO1xuICAgICAgdGhpcy5jYXJyaWFnZVJldHVybkluZGV4ID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gbGluZXM7XG4gIH1cblxuICBmbHVzaCgpOiBzdHJpbmdbXSB7XG4gICAgaWYgKCF0aGlzLmJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlKCdcXG4nKTtcbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gc2VhcmNoZXMgdGhlIGJ1ZmZlciBmb3IgdGhlIGVuZCBwYXR0ZXJucywgKFxcciBvciBcXG4pXG4gKiBhbmQgcmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0aGUgaW5kZXggcHJlY2VkaW5nIHRoZSBtYXRjaGVkIG5ld2xpbmUgYW5kIHRoZVxuICogaW5kZXggYWZ0ZXIgdGhlIG5ld2xpbmUgY2hhci4gYG51bGxgIGlzIHJldHVybmVkIGlmIG5vIG5ldyBsaW5lIGlzIGZvdW5kLlxuICpcbiAqIGBgYHRzXG4gKiBmaW5kTmV3TGluZUluZGV4KCdhYmNcXG5kZWYnKSAtPiB7IHByZWNlZGluZzogMiwgaW5kZXg6IDMgfVxuICogYGBgXG4gKi9cbmZ1bmN0aW9uIGZpbmROZXdsaW5lSW5kZXgoXG4gIGJ1ZmZlcjogVWludDhBcnJheSxcbiAgc3RhcnRJbmRleDogbnVtYmVyIHwgbnVsbCxcbik6IHsgcHJlY2VkaW5nOiBudW1iZXI7IGluZGV4OiBudW1iZXI7IGNhcnJpYWdlOiBib29sZWFuIH0gfCBudWxsIHtcbiAgY29uc3QgbmV3bGluZSA9IDB4MGE7IC8vIFxcblxuICBjb25zdCBjYXJyaWFnZSA9IDB4MGQ7IC8vIFxcclxuXG4gIGZvciAobGV0IGkgPSBzdGFydEluZGV4ID8/IDA7IGkgPCBidWZmZXIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYnVmZmVyW2ldID09PSBuZXdsaW5lKSB7XG4gICAgICByZXR1cm4geyBwcmVjZWRpbmc6IGksIGluZGV4OiBpICsgMSwgY2FycmlhZ2U6IGZhbHNlIH07XG4gICAgfVxuXG4gICAgaWYgKGJ1ZmZlcltpXSA9PT0gY2FycmlhZ2UpIHtcbiAgICAgIHJldHVybiB7IHByZWNlZGluZzogaSwgaW5kZXg6IGkgKyAxLCBjYXJyaWFnZTogdHJ1ZSB9O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZERvdWJsZU5ld2xpbmVJbmRleChidWZmZXI6IFVpbnQ4QXJyYXkpOiBudW1iZXIge1xuICAvLyBUaGlzIGZ1bmN0aW9uIHNlYXJjaGVzIHRoZSBidWZmZXIgZm9yIHRoZSBlbmQgcGF0dGVybnMgKFxcclxcciwgXFxuXFxuLCBcXHJcXG5cXHJcXG4pXG4gIC8vIGFuZCByZXR1cm5zIHRoZSBpbmRleCByaWdodCBhZnRlciB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBhbnkgcGF0dGVybixcbiAgLy8gb3IgLTEgaWYgbm9uZSBvZiB0aGUgcGF0dGVybnMgYXJlIGZvdW5kLlxuICBjb25zdCBuZXdsaW5lID0gMHgwYTsgLy8gXFxuXG4gIGNvbnN0IGNhcnJpYWdlID0gMHgwZDsgLy8gXFxyXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXIubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgaWYgKGJ1ZmZlcltpXSA9PT0gbmV3bGluZSAmJiBidWZmZXJbaSArIDFdID09PSBuZXdsaW5lKSB7XG4gICAgICAvLyBcXG5cXG5cbiAgICAgIHJldHVybiBpICsgMjtcbiAgICB9XG4gICAgaWYgKGJ1ZmZlcltpXSA9PT0gY2FycmlhZ2UgJiYgYnVmZmVyW2kgKyAxXSA9PT0gY2FycmlhZ2UpIHtcbiAgICAgIC8vIFxcclxcclxuICAgICAgcmV0dXJuIGkgKyAyO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBidWZmZXJbaV0gPT09IGNhcnJpYWdlICYmXG4gICAgICBidWZmZXJbaSArIDFdID09PSBuZXdsaW5lICYmXG4gICAgICBpICsgMyA8IGJ1ZmZlci5sZW5ndGggJiZcbiAgICAgIGJ1ZmZlcltpICsgMl0gPT09IGNhcnJpYWdlICYmXG4gICAgICBidWZmZXJbaSArIDNdID09PSBuZXdsaW5lXG4gICAgKSB7XG4gICAgICAvLyBcXHJcXG5cXHJcXG5cbiAgICAgIHJldHVybiBpICsgNDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTE7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBoYXNPd24gfSBmcm9tICcuL3ZhbHVlcy5qcyc7XG5pbXBvcnQgeyB0eXBlIEJhc2VHZW1pbmlOZXh0R2VuQVBJQ2xpZW50IH0gZnJvbSAnLi4vLi4vY2xpZW50LmpzJztcbmltcG9ydCB7IFJlcXVlc3RPcHRpb25zIH0gZnJvbSAnLi4vcmVxdWVzdC1vcHRpb25zLmpzJztcblxudHlwZSBMb2dGbiA9IChtZXNzYWdlOiBzdHJpbmcsIC4uLnJlc3Q6IHVua25vd25bXSkgPT4gdm9pZDtcbmV4cG9ydCB0eXBlIExvZ2dlciA9IHtcbiAgZXJyb3I6IExvZ0ZuO1xuICB3YXJuOiBMb2dGbjtcbiAgaW5mbzogTG9nRm47XG4gIGRlYnVnOiBMb2dGbjtcbn07XG5leHBvcnQgdHlwZSBMb2dMZXZlbCA9ICdvZmYnIHwgJ2Vycm9yJyB8ICd3YXJuJyB8ICdpbmZvJyB8ICdkZWJ1Zyc7XG5cbmNvbnN0IGxldmVsTnVtYmVycyA9IHtcbiAgb2ZmOiAwLFxuICBlcnJvcjogMjAwLFxuICB3YXJuOiAzMDAsXG4gIGluZm86IDQwMCxcbiAgZGVidWc6IDUwMCxcbn07XG5cbmV4cG9ydCBjb25zdCBwYXJzZUxvZ0xldmVsID0gKFxuICBtYXliZUxldmVsOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gIHNvdXJjZU5hbWU6IHN0cmluZyxcbiAgY2xpZW50OiBCYXNlR2VtaW5pTmV4dEdlbkFQSUNsaWVudCxcbik6IExvZ0xldmVsIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKCFtYXliZUxldmVsKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBpZiAoaGFzT3duKGxldmVsTnVtYmVycywgbWF5YmVMZXZlbCkpIHtcbiAgICByZXR1cm4gbWF5YmVMZXZlbDtcbiAgfVxuICBsb2dnZXJGb3IoY2xpZW50KS53YXJuKFxuICAgIGAke3NvdXJjZU5hbWV9IHdhcyBzZXQgdG8gJHtKU09OLnN0cmluZ2lmeShtYXliZUxldmVsKX0sIGV4cGVjdGVkIG9uZSBvZiAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgT2JqZWN0LmtleXMobGV2ZWxOdW1iZXJzKSxcbiAgICApfWAsXG4gICk7XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxuZnVuY3Rpb24gbWFrZUxvZ0ZuKGZuTGV2ZWw6IGtleW9mIExvZ2dlciwgbG9nZ2VyOiBMb2dnZXIgfCB1bmRlZmluZWQsIGxvZ0xldmVsOiBMb2dMZXZlbCkge1xuICBpZiAoIWxvZ2dlciB8fCBsZXZlbE51bWJlcnNbZm5MZXZlbF0gPiBsZXZlbE51bWJlcnNbbG9nTGV2ZWxdKSB7XG4gICAgcmV0dXJuIG5vb3A7XG4gIH0gZWxzZSB7XG4gICAgLy8gRG9uJ3Qgd3JhcCBsb2dnZXIgZnVuY3Rpb25zLCB3ZSB3YW50IHRoZSBzdGFja3RyYWNlIGludGFjdCFcbiAgICByZXR1cm4gbG9nZ2VyW2ZuTGV2ZWxdLmJpbmQobG9nZ2VyKTtcbiAgfVxufVxuXG5jb25zdCBub29wTG9nZ2VyID0ge1xuICBlcnJvcjogbm9vcCxcbiAgd2Fybjogbm9vcCxcbiAgaW5mbzogbm9vcCxcbiAgZGVidWc6IG5vb3AsXG59O1xuXG5sZXQgY2FjaGVkTG9nZ2VycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcDxMb2dnZXIsIFtMb2dMZXZlbCwgTG9nZ2VyXT4oKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvZ2dlckZvcihjbGllbnQ6IEJhc2VHZW1pbmlOZXh0R2VuQVBJQ2xpZW50KTogTG9nZ2VyIHtcbiAgY29uc3QgbG9nZ2VyID0gY2xpZW50LmxvZ2dlcjtcbiAgY29uc3QgbG9nTGV2ZWwgPSBjbGllbnQubG9nTGV2ZWwgPz8gJ29mZic7XG4gIGlmICghbG9nZ2VyKSB7XG4gICAgcmV0dXJuIG5vb3BMb2dnZXI7XG4gIH1cblxuICBjb25zdCBjYWNoZWRMb2dnZXIgPSBjYWNoZWRMb2dnZXJzLmdldChsb2dnZXIpO1xuICBpZiAoY2FjaGVkTG9nZ2VyICYmIGNhY2hlZExvZ2dlclswXSA9PT0gbG9nTGV2ZWwpIHtcbiAgICByZXR1cm4gY2FjaGVkTG9nZ2VyWzFdO1xuICB9XG5cbiAgY29uc3QgbGV2ZWxMb2dnZXIgPSB7XG4gICAgZXJyb3I6IG1ha2VMb2dGbignZXJyb3InLCBsb2dnZXIsIGxvZ0xldmVsKSxcbiAgICB3YXJuOiBtYWtlTG9nRm4oJ3dhcm4nLCBsb2dnZXIsIGxvZ0xldmVsKSxcbiAgICBpbmZvOiBtYWtlTG9nRm4oJ2luZm8nLCBsb2dnZXIsIGxvZ0xldmVsKSxcbiAgICBkZWJ1ZzogbWFrZUxvZ0ZuKCdkZWJ1ZycsIGxvZ2dlciwgbG9nTGV2ZWwpLFxuICB9O1xuXG4gIGNhY2hlZExvZ2dlcnMuc2V0KGxvZ2dlciwgW2xvZ0xldmVsLCBsZXZlbExvZ2dlcl0pO1xuXG4gIHJldHVybiBsZXZlbExvZ2dlcjtcbn1cblxuZXhwb3J0IGNvbnN0IGZvcm1hdFJlcXVlc3REZXRhaWxzID0gKGRldGFpbHM6IHtcbiAgb3B0aW9ucz86IFJlcXVlc3RPcHRpb25zIHwgdW5kZWZpbmVkO1xuICBoZWFkZXJzPzogSGVhZGVycyB8IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gfCB1bmRlZmluZWQ7XG4gIHJldHJ5T2ZSZXF1ZXN0TG9nSUQ/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJldHJ5T2Y/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHVybD86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgc3RhdHVzPzogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICBtZXRob2Q/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIGR1cmF0aW9uTXM/OiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIG1lc3NhZ2U/OiB1bmtub3duO1xuICBib2R5PzogdW5rbm93bjtcbn0pID0+IHtcbiAgaWYgKGRldGFpbHMub3B0aW9ucykge1xuICAgIGRldGFpbHMub3B0aW9ucyA9IHsgLi4uZGV0YWlscy5vcHRpb25zIH07XG4gICAgZGVsZXRlIGRldGFpbHMub3B0aW9uc1snaGVhZGVycyddOyAvLyByZWR1bmRhbnQgKyBsZWFrcyBpbnRlcm5hbHNcbiAgfVxuICBpZiAoZGV0YWlscy5oZWFkZXJzKSB7XG4gICAgZGV0YWlscy5oZWFkZXJzID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgKGRldGFpbHMuaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMgPyBbLi4uZGV0YWlscy5oZWFkZXJzXSA6IE9iamVjdC5lbnRyaWVzKGRldGFpbHMuaGVhZGVycykpLm1hcChcbiAgICAgICAgKFtuYW1lLCB2YWx1ZV0pID0+IFtcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIChcbiAgICAgICAgICAgIG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3gtZ29vZy1hcGkta2V5JyB8fFxuICAgICAgICAgICAgbmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYXV0aG9yaXphdGlvbicgfHxcbiAgICAgICAgICAgIG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2Nvb2tpZScgfHxcbiAgICAgICAgICAgIG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3NldC1jb29raWUnXG4gICAgICAgICAgKSA/XG4gICAgICAgICAgICAnKioqJ1xuICAgICAgICAgIDogdmFsdWUsXG4gICAgICAgIF0sXG4gICAgICApLFxuICAgICk7XG4gIH1cbiAgaWYgKCdyZXRyeU9mUmVxdWVzdExvZ0lEJyBpbiBkZXRhaWxzKSB7XG4gICAgaWYgKGRldGFpbHMucmV0cnlPZlJlcXVlc3RMb2dJRCkge1xuICAgICAgZGV0YWlscy5yZXRyeU9mID0gZGV0YWlscy5yZXRyeU9mUmVxdWVzdExvZ0lEO1xuICAgIH1cbiAgICBkZWxldGUgZGV0YWlscy5yZXRyeU9mUmVxdWVzdExvZ0lEO1xuICB9XG4gIHJldHVybiBkZXRhaWxzO1xufTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7IEdlbWluaU5leHRHZW5BUElDbGllbnRFcnJvciB9IGZyb20gJy4vZXJyb3IuanMnO1xuaW1wb3J0IHsgdHlwZSBSZWFkYWJsZVN0cmVhbSB9IGZyb20gJy4uL2ludGVybmFsL3NoaW0tdHlwZXMuanMnO1xuaW1wb3J0IHsgbWFrZVJlYWRhYmxlU3RyZWFtIH0gZnJvbSAnLi4vaW50ZXJuYWwvc2hpbXMuanMnO1xuaW1wb3J0IHsgZmluZERvdWJsZU5ld2xpbmVJbmRleCwgTGluZURlY29kZXIgfSBmcm9tICcuLi9pbnRlcm5hbC9kZWNvZGVycy9saW5lLmpzJztcbmltcG9ydCB7IFJlYWRhYmxlU3RyZWFtVG9Bc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi4vaW50ZXJuYWwvc2hpbXMuanMnO1xuaW1wb3J0IHsgaXNBYm9ydEVycm9yIH0gZnJvbSAnLi4vaW50ZXJuYWwvZXJyb3JzLmpzJztcbmltcG9ydCB7IGVuY29kZVVURjggfSBmcm9tICcuLi9pbnRlcm5hbC91dGlscy9ieXRlcy5qcyc7XG5pbXBvcnQgeyBsb2dnZXJGb3IgfSBmcm9tICcuLi9pbnRlcm5hbC91dGlscy9sb2cuanMnO1xuaW1wb3J0IHR5cGUgeyBCYXNlR2VtaW5pTmV4dEdlbkFQSUNsaWVudCB9IGZyb20gJy4uL2NsaWVudC5qcyc7XG5cbnR5cGUgQnl0ZXMgPSBzdHJpbmcgfCBBcnJheUJ1ZmZlciB8IFVpbnQ4QXJyYXkgfCBudWxsIHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgdHlwZSBTZXJ2ZXJTZW50RXZlbnQgPSB7XG4gIGV2ZW50OiBzdHJpbmcgfCBudWxsO1xuICBkYXRhOiBzdHJpbmc7XG4gIHJhdzogc3RyaW5nW107XG59O1xuXG5leHBvcnQgY2xhc3MgU3RyZWFtPEl0ZW0+IGltcGxlbWVudHMgQXN5bmNJdGVyYWJsZTxJdGVtPiB7XG4gIGNvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlcjtcbiAgcHJpdmF0ZSBjbGllbnQ6IEJhc2VHZW1pbmlOZXh0R2VuQVBJQ2xpZW50IHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgaXRlcmF0b3I6ICgpID0+IEFzeW5jSXRlcmF0b3I8SXRlbT4sXG4gICAgY29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyLFxuICAgIGNsaWVudD86IEJhc2VHZW1pbmlOZXh0R2VuQVBJQ2xpZW50LFxuICApIHtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICB9XG5cbiAgc3RhdGljIGZyb21TU0VSZXNwb25zZTxJdGVtPihcbiAgICByZXNwb25zZTogUmVzcG9uc2UsXG4gICAgY29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyLFxuICAgIGNsaWVudD86IEJhc2VHZW1pbmlOZXh0R2VuQVBJQ2xpZW50LFxuICApOiBTdHJlYW08SXRlbT4ge1xuICAgIGxldCBjb25zdW1lZCA9IGZhbHNlO1xuICAgIGNvbnN0IGxvZ2dlciA9IGNsaWVudCA/IGxvZ2dlckZvcihjbGllbnQpIDogY29uc29sZTtcblxuICAgIGFzeW5jIGZ1bmN0aW9uKiBpdGVyYXRvcigpOiBBc3luY0l0ZXJhdG9yPEl0ZW0sIGFueSwgdW5kZWZpbmVkPiB7XG4gICAgICBpZiAoY29uc3VtZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEdlbWluaU5leHRHZW5BUElDbGllbnRFcnJvcihcbiAgICAgICAgICAnQ2Fubm90IGl0ZXJhdGUgb3ZlciBhIGNvbnN1bWVkIHN0cmVhbSwgdXNlIGAudGVlKClgIHRvIHNwbGl0IHRoZSBzdHJlYW0uJyxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN1bWVkID0gdHJ1ZTtcbiAgICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgICB0cnkge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHNzZSBvZiBfaXRlclNTRU1lc3NhZ2VzKHJlc3BvbnNlLCBjb250cm9sbGVyKSkge1xuICAgICAgICAgIGlmIChkb25lKSBjb250aW51ZTtcblxuICAgICAgICAgIGlmIChzc2UuZGF0YS5zdGFydHNXaXRoKCdbRE9ORV0nKSkge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICB5aWVsZCBKU09OLnBhcnNlKHNzZS5kYXRhKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGBDb3VsZCBub3QgcGFyc2UgbWVzc2FnZSBpbnRvIEpTT046YCwgc3NlLmRhdGEpO1xuICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoYEZyb20gY2h1bms6YCwgc3NlLnJhdyk7XG4gICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBJZiB0aGUgdXNlciBjYWxscyBgc3RyZWFtLmNvbnRyb2xsZXIuYWJvcnQoKWAsIHdlIHNob3VsZCBleGl0IHdpdGhvdXQgdGhyb3dpbmcuXG4gICAgICAgIGlmIChpc0Fib3J0RXJyb3IoZSkpIHJldHVybjtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIC8vIElmIHRoZSB1c2VyIGBicmVha2BzLCBhYm9ydCB0aGUgb25nb2luZyByZXF1ZXN0LlxuICAgICAgICBpZiAoIWRvbmUpIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFN0cmVhbShpdGVyYXRvciwgY29udHJvbGxlciwgY2xpZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgYSBTdHJlYW0gZnJvbSBhIG5ld2xpbmUtc2VwYXJhdGVkIFJlYWRhYmxlU3RyZWFtXG4gICAqIHdoZXJlIGVhY2ggaXRlbSBpcyBhIEpTT04gdmFsdWUuXG4gICAqL1xuICBzdGF0aWMgZnJvbVJlYWRhYmxlU3RyZWFtPEl0ZW0+KFxuICAgIHJlYWRhYmxlU3RyZWFtOiBSZWFkYWJsZVN0cmVhbSxcbiAgICBjb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXIsXG4gICAgY2xpZW50PzogQmFzZUdlbWluaU5leHRHZW5BUElDbGllbnQsXG4gICk6IFN0cmVhbTxJdGVtPiB7XG4gICAgbGV0IGNvbnN1bWVkID0gZmFsc2U7XG5cbiAgICBhc3luYyBmdW5jdGlvbiogaXRlckxpbmVzKCk6IEFzeW5jR2VuZXJhdG9yPHN0cmluZywgdm9pZCwgdW5rbm93bj4ge1xuICAgICAgY29uc3QgbGluZURlY29kZXIgPSBuZXcgTGluZURlY29kZXIoKTtcblxuICAgICAgY29uc3QgaXRlciA9IFJlYWRhYmxlU3RyZWFtVG9Bc3luY0l0ZXJhYmxlPEJ5dGVzPihyZWFkYWJsZVN0cmVhbSk7XG4gICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGl0ZXIpIHtcbiAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVEZWNvZGVyLmRlY29kZShjaHVuaykpIHtcbiAgICAgICAgICB5aWVsZCBsaW5lO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lRGVjb2Rlci5mbHVzaCgpKSB7XG4gICAgICAgIHlpZWxkIGxpbmU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24qIGl0ZXJhdG9yKCk6IEFzeW5jSXRlcmF0b3I8SXRlbSwgYW55LCB1bmRlZmluZWQ+IHtcbiAgICAgIGlmIChjb25zdW1lZCkge1xuICAgICAgICB0aHJvdyBuZXcgR2VtaW5pTmV4dEdlbkFQSUNsaWVudEVycm9yKFxuICAgICAgICAgICdDYW5ub3QgaXRlcmF0ZSBvdmVyIGEgY29uc3VtZWQgc3RyZWFtLCB1c2UgYC50ZWUoKWAgdG8gc3BsaXQgdGhlIHN0cmVhbS4nLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29uc3VtZWQgPSB0cnVlO1xuICAgICAgbGV0IGRvbmUgPSBmYWxzZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgbGluZSBvZiBpdGVyTGluZXMoKSkge1xuICAgICAgICAgIGlmIChkb25lKSBjb250aW51ZTtcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgaWYgKGxpbmUpIHlpZWxkIEpTT04ucGFyc2UobGluZSk7XG4gICAgICAgIH1cbiAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIElmIHRoZSB1c2VyIGNhbGxzIGBzdHJlYW0uY29udHJvbGxlci5hYm9ydCgpYCwgd2Ugc2hvdWxkIGV4aXQgd2l0aG91dCB0aHJvd2luZy5cbiAgICAgICAgaWYgKGlzQWJvcnRFcnJvcihlKSkgcmV0dXJuO1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgLy8gSWYgdGhlIHVzZXIgYGJyZWFrYHMsIGFib3J0IHRoZSBvbmdvaW5nIHJlcXVlc3QuXG4gICAgICAgIGlmICghZG9uZSkgY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgU3RyZWFtKGl0ZXJhdG9yLCBjb250cm9sbGVyLCBjbGllbnQpO1xuICB9XG5cbiAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpOiBBc3luY0l0ZXJhdG9yPEl0ZW0+IHtcbiAgICByZXR1cm4gdGhpcy5pdGVyYXRvcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0cyB0aGUgc3RyZWFtIGludG8gdHdvIHN0cmVhbXMgd2hpY2ggY2FuIGJlXG4gICAqIGluZGVwZW5kZW50bHkgcmVhZCBmcm9tIGF0IGRpZmZlcmVudCBzcGVlZHMuXG4gICAqL1xuICB0ZWUoKTogW1N0cmVhbTxJdGVtPiwgU3RyZWFtPEl0ZW0+XSB7XG4gICAgY29uc3QgbGVmdDogQXJyYXk8UHJvbWlzZTxJdGVyYXRvclJlc3VsdDxJdGVtPj4+ID0gW107XG4gICAgY29uc3QgcmlnaHQ6IEFycmF5PFByb21pc2U8SXRlcmF0b3JSZXN1bHQ8SXRlbT4+PiA9IFtdO1xuICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5pdGVyYXRvcigpO1xuXG4gICAgY29uc3QgdGVlSXRlcmF0b3IgPSAocXVldWU6IEFycmF5PFByb21pc2U8SXRlcmF0b3JSZXN1bHQ8SXRlbT4+Pik6IEFzeW5jSXRlcmF0b3I8SXRlbT4gPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIGxlZnQucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgcmlnaHQucHVzaChyZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcXVldWUuc2hpZnQoKSE7XG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4gW1xuICAgICAgbmV3IFN0cmVhbSgoKSA9PiB0ZWVJdGVyYXRvcihsZWZ0KSwgdGhpcy5jb250cm9sbGVyLCB0aGlzLmNsaWVudCksXG4gICAgICBuZXcgU3RyZWFtKCgpID0+IHRlZUl0ZXJhdG9yKHJpZ2h0KSwgdGhpcy5jb250cm9sbGVyLCB0aGlzLmNsaWVudCksXG4gICAgXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyB0aGlzIHN0cmVhbSB0byBhIG5ld2xpbmUtc2VwYXJhdGVkIFJlYWRhYmxlU3RyZWFtIG9mXG4gICAqIEpTT04gc3RyaW5naWZpZWQgdmFsdWVzIGluIHRoZSBzdHJlYW1cbiAgICogd2hpY2ggY2FuIGJlIHR1cm5lZCBiYWNrIGludG8gYSBTdHJlYW0gd2l0aCBgU3RyZWFtLmZyb21SZWFkYWJsZVN0cmVhbSgpYC5cbiAgICovXG4gIHRvUmVhZGFibGVTdHJlYW0oKTogUmVhZGFibGVTdHJlYW0ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBpdGVyOiBBc3luY0l0ZXJhdG9yPEl0ZW0+O1xuXG4gICAgcmV0dXJuIG1ha2VSZWFkYWJsZVN0cmVhbSh7XG4gICAgICBhc3luYyBzdGFydCgpIHtcbiAgICAgICAgaXRlciA9IHNlbGZbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgICB9LFxuICAgICAgYXN5bmMgcHVsbChjdHJsOiBhbnkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCBpdGVyLm5leHQoKTtcbiAgICAgICAgICBpZiAoZG9uZSkgcmV0dXJuIGN0cmwuY2xvc2UoKTtcblxuICAgICAgICAgIGNvbnN0IGJ5dGVzID0gZW5jb2RlVVRGOChKU09OLnN0cmluZ2lmeSh2YWx1ZSkgKyAnXFxuJyk7XG5cbiAgICAgICAgICBjdHJsLmVucXVldWUoYnl0ZXMpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjdHJsLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhc3luYyBjYW5jZWwoKSB7XG4gICAgICAgIGF3YWl0IGl0ZXIucmV0dXJuPy4oKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uKiBfaXRlclNTRU1lc3NhZ2VzKFxuICByZXNwb25zZTogUmVzcG9uc2UsXG4gIGNvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlcixcbik6IEFzeW5jR2VuZXJhdG9yPFNlcnZlclNlbnRFdmVudCwgdm9pZCwgdW5rbm93bj4ge1xuICBpZiAoIXJlc3BvbnNlLmJvZHkpIHtcbiAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIChnbG9iYWxUaGlzIGFzIGFueSkubmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgKGdsb2JhbFRoaXMgYXMgYW55KS5uYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ1JlYWN0TmF0aXZlJ1xuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEdlbWluaU5leHRHZW5BUElDbGllbnRFcnJvcihcbiAgICAgICAgYFRoZSBkZWZhdWx0IHJlYWN0LW5hdGl2ZSBmZXRjaCBpbXBsZW1lbnRhdGlvbiBkb2VzIG5vdCBzdXBwb3J0IHN0cmVhbWluZy4gUGxlYXNlIHVzZSBleHBvL2ZldGNoOiBodHRwczovL2RvY3MuZXhwby5kZXYvdmVyc2lvbnMvbGF0ZXN0L3Nkay9leHBvLyNleHBvZmV0Y2gtYXBpYCxcbiAgICAgICk7XG4gICAgfVxuICAgIHRocm93IG5ldyBHZW1pbmlOZXh0R2VuQVBJQ2xpZW50RXJyb3IoYEF0dGVtcHRlZCB0byBpdGVyYXRlIG92ZXIgYSByZXNwb25zZSB3aXRoIG5vIGJvZHlgKTtcbiAgfVxuXG4gIGNvbnN0IHNzZURlY29kZXIgPSBuZXcgU1NFRGVjb2RlcigpO1xuICBjb25zdCBsaW5lRGVjb2RlciA9IG5ldyBMaW5lRGVjb2RlcigpO1xuXG4gIGNvbnN0IGl0ZXIgPSBSZWFkYWJsZVN0cmVhbVRvQXN5bmNJdGVyYWJsZTxCeXRlcz4ocmVzcG9uc2UuYm9keSk7XG4gIGZvciBhd2FpdCAoY29uc3Qgc3NlQ2h1bmsgb2YgaXRlclNTRUNodW5rcyhpdGVyKSkge1xuICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lRGVjb2Rlci5kZWNvZGUoc3NlQ2h1bmspKSB7XG4gICAgICBjb25zdCBzc2UgPSBzc2VEZWNvZGVyLmRlY29kZShsaW5lKTtcbiAgICAgIGlmIChzc2UpIHlpZWxkIHNzZTtcbiAgICB9XG4gIH1cblxuICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZURlY29kZXIuZmx1c2goKSkge1xuICAgIGNvbnN0IHNzZSA9IHNzZURlY29kZXIuZGVjb2RlKGxpbmUpO1xuICAgIGlmIChzc2UpIHlpZWxkIHNzZTtcbiAgfVxufVxuXG4vKipcbiAqIEdpdmVuIGFuIGFzeW5jIGl0ZXJhYmxlIGl0ZXJhdG9yLCBpdGVyYXRlcyBvdmVyIGl0IGFuZCB5aWVsZHMgZnVsbFxuICogU1NFIGNodW5rcywgaS5lLiB5aWVsZHMgd2hlbiBhIGRvdWJsZSBuZXctbGluZSBpcyBlbmNvdW50ZXJlZC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24qIGl0ZXJTU0VDaHVua3MoaXRlcmF0b3I6IEFzeW5jSXRlcmFibGVJdGVyYXRvcjxCeXRlcz4pOiBBc3luY0dlbmVyYXRvcjxVaW50OEFycmF5PiB7XG4gIGxldCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoKTtcblxuICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGl0ZXJhdG9yKSB7XG4gICAgaWYgKGNodW5rID09IG51bGwpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IGJpbmFyeUNodW5rID1cbiAgICAgIGNodW5rIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgPyBuZXcgVWludDhBcnJheShjaHVuaylcbiAgICAgIDogdHlwZW9mIGNodW5rID09PSAnc3RyaW5nJyA/IGVuY29kZVVURjgoY2h1bmspXG4gICAgICA6IGNodW5rO1xuXG4gICAgbGV0IG5ld0RhdGEgPSBuZXcgVWludDhBcnJheShkYXRhLmxlbmd0aCArIGJpbmFyeUNodW5rLmxlbmd0aCk7XG4gICAgbmV3RGF0YS5zZXQoZGF0YSk7XG4gICAgbmV3RGF0YS5zZXQoYmluYXJ5Q2h1bmssIGRhdGEubGVuZ3RoKTtcbiAgICBkYXRhID0gbmV3RGF0YTtcblxuICAgIGxldCBwYXR0ZXJuSW5kZXg7XG4gICAgd2hpbGUgKChwYXR0ZXJuSW5kZXggPSBmaW5kRG91YmxlTmV3bGluZUluZGV4KGRhdGEpKSAhPT0gLTEpIHtcbiAgICAgIHlpZWxkIGRhdGEuc2xpY2UoMCwgcGF0dGVybkluZGV4KTtcbiAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKHBhdHRlcm5JbmRleCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRhdGEubGVuZ3RoID4gMCkge1xuICAgIHlpZWxkIGRhdGE7XG4gIH1cbn1cblxuY2xhc3MgU1NFRGVjb2RlciB7XG4gIHByaXZhdGUgZGF0YTogc3RyaW5nW107XG4gIHByaXZhdGUgZXZlbnQ6IHN0cmluZyB8IG51bGw7XG4gIHByaXZhdGUgY2h1bmtzOiBzdHJpbmdbXTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmV2ZW50ID0gbnVsbDtcbiAgICB0aGlzLmRhdGEgPSBbXTtcbiAgICB0aGlzLmNodW5rcyA9IFtdO1xuICB9XG5cbiAgZGVjb2RlKGxpbmU6IHN0cmluZykge1xuICAgIGlmIChsaW5lLmVuZHNXaXRoKCdcXHInKSkge1xuICAgICAgbGluZSA9IGxpbmUuc3Vic3RyaW5nKDAsIGxpbmUubGVuZ3RoIC0gMSk7XG4gICAgfVxuXG4gICAgaWYgKCFsaW5lKSB7XG4gICAgICAvLyBlbXB0eSBsaW5lIGFuZCB3ZSBkaWRuJ3QgcHJldmlvdXNseSBlbmNvdW50ZXIgYW55IG1lc3NhZ2VzXG4gICAgICBpZiAoIXRoaXMuZXZlbnQgJiYgIXRoaXMuZGF0YS5sZW5ndGgpIHJldHVybiBudWxsO1xuXG4gICAgICBjb25zdCBzc2U6IFNlcnZlclNlbnRFdmVudCA9IHtcbiAgICAgICAgZXZlbnQ6IHRoaXMuZXZlbnQsXG4gICAgICAgIGRhdGE6IHRoaXMuZGF0YS5qb2luKCdcXG4nKSxcbiAgICAgICAgcmF3OiB0aGlzLmNodW5rcyxcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuZXZlbnQgPSBudWxsO1xuICAgICAgdGhpcy5kYXRhID0gW107XG4gICAgICB0aGlzLmNodW5rcyA9IFtdO1xuXG4gICAgICByZXR1cm4gc3NlO1xuICAgIH1cblxuICAgIHRoaXMuY2h1bmtzLnB1c2gobGluZSk7XG5cbiAgICBpZiAobGluZS5zdGFydHNXaXRoKCc6JykpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGxldCBbZmllbGRuYW1lLCBfLCB2YWx1ZV0gPSBwYXJ0aXRpb24obGluZSwgJzonKTtcblxuICAgIGlmICh2YWx1ZS5zdGFydHNXaXRoKCcgJykpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDEpO1xuICAgIH1cblxuICAgIGlmIChmaWVsZG5hbWUgPT09ICdldmVudCcpIHtcbiAgICAgIHRoaXMuZXZlbnQgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKGZpZWxkbmFtZSA9PT0gJ2RhdGEnKSB7XG4gICAgICB0aGlzLmRhdGEucHVzaCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFydGl0aW9uKHN0cjogc3RyaW5nLCBkZWxpbWl0ZXI6IHN0cmluZyk6IFtzdHJpbmcsIHN0cmluZywgc3RyaW5nXSB7XG4gIGNvbnN0IGluZGV4ID0gc3RyLmluZGV4T2YoZGVsaW1pdGVyKTtcbiAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIHJldHVybiBbc3RyLnN1YnN0cmluZygwLCBpbmRleCksIGRlbGltaXRlciwgc3RyLnN1YnN0cmluZyhpbmRleCArIGRlbGltaXRlci5sZW5ndGgpXTtcbiAgfVxuXG4gIHJldHVybiBbc3RyLCAnJywgJyddO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHR5cGUgeyBGaW5hbFJlcXVlc3RPcHRpb25zIH0gZnJvbSAnLi9yZXF1ZXN0LW9wdGlvbnMuanMnO1xuaW1wb3J0IHsgU3RyZWFtIH0gZnJvbSAnLi4vY29yZS9zdHJlYW1pbmcuanMnO1xuaW1wb3J0IHsgdHlwZSBCYXNlR2VtaW5pTmV4dEdlbkFQSUNsaWVudCB9IGZyb20gJy4uL2NsaWVudC5qcyc7XG5pbXBvcnQgeyBmb3JtYXRSZXF1ZXN0RGV0YWlscywgbG9nZ2VyRm9yIH0gZnJvbSAnLi91dGlscy9sb2cuanMnO1xuXG5leHBvcnQgdHlwZSBBUElSZXNwb25zZVByb3BzID0ge1xuICByZXNwb25zZTogUmVzcG9uc2U7XG4gIG9wdGlvbnM6IEZpbmFsUmVxdWVzdE9wdGlvbnM7XG4gIGNvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlcjtcbiAgcmVxdWVzdExvZ0lEOiBzdHJpbmc7XG4gIHJldHJ5T2ZSZXF1ZXN0TG9nSUQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgc3RhcnRUaW1lOiBudW1iZXI7XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVmYXVsdFBhcnNlUmVzcG9uc2U8VD4oXG4gIGNsaWVudDogQmFzZUdlbWluaU5leHRHZW5BUElDbGllbnQsXG4gIHByb3BzOiBBUElSZXNwb25zZVByb3BzLFxuKTogUHJvbWlzZTxUPiB7XG4gIGNvbnN0IHsgcmVzcG9uc2UsIHJlcXVlc3RMb2dJRCwgcmV0cnlPZlJlcXVlc3RMb2dJRCwgc3RhcnRUaW1lIH0gPSBwcm9wcztcbiAgY29uc3QgYm9keSA9IGF3YWl0IChhc3luYyAoKSA9PiB7XG4gICAgaWYgKHByb3BzLm9wdGlvbnMuc3RyZWFtKSB7XG4gICAgICBsb2dnZXJGb3IoY2xpZW50KS5kZWJ1ZygncmVzcG9uc2UnLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLnVybCwgcmVzcG9uc2UuaGVhZGVycywgcmVzcG9uc2UuYm9keSk7XG5cbiAgICAgIC8vIE5vdGU6IHRoZXJlIGlzIGFuIGludmFyaWFudCBoZXJlIHRoYXQgaXNuJ3QgcmVwcmVzZW50ZWQgaW4gdGhlIHR5cGUgc3lzdGVtXG4gICAgICAvLyB0aGF0IGlmIHlvdSBzZXQgYHN0cmVhbTogdHJ1ZWAgdGhlIHJlc3BvbnNlIHR5cGUgbXVzdCBhbHNvIGJlIGBTdHJlYW08VD5gXG5cbiAgICAgIGlmIChwcm9wcy5vcHRpb25zLl9fc3RyZWFtQ2xhc3MpIHtcbiAgICAgICAgcmV0dXJuIHByb3BzLm9wdGlvbnMuX19zdHJlYW1DbGFzcy5mcm9tU1NFUmVzcG9uc2UocmVzcG9uc2UsIHByb3BzLmNvbnRyb2xsZXIsIGNsaWVudCkgYXMgYW55O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gU3RyZWFtLmZyb21TU0VSZXNwb25zZShyZXNwb25zZSwgcHJvcHMuY29udHJvbGxlciwgY2xpZW50KSBhcyBhbnk7XG4gICAgfVxuXG4gICAgLy8gZmV0Y2ggcmVmdXNlcyB0byByZWFkIHRoZSBib2R5IHdoZW4gdGhlIHN0YXR1cyBjb2RlIGlzIDIwNC5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgIHJldHVybiBudWxsIGFzIFQ7XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLm9wdGlvbnMuX19iaW5hcnlSZXNwb25zZSkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlIGFzIHVua25vd24gYXMgVDtcbiAgICB9XG5cbiAgICBjb25zdCBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKTtcbiAgICBjb25zdCBtZWRpYVR5cGUgPSBjb250ZW50VHlwZT8uc3BsaXQoJzsnKVswXT8udHJpbSgpO1xuICAgIGNvbnN0IGlzSlNPTiA9IG1lZGlhVHlwZT8uaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKSB8fCBtZWRpYVR5cGU/LmVuZHNXaXRoKCcranNvbicpO1xuICAgIGlmIChpc0pTT04pIHtcbiAgICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICByZXR1cm4ganNvbiBhcyBUO1xuICAgIH1cblxuICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgcmV0dXJuIHRleHQgYXMgdW5rbm93biBhcyBUO1xuICB9KSgpO1xuICBsb2dnZXJGb3IoY2xpZW50KS5kZWJ1ZyhcbiAgICBgWyR7cmVxdWVzdExvZ0lEfV0gcmVzcG9uc2UgcGFyc2VkYCxcbiAgICBmb3JtYXRSZXF1ZXN0RGV0YWlscyh7XG4gICAgICByZXRyeU9mUmVxdWVzdExvZ0lELFxuICAgICAgdXJsOiByZXNwb25zZS51cmwsXG4gICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIGJvZHksXG4gICAgICBkdXJhdGlvbk1zOiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lLFxuICAgIH0pLFxuICApO1xuICByZXR1cm4gYm9keTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5cbmltcG9ydCB7IHR5cGUgQmFzZUdlbWluaU5leHRHZW5BUElDbGllbnQgfSBmcm9tICcuLi9jbGllbnQuanMnO1xuXG5pbXBvcnQgeyB0eXBlIFByb21pc2VPclZhbHVlIH0gZnJvbSAnLi4vaW50ZXJuYWwvdHlwZXMuanMnO1xuaW1wb3J0IHsgQVBJUmVzcG9uc2VQcm9wcywgZGVmYXVsdFBhcnNlUmVzcG9uc2UgfSBmcm9tICcuLi9pbnRlcm5hbC9wYXJzZS5qcyc7XG5cbi8qKlxuICogQSBzdWJjbGFzcyBvZiBgUHJvbWlzZWAgcHJvdmlkaW5nIGFkZGl0aW9uYWwgaGVscGVyIG1ldGhvZHNcbiAqIGZvciBpbnRlcmFjdGluZyB3aXRoIHRoZSBTREsuXG4gKi9cbmV4cG9ydCBjbGFzcyBBUElQcm9taXNlPFQ+IGV4dGVuZHMgUHJvbWlzZTxUPiB7XG4gIHByaXZhdGUgcGFyc2VkUHJvbWlzZTogUHJvbWlzZTxUPiB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBjbGllbnQ6IEJhc2VHZW1pbmlOZXh0R2VuQVBJQ2xpZW50O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGNsaWVudDogQmFzZUdlbWluaU5leHRHZW5BUElDbGllbnQsXG4gICAgcHJpdmF0ZSByZXNwb25zZVByb21pc2U6IFByb21pc2U8QVBJUmVzcG9uc2VQcm9wcz4sXG4gICAgcHJpdmF0ZSBwYXJzZVJlc3BvbnNlOiAoXG4gICAgICBjbGllbnQ6IEJhc2VHZW1pbmlOZXh0R2VuQVBJQ2xpZW50LFxuICAgICAgcHJvcHM6IEFQSVJlc3BvbnNlUHJvcHMsXG4gICAgKSA9PiBQcm9taXNlT3JWYWx1ZTxUPiA9IGRlZmF1bHRQYXJzZVJlc3BvbnNlLFxuICApIHtcbiAgICBzdXBlcigocmVzb2x2ZSkgPT4ge1xuICAgICAgLy8gdGhpcyBpcyBtYXliZSBhIGJpdCB3ZWlyZCBidXQgdGhpcyBoYXMgdG8gYmUgYSBuby1vcCB0byBub3QgaW1wbGljaXRseVxuICAgICAgLy8gcGFyc2UgdGhlIHJlc3BvbnNlIGJvZHk7IGluc3RlYWQgLnRoZW4sIC5jYXRjaCwgLmZpbmFsbHkgYXJlIG92ZXJyaWRkZW5cbiAgICAgIC8vIHRvIHBhcnNlIHRoZSByZXNwb25zZVxuICAgICAgcmVzb2x2ZShudWxsIGFzIGFueSk7XG4gICAgfSk7XG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gIH1cblxuICBfdGhlblVud3JhcDxVPih0cmFuc2Zvcm06IChkYXRhOiBULCBwcm9wczogQVBJUmVzcG9uc2VQcm9wcykgPT4gVSk6IEFQSVByb21pc2U8VT4ge1xuICAgIHJldHVybiBuZXcgQVBJUHJvbWlzZSh0aGlzLmNsaWVudCwgdGhpcy5yZXNwb25zZVByb21pc2UsIGFzeW5jIChjbGllbnQsIHByb3BzKSA9PlxuICAgICAgdHJhbnNmb3JtKGF3YWl0IHRoaXMucGFyc2VSZXNwb25zZShjbGllbnQsIHByb3BzKSwgcHJvcHMpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgcmF3IGBSZXNwb25zZWAgaW5zdGFuY2UgaW5zdGVhZCBvZiBwYXJzaW5nIHRoZSByZXNwb25zZVxuICAgKiBkYXRhLlxuICAgKlxuICAgKiBJZiB5b3Ugd2FudCB0byBwYXJzZSB0aGUgcmVzcG9uc2UgYm9keSBidXQgc3RpbGwgZ2V0IHRoZSBgUmVzcG9uc2VgXG4gICAqIGluc3RhbmNlLCB5b3UgY2FuIHVzZSB7QGxpbmsgd2l0aFJlc3BvbnNlKCl9LlxuICAgKlxuICAgKiDwn5GLIEdldHRpbmcgdGhlIHdyb25nIFR5cGVTY3JpcHQgdHlwZSBmb3IgYFJlc3BvbnNlYD9cbiAgICogVHJ5IHNldHRpbmcgYFwibW9kdWxlUmVzb2x1dGlvblwiOiBcIk5vZGVOZXh0XCJgIG9yIGFkZCBgXCJsaWJcIjogW1wiRE9NXCJdYFxuICAgKiB0byB5b3VyIGB0c2NvbmZpZy5qc29uYC5cbiAgICovXG4gIGFzUmVzcG9uc2UoKTogUHJvbWlzZTxSZXNwb25zZT4ge1xuICAgIHJldHVybiB0aGlzLnJlc3BvbnNlUHJvbWlzZS50aGVuKChwKSA9PiBwLnJlc3BvbnNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBwYXJzZWQgcmVzcG9uc2UgZGF0YSBhbmQgdGhlIHJhdyBgUmVzcG9uc2VgIGluc3RhbmNlLlxuICAgKlxuICAgKiBJZiB5b3UganVzdCB3YW50IHRvIGdldCB0aGUgcmF3IGBSZXNwb25zZWAgaW5zdGFuY2Ugd2l0aG91dCBwYXJzaW5nIGl0LFxuICAgKiB5b3UgY2FuIHVzZSB7QGxpbmsgYXNSZXNwb25zZSgpfS5cbiAgICpcbiAgICog8J+RiyBHZXR0aW5nIHRoZSB3cm9uZyBUeXBlU2NyaXB0IHR5cGUgZm9yIGBSZXNwb25zZWA/XG4gICAqIFRyeSBzZXR0aW5nIGBcIm1vZHVsZVJlc29sdXRpb25cIjogXCJOb2RlTmV4dFwiYCBvciBhZGQgYFwibGliXCI6IFtcIkRPTVwiXWBcbiAgICogdG8geW91ciBgdHNjb25maWcuanNvbmAuXG4gICAqL1xuICBhc3luYyB3aXRoUmVzcG9uc2UoKTogUHJvbWlzZTx7IGRhdGE6IFQ7IHJlc3BvbnNlOiBSZXNwb25zZSB9PiB7XG4gICAgY29uc3QgW2RhdGEsIHJlc3BvbnNlXSA9IGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLnBhcnNlKCksIHRoaXMuYXNSZXNwb25zZSgpXSk7XG4gICAgcmV0dXJuIHsgZGF0YSwgcmVzcG9uc2UgfTtcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2UoKTogUHJvbWlzZTxUPiB7XG4gICAgaWYgKCF0aGlzLnBhcnNlZFByb21pc2UpIHtcbiAgICAgIHRoaXMucGFyc2VkUHJvbWlzZSA9IHRoaXMucmVzcG9uc2VQcm9taXNlLnRoZW4oKGRhdGEpID0+IHRoaXMucGFyc2VSZXNwb25zZSh0aGlzLmNsaWVudCwgZGF0YSkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wYXJzZWRQcm9taXNlO1xuICB9XG5cbiAgb3ZlcnJpZGUgdGhlbjxUUmVzdWx0MSA9IFQsIFRSZXN1bHQyID0gbmV2ZXI+KFxuICAgIG9uZnVsZmlsbGVkPzogKCh2YWx1ZTogVCkgPT4gVFJlc3VsdDEgfCBQcm9taXNlTGlrZTxUUmVzdWx0MT4pIHwgdW5kZWZpbmVkIHwgbnVsbCxcbiAgICBvbnJlamVjdGVkPzogKChyZWFzb246IGFueSkgPT4gVFJlc3VsdDIgfCBQcm9taXNlTGlrZTxUUmVzdWx0Mj4pIHwgdW5kZWZpbmVkIHwgbnVsbCxcbiAgKTogUHJvbWlzZTxUUmVzdWx0MSB8IFRSZXN1bHQyPiB7XG4gICAgcmV0dXJuIHRoaXMucGFyc2UoKS50aGVuKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKTtcbiAgfVxuXG4gIG92ZXJyaWRlIGNhdGNoPFRSZXN1bHQgPSBuZXZlcj4oXG4gICAgb25yZWplY3RlZD86ICgocmVhc29uOiBhbnkpID0+IFRSZXN1bHQgfCBQcm9taXNlTGlrZTxUUmVzdWx0PikgfCB1bmRlZmluZWQgfCBudWxsLFxuICApOiBQcm9taXNlPFQgfCBUUmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMucGFyc2UoKS5jYXRjaChvbnJlamVjdGVkKTtcbiAgfVxuXG4gIG92ZXJyaWRlIGZpbmFsbHkob25maW5hbGx5PzogKCgpID0+IHZvaWQpIHwgdW5kZWZpbmVkIHwgbnVsbCk6IFByb21pc2U8VD4ge1xuICAgIHJldHVybiB0aGlzLnBhcnNlKCkuZmluYWxseShvbmZpbmFsbHkpO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuXG5pbXBvcnQgeyBpc1JlYWRvbmx5QXJyYXkgfSBmcm9tICcuL3V0aWxzL3ZhbHVlcy5qcyc7XG5cbnR5cGUgSGVhZGVyVmFsdWUgPSBzdHJpbmcgfCB1bmRlZmluZWQgfCBudWxsO1xuZXhwb3J0IHR5cGUgSGVhZGVyc0xpa2UgPVxuICB8IEhlYWRlcnNcbiAgfCByZWFkb25seSBIZWFkZXJWYWx1ZVtdW11cbiAgfCBSZWNvcmQ8c3RyaW5nLCBIZWFkZXJWYWx1ZSB8IHJlYWRvbmx5IEhlYWRlclZhbHVlW10+XG4gIHwgdW5kZWZpbmVkXG4gIHwgbnVsbFxuICB8IE51bGxhYmxlSGVhZGVycztcblxuY29uc3QgYnJhbmRfcHJpdmF0ZU51bGxhYmxlSGVhZGVycyA9IC8qIEBfX1BVUkVfXyAqLyBTeW1ib2woJ2JyYW5kLnByaXZhdGVOdWxsYWJsZUhlYWRlcnMnKTtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIFVzZXJzIGNhbiBwYXNzIGV4cGxpY2l0IG51bGxzIHRvIHVuc2V0IGRlZmF1bHQgaGVhZGVycy4gV2hlbiB3ZSBwYXJzZSB0aGVtXG4gKiBpbnRvIGEgc3RhbmRhcmQgaGVhZGVycyB0eXBlIHdlIG5lZWQgdG8gcHJlc2VydmUgdGhhdCBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IHR5cGUgTnVsbGFibGVIZWFkZXJzID0ge1xuICAvKiogQnJhbmQgY2hlY2ssIHByZXZlbnQgdXNlcnMgZnJvbSBjcmVhdGluZyBhIE51bGxhYmxlSGVhZGVycy4gKi9cbiAgW2JyYW5kX3ByaXZhdGVOdWxsYWJsZUhlYWRlcnNdOiB0cnVlO1xuICAvKiogUGFyc2VkIGhlYWRlcnMuICovXG4gIHZhbHVlczogSGVhZGVycztcbiAgLyoqIFNldCBvZiBsb3dlcmNhc2UgaGVhZGVyIG5hbWVzIGV4cGxpY2l0bHkgc2V0IHRvIG51bGwuICovXG4gIG51bGxzOiBTZXQ8c3RyaW5nPjtcbn07XG5cbmZ1bmN0aW9uKiBpdGVyYXRlSGVhZGVycyhoZWFkZXJzOiBIZWFkZXJzTGlrZSk6IEl0ZXJhYmxlSXRlcmF0b3I8cmVhZG9ubHkgW3N0cmluZywgc3RyaW5nIHwgbnVsbF0+IHtcbiAgaWYgKCFoZWFkZXJzKSByZXR1cm47XG5cbiAgaWYgKGJyYW5kX3ByaXZhdGVOdWxsYWJsZUhlYWRlcnMgaW4gaGVhZGVycykge1xuICAgIGNvbnN0IHsgdmFsdWVzLCBudWxscyB9ID0gaGVhZGVycztcbiAgICB5aWVsZCogdmFsdWVzLmVudHJpZXMoKTtcbiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgbnVsbHMpIHtcbiAgICAgIHlpZWxkIFtuYW1lLCBudWxsXTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IHNob3VsZENsZWFyID0gZmFsc2U7XG4gIGxldCBpdGVyOiBJdGVyYWJsZTxyZWFkb25seSAoSGVhZGVyVmFsdWUgfCByZWFkb25seSBIZWFkZXJWYWx1ZVtdKVtdPjtcbiAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgaXRlciA9IGhlYWRlcnMuZW50cmllcygpO1xuICB9IGVsc2UgaWYgKGlzUmVhZG9ubHlBcnJheShoZWFkZXJzKSkge1xuICAgIGl0ZXIgPSBoZWFkZXJzO1xuICB9IGVsc2Uge1xuICAgIHNob3VsZENsZWFyID0gdHJ1ZTtcbiAgICBpdGVyID0gT2JqZWN0LmVudHJpZXMoaGVhZGVycyA/PyB7fSk7XG4gIH1cbiAgZm9yIChsZXQgcm93IG9mIGl0ZXIpIHtcbiAgICBjb25zdCBuYW1lID0gcm93WzBdO1xuICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4cGVjdGVkIGhlYWRlciBuYW1lIHRvIGJlIGEgc3RyaW5nJyk7XG4gICAgY29uc3QgdmFsdWVzID0gaXNSZWFkb25seUFycmF5KHJvd1sxXSkgPyByb3dbMV0gOiBbcm93WzFdXTtcbiAgICBsZXQgZGlkQ2xlYXIgPSBmYWxzZTtcbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuXG4gICAgICAvLyBPYmplY3RzIGtleXMgYWx3YXlzIG92ZXJ3cml0ZSBvbGRlciBoZWFkZXJzLCB0aGV5IG5ldmVyIGFwcGVuZC5cbiAgICAgIC8vIFlpZWxkIGEgbnVsbCB0byBjbGVhciB0aGUgaGVhZGVyIGJlZm9yZSBhZGRpbmcgdGhlIG5ldyB2YWx1ZXMuXG4gICAgICBpZiAoc2hvdWxkQ2xlYXIgJiYgIWRpZENsZWFyKSB7XG4gICAgICAgIGRpZENsZWFyID0gdHJ1ZTtcbiAgICAgICAgeWllbGQgW25hbWUsIG51bGxdO1xuICAgICAgfVxuICAgICAgeWllbGQgW25hbWUsIHZhbHVlXTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGJ1aWxkSGVhZGVycyA9IChuZXdIZWFkZXJzOiBIZWFkZXJzTGlrZVtdKTogTnVsbGFibGVIZWFkZXJzID0+IHtcbiAgY29uc3QgdGFyZ2V0SGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gIGNvbnN0IG51bGxIZWFkZXJzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gIGZvciAoY29uc3QgaGVhZGVycyBvZiBuZXdIZWFkZXJzKSB7XG4gICAgY29uc3Qgc2VlbkhlYWRlcnMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICBmb3IgKGNvbnN0IFtuYW1lLCB2YWx1ZV0gb2YgaXRlcmF0ZUhlYWRlcnMoaGVhZGVycykpIHtcbiAgICAgIGNvbnN0IGxvd2VyTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICghc2VlbkhlYWRlcnMuaGFzKGxvd2VyTmFtZSkpIHtcbiAgICAgICAgdGFyZ2V0SGVhZGVycy5kZWxldGUobmFtZSk7XG4gICAgICAgIHNlZW5IZWFkZXJzLmFkZChsb3dlck5hbWUpO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHRhcmdldEhlYWRlcnMuZGVsZXRlKG5hbWUpO1xuICAgICAgICBudWxsSGVhZGVycy5hZGQobG93ZXJOYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldEhlYWRlcnMuYXBwZW5kKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgbnVsbEhlYWRlcnMuZGVsZXRlKGxvd2VyTmFtZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB7IFticmFuZF9wcml2YXRlTnVsbGFibGVIZWFkZXJzXTogdHJ1ZSwgdmFsdWVzOiB0YXJnZXRIZWFkZXJzLCBudWxsczogbnVsbEhlYWRlcnMgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc0VtcHR5SGVhZGVycyA9IChoZWFkZXJzOiBIZWFkZXJzTGlrZSkgPT4ge1xuICBmb3IgKGNvbnN0IF8gb2YgaXRlcmF0ZUhlYWRlcnMoaGVhZGVycykpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIHRydWU7XG59O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuLyoqXG4gKiBSZWFkIGFuIGVudmlyb25tZW50IHZhcmlhYmxlLlxuICpcbiAqIFRyaW1zIGJlZ2lubmluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS5cbiAqXG4gKiBXaWxsIHJldHVybiB1bmRlZmluZWQgaWYgdGhlIGVudmlyb25tZW50IHZhcmlhYmxlIGRvZXNuJ3QgZXhpc3Qgb3IgY2Fubm90IGJlIGFjY2Vzc2VkLlxuICovXG5leHBvcnQgY29uc3QgcmVhZEVudiA9IChlbnY6IHN0cmluZyk6IHN0cmluZyB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmICh0eXBlb2YgKGdsb2JhbFRoaXMgYXMgYW55KS5wcm9jZXNzICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiAoZ2xvYmFsVGhpcyBhcyBhbnkpLnByb2Nlc3MuZW52Py5bZW52XT8udHJpbSgpID8/IHVuZGVmaW5lZDtcbiAgfVxuICBpZiAodHlwZW9mIChnbG9iYWxUaGlzIGFzIGFueSkuRGVubyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gKGdsb2JhbFRoaXMgYXMgYW55KS5EZW5vLmVudj8uZ2V0Py4oZW52KT8udHJpbSgpO1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cblxuaW1wb3J0IHR5cGUgeyBSZXF1ZXN0SW5pdCwgUmVxdWVzdEluZm8sIEJvZHlJbml0IH0gZnJvbSAnLi9pbnRlcm5hbC9idWlsdGluLXR5cGVzLmpzJztcbmltcG9ydCB0eXBlIHsgSFRUUE1ldGhvZCwgUHJvbWlzZU9yVmFsdWUsIE1lcmdlZFJlcXVlc3RJbml0LCBGaW5hbGl6ZWRSZXF1ZXN0SW5pdCB9IGZyb20gJy4vaW50ZXJuYWwvdHlwZXMuanMnO1xuaW1wb3J0IHsgdXVpZDQgfSBmcm9tICcuL2ludGVybmFsL3V0aWxzL3V1aWQuanMnO1xuaW1wb3J0IHsgdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIsIGlzQWJzb2x1dGVVUkwsIHNhZmVKU09OIH0gZnJvbSAnLi9pbnRlcm5hbC91dGlscy92YWx1ZXMuanMnO1xuaW1wb3J0IHsgc2xlZXAgfSBmcm9tICcuL2ludGVybmFsL3V0aWxzL3NsZWVwLmpzJztcbmV4cG9ydCB0eXBlIHsgTG9nZ2VyLCBMb2dMZXZlbCB9IGZyb20gJy4vaW50ZXJuYWwvdXRpbHMvbG9nLmpzJztcbmltcG9ydCB7IGNhc3RUb0Vycm9yLCBpc0Fib3J0RXJyb3IgfSBmcm9tICcuL2ludGVybmFsL2Vycm9ycy5qcyc7XG5pbXBvcnQgdHlwZSB7IEFQSVJlc3BvbnNlUHJvcHMgfSBmcm9tICcuL2ludGVybmFsL3BhcnNlLmpzJztcbmltcG9ydCB7IGdldFBsYXRmb3JtSGVhZGVycyB9IGZyb20gJy4vaW50ZXJuYWwvZGV0ZWN0LXBsYXRmb3JtLmpzJztcbmltcG9ydCAqIGFzIFNoaW1zIGZyb20gJy4vaW50ZXJuYWwvc2hpbXMuanMnO1xuaW1wb3J0ICogYXMgT3B0cyBmcm9tICcuL2ludGVybmFsL3JlcXVlc3Qtb3B0aW9ucy5qcyc7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi92ZXJzaW9uLmpzJztcbmltcG9ydCAqIGFzIEVycm9ycyBmcm9tICcuL2NvcmUvZXJyb3IuanMnO1xuaW1wb3J0ICogYXMgVXBsb2FkcyBmcm9tICcuL2NvcmUvdXBsb2Fkcy5qcyc7XG5pbXBvcnQgKiBhcyBBUEkgZnJvbSAnLi9yZXNvdXJjZXMvaW5kZXguanMnO1xuaW1wb3J0IHsgQVBJUHJvbWlzZSB9IGZyb20gJy4vY29yZS9hcGktcHJvbWlzZS5qcyc7XG5pbXBvcnQge1xuICBBbGxvd2VkVG9vbHMsXG4gIEFubm90YXRpb24sXG4gIEF1ZGlvQ29udGVudCxcbiAgQXVkaW9NaW1lVHlwZSxcbiAgQ29kZUV4ZWN1dGlvbkNhbGxBcmd1bWVudHMsXG4gIENvZGVFeGVjdXRpb25DYWxsQ29udGVudCxcbiAgQ29kZUV4ZWN1dGlvblJlc3VsdENvbnRlbnQsXG4gIENvbnRlbnREZWx0YSxcbiAgQ29udGVudFN0YXJ0LFxuICBDb250ZW50U3RvcCxcbiAgQ3JlYXRlQWdlbnRJbnRlcmFjdGlvblBhcmFtc05vblN0cmVhbWluZyxcbiAgQ3JlYXRlQWdlbnRJbnRlcmFjdGlvblBhcmFtc1N0cmVhbWluZyxcbiAgQ3JlYXRlTW9kZWxJbnRlcmFjdGlvblBhcmFtc05vblN0cmVhbWluZyxcbiAgQ3JlYXRlTW9kZWxJbnRlcmFjdGlvblBhcmFtc1N0cmVhbWluZyxcbiAgRGVlcFJlc2VhcmNoQWdlbnRDb25maWcsXG4gIERvY3VtZW50Q29udGVudCxcbiAgRG9jdW1lbnRNaW1lVHlwZSxcbiAgRHluYW1pY0FnZW50Q29uZmlnLFxuICBFcnJvckV2ZW50LFxuICBGaWxlU2VhcmNoUmVzdWx0Q29udGVudCxcbiAgRnVuY3Rpb24sXG4gIEZ1bmN0aW9uQ2FsbENvbnRlbnQsXG4gIEZ1bmN0aW9uUmVzdWx0Q29udGVudCxcbiAgR2VuZXJhdGlvbkNvbmZpZyxcbiAgR29vZ2xlU2VhcmNoQ2FsbEFyZ3VtZW50cyxcbiAgR29vZ2xlU2VhcmNoQ2FsbENvbnRlbnQsXG4gIEdvb2dsZVNlYXJjaFJlc3VsdCxcbiAgR29vZ2xlU2VhcmNoUmVzdWx0Q29udGVudCxcbiAgSW1hZ2VDb250ZW50LFxuICBJbWFnZU1pbWVUeXBlLFxuICBJbnRlcmFjdGlvbixcbiAgSW50ZXJhY3Rpb25DYW5jZWxQYXJhbXMsXG4gIEludGVyYWN0aW9uQ3JlYXRlUGFyYW1zLFxuICBJbnRlcmFjdGlvbkRlbGV0ZVBhcmFtcyxcbiAgSW50ZXJhY3Rpb25EZWxldGVSZXNwb25zZSxcbiAgSW50ZXJhY3Rpb25FdmVudCxcbiAgSW50ZXJhY3Rpb25HZXRQYXJhbXMsXG4gIEludGVyYWN0aW9uR2V0UGFyYW1zTm9uU3RyZWFtaW5nLFxuICBJbnRlcmFjdGlvbkdldFBhcmFtc1N0cmVhbWluZyxcbiAgSW50ZXJhY3Rpb25TU0VFdmVudCxcbiAgSW50ZXJhY3Rpb25TdGF0dXNVcGRhdGUsXG4gIEludGVyYWN0aW9ucyxcbiAgTUNQU2VydmVyVG9vbENhbGxDb250ZW50LFxuICBNQ1BTZXJ2ZXJUb29sUmVzdWx0Q29udGVudCxcbiAgTW9kZWwsXG4gIFNwZWVjaENvbmZpZyxcbiAgVGV4dENvbnRlbnQsXG4gIFRoaW5raW5nTGV2ZWwsXG4gIFRob3VnaHRDb250ZW50LFxuICBUb29sLFxuICBUb29sQ2hvaWNlLFxuICBUb29sQ2hvaWNlQ29uZmlnLFxuICBUb29sQ2hvaWNlVHlwZSxcbiAgVHVybixcbiAgVVJMQ29udGV4dENhbGxBcmd1bWVudHMsXG4gIFVSTENvbnRleHRDYWxsQ29udGVudCxcbiAgVVJMQ29udGV4dFJlc3VsdCxcbiAgVVJMQ29udGV4dFJlc3VsdENvbnRlbnQsXG4gIFVzYWdlLFxuICBWaWRlb0NvbnRlbnQsXG4gIFZpZGVvTWltZVR5cGUsXG59IGZyb20gJy4vcmVzb3VyY2VzL2ludGVyYWN0aW9ucy5qcyc7XG5pbXBvcnQgeyB0eXBlIEZldGNoIH0gZnJvbSAnLi9pbnRlcm5hbC9idWlsdGluLXR5cGVzLmpzJztcbmltcG9ydCB7IEhlYWRlcnNMaWtlLCBOdWxsYWJsZUhlYWRlcnMsIGJ1aWxkSGVhZGVycyB9IGZyb20gJy4vaW50ZXJuYWwvaGVhZGVycy5qcyc7XG5pbXBvcnQgeyBGaW5hbFJlcXVlc3RPcHRpb25zLCBSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJy4vaW50ZXJuYWwvcmVxdWVzdC1vcHRpb25zLmpzJztcbmltcG9ydCB7IHJlYWRFbnYgfSBmcm9tICcuL2ludGVybmFsL3V0aWxzL2Vudi5qcyc7XG5pbXBvcnQge1xuICB0eXBlIExvZ0xldmVsLFxuICB0eXBlIExvZ2dlcixcbiAgZm9ybWF0UmVxdWVzdERldGFpbHMsXG4gIGxvZ2dlckZvcixcbiAgcGFyc2VMb2dMZXZlbCxcbn0gZnJvbSAnLi9pbnRlcm5hbC91dGlscy9sb2cuanMnO1xuaW1wb3J0IHsgaXNFbXB0eU9iaiB9IGZyb20gJy4vaW50ZXJuYWwvdXRpbHMvdmFsdWVzLmpzJztcbmltcG9ydCB7IEdlbWluaU5leHRHZW5BUElDbGllbnRBZGFwdGVyIH0gZnJvbSAnLi9jbGllbnQtYWRhcHRlci5qcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2xpZW50T3B0aW9ucyB7XG4gIC8qKlxuICAgKiBEZWZhdWx0cyB0byBwcm9jZXNzLmVudlsnR0VNSU5JX0FQSV9LRVknXS5cbiAgICovXG4gIGFwaUtleT86IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQ7XG5cbiAgYXBpVmVyc2lvbj86IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGRlZmF1bHQgYmFzZSBVUkwgZm9yIHRoZSBBUEksIGUuZy4sIFwiaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vdjIvXCJcbiAgICpcbiAgICogRGVmYXVsdHMgdG8gcHJvY2Vzcy5lbnZbJ0dFTUlOSV9ORVhUX0dFTl9BUElfQkFTRV9VUkwnXS5cbiAgICovXG4gIGJhc2VVUkw/OiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSAoaW4gbWlsbGlzZWNvbmRzKSB0aGF0IHRoZSBjbGllbnQgc2hvdWxkIHdhaXQgZm9yIGEgcmVzcG9uc2VcbiAgICogZnJvbSB0aGUgc2VydmVyIGJlZm9yZSB0aW1pbmcgb3V0IGEgc2luZ2xlIHJlcXVlc3QuXG4gICAqXG4gICAqIE5vdGUgdGhhdCByZXF1ZXN0IHRpbWVvdXRzIGFyZSByZXRyaWVkIGJ5IGRlZmF1bHQsIHNvIGluIGEgd29yc3QtY2FzZSBzY2VuYXJpbyB5b3UgbWF5IHdhaXRcbiAgICogbXVjaCBsb25nZXIgdGhhbiB0aGlzIHRpbWVvdXQgYmVmb3JlIHRoZSBwcm9taXNlIHN1Y2NlZWRzIG9yIGZhaWxzLlxuICAgKlxuICAgKiBAdW5pdCBtaWxsaXNlY29uZHNcbiAgICovXG4gIHRpbWVvdXQ/OiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIGBSZXF1ZXN0SW5pdGAgb3B0aW9ucyB0byBiZSBwYXNzZWQgdG8gYGZldGNoYCBjYWxscy5cbiAgICogUHJvcGVydGllcyB3aWxsIGJlIG92ZXJyaWRkZW4gYnkgcGVyLXJlcXVlc3QgYGZldGNoT3B0aW9uc2AuXG4gICAqL1xuICBmZXRjaE9wdGlvbnM/OiBNZXJnZWRSZXF1ZXN0SW5pdCB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogU3BlY2lmeSBhIGN1c3RvbSBgZmV0Y2hgIGZ1bmN0aW9uIGltcGxlbWVudGF0aW9uLlxuICAgKlxuICAgKiBJZiBub3QgcHJvdmlkZWQsIHdlIGV4cGVjdCB0aGF0IGBmZXRjaGAgaXMgZGVmaW5lZCBnbG9iYWxseS5cbiAgICovXG4gIGZldGNoPzogRmV0Y2ggfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiB0aW1lcyB0aGF0IHRoZSBjbGllbnQgd2lsbCByZXRyeSBhIHJlcXVlc3QgaW4gY2FzZSBvZiBhXG4gICAqIHRlbXBvcmFyeSBmYWlsdXJlLCBsaWtlIGEgbmV0d29yayBlcnJvciBvciBhIDVYWCBlcnJvciBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAqXG4gICAqIEBkZWZhdWx0IDJcbiAgICovXG4gIG1heFJldHJpZXM/OiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIERlZmF1bHQgaGVhZGVycyB0byBpbmNsdWRlIHdpdGggZXZlcnkgcmVxdWVzdCB0byB0aGUgQVBJLlxuICAgKlxuICAgKiBUaGVzZSBjYW4gYmUgcmVtb3ZlZCBpbiBpbmRpdmlkdWFsIHJlcXVlc3RzIGJ5IGV4cGxpY2l0bHkgc2V0dGluZyB0aGVcbiAgICogaGVhZGVyIHRvIGBudWxsYCBpbiByZXF1ZXN0IG9wdGlvbnMuXG4gICAqL1xuICBkZWZhdWx0SGVhZGVycz86IEhlYWRlcnNMaWtlIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHF1ZXJ5IHBhcmFtZXRlcnMgdG8gaW5jbHVkZSB3aXRoIGV2ZXJ5IHJlcXVlc3QgdG8gdGhlIEFQSS5cbiAgICpcbiAgICogVGhlc2UgY2FuIGJlIHJlbW92ZWQgaW4gaW5kaXZpZHVhbCByZXF1ZXN0cyBieSBleHBsaWNpdGx5IHNldHRpbmcgdGhlXG4gICAqIHBhcmFtIHRvIGB1bmRlZmluZWRgIGluIHJlcXVlc3Qgb3B0aW9ucy5cbiAgICovXG4gIGRlZmF1bHRRdWVyeT86IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD4gfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbG9nIGxldmVsLlxuICAgKlxuICAgKiBEZWZhdWx0cyB0byBwcm9jZXNzLmVudlsnR0VNSU5JX05FWFRfR0VOX0FQSV9MT0cnXSBvciAnd2FybicgaWYgaXQgaXNuJ3Qgc2V0LlxuICAgKi9cbiAgbG9nTGV2ZWw/OiBMb2dMZXZlbCB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogU2V0IHRoZSBsb2dnZXIuXG4gICAqXG4gICAqIERlZmF1bHRzIHRvIGdsb2JhbFRoaXMuY29uc29sZS5cbiAgICovXG4gIGxvZ2dlcj86IExvZ2dlciB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogVGhlIGFkYXB0ZXIgdG8gdGhlIHBhcmVudCBBUEkgY2xpZW50IGluc3RhbmNlIChmb3IgYWNjZXNzaW5nIGF1dGgsIHByb2plY3QsIGxvY2F0aW9uKVxuICAgKi9cbiAgY2xpZW50QWRhcHRlcjogR2VtaW5pTmV4dEdlbkFQSUNsaWVudEFkYXB0ZXI7XG59XG5cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgR2VtaW5pIE5leHQgR2VuIEFQSSBBUEkgY2xpZW50cy5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VHZW1pbmlOZXh0R2VuQVBJQ2xpZW50IHtcbiAgYXBpS2V5OiBzdHJpbmcgfCBudWxsO1xuICBhcGlWZXJzaW9uOiBzdHJpbmc7XG5cbiAgYmFzZVVSTDogc3RyaW5nO1xuICBtYXhSZXRyaWVzOiBudW1iZXI7XG4gIHRpbWVvdXQ6IG51bWJlcjtcbiAgbG9nZ2VyOiBMb2dnZXI7XG4gIGxvZ0xldmVsOiBMb2dMZXZlbCB8IHVuZGVmaW5lZDtcbiAgZmV0Y2hPcHRpb25zOiBNZXJnZWRSZXF1ZXN0SW5pdCB8IHVuZGVmaW5lZDtcblxuICBwcml2YXRlIGZldGNoOiBGZXRjaDtcbiAgcHJpdmF0ZSBlbmNvZGVyOiBPcHRzLlJlcXVlc3RFbmNvZGVyO1xuICBwcm90ZWN0ZWQgaWRlbXBvdGVuY3lIZWFkZXI/OiBzdHJpbmc7XG4gIHByaXZhdGUgX29wdGlvbnM6IENsaWVudE9wdGlvbnM7XG4gIHByaXZhdGUgY2xpZW50QWRhcHRlcjogR2VtaW5pTmV4dEdlbkFQSUNsaWVudEFkYXB0ZXI7XG5cbiAgLyoqXG4gICAqIEFQSSBDbGllbnQgZm9yIGludGVyZmFjaW5nIHdpdGggdGhlIEdlbWluaSBOZXh0IEdlbiBBUEkgQVBJLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtvcHRzLmFwaUtleT1wcm9jZXNzLmVudlsnR0VNSU5JX0FQSV9LRVknXSA/PyBudWxsXVxuICAgKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gW29wdHMuYXBpVmVyc2lvbj12MWJldGFdXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5iYXNlVVJMPXByb2Nlc3MuZW52WydHRU1JTklfTkVYVF9HRU5fQVBJX0JBU0VfVVJMJ10gPz8gaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb21dIC0gT3ZlcnJpZGUgdGhlIGRlZmF1bHQgYmFzZSBVUkwgZm9yIHRoZSBBUEkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy50aW1lb3V0PTEgbWludXRlXSAtIFRoZSBtYXhpbXVtIGFtb3VudCBvZiB0aW1lIChpbiBtaWxsaXNlY29uZHMpIHRoZSBjbGllbnQgd2lsbCB3YWl0IGZvciBhIHJlc3BvbnNlIGJlZm9yZSB0aW1pbmcgb3V0LlxuICAgKiBAcGFyYW0ge01lcmdlZFJlcXVlc3RJbml0fSBbb3B0cy5mZXRjaE9wdGlvbnNdIC0gQWRkaXRpb25hbCBgUmVxdWVzdEluaXRgIG9wdGlvbnMgdG8gYmUgcGFzc2VkIHRvIGBmZXRjaGAgY2FsbHMuXG4gICAqIEBwYXJhbSB7RmV0Y2h9IFtvcHRzLmZldGNoXSAtIFNwZWNpZnkgYSBjdXN0b20gYGZldGNoYCBmdW5jdGlvbiBpbXBsZW1lbnRhdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1heFJldHJpZXM9Ml0gLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgdGltZXMgdGhlIGNsaWVudCB3aWxsIHJldHJ5IGEgcmVxdWVzdC5cbiAgICogQHBhcmFtIHtIZWFkZXJzTGlrZX0gb3B0cy5kZWZhdWx0SGVhZGVycyAtIERlZmF1bHQgaGVhZGVycyB0byBpbmNsdWRlIHdpdGggZXZlcnkgcmVxdWVzdCB0byB0aGUgQVBJLlxuICAgKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD59IG9wdHMuZGVmYXVsdFF1ZXJ5IC0gRGVmYXVsdCBxdWVyeSBwYXJhbWV0ZXJzIHRvIGluY2x1ZGUgd2l0aCBldmVyeSByZXF1ZXN0IHRvIHRoZSBBUEkuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgYmFzZVVSTCA9IHJlYWRFbnYoJ0dFTUlOSV9ORVhUX0dFTl9BUElfQkFTRV9VUkwnKSxcbiAgICBhcGlLZXkgPSByZWFkRW52KCdHRU1JTklfQVBJX0tFWScpID8/IG51bGwsXG4gICAgYXBpVmVyc2lvbiA9ICd2MWJldGEnLFxuICAgIC4uLm9wdHNcbiAgfTogQ2xpZW50T3B0aW9ucykge1xuICAgIGNvbnN0IG9wdGlvbnM6IENsaWVudE9wdGlvbnMgPSB7XG4gICAgICBhcGlLZXksXG4gICAgICBhcGlWZXJzaW9uLFxuICAgICAgLi4ub3B0cyxcbiAgICAgIGJhc2VVUkw6IGJhc2VVUkwgfHwgYGh0dHBzOi8vZ2VuZXJhdGl2ZWxhbmd1YWdlLmdvb2dsZWFwaXMuY29tYCxcbiAgICB9O1xuXG4gICAgdGhpcy5iYXNlVVJMID0gb3B0aW9ucy5iYXNlVVJMITtcbiAgICB0aGlzLnRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQgPz8gQmFzZUdlbWluaU5leHRHZW5BUElDbGllbnQuREVGQVVMVF9USU1FT1VUIC8qIDEgbWludXRlICovO1xuICAgIHRoaXMubG9nZ2VyID0gb3B0aW9ucy5sb2dnZXIgPz8gY29uc29sZTtcbiAgICBjb25zdCBkZWZhdWx0TG9nTGV2ZWwgPSAnd2Fybic7XG4gICAgLy8gU2V0IGRlZmF1bHQgbG9nTGV2ZWwgZWFybHkgc28gdGhhdCB3ZSBjYW4gbG9nIGEgd2FybmluZyBpbiBwYXJzZUxvZ0xldmVsLlxuICAgIHRoaXMubG9nTGV2ZWwgPSBkZWZhdWx0TG9nTGV2ZWw7XG4gICAgdGhpcy5sb2dMZXZlbCA9XG4gICAgICBwYXJzZUxvZ0xldmVsKG9wdGlvbnMubG9nTGV2ZWwsICdDbGllbnRPcHRpb25zLmxvZ0xldmVsJywgdGhpcykgPz9cbiAgICAgIHBhcnNlTG9nTGV2ZWwocmVhZEVudignR0VNSU5JX05FWFRfR0VOX0FQSV9MT0cnKSwgXCJwcm9jZXNzLmVudlsnR0VNSU5JX05FWFRfR0VOX0FQSV9MT0cnXVwiLCB0aGlzKSA/P1xuICAgICAgZGVmYXVsdExvZ0xldmVsO1xuICAgIHRoaXMuZmV0Y2hPcHRpb25zID0gb3B0aW9ucy5mZXRjaE9wdGlvbnM7XG4gICAgdGhpcy5tYXhSZXRyaWVzID0gb3B0aW9ucy5tYXhSZXRyaWVzID8/IDI7XG4gICAgdGhpcy5mZXRjaCA9IG9wdGlvbnMuZmV0Y2ggPz8gU2hpbXMuZ2V0RGVmYXVsdEZldGNoKCk7XG4gICAgdGhpcy5lbmNvZGVyID0gT3B0cy5GYWxsYmFja0VuY29kZXI7XG5cbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcblxuICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5O1xuICAgIHRoaXMuYXBpVmVyc2lvbiA9IGFwaVZlcnNpb247XG4gICAgdGhpcy5jbGllbnRBZGFwdGVyID0gb3B0aW9ucy5jbGllbnRBZGFwdGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBjbGllbnQgaW5zdGFuY2UgcmUtdXNpbmcgdGhlIHNhbWUgb3B0aW9ucyBnaXZlbiB0byB0aGUgY3VycmVudCBjbGllbnQgd2l0aCBvcHRpb25hbCBvdmVycmlkaW5nLlxuICAgKi9cbiAgd2l0aE9wdGlvbnMob3B0aW9uczogUGFydGlhbDxDbGllbnRPcHRpb25zPik6IHRoaXMge1xuICAgIGNvbnN0IGNsaWVudCA9IG5ldyAodGhpcy5jb25zdHJ1Y3RvciBhcyBhbnkgYXMgbmV3IChwcm9wczogQ2xpZW50T3B0aW9ucykgPT4gdHlwZW9mIHRoaXMpKHtcbiAgICAgIC4uLnRoaXMuX29wdGlvbnMsXG4gICAgICBiYXNlVVJMOiB0aGlzLmJhc2VVUkwsXG4gICAgICBtYXhSZXRyaWVzOiB0aGlzLm1heFJldHJpZXMsXG4gICAgICB0aW1lb3V0OiB0aGlzLnRpbWVvdXQsXG4gICAgICBsb2dnZXI6IHRoaXMubG9nZ2VyLFxuICAgICAgbG9nTGV2ZWw6IHRoaXMubG9nTGV2ZWwsXG4gICAgICBmZXRjaDogdGhpcy5mZXRjaCxcbiAgICAgIGZldGNoT3B0aW9uczogdGhpcy5mZXRjaE9wdGlvbnMsXG4gICAgICBhcGlLZXk6IHRoaXMuYXBpS2V5LFxuICAgICAgYXBpVmVyc2lvbjogdGhpcy5hcGlWZXJzaW9uLFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICB9KTtcbiAgICByZXR1cm4gY2xpZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIHdoZXRoZXIgdGhlIGJhc2UgVVJMIGlzIHNldCB0byBpdHMgZGVmYXVsdC5cbiAgICovXG4gIHByaXZhdGUgYmFzZVVSTE92ZXJyaWRkZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuYmFzZVVSTCAhPT0gJ2h0dHBzOi8vZ2VuZXJhdGl2ZWxhbmd1YWdlLmdvb2dsZWFwaXMuY29tJztcbiAgfVxuXG4gIHByb3RlY3RlZCBkZWZhdWx0UXVlcnkoKTogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPiB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuX29wdGlvbnMuZGVmYXVsdFF1ZXJ5O1xuICB9XG5cbiAgcHJvdGVjdGVkIHZhbGlkYXRlSGVhZGVycyh7IHZhbHVlcywgbnVsbHMgfTogTnVsbGFibGVIZWFkZXJzKSB7XG4gICAgLy8gVGhlIGhlYWRlcnMgb2JqZWN0IGhhbmRsZXMgY2FzZSBpbnNlbnNpdGl2aXR5LlxuICAgIGlmICh2YWx1ZXMuaGFzKCdhdXRob3JpemF0aW9uJykgfHwgdmFsdWVzLmhhcygneC1nb29nLWFwaS1rZXknKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5hcGlLZXkgJiYgdmFsdWVzLmdldCgneC1nb29nLWFwaS1rZXknKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobnVsbHMuaGFzKCd4LWdvb2ctYXBpLWtleScpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0NvdWxkIG5vdCByZXNvbHZlIGF1dGhlbnRpY2F0aW9uIG1ldGhvZC4gRXhwZWN0ZWQgdGhlIGFwaUtleSB0byBiZSBzZXQuIE9yIGZvciB0aGUgXCJ4LWdvb2ctYXBpLWtleVwiIGhlYWRlcnMgdG8gYmUgZXhwbGljaXRseSBvbWl0dGVkJyxcbiAgICApO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIGF1dGhIZWFkZXJzKG9wdHM6IEZpbmFsUmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPE51bGxhYmxlSGVhZGVycyB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IGV4aXN0aW5nSGVhZGVycyA9IGJ1aWxkSGVhZGVycyhbb3B0cy5oZWFkZXJzXSk7XG5cbiAgICBpZiAoZXhpc3RpbmdIZWFkZXJzLnZhbHVlcy5oYXMoJ2F1dGhvcml6YXRpb24nKSB8fCBleGlzdGluZ0hlYWRlcnMudmFsdWVzLmhhcygneC1nb29nLWFwaS1rZXknKSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hcGlLZXkpIHtcbiAgICAgIHJldHVybiBidWlsZEhlYWRlcnMoW3sgJ3gtZ29vZy1hcGkta2V5JzogdGhpcy5hcGlLZXkgfV0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNsaWVudEFkYXB0ZXIuaXNWZXJ0ZXhBSSgpKSB7XG4gICAgICByZXR1cm4gYnVpbGRIZWFkZXJzKFthd2FpdCB0aGlzLmNsaWVudEFkYXB0ZXIuZ2V0QXV0aEhlYWRlcnMoKV0pO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogQmFzaWMgcmUtaW1wbGVtZW50YXRpb24gb2YgYHFzLnN0cmluZ2lmeWAgZm9yIHByaW1pdGl2ZSB0eXBlcy5cbiAgICovXG4gIHByb3RlY3RlZCBzdHJpbmdpZnlRdWVyeShxdWVyeTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pOiBzdHJpbmcge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhxdWVyeSlcbiAgICAgIC5maWx0ZXIoKFtfLCB2YWx1ZV0pID0+IHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgICAgICAgIHJldHVybiBgJHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX09JHtlbmNvZGVVUklDb21wb25lbnQodmFsdWUpfWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGAke2VuY29kZVVSSUNvbXBvbmVudChrZXkpfT1gO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcnMuR2VtaW5pTmV4dEdlbkFQSUNsaWVudEVycm9yKFxuICAgICAgICAgIGBDYW5ub3Qgc3RyaW5naWZ5IHR5cGUgJHt0eXBlb2YgdmFsdWV9OyBFeHBlY3RlZCBzdHJpbmcsIG51bWJlciwgYm9vbGVhbiwgb3IgbnVsbC4gSWYgeW91IG5lZWQgdG8gcGFzcyBuZXN0ZWQgcXVlcnkgcGFyYW1ldGVycywgeW91IGNhbiBtYW51YWxseSBlbmNvZGUgdGhlbSwgZS5nLiB7IHF1ZXJ5OiB7ICdmb29ba2V5MV0nOiB2YWx1ZTEsICdmb29ba2V5Ml0nOiB2YWx1ZTIgfSB9LCBhbmQgcGxlYXNlIG9wZW4gYSBHaXRIdWIgaXNzdWUgcmVxdWVzdGluZyBiZXR0ZXIgc3VwcG9ydCBmb3IgeW91ciB1c2UgY2FzZS5gLFxuICAgICAgICApO1xuICAgICAgfSlcbiAgICAgIC5qb2luKCcmJyk7XG4gIH1cblxuICBwcml2YXRlIGdldFVzZXJBZ2VudCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9L0pTICR7VkVSU0lPTn1gO1xuICB9XG5cbiAgcHJvdGVjdGVkIGRlZmF1bHRJZGVtcG90ZW5jeUtleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgc3RhaW5sZXNzLW5vZGUtcmV0cnktJHt1dWlkNCgpfWA7XG4gIH1cblxuICBwcm90ZWN0ZWQgbWFrZVN0YXR1c0Vycm9yKFxuICAgIHN0YXR1czogbnVtYmVyLFxuICAgIGVycm9yOiBPYmplY3QsXG4gICAgbWVzc2FnZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIGhlYWRlcnM6IEhlYWRlcnMsXG4gICk6IEVycm9ycy5BUElFcnJvciB7XG4gICAgcmV0dXJuIEVycm9ycy5BUElFcnJvci5nZW5lcmF0ZShzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgfVxuXG4gIGJ1aWxkVVJMKFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBxdWVyeTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCBudWxsIHwgdW5kZWZpbmVkLFxuICAgIGRlZmF1bHRCYXNlVVJMPzogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICApOiBzdHJpbmcge1xuICAgIGNvbnN0IGJhc2VVUkwgPSAoIXRoaXMuYmFzZVVSTE92ZXJyaWRkZW4oKSAmJiBkZWZhdWx0QmFzZVVSTCkgfHwgdGhpcy5iYXNlVVJMO1xuICAgIGNvbnN0IHVybCA9XG4gICAgICBpc0Fic29sdXRlVVJMKHBhdGgpID9cbiAgICAgICAgbmV3IFVSTChwYXRoKVxuICAgICAgOiBuZXcgVVJMKGJhc2VVUkwgKyAoYmFzZVVSTC5lbmRzV2l0aCgnLycpICYmIHBhdGguc3RhcnRzV2l0aCgnLycpID8gcGF0aC5zbGljZSgxKSA6IHBhdGgpKTtcblxuICAgIGNvbnN0IGRlZmF1bHRRdWVyeSA9IHRoaXMuZGVmYXVsdFF1ZXJ5KCk7XG4gICAgaWYgKCFpc0VtcHR5T2JqKGRlZmF1bHRRdWVyeSkpIHtcbiAgICAgIHF1ZXJ5ID0geyAuLi5kZWZhdWx0UXVlcnksIC4uLnF1ZXJ5IH07XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBxdWVyeSA9PT0gJ29iamVjdCcgJiYgcXVlcnkgJiYgIUFycmF5LmlzQXJyYXkocXVlcnkpKSB7XG4gICAgICB1cmwuc2VhcmNoID0gdGhpcy5zdHJpbmdpZnlRdWVyeShxdWVyeSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVybC50b1N0cmluZygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYXMgYSBjYWxsYmFjayBmb3IgbXV0YXRpbmcgdGhlIGdpdmVuIGBGaW5hbFJlcXVlc3RPcHRpb25zYCBvYmplY3QuXG5cbiAgICovXG4gIHByb3RlY3RlZCBhc3luYyBwcmVwYXJlT3B0aW9ucyhvcHRpb25zOiBGaW5hbFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5jbGllbnRBZGFwdGVyICYmXG4gICAgICB0aGlzLmNsaWVudEFkYXB0ZXIuaXNWZXJ0ZXhBSSgpICYmXG4gICAgICAhb3B0aW9ucy5wYXRoLnN0YXJ0c1dpdGgoYC8ke3RoaXMuYXBpVmVyc2lvbn0vcHJvamVjdHMvYClcbiAgICApIHtcbiAgICAgIGNvbnN0IG9sZFBhdGggPSBvcHRpb25zLnBhdGguc2xpY2UodGhpcy5hcGlWZXJzaW9uLmxlbmd0aCArIDEpO1xuICAgICAgb3B0aW9ucy5wYXRoID0gYC8ke1xuICAgICAgICB0aGlzLmFwaVZlcnNpb25cbiAgICAgIH0vcHJvamVjdHMvJHt0aGlzLmNsaWVudEFkYXB0ZXIuZ2V0UHJvamVjdCgpfS9sb2NhdGlvbnMvJHt0aGlzLmNsaWVudEFkYXB0ZXIuZ2V0TG9jYXRpb24oKX0ke29sZFBhdGh9YDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBhcyBhIGNhbGxiYWNrIGZvciBtdXRhdGluZyB0aGUgZ2l2ZW4gYFJlcXVlc3RJbml0YCBvYmplY3QuXG4gICAqXG4gICAqIFRoaXMgaXMgdXNlZnVsIGZvciBjYXNlcyB3aGVyZSB5b3Ugd2FudCB0byBhZGQgY2VydGFpbiBoZWFkZXJzIGJhc2VkIG9mZiBvZlxuICAgKiB0aGUgcmVxdWVzdCBwcm9wZXJ0aWVzLCBlLmcuIGBtZXRob2RgIG9yIGB1cmxgLlxuICAgKi9cbiAgcHJvdGVjdGVkIGFzeW5jIHByZXBhcmVSZXF1ZXN0KFxuICAgIHJlcXVlc3Q6IFJlcXVlc3RJbml0LFxuICAgIHsgdXJsLCBvcHRpb25zIH06IHsgdXJsOiBzdHJpbmc7IG9wdGlvbnM6IEZpbmFsUmVxdWVzdE9wdGlvbnMgfSxcbiAgKTogUHJvbWlzZTx2b2lkPiB7fVxuXG4gIGdldDxSc3A+KHBhdGg6IHN0cmluZywgb3B0cz86IFByb21pc2VPclZhbHVlPFJlcXVlc3RPcHRpb25zPik6IEFQSVByb21pc2U8UnNwPiB7XG4gICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgnZ2V0JywgcGF0aCwgb3B0cyk7XG4gIH1cblxuICBwb3N0PFJzcD4ocGF0aDogc3RyaW5nLCBvcHRzPzogUHJvbWlzZU9yVmFsdWU8UmVxdWVzdE9wdGlvbnM+KTogQVBJUHJvbWlzZTxSc3A+IHtcbiAgICByZXR1cm4gdGhpcy5tZXRob2RSZXF1ZXN0KCdwb3N0JywgcGF0aCwgb3B0cyk7XG4gIH1cblxuICBwYXRjaDxSc3A+KHBhdGg6IHN0cmluZywgb3B0cz86IFByb21pc2VPclZhbHVlPFJlcXVlc3RPcHRpb25zPik6IEFQSVByb21pc2U8UnNwPiB7XG4gICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgncGF0Y2gnLCBwYXRoLCBvcHRzKTtcbiAgfVxuXG4gIHB1dDxSc3A+KHBhdGg6IHN0cmluZywgb3B0cz86IFByb21pc2VPclZhbHVlPFJlcXVlc3RPcHRpb25zPik6IEFQSVByb21pc2U8UnNwPiB7XG4gICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgncHV0JywgcGF0aCwgb3B0cyk7XG4gIH1cblxuICBkZWxldGU8UnNwPihwYXRoOiBzdHJpbmcsIG9wdHM/OiBQcm9taXNlT3JWYWx1ZTxSZXF1ZXN0T3B0aW9ucz4pOiBBUElQcm9taXNlPFJzcD4ge1xuICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ2RlbGV0ZScsIHBhdGgsIG9wdHMpO1xuICB9XG5cbiAgcHJpdmF0ZSBtZXRob2RSZXF1ZXN0PFJzcD4oXG4gICAgbWV0aG9kOiBIVFRQTWV0aG9kLFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBvcHRzPzogUHJvbWlzZU9yVmFsdWU8UmVxdWVzdE9wdGlvbnM+LFxuICApOiBBUElQcm9taXNlPFJzcD4ge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QoXG4gICAgICBQcm9taXNlLnJlc29sdmUob3B0cykudGhlbigob3B0cykgPT4ge1xuICAgICAgICByZXR1cm4geyBtZXRob2QsIHBhdGgsIC4uLm9wdHMgfTtcbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICByZXF1ZXN0PFJzcD4oXG4gICAgb3B0aW9uczogUHJvbWlzZU9yVmFsdWU8RmluYWxSZXF1ZXN0T3B0aW9ucz4sXG4gICAgcmVtYWluaW5nUmV0cmllczogbnVtYmVyIHwgbnVsbCA9IG51bGwsXG4gICk6IEFQSVByb21pc2U8UnNwPiB7XG4gICAgcmV0dXJuIG5ldyBBUElQcm9taXNlKHRoaXMsIHRoaXMubWFrZVJlcXVlc3Qob3B0aW9ucywgcmVtYWluaW5nUmV0cmllcywgdW5kZWZpbmVkKSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIG1ha2VSZXF1ZXN0KFxuICAgIG9wdGlvbnNJbnB1dDogUHJvbWlzZU9yVmFsdWU8RmluYWxSZXF1ZXN0T3B0aW9ucz4sXG4gICAgcmV0cmllc1JlbWFpbmluZzogbnVtYmVyIHwgbnVsbCxcbiAgICByZXRyeU9mUmVxdWVzdExvZ0lEOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICk6IFByb21pc2U8QVBJUmVzcG9uc2VQcm9wcz4ge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBhd2FpdCBvcHRpb25zSW5wdXQ7XG4gICAgY29uc3QgbWF4UmV0cmllcyA9IG9wdGlvbnMubWF4UmV0cmllcyA/PyB0aGlzLm1heFJldHJpZXM7XG4gICAgaWYgKHJldHJpZXNSZW1haW5pbmcgPT0gbnVsbCkge1xuICAgICAgcmV0cmllc1JlbWFpbmluZyA9IG1heFJldHJpZXM7XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5wcmVwYXJlT3B0aW9ucyhvcHRpb25zKTtcblxuICAgIGNvbnN0IHsgcmVxLCB1cmwsIHRpbWVvdXQgfSA9IGF3YWl0IHRoaXMuYnVpbGRSZXF1ZXN0KG9wdGlvbnMsIHtcbiAgICAgIHJldHJ5Q291bnQ6IG1heFJldHJpZXMgLSByZXRyaWVzUmVtYWluaW5nLFxuICAgIH0pO1xuXG4gICAgYXdhaXQgdGhpcy5wcmVwYXJlUmVxdWVzdChyZXEsIHsgdXJsLCBvcHRpb25zIH0pO1xuXG4gICAgLyoqIE5vdCBhbiBBUEkgcmVxdWVzdCBJRCwganVzdCBmb3IgY29ycmVsYXRpbmcgbG9jYWwgbG9nIGVudHJpZXMuICovXG4gICAgY29uc3QgcmVxdWVzdExvZ0lEID0gJ2xvZ18nICsgKChNYXRoLnJhbmRvbSgpICogKDEgPDwgMjQpKSB8IDApLnRvU3RyaW5nKDE2KS5wYWRTdGFydCg2LCAnMCcpO1xuICAgIGNvbnN0IHJldHJ5TG9nU3RyID0gcmV0cnlPZlJlcXVlc3RMb2dJRCA9PT0gdW5kZWZpbmVkID8gJycgOiBgLCByZXRyeU9mOiAke3JldHJ5T2ZSZXF1ZXN0TG9nSUR9YDtcbiAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgbG9nZ2VyRm9yKHRoaXMpLmRlYnVnKFxuICAgICAgYFske3JlcXVlc3RMb2dJRH1dIHNlbmRpbmcgcmVxdWVzdGAsXG4gICAgICBmb3JtYXRSZXF1ZXN0RGV0YWlscyh7XG4gICAgICAgIHJldHJ5T2ZSZXF1ZXN0TG9nSUQsXG4gICAgICAgIG1ldGhvZDogb3B0aW9ucy5tZXRob2QsXG4gICAgICAgIHVybCxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgaGVhZGVyczogcmVxLmhlYWRlcnMsXG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgaWYgKG9wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3JzLkFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgfVxuXG4gICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZmV0Y2hXaXRoVGltZW91dCh1cmwsIHJlcSwgdGltZW91dCwgY29udHJvbGxlcikuY2F0Y2goY2FzdFRvRXJyb3IpO1xuICAgIGNvbnN0IGhlYWRlcnNUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIGdsb2JhbFRoaXMuRXJyb3IpIHtcbiAgICAgIGNvbnN0IHJldHJ5TWVzc2FnZSA9IGByZXRyeWluZywgJHtyZXRyaWVzUmVtYWluaW5nfSBhdHRlbXB0cyByZW1haW5pbmdgO1xuICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcnMuQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIC8vIGRldGVjdCBuYXRpdmUgY29ubmVjdGlvbiB0aW1lb3V0IGVycm9yc1xuICAgICAgLy8gZGVubyB0aHJvd3MgXCJUeXBlRXJyb3I6IGVycm9yIHNlbmRpbmcgcmVxdWVzdCBmb3IgdXJsIChodHRwczovL2V4YW1wbGUvKTogY2xpZW50IGVycm9yIChDb25uZWN0KTogdGNwIGNvbm5lY3QgZXJyb3I6IE9wZXJhdGlvbiB0aW1lZCBvdXQgKG9zIGVycm9yIDYwKTogT3BlcmF0aW9uIHRpbWVkIG91dCAob3MgZXJyb3IgNjApXCJcbiAgICAgIC8vIHVuZGljaSB0aHJvd3MgXCJUeXBlRXJyb3I6IGZldGNoIGZhaWxlZFwiIHdpdGggY2F1c2UgXCJDb25uZWN0VGltZW91dEVycm9yOiBDb25uZWN0IFRpbWVvdXQgRXJyb3IgKGF0dGVtcHRlZCBhZGRyZXNzOiBleGFtcGxlOjQ0MywgdGltZW91dDogMW1zKVwiXG4gICAgICAvLyBvdGhlcnMgZG8gbm90IHByb3ZpZGUgZW5vdWdoIGluZm9ybWF0aW9uIHRvIGRpc3Rpbmd1aXNoIHRpbWVvdXRzIGZyb20gb3RoZXIgY29ubmVjdGlvbiBlcnJvcnNcbiAgICAgIGNvbnN0IGlzVGltZW91dCA9XG4gICAgICAgIGlzQWJvcnRFcnJvcihyZXNwb25zZSkgfHxcbiAgICAgICAgL3RpbWVkPyA/b3V0L2kudGVzdChTdHJpbmcocmVzcG9uc2UpICsgKCdjYXVzZScgaW4gcmVzcG9uc2UgPyBTdHJpbmcocmVzcG9uc2UuY2F1c2UpIDogJycpKTtcbiAgICAgIGlmIChyZXRyaWVzUmVtYWluaW5nKSB7XG4gICAgICAgIGxvZ2dlckZvcih0aGlzKS5pbmZvKFxuICAgICAgICAgIGBbJHtyZXF1ZXN0TG9nSUR9XSBjb25uZWN0aW9uICR7aXNUaW1lb3V0ID8gJ3RpbWVkIG91dCcgOiAnZmFpbGVkJ30gLSAke3JldHJ5TWVzc2FnZX1gLFxuICAgICAgICApO1xuICAgICAgICBsb2dnZXJGb3IodGhpcykuZGVidWcoXG4gICAgICAgICAgYFske3JlcXVlc3RMb2dJRH1dIGNvbm5lY3Rpb24gJHtpc1RpbWVvdXQgPyAndGltZWQgb3V0JyA6ICdmYWlsZWQnfSAoJHtyZXRyeU1lc3NhZ2V9KWAsXG4gICAgICAgICAgZm9ybWF0UmVxdWVzdERldGFpbHMoe1xuICAgICAgICAgICAgcmV0cnlPZlJlcXVlc3RMb2dJRCxcbiAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgIGR1cmF0aW9uTXM6IGhlYWRlcnNUaW1lIC0gc3RhcnRUaW1lLFxuICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UubWVzc2FnZSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmV0cnlSZXF1ZXN0KG9wdGlvbnMsIHJldHJpZXNSZW1haW5pbmcsIHJldHJ5T2ZSZXF1ZXN0TG9nSUQgPz8gcmVxdWVzdExvZ0lEKTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlckZvcih0aGlzKS5pbmZvKFxuICAgICAgICBgWyR7cmVxdWVzdExvZ0lEfV0gY29ubmVjdGlvbiAke2lzVGltZW91dCA/ICd0aW1lZCBvdXQnIDogJ2ZhaWxlZCd9IC0gZXJyb3I7IG5vIG1vcmUgcmV0cmllcyBsZWZ0YCxcbiAgICAgICk7XG4gICAgICBsb2dnZXJGb3IodGhpcykuZGVidWcoXG4gICAgICAgIGBbJHtyZXF1ZXN0TG9nSUR9XSBjb25uZWN0aW9uICR7aXNUaW1lb3V0ID8gJ3RpbWVkIG91dCcgOiAnZmFpbGVkJ30gKGVycm9yOyBubyBtb3JlIHJldHJpZXMgbGVmdClgLFxuICAgICAgICBmb3JtYXRSZXF1ZXN0RGV0YWlscyh7XG4gICAgICAgICAgcmV0cnlPZlJlcXVlc3RMb2dJRCxcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgZHVyYXRpb25NczogaGVhZGVyc1RpbWUgLSBzdGFydFRpbWUsXG4gICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UubWVzc2FnZSxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgICAgaWYgKGlzVGltZW91dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3JzLkFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcnMuQVBJQ29ubmVjdGlvbkVycm9yKHsgY2F1c2U6IHJlc3BvbnNlIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3BvbnNlSW5mbyA9IGBbJHtyZXF1ZXN0TG9nSUR9JHtyZXRyeUxvZ1N0cn1dICR7cmVxLm1ldGhvZH0gJHt1cmx9ICR7XG4gICAgICByZXNwb25zZS5vayA/ICdzdWNjZWVkZWQnIDogJ2ZhaWxlZCdcbiAgICB9IHdpdGggc3RhdHVzICR7cmVzcG9uc2Uuc3RhdHVzfSBpbiAke2hlYWRlcnNUaW1lIC0gc3RhcnRUaW1lfW1zYDtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IHNob3VsZFJldHJ5ID0gYXdhaXQgdGhpcy5zaG91bGRSZXRyeShyZXNwb25zZSk7XG4gICAgICBpZiAocmV0cmllc1JlbWFpbmluZyAmJiBzaG91bGRSZXRyeSkge1xuICAgICAgICBjb25zdCByZXRyeU1lc3NhZ2UgPSBgcmV0cnlpbmcsICR7cmV0cmllc1JlbWFpbmluZ30gYXR0ZW1wdHMgcmVtYWluaW5nYDtcblxuICAgICAgICAvLyBXZSBkb24ndCBuZWVkIHRoZSBib2R5IG9mIHRoaXMgcmVzcG9uc2UuXG4gICAgICAgIGF3YWl0IFNoaW1zLkNhbmNlbFJlYWRhYmxlU3RyZWFtKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICBsb2dnZXJGb3IodGhpcykuaW5mbyhgJHtyZXNwb25zZUluZm99IC0gJHtyZXRyeU1lc3NhZ2V9YCk7XG4gICAgICAgIGxvZ2dlckZvcih0aGlzKS5kZWJ1ZyhcbiAgICAgICAgICBgWyR7cmVxdWVzdExvZ0lEfV0gcmVzcG9uc2UgZXJyb3IgKCR7cmV0cnlNZXNzYWdlfSlgLFxuICAgICAgICAgIGZvcm1hdFJlcXVlc3REZXRhaWxzKHtcbiAgICAgICAgICAgIHJldHJ5T2ZSZXF1ZXN0TG9nSUQsXG4gICAgICAgICAgICB1cmw6IHJlc3BvbnNlLnVybCxcbiAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgaGVhZGVyczogcmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICAgIGR1cmF0aW9uTXM6IGhlYWRlcnNUaW1lIC0gc3RhcnRUaW1lLFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGhpcy5yZXRyeVJlcXVlc3QoXG4gICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICByZXRyaWVzUmVtYWluaW5nLFxuICAgICAgICAgIHJldHJ5T2ZSZXF1ZXN0TG9nSUQgPz8gcmVxdWVzdExvZ0lELFxuICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnMsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJldHJ5TWVzc2FnZSA9IHNob3VsZFJldHJ5ID8gYGVycm9yOyBubyBtb3JlIHJldHJpZXMgbGVmdGAgOiBgZXJyb3I7IG5vdCByZXRyeWFibGVgO1xuXG4gICAgICBsb2dnZXJGb3IodGhpcykuaW5mbyhgJHtyZXNwb25zZUluZm99IC0gJHtyZXRyeU1lc3NhZ2V9YCk7XG5cbiAgICAgIGNvbnN0IGVyclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCkuY2F0Y2goKGVycjogYW55KSA9PiBjYXN0VG9FcnJvcihlcnIpLm1lc3NhZ2UpO1xuICAgICAgY29uc3QgZXJySlNPTiA9IHNhZmVKU09OKGVyclRleHQpO1xuICAgICAgY29uc3QgZXJyTWVzc2FnZSA9IGVyckpTT04gPyB1bmRlZmluZWQgOiBlcnJUZXh0O1xuXG4gICAgICBsb2dnZXJGb3IodGhpcykuZGVidWcoXG4gICAgICAgIGBbJHtyZXF1ZXN0TG9nSUR9XSByZXNwb25zZSBlcnJvciAoJHtyZXRyeU1lc3NhZ2V9KWAsXG4gICAgICAgIGZvcm1hdFJlcXVlc3REZXRhaWxzKHtcbiAgICAgICAgICByZXRyeU9mUmVxdWVzdExvZ0lELFxuICAgICAgICAgIHVybDogcmVzcG9uc2UudXJsLFxuICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlLmhlYWRlcnMsXG4gICAgICAgICAgbWVzc2FnZTogZXJyTWVzc2FnZSxcbiAgICAgICAgICBkdXJhdGlvbk1zOiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lLFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjb25zdCBlcnIgPSB0aGlzLm1ha2VTdGF0dXNFcnJvcihyZXNwb25zZS5zdGF0dXMsIGVyckpTT04sIGVyck1lc3NhZ2UsIHJlc3BvbnNlLmhlYWRlcnMpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cblxuICAgIGxvZ2dlckZvcih0aGlzKS5pbmZvKHJlc3BvbnNlSW5mbyk7XG4gICAgbG9nZ2VyRm9yKHRoaXMpLmRlYnVnKFxuICAgICAgYFske3JlcXVlc3RMb2dJRH1dIHJlc3BvbnNlIHN0YXJ0YCxcbiAgICAgIGZvcm1hdFJlcXVlc3REZXRhaWxzKHtcbiAgICAgICAgcmV0cnlPZlJlcXVlc3RMb2dJRCxcbiAgICAgICAgdXJsOiByZXNwb25zZS51cmwsXG4gICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBoZWFkZXJzOiByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICBkdXJhdGlvbk1zOiBoZWFkZXJzVGltZSAtIHN0YXJ0VGltZSxcbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICByZXR1cm4geyByZXNwb25zZSwgb3B0aW9ucywgY29udHJvbGxlciwgcmVxdWVzdExvZ0lELCByZXRyeU9mUmVxdWVzdExvZ0lELCBzdGFydFRpbWUgfTtcbiAgfVxuXG4gIGFzeW5jIGZldGNoV2l0aFRpbWVvdXQoXG4gICAgdXJsOiBSZXF1ZXN0SW5mbyxcbiAgICBpbml0OiBSZXF1ZXN0SW5pdCB8IHVuZGVmaW5lZCxcbiAgICBtczogbnVtYmVyLFxuICAgIGNvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlcixcbiAgKTogUHJvbWlzZTxSZXNwb25zZT4ge1xuICAgIGNvbnN0IHsgc2lnbmFsLCBtZXRob2QsIC4uLm9wdGlvbnMgfSA9IGluaXQgfHwge307XG4gICAgaWYgKHNpZ25hbCkgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gY29udHJvbGxlci5hYm9ydCgpKTtcblxuICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgbXMpO1xuXG4gICAgY29uc3QgaXNSZWFkYWJsZUJvZHkgPVxuICAgICAgKChnbG9iYWxUaGlzIGFzIGFueSkuUmVhZGFibGVTdHJlYW0gJiYgb3B0aW9ucy5ib2R5IGluc3RhbmNlb2YgKGdsb2JhbFRoaXMgYXMgYW55KS5SZWFkYWJsZVN0cmVhbSkgfHxcbiAgICAgICh0eXBlb2Ygb3B0aW9ucy5ib2R5ID09PSAnb2JqZWN0JyAmJiBvcHRpb25zLmJvZHkgIT09IG51bGwgJiYgU3ltYm9sLmFzeW5jSXRlcmF0b3IgaW4gb3B0aW9ucy5ib2R5KTtcblxuICAgIGNvbnN0IGZldGNoT3B0aW9uczogUmVxdWVzdEluaXQgPSB7XG4gICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsIGFzIGFueSxcbiAgICAgIC4uLihpc1JlYWRhYmxlQm9keSA/IHsgZHVwbGV4OiAnaGFsZicgfSA6IHt9KSxcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAuLi5vcHRpb25zLFxuICAgIH07XG4gICAgaWYgKG1ldGhvZCkge1xuICAgICAgLy8gQ3VzdG9tIG1ldGhvZHMgbGlrZSAncGF0Y2gnIG5lZWQgdG8gYmUgdXBwZXJjYXNlZFxuICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvdW5kaWNpL2lzc3Vlcy8yMjk0XG4gICAgICBmZXRjaE9wdGlvbnMubWV0aG9kID0gbWV0aG9kLnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIHVzZSB1bmRlZmluZWQgdGhpcyBiaW5kaW5nOyBmZXRjaCBlcnJvcnMgaWYgYm91bmQgdG8gc29tZXRoaW5nIGVsc2UgaW4gYnJvd3Nlci9jbG91ZGZsYXJlXG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5mZXRjaC5jYWxsKHVuZGVmaW5lZCwgdXJsLCBmZXRjaE9wdGlvbnMpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzaG91bGRSZXRyeShyZXNwb25zZTogUmVzcG9uc2UpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAvLyBOb3RlIHRoaXMgaXMgbm90IGEgc3RhbmRhcmQgaGVhZGVyLlxuICAgIGNvbnN0IHNob3VsZFJldHJ5SGVhZGVyID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtc2hvdWxkLXJldHJ5Jyk7XG5cbiAgICAvLyBJZiB0aGUgc2VydmVyIGV4cGxpY2l0bHkgc2F5cyB3aGV0aGVyIG9yIG5vdCB0byByZXRyeSwgb2JleS5cbiAgICBpZiAoc2hvdWxkUmV0cnlIZWFkZXIgPT09ICd0cnVlJykgcmV0dXJuIHRydWU7XG4gICAgaWYgKHNob3VsZFJldHJ5SGVhZGVyID09PSAnZmFsc2UnKSByZXR1cm4gZmFsc2U7XG5cbiAgICAvLyBSZXRyeSBvbiByZXF1ZXN0IHRpbWVvdXRzLlxuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOCkgcmV0dXJuIHRydWU7XG5cbiAgICAvLyBSZXRyeSBvbiBsb2NrIHRpbWVvdXRzLlxuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgcmV0dXJuIHRydWU7XG5cbiAgICAvLyBSZXRyeSBvbiByYXRlIGxpbWl0cy5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MjkpIHJldHVybiB0cnVlO1xuXG4gICAgLy8gUmV0cnkgaW50ZXJuYWwgZXJyb3JzLlxuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gNTAwKSByZXR1cm4gdHJ1ZTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmV0cnlSZXF1ZXN0KFxuICAgIG9wdGlvbnM6IEZpbmFsUmVxdWVzdE9wdGlvbnMsXG4gICAgcmV0cmllc1JlbWFpbmluZzogbnVtYmVyLFxuICAgIHJlcXVlc3RMb2dJRDogc3RyaW5nLFxuICAgIHJlc3BvbnNlSGVhZGVycz86IEhlYWRlcnMgfCB1bmRlZmluZWQsXG4gICk6IFByb21pc2U8QVBJUmVzcG9uc2VQcm9wcz4ge1xuICAgIGxldCB0aW1lb3V0TWlsbGlzOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgICAvLyBOb3RlIHRoZSBgcmV0cnktYWZ0ZXItbXNgIGhlYWRlciBtYXkgbm90IGJlIHN0YW5kYXJkLCBidXQgaXMgYSBnb29kIGlkZWEgYW5kIHdlJ2QgbGlrZSBwcm9hY3RpdmUgc3VwcG9ydCBmb3IgaXQuXG4gICAgY29uc3QgcmV0cnlBZnRlck1pbGxpc0hlYWRlciA9IHJlc3BvbnNlSGVhZGVycz8uZ2V0KCdyZXRyeS1hZnRlci1tcycpO1xuICAgIGlmIChyZXRyeUFmdGVyTWlsbGlzSGVhZGVyKSB7XG4gICAgICBjb25zdCB0aW1lb3V0TXMgPSBwYXJzZUZsb2F0KHJldHJ5QWZ0ZXJNaWxsaXNIZWFkZXIpO1xuICAgICAgaWYgKCFOdW1iZXIuaXNOYU4odGltZW91dE1zKSkge1xuICAgICAgICB0aW1lb3V0TWlsbGlzID0gdGltZW91dE1zO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFib3V0IHRoZSBSZXRyeS1BZnRlciBoZWFkZXI6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvSGVhZGVycy9SZXRyeS1BZnRlclxuICAgIGNvbnN0IHJldHJ5QWZ0ZXJIZWFkZXIgPSByZXNwb25zZUhlYWRlcnM/LmdldCgncmV0cnktYWZ0ZXInKTtcbiAgICBpZiAocmV0cnlBZnRlckhlYWRlciAmJiAhdGltZW91dE1pbGxpcykge1xuICAgICAgY29uc3QgdGltZW91dFNlY29uZHMgPSBwYXJzZUZsb2F0KHJldHJ5QWZ0ZXJIZWFkZXIpO1xuICAgICAgaWYgKCFOdW1iZXIuaXNOYU4odGltZW91dFNlY29uZHMpKSB7XG4gICAgICAgIHRpbWVvdXRNaWxsaXMgPSB0aW1lb3V0U2Vjb25kcyAqIDEwMDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aW1lb3V0TWlsbGlzID0gRGF0ZS5wYXJzZShyZXRyeUFmdGVySGVhZGVyKSAtIERhdGUubm93KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIEFQSSBhc2tzIHVzIHRvIHdhaXQgYSBjZXJ0YWluIGFtb3VudCBvZiB0aW1lIChhbmQgaXQncyBhIHJlYXNvbmFibGUgYW1vdW50KSxcbiAgICAvLyBqdXN0IGRvIHdoYXQgaXQgc2F5cywgYnV0IG90aGVyd2lzZSBjYWxjdWxhdGUgYSBkZWZhdWx0XG4gICAgaWYgKCEodGltZW91dE1pbGxpcyAmJiAwIDw9IHRpbWVvdXRNaWxsaXMgJiYgdGltZW91dE1pbGxpcyA8IDYwICogMTAwMCkpIHtcbiAgICAgIGNvbnN0IG1heFJldHJpZXMgPSBvcHRpb25zLm1heFJldHJpZXMgPz8gdGhpcy5tYXhSZXRyaWVzO1xuICAgICAgdGltZW91dE1pbGxpcyA9IHRoaXMuY2FsY3VsYXRlRGVmYXVsdFJldHJ5VGltZW91dE1pbGxpcyhyZXRyaWVzUmVtYWluaW5nLCBtYXhSZXRyaWVzKTtcbiAgICB9XG4gICAgYXdhaXQgc2xlZXAodGltZW91dE1pbGxpcyk7XG5cbiAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdChvcHRpb25zLCByZXRyaWVzUmVtYWluaW5nIC0gMSwgcmVxdWVzdExvZ0lEKTtcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlRGVmYXVsdFJldHJ5VGltZW91dE1pbGxpcyhyZXRyaWVzUmVtYWluaW5nOiBudW1iZXIsIG1heFJldHJpZXM6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3QgaW5pdGlhbFJldHJ5RGVsYXkgPSAwLjU7XG4gICAgY29uc3QgbWF4UmV0cnlEZWxheSA9IDguMDtcblxuICAgIGNvbnN0IG51bVJldHJpZXMgPSBtYXhSZXRyaWVzIC0gcmV0cmllc1JlbWFpbmluZztcblxuICAgIC8vIEFwcGx5IGV4cG9uZW50aWFsIGJhY2tvZmYsIGJ1dCBub3QgbW9yZSB0aGFuIHRoZSBtYXguXG4gICAgY29uc3Qgc2xlZXBTZWNvbmRzID0gTWF0aC5taW4oaW5pdGlhbFJldHJ5RGVsYXkgKiBNYXRoLnBvdygyLCBudW1SZXRyaWVzKSwgbWF4UmV0cnlEZWxheSk7XG5cbiAgICAvLyBBcHBseSBzb21lIGppdHRlciwgdGFrZSB1cCB0byBhdCBtb3N0IDI1IHBlcmNlbnQgb2YgdGhlIHJldHJ5IHRpbWUuXG4gICAgY29uc3Qgaml0dGVyID0gMSAtIE1hdGgucmFuZG9tKCkgKiAwLjI1O1xuXG4gICAgcmV0dXJuIHNsZWVwU2Vjb25kcyAqIGppdHRlciAqIDEwMDA7XG4gIH1cblxuICBhc3luYyBidWlsZFJlcXVlc3QoXG4gICAgaW5wdXRPcHRpb25zOiBGaW5hbFJlcXVlc3RPcHRpb25zLFxuICAgIHsgcmV0cnlDb3VudCA9IDAgfTogeyByZXRyeUNvdW50PzogbnVtYmVyIH0gPSB7fSxcbiAgKTogUHJvbWlzZTx7IHJlcTogRmluYWxpemVkUmVxdWVzdEluaXQ7IHVybDogc3RyaW5nOyB0aW1lb3V0OiBudW1iZXIgfT4ge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7IC4uLmlucHV0T3B0aW9ucyB9O1xuICAgIGNvbnN0IHsgbWV0aG9kLCBwYXRoLCBxdWVyeSwgZGVmYXVsdEJhc2VVUkwgfSA9IG9wdGlvbnM7XG5cbiAgICBjb25zdCB1cmwgPSB0aGlzLmJ1aWxkVVJMKHBhdGghLCBxdWVyeSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiwgZGVmYXVsdEJhc2VVUkwpO1xuICAgIGlmICgndGltZW91dCcgaW4gb3B0aW9ucykgdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIoJ3RpbWVvdXQnLCBvcHRpb25zLnRpbWVvdXQpO1xuICAgIG9wdGlvbnMudGltZW91dCA9IG9wdGlvbnMudGltZW91dCA/PyB0aGlzLnRpbWVvdXQ7XG4gICAgY29uc3QgeyBib2R5SGVhZGVycywgYm9keSB9ID0gdGhpcy5idWlsZEJvZHkoeyBvcHRpb25zIH0pO1xuICAgIGNvbnN0IHJlcUhlYWRlcnMgPSBhd2FpdCB0aGlzLmJ1aWxkSGVhZGVycyh7IG9wdGlvbnM6IGlucHV0T3B0aW9ucywgbWV0aG9kLCBib2R5SGVhZGVycywgcmV0cnlDb3VudCB9KTtcblxuICAgIGNvbnN0IHJlcTogRmluYWxpemVkUmVxdWVzdEluaXQgPSB7XG4gICAgICBtZXRob2QsXG4gICAgICBoZWFkZXJzOiByZXFIZWFkZXJzLFxuICAgICAgLi4uKG9wdGlvbnMuc2lnbmFsICYmIHsgc2lnbmFsOiBvcHRpb25zLnNpZ25hbCB9KSxcbiAgICAgIC4uLigoZ2xvYmFsVGhpcyBhcyBhbnkpLlJlYWRhYmxlU3RyZWFtICYmXG4gICAgICAgIGJvZHkgaW5zdGFuY2VvZiAoZ2xvYmFsVGhpcyBhcyBhbnkpLlJlYWRhYmxlU3RyZWFtICYmIHsgZHVwbGV4OiAnaGFsZicgfSksXG4gICAgICAuLi4oYm9keSAmJiB7IGJvZHkgfSksXG4gICAgICAuLi4oKHRoaXMuZmV0Y2hPcHRpb25zIGFzIGFueSkgPz8ge30pLFxuICAgICAgLi4uKChvcHRpb25zLmZldGNoT3B0aW9ucyBhcyBhbnkpID8/IHt9KSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIHsgcmVxLCB1cmwsIHRpbWVvdXQ6IG9wdGlvbnMudGltZW91dCB9O1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBidWlsZEhlYWRlcnMoe1xuICAgIG9wdGlvbnMsXG4gICAgbWV0aG9kLFxuICAgIGJvZHlIZWFkZXJzLFxuICAgIHJldHJ5Q291bnQsXG4gIH06IHtcbiAgICBvcHRpb25zOiBGaW5hbFJlcXVlc3RPcHRpb25zO1xuICAgIG1ldGhvZDogSFRUUE1ldGhvZDtcbiAgICBib2R5SGVhZGVyczogSGVhZGVyc0xpa2U7XG4gICAgcmV0cnlDb3VudDogbnVtYmVyO1xuICB9KTogUHJvbWlzZTxIZWFkZXJzPiB7XG4gICAgbGV0IGlkZW1wb3RlbmN5SGVhZGVyczogSGVhZGVyc0xpa2UgPSB7fTtcbiAgICBpZiAodGhpcy5pZGVtcG90ZW5jeUhlYWRlciAmJiBtZXRob2QgIT09ICdnZXQnKSB7XG4gICAgICBpZiAoIW9wdGlvbnMuaWRlbXBvdGVuY3lLZXkpIG9wdGlvbnMuaWRlbXBvdGVuY3lLZXkgPSB0aGlzLmRlZmF1bHRJZGVtcG90ZW5jeUtleSgpO1xuICAgICAgaWRlbXBvdGVuY3lIZWFkZXJzW3RoaXMuaWRlbXBvdGVuY3lIZWFkZXJdID0gb3B0aW9ucy5pZGVtcG90ZW5jeUtleTtcbiAgICB9XG5cbiAgICBjb25zdCBhdXRoSGVhZGVycyA9IGF3YWl0IHRoaXMuYXV0aEhlYWRlcnMob3B0aW9ucyk7XG5cbiAgICBsZXQgaGVhZGVycyA9IGJ1aWxkSGVhZGVycyhbXG4gICAgICBpZGVtcG90ZW5jeUhlYWRlcnMsXG4gICAgICB7XG4gICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnVXNlci1BZ2VudCc6IHRoaXMuZ2V0VXNlckFnZW50KCksXG4gICAgICAgICdYLVN0YWlubGVzcy1SZXRyeS1Db3VudCc6IFN0cmluZyhyZXRyeUNvdW50KSxcbiAgICAgICAgLi4uKG9wdGlvbnMudGltZW91dCA/IHsgJ1gtU3RhaW5sZXNzLVRpbWVvdXQnOiBTdHJpbmcoTWF0aC50cnVuYyhvcHRpb25zLnRpbWVvdXQgLyAxMDAwKSkgfSA6IHt9KSxcbiAgICAgICAgLi4uZ2V0UGxhdGZvcm1IZWFkZXJzKCksXG4gICAgICB9LFxuICAgICAgdGhpcy5fb3B0aW9ucy5kZWZhdWx0SGVhZGVycyxcbiAgICAgIGJvZHlIZWFkZXJzLFxuICAgICAgb3B0aW9ucy5oZWFkZXJzLFxuICAgICAgYXV0aEhlYWRlcnMsXG4gICAgXSk7XG5cbiAgICB0aGlzLnZhbGlkYXRlSGVhZGVycyhoZWFkZXJzKTtcblxuICAgIHJldHVybiBoZWFkZXJzLnZhbHVlcztcbiAgfVxuXG4gIHByaXZhdGUgYnVpbGRCb2R5KHsgb3B0aW9uczogeyBib2R5LCBoZWFkZXJzOiByYXdIZWFkZXJzIH0gfTogeyBvcHRpb25zOiBGaW5hbFJlcXVlc3RPcHRpb25zIH0pOiB7XG4gICAgYm9keUhlYWRlcnM6IEhlYWRlcnNMaWtlO1xuICAgIGJvZHk6IEJvZHlJbml0IHwgdW5kZWZpbmVkO1xuICB9IHtcbiAgICBpZiAoIWJvZHkpIHtcbiAgICAgIHJldHVybiB7IGJvZHlIZWFkZXJzOiB1bmRlZmluZWQsIGJvZHk6IHVuZGVmaW5lZCB9O1xuICAgIH1cbiAgICBjb25zdCBoZWFkZXJzID0gYnVpbGRIZWFkZXJzKFtyYXdIZWFkZXJzXSk7XG4gICAgaWYgKFxuICAgICAgLy8gUGFzcyByYXcgdHlwZSB2ZXJiYXRpbVxuICAgICAgQXJyYXlCdWZmZXIuaXNWaWV3KGJvZHkpIHx8XG4gICAgICBib2R5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHxcbiAgICAgIGJvZHkgaW5zdGFuY2VvZiBEYXRhVmlldyB8fFxuICAgICAgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAvLyBQcmVzZXJ2ZSBsZWdhY3kgc3RyaW5nIGVuY29kaW5nIGJlaGF2aW9yIGZvciBub3dcbiAgICAgICAgaGVhZGVycy52YWx1ZXMuaGFzKCdjb250ZW50LXR5cGUnKSkgfHxcbiAgICAgIC8vIGBCbG9iYCBpcyBzdXBlcnNldCBvZiBgRmlsZWBcbiAgICAgICgoZ2xvYmFsVGhpcyBhcyBhbnkpLkJsb2IgJiYgYm9keSBpbnN0YW5jZW9mIChnbG9iYWxUaGlzIGFzIGFueSkuQmxvYikgfHxcbiAgICAgIC8vIGBGb3JtRGF0YWAgLT4gYG11bHRpcGFydC9mb3JtLWRhdGFgXG4gICAgICBib2R5IGluc3RhbmNlb2YgRm9ybURhdGEgfHxcbiAgICAgIC8vIGBVUkxTZWFyY2hQYXJhbXNgIC0+IGBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRgXG4gICAgICBib2R5IGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zIHx8XG4gICAgICAvLyBTZW5kIGNodW5rZWQgc3RyZWFtIChlYWNoIGNodW5rIGhhcyBvd24gYGxlbmd0aGApXG4gICAgICAoKGdsb2JhbFRoaXMgYXMgYW55KS5SZWFkYWJsZVN0cmVhbSAmJiBib2R5IGluc3RhbmNlb2YgKGdsb2JhbFRoaXMgYXMgYW55KS5SZWFkYWJsZVN0cmVhbSlcbiAgICApIHtcbiAgICAgIHJldHVybiB7IGJvZHlIZWFkZXJzOiB1bmRlZmluZWQsIGJvZHk6IGJvZHkgYXMgQm9keUluaXQgfTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdHlwZW9mIGJvZHkgPT09ICdvYmplY3QnICYmXG4gICAgICAoU3ltYm9sLmFzeW5jSXRlcmF0b3IgaW4gYm9keSB8fFxuICAgICAgICAoU3ltYm9sLml0ZXJhdG9yIGluIGJvZHkgJiYgJ25leHQnIGluIGJvZHkgJiYgdHlwZW9mIGJvZHkubmV4dCA9PT0gJ2Z1bmN0aW9uJykpXG4gICAgKSB7XG4gICAgICByZXR1cm4geyBib2R5SGVhZGVyczogdW5kZWZpbmVkLCBib2R5OiBTaGltcy5SZWFkYWJsZVN0cmVhbUZyb20oYm9keSBhcyBBc3luY0l0ZXJhYmxlPFVpbnQ4QXJyYXk+KSB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmNvZGVyKHsgYm9keSwgaGVhZGVycyB9KTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgREVGQVVMVF9USU1FT1VUID0gNjAwMDA7IC8vIDEgbWludXRlXG59XG5cbi8qKlxuICogQVBJIENsaWVudCBmb3IgaW50ZXJmYWNpbmcgd2l0aCB0aGUgR2VtaW5pIE5leHQgR2VuIEFQSSBBUEkuXG4gKi9cbmV4cG9ydCBjbGFzcyBHZW1pbmlOZXh0R2VuQVBJQ2xpZW50IGV4dGVuZHMgQmFzZUdlbWluaU5leHRHZW5BUElDbGllbnQge1xuICBzdGF0aWMgR2VtaW5pTmV4dEdlbkFQSUNsaWVudCA9IHRoaXM7XG5cbiAgc3RhdGljIEdlbWluaU5leHRHZW5BUElDbGllbnRFcnJvciA9IEVycm9ycy5HZW1pbmlOZXh0R2VuQVBJQ2xpZW50RXJyb3I7XG4gIHN0YXRpYyBBUElFcnJvciA9IEVycm9ycy5BUElFcnJvcjtcbiAgc3RhdGljIEFQSUNvbm5lY3Rpb25FcnJvciA9IEVycm9ycy5BUElDb25uZWN0aW9uRXJyb3I7XG4gIHN0YXRpYyBBUElDb25uZWN0aW9uVGltZW91dEVycm9yID0gRXJyb3JzLkFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3I7XG4gIHN0YXRpYyBBUElVc2VyQWJvcnRFcnJvciA9IEVycm9ycy5BUElVc2VyQWJvcnRFcnJvcjtcbiAgc3RhdGljIE5vdEZvdW5kRXJyb3IgPSBFcnJvcnMuTm90Rm91bmRFcnJvcjtcbiAgc3RhdGljIENvbmZsaWN0RXJyb3IgPSBFcnJvcnMuQ29uZmxpY3RFcnJvcjtcbiAgc3RhdGljIFJhdGVMaW1pdEVycm9yID0gRXJyb3JzLlJhdGVMaW1pdEVycm9yO1xuICBzdGF0aWMgQmFkUmVxdWVzdEVycm9yID0gRXJyb3JzLkJhZFJlcXVlc3RFcnJvcjtcbiAgc3RhdGljIEF1dGhlbnRpY2F0aW9uRXJyb3IgPSBFcnJvcnMuQXV0aGVudGljYXRpb25FcnJvcjtcbiAgc3RhdGljIEludGVybmFsU2VydmVyRXJyb3IgPSBFcnJvcnMuSW50ZXJuYWxTZXJ2ZXJFcnJvcjtcbiAgc3RhdGljIFBlcm1pc3Npb25EZW5pZWRFcnJvciA9IEVycm9ycy5QZXJtaXNzaW9uRGVuaWVkRXJyb3I7XG4gIHN0YXRpYyBVbnByb2Nlc3NhYmxlRW50aXR5RXJyb3IgPSBFcnJvcnMuVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yO1xuXG4gIHN0YXRpYyB0b0ZpbGUgPSBVcGxvYWRzLnRvRmlsZTtcblxuICBpbnRlcmFjdGlvbnM6IEFQSS5JbnRlcmFjdGlvbnMgPSBuZXcgQVBJLkludGVyYWN0aW9ucyh0aGlzKTtcbn1cblxuR2VtaW5pTmV4dEdlbkFQSUNsaWVudC5JbnRlcmFjdGlvbnMgPSBJbnRlcmFjdGlvbnM7XG5cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBHZW1pbmlOZXh0R2VuQVBJQ2xpZW50IHtcbiAgZXhwb3J0IHR5cGUgUmVxdWVzdE9wdGlvbnMgPSBPcHRzLlJlcXVlc3RPcHRpb25zO1xuXG4gIGV4cG9ydCB7XG4gICAgSW50ZXJhY3Rpb25zIGFzIEludGVyYWN0aW9ucyxcbiAgICB0eXBlIEFsbG93ZWRUb29scyBhcyBBbGxvd2VkVG9vbHMsXG4gICAgdHlwZSBBbm5vdGF0aW9uIGFzIEFubm90YXRpb24sXG4gICAgdHlwZSBBdWRpb0NvbnRlbnQgYXMgQXVkaW9Db250ZW50LFxuICAgIHR5cGUgQXVkaW9NaW1lVHlwZSBhcyBBdWRpb01pbWVUeXBlLFxuICAgIHR5cGUgQ29kZUV4ZWN1dGlvbkNhbGxBcmd1bWVudHMgYXMgQ29kZUV4ZWN1dGlvbkNhbGxBcmd1bWVudHMsXG4gICAgdHlwZSBDb2RlRXhlY3V0aW9uQ2FsbENvbnRlbnQgYXMgQ29kZUV4ZWN1dGlvbkNhbGxDb250ZW50LFxuICAgIHR5cGUgQ29kZUV4ZWN1dGlvblJlc3VsdENvbnRlbnQgYXMgQ29kZUV4ZWN1dGlvblJlc3VsdENvbnRlbnQsXG4gICAgdHlwZSBDb250ZW50RGVsdGEgYXMgQ29udGVudERlbHRhLFxuICAgIHR5cGUgQ29udGVudFN0YXJ0IGFzIENvbnRlbnRTdGFydCxcbiAgICB0eXBlIENvbnRlbnRTdG9wIGFzIENvbnRlbnRTdG9wLFxuICAgIHR5cGUgRGVlcFJlc2VhcmNoQWdlbnRDb25maWcgYXMgRGVlcFJlc2VhcmNoQWdlbnRDb25maWcsXG4gICAgdHlwZSBEb2N1bWVudENvbnRlbnQgYXMgRG9jdW1lbnRDb250ZW50LFxuICAgIHR5cGUgRG9jdW1lbnRNaW1lVHlwZSBhcyBEb2N1bWVudE1pbWVUeXBlLFxuICAgIHR5cGUgRHluYW1pY0FnZW50Q29uZmlnIGFzIER5bmFtaWNBZ2VudENvbmZpZyxcbiAgICB0eXBlIEVycm9yRXZlbnQgYXMgRXJyb3JFdmVudCxcbiAgICB0eXBlIEZpbGVTZWFyY2hSZXN1bHRDb250ZW50IGFzIEZpbGVTZWFyY2hSZXN1bHRDb250ZW50LFxuICAgIHR5cGUgRnVuY3Rpb24gYXMgRnVuY3Rpb24sXG4gICAgdHlwZSBGdW5jdGlvbkNhbGxDb250ZW50IGFzIEZ1bmN0aW9uQ2FsbENvbnRlbnQsXG4gICAgdHlwZSBGdW5jdGlvblJlc3VsdENvbnRlbnQgYXMgRnVuY3Rpb25SZXN1bHRDb250ZW50LFxuICAgIHR5cGUgR2VuZXJhdGlvbkNvbmZpZyBhcyBHZW5lcmF0aW9uQ29uZmlnLFxuICAgIHR5cGUgR29vZ2xlU2VhcmNoQ2FsbEFyZ3VtZW50cyBhcyBHb29nbGVTZWFyY2hDYWxsQXJndW1lbnRzLFxuICAgIHR5cGUgR29vZ2xlU2VhcmNoQ2FsbENvbnRlbnQgYXMgR29vZ2xlU2VhcmNoQ2FsbENvbnRlbnQsXG4gICAgdHlwZSBHb29nbGVTZWFyY2hSZXN1bHQgYXMgR29vZ2xlU2VhcmNoUmVzdWx0LFxuICAgIHR5cGUgR29vZ2xlU2VhcmNoUmVzdWx0Q29udGVudCBhcyBHb29nbGVTZWFyY2hSZXN1bHRDb250ZW50LFxuICAgIHR5cGUgSW1hZ2VDb250ZW50IGFzIEltYWdlQ29udGVudCxcbiAgICB0eXBlIEltYWdlTWltZVR5cGUgYXMgSW1hZ2VNaW1lVHlwZSxcbiAgICB0eXBlIEludGVyYWN0aW9uIGFzIEludGVyYWN0aW9uLFxuICAgIHR5cGUgSW50ZXJhY3Rpb25FdmVudCBhcyBJbnRlcmFjdGlvbkV2ZW50LFxuICAgIHR5cGUgSW50ZXJhY3Rpb25TU0VFdmVudCBhcyBJbnRlcmFjdGlvblNTRUV2ZW50LFxuICAgIHR5cGUgSW50ZXJhY3Rpb25TdGF0dXNVcGRhdGUgYXMgSW50ZXJhY3Rpb25TdGF0dXNVcGRhdGUsXG4gICAgdHlwZSBNQ1BTZXJ2ZXJUb29sQ2FsbENvbnRlbnQgYXMgTUNQU2VydmVyVG9vbENhbGxDb250ZW50LFxuICAgIHR5cGUgTUNQU2VydmVyVG9vbFJlc3VsdENvbnRlbnQgYXMgTUNQU2VydmVyVG9vbFJlc3VsdENvbnRlbnQsXG4gICAgdHlwZSBNb2RlbCBhcyBNb2RlbCxcbiAgICB0eXBlIFNwZWVjaENvbmZpZyBhcyBTcGVlY2hDb25maWcsXG4gICAgdHlwZSBUZXh0Q29udGVudCBhcyBUZXh0Q29udGVudCxcbiAgICB0eXBlIFRoaW5raW5nTGV2ZWwgYXMgVGhpbmtpbmdMZXZlbCxcbiAgICB0eXBlIFRob3VnaHRDb250ZW50IGFzIFRob3VnaHRDb250ZW50LFxuICAgIHR5cGUgVG9vbCBhcyBUb29sLFxuICAgIHR5cGUgVG9vbENob2ljZSBhcyBUb29sQ2hvaWNlLFxuICAgIHR5cGUgVG9vbENob2ljZUNvbmZpZyBhcyBUb29sQ2hvaWNlQ29uZmlnLFxuICAgIHR5cGUgVG9vbENob2ljZVR5cGUgYXMgVG9vbENob2ljZVR5cGUsXG4gICAgdHlwZSBUdXJuIGFzIFR1cm4sXG4gICAgdHlwZSBVUkxDb250ZXh0Q2FsbEFyZ3VtZW50cyBhcyBVUkxDb250ZXh0Q2FsbEFyZ3VtZW50cyxcbiAgICB0eXBlIFVSTENvbnRleHRDYWxsQ29udGVudCBhcyBVUkxDb250ZXh0Q2FsbENvbnRlbnQsXG4gICAgdHlwZSBVUkxDb250ZXh0UmVzdWx0IGFzIFVSTENvbnRleHRSZXN1bHQsXG4gICAgdHlwZSBVUkxDb250ZXh0UmVzdWx0Q29udGVudCBhcyBVUkxDb250ZXh0UmVzdWx0Q29udGVudCxcbiAgICB0eXBlIFVzYWdlIGFzIFVzYWdlLFxuICAgIHR5cGUgVmlkZW9Db250ZW50IGFzIFZpZGVvQ29udGVudCxcbiAgICB0eXBlIFZpZGVvTWltZVR5cGUgYXMgVmlkZW9NaW1lVHlwZSxcbiAgICB0eXBlIEludGVyYWN0aW9uRGVsZXRlUmVzcG9uc2UgYXMgSW50ZXJhY3Rpb25EZWxldGVSZXNwb25zZSxcbiAgICB0eXBlIEludGVyYWN0aW9uQ3JlYXRlUGFyYW1zIGFzIEludGVyYWN0aW9uQ3JlYXRlUGFyYW1zLFxuICAgIHR5cGUgQ3JlYXRlTW9kZWxJbnRlcmFjdGlvblBhcmFtc05vblN0cmVhbWluZyBhcyBDcmVhdGVNb2RlbEludGVyYWN0aW9uUGFyYW1zTm9uU3RyZWFtaW5nLFxuICAgIHR5cGUgQ3JlYXRlTW9kZWxJbnRlcmFjdGlvblBhcmFtc1N0cmVhbWluZyBhcyBDcmVhdGVNb2RlbEludGVyYWN0aW9uUGFyYW1zU3RyZWFtaW5nLFxuICAgIHR5cGUgQ3JlYXRlQWdlbnRJbnRlcmFjdGlvblBhcmFtc05vblN0cmVhbWluZyBhcyBDcmVhdGVBZ2VudEludGVyYWN0aW9uUGFyYW1zTm9uU3RyZWFtaW5nLFxuICAgIHR5cGUgQ3JlYXRlQWdlbnRJbnRlcmFjdGlvblBhcmFtc1N0cmVhbWluZyBhcyBDcmVhdGVBZ2VudEludGVyYWN0aW9uUGFyYW1zU3RyZWFtaW5nLFxuICAgIHR5cGUgSW50ZXJhY3Rpb25EZWxldGVQYXJhbXMgYXMgSW50ZXJhY3Rpb25EZWxldGVQYXJhbXMsXG4gICAgdHlwZSBJbnRlcmFjdGlvbkNhbmNlbFBhcmFtcyBhcyBJbnRlcmFjdGlvbkNhbmNlbFBhcmFtcyxcbiAgICB0eXBlIEludGVyYWN0aW9uR2V0UGFyYW1zIGFzIEludGVyYWN0aW9uR2V0UGFyYW1zLFxuICAgIHR5cGUgSW50ZXJhY3Rpb25HZXRQYXJhbXNOb25TdHJlYW1pbmcgYXMgSW50ZXJhY3Rpb25HZXRQYXJhbXNOb25TdHJlYW1pbmcsXG4gICAgdHlwZSBJbnRlcmFjdGlvbkdldFBhcmFtc1N0cmVhbWluZyBhcyBJbnRlcmFjdGlvbkdldFBhcmFtc1N0cmVhbWluZyxcbiAgfTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8vIENvZGUgZ2VuZXJhdGVkIGJ5IHRoZSBHb29nbGUgR2VuIEFJIFNESyBnZW5lcmF0b3IgRE8gTk9UIEVESVQuXG5cbmltcG9ydCAqIGFzIGNvbW1vbiBmcm9tICcuLi9fY29tbW9uLmpzJztcbmltcG9ydCAqIGFzIHQgZnJvbSAnLi4vX3RyYW5zZm9ybWVycy5qcyc7XG5pbXBvcnQgdHlwZSAqIGFzIHR5cGVzIGZyb20gJy4uL3R5cGVzLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNhbmNlbFR1bmluZ0pvYlBhcmFtZXRlcnNUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5DYW5jZWxUdW5pbmdKb2JQYXJhbWV0ZXJzLFxuICBfcm9vdE9iamVjdD86IHVua25vd24sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnX3VybCcsICduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbmNlbFR1bmluZ0pvYlBhcmFtZXRlcnNUb1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuQ2FuY2VsVHVuaW5nSm9iUGFyYW1ldGVycyxcbiAgX3Jvb3RPYmplY3Q/OiB1bmtub3duLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ191cmwnLCAnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5jZWxUdW5pbmdKb2JSZXNwb25zZUZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuQ2FuY2VsVHVuaW5nSm9iUmVzcG9uc2UsXG4gIF9yb290T2JqZWN0PzogdW5rbm93bixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVNka0h0dHBSZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Nka0h0dHBSZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbVNka0h0dHBSZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Nka0h0dHBSZXNwb25zZSddLCBmcm9tU2RrSHR0cFJlc3BvbnNlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbmNlbFR1bmluZ0pvYlJlc3BvbnNlRnJvbVZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuQ2FuY2VsVHVuaW5nSm9iUmVzcG9uc2UsXG4gIF9yb290T2JqZWN0PzogdW5rbm93bixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVNka0h0dHBSZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Nka0h0dHBSZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbVNka0h0dHBSZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Nka0h0dHBSZXNwb25zZSddLCBmcm9tU2RrSHR0cFJlc3BvbnNlKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVR1bmluZ0pvYkNvbmZpZ1RvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNyZWF0ZVR1bmluZ0pvYkNvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgX3Jvb3RPYmplY3Q/OiB1bmtub3duLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndmFsaWRhdGlvbkRhdGFzZXQnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICd2YWxpZGF0aW9uRGF0YXNldCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UdW5lZE1vZGVsRGlzcGxheU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0dW5lZE1vZGVsRGlzcGxheU5hbWUnLFxuICBdKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21UdW5lZE1vZGVsRGlzcGxheU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsnZGlzcGxheU5hbWUnXSxcbiAgICAgIGZyb21UdW5lZE1vZGVsRGlzcGxheU5hbWUsXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkZXNjcmlwdGlvbiddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdkZXNjcmlwdGlvbiBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbUVwb2NoQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlcG9jaENvdW50J10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUVwb2NoQ291bnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsndHVuaW5nVGFzaycsICdoeXBlcnBhcmFtZXRlcnMnLCAnZXBvY2hDb3VudCddLFxuICAgICAgZnJvbUVwb2NoQ291bnQsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21MZWFybmluZ1JhdGVNdWx0aXBsaWVyID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbGVhcm5pbmdSYXRlTXVsdGlwbGllcicsXG4gIF0pO1xuICBpZiAoZnJvbUxlYXJuaW5nUmF0ZU11bHRpcGxpZXIgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWyd0dW5pbmdUYXNrJywgJ2h5cGVycGFyYW1ldGVycycsICdsZWFybmluZ1JhdGVNdWx0aXBsaWVyJ10sXG4gICAgICBmcm9tTGVhcm5pbmdSYXRlTXVsdGlwbGllcixcbiAgICApO1xuICB9XG5cbiAgaWYgKFxuICAgIGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2V4cG9ydExhc3RDaGVja3BvaW50T25seSddKSAhPT1cbiAgICB1bmRlZmluZWRcbiAgKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ2V4cG9ydExhc3RDaGVja3BvaW50T25seSBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicsXG4gICAgKTtcbiAgfVxuXG4gIGlmIChcbiAgICBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwcmVUdW5lZE1vZGVsQ2hlY2twb2ludElkJ10pICE9PVxuICAgIHVuZGVmaW5lZFxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAncHJlVHVuZWRNb2RlbENoZWNrcG9pbnRJZCBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicsXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydhZGFwdGVyU2l6ZSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdhZGFwdGVyU2l6ZSBwYXJhbWV0ZXIgaXMgbm90IHN1cHBvcnRlZCBpbiBHZW1pbmkgQVBJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbUJhdGNoU2l6ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2JhdGNoU2l6ZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21CYXRjaFNpemUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsndHVuaW5nVGFzaycsICdoeXBlcnBhcmFtZXRlcnMnLCAnYmF0Y2hTaXplJ10sXG4gICAgICBmcm9tQmF0Y2hTaXplLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tTGVhcm5pbmdSYXRlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbGVhcm5pbmdSYXRlJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUxlYXJuaW5nUmF0ZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWyd0dW5pbmdUYXNrJywgJ2h5cGVycGFyYW1ldGVycycsICdsZWFybmluZ1JhdGUnXSxcbiAgICAgIGZyb21MZWFybmluZ1JhdGUsXG4gICAgKTtcbiAgfVxuXG4gIGlmIChjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydsYWJlbHMnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbGFiZWxzIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYmV0YSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdiZXRhIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUdW5pbmdKb2JDb25maWdUb1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuQ3JlYXRlVHVuaW5nSm9iQ29uZmlnLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICByb290T2JqZWN0PzogdW5rbm93bixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgbGV0IGRpc2NyaW1pbmF0b3JWYWxpZGF0aW9uRGF0YXNldCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChyb290T2JqZWN0LCBbXG4gICAgJ2NvbmZpZycsXG4gICAgJ21ldGhvZCcsXG4gIF0pO1xuICBpZiAoZGlzY3JpbWluYXRvclZhbGlkYXRpb25EYXRhc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICBkaXNjcmltaW5hdG9yVmFsaWRhdGlvbkRhdGFzZXQgPSAnU1VQRVJWSVNFRF9GSU5FX1RVTklORyc7XG4gIH1cbiAgaWYgKGRpc2NyaW1pbmF0b3JWYWxpZGF0aW9uRGF0YXNldCA9PT0gJ1NVUEVSVklTRURfRklORV9UVU5JTkcnKSB7XG4gICAgY29uc3QgZnJvbVZhbGlkYXRpb25EYXRhc2V0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAgICd2YWxpZGF0aW9uRGF0YXNldCcsXG4gICAgXSk7XG4gICAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21WYWxpZGF0aW9uRGF0YXNldCAhPSBudWxsKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgICAgWydzdXBlcnZpc2VkVHVuaW5nU3BlYyddLFxuICAgICAgICB0dW5pbmdWYWxpZGF0aW9uRGF0YXNldFRvVmVydGV4KGZyb21WYWxpZGF0aW9uRGF0YXNldCwgcm9vdE9iamVjdCksXG4gICAgICApO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkaXNjcmltaW5hdG9yVmFsaWRhdGlvbkRhdGFzZXQgPT09ICdQUkVGRVJFTkNFX1RVTklORycpIHtcbiAgICBjb25zdCBmcm9tVmFsaWRhdGlvbkRhdGFzZXQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICAgJ3ZhbGlkYXRpb25EYXRhc2V0JyxcbiAgICBdKTtcbiAgICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVZhbGlkYXRpb25EYXRhc2V0ICE9IG51bGwpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgICBbJ3ByZWZlcmVuY2VPcHRpbWl6YXRpb25TcGVjJ10sXG4gICAgICAgIHR1bmluZ1ZhbGlkYXRpb25EYXRhc2V0VG9WZXJ0ZXgoZnJvbVZhbGlkYXRpb25EYXRhc2V0LCByb290T2JqZWN0KSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZnJvbVR1bmVkTW9kZWxEaXNwbGF5TmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3R1bmVkTW9kZWxEaXNwbGF5TmFtZScsXG4gIF0pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVR1bmVkTW9kZWxEaXNwbGF5TmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgWyd0dW5lZE1vZGVsRGlzcGxheU5hbWUnXSxcbiAgICAgIGZyb21UdW5lZE1vZGVsRGlzcGxheU5hbWUsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EZXNjcmlwdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rlc2NyaXB0aW9uJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbURlc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ2Rlc2NyaXB0aW9uJ10sIGZyb21EZXNjcmlwdGlvbik7XG4gIH1cblxuICBsZXQgZGlzY3JpbWluYXRvckVwb2NoQ291bnQgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgocm9vdE9iamVjdCwgW1xuICAgICdjb25maWcnLFxuICAgICdtZXRob2QnLFxuICBdKTtcbiAgaWYgKGRpc2NyaW1pbmF0b3JFcG9jaENvdW50ID09PSB1bmRlZmluZWQpIHtcbiAgICBkaXNjcmltaW5hdG9yRXBvY2hDb3VudCA9ICdTVVBFUlZJU0VEX0ZJTkVfVFVOSU5HJztcbiAgfVxuICBpZiAoZGlzY3JpbWluYXRvckVwb2NoQ291bnQgPT09ICdTVVBFUlZJU0VEX0ZJTkVfVFVOSU5HJykge1xuICAgIGNvbnN0IGZyb21FcG9jaENvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXBvY2hDb3VudCddKTtcbiAgICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUVwb2NoQ291bnQgIT0gbnVsbCkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICBwYXJlbnRPYmplY3QsXG4gICAgICAgIFsnc3VwZXJ2aXNlZFR1bmluZ1NwZWMnLCAnaHlwZXJQYXJhbWV0ZXJzJywgJ2Vwb2NoQ291bnQnXSxcbiAgICAgICAgZnJvbUVwb2NoQ291bnQsXG4gICAgICApO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkaXNjcmltaW5hdG9yRXBvY2hDb3VudCA9PT0gJ1BSRUZFUkVOQ0VfVFVOSU5HJykge1xuICAgIGNvbnN0IGZyb21FcG9jaENvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXBvY2hDb3VudCddKTtcbiAgICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUVwb2NoQ291bnQgIT0gbnVsbCkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICBwYXJlbnRPYmplY3QsXG4gICAgICAgIFsncHJlZmVyZW5jZU9wdGltaXphdGlvblNwZWMnLCAnaHlwZXJQYXJhbWV0ZXJzJywgJ2Vwb2NoQ291bnQnXSxcbiAgICAgICAgZnJvbUVwb2NoQ291bnQsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGxldCBkaXNjcmltaW5hdG9yTGVhcm5pbmdSYXRlTXVsdGlwbGllciA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChyb290T2JqZWN0LCBbXG4gICAgJ2NvbmZpZycsXG4gICAgJ21ldGhvZCcsXG4gIF0pO1xuICBpZiAoZGlzY3JpbWluYXRvckxlYXJuaW5nUmF0ZU11bHRpcGxpZXIgPT09IHVuZGVmaW5lZCkge1xuICAgIGRpc2NyaW1pbmF0b3JMZWFybmluZ1JhdGVNdWx0aXBsaWVyID0gJ1NVUEVSVklTRURfRklORV9UVU5JTkcnO1xuICB9XG4gIGlmIChkaXNjcmltaW5hdG9yTGVhcm5pbmdSYXRlTXVsdGlwbGllciA9PT0gJ1NVUEVSVklTRURfRklORV9UVU5JTkcnKSB7XG4gICAgY29uc3QgZnJvbUxlYXJuaW5nUmF0ZU11bHRpcGxpZXIgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICAgJ2xlYXJuaW5nUmF0ZU11bHRpcGxpZXInLFxuICAgIF0pO1xuICAgIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTGVhcm5pbmdSYXRlTXVsdGlwbGllciAhPSBudWxsKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgICAgWydzdXBlcnZpc2VkVHVuaW5nU3BlYycsICdoeXBlclBhcmFtZXRlcnMnLCAnbGVhcm5pbmdSYXRlTXVsdGlwbGllciddLFxuICAgICAgICBmcm9tTGVhcm5pbmdSYXRlTXVsdGlwbGllcixcbiAgICAgICk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRpc2NyaW1pbmF0b3JMZWFybmluZ1JhdGVNdWx0aXBsaWVyID09PSAnUFJFRkVSRU5DRV9UVU5JTkcnKSB7XG4gICAgY29uc3QgZnJvbUxlYXJuaW5nUmF0ZU11bHRpcGxpZXIgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICAgJ2xlYXJuaW5nUmF0ZU11bHRpcGxpZXInLFxuICAgIF0pO1xuICAgIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tTGVhcm5pbmdSYXRlTXVsdGlwbGllciAhPSBudWxsKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgICAgW1xuICAgICAgICAgICdwcmVmZXJlbmNlT3B0aW1pemF0aW9uU3BlYycsXG4gICAgICAgICAgJ2h5cGVyUGFyYW1ldGVycycsXG4gICAgICAgICAgJ2xlYXJuaW5nUmF0ZU11bHRpcGxpZXInLFxuICAgICAgICBdLFxuICAgICAgICBmcm9tTGVhcm5pbmdSYXRlTXVsdGlwbGllcixcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgbGV0IGRpc2NyaW1pbmF0b3JFeHBvcnRMYXN0Q2hlY2twb2ludE9ubHkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoXG4gICAgcm9vdE9iamVjdCxcbiAgICBbJ2NvbmZpZycsICdtZXRob2QnXSxcbiAgKTtcbiAgaWYgKGRpc2NyaW1pbmF0b3JFeHBvcnRMYXN0Q2hlY2twb2ludE9ubHkgPT09IHVuZGVmaW5lZCkge1xuICAgIGRpc2NyaW1pbmF0b3JFeHBvcnRMYXN0Q2hlY2twb2ludE9ubHkgPSAnU1VQRVJWSVNFRF9GSU5FX1RVTklORyc7XG4gIH1cbiAgaWYgKGRpc2NyaW1pbmF0b3JFeHBvcnRMYXN0Q2hlY2twb2ludE9ubHkgPT09ICdTVVBFUlZJU0VEX0ZJTkVfVFVOSU5HJykge1xuICAgIGNvbnN0IGZyb21FeHBvcnRMYXN0Q2hlY2twb2ludE9ubHkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICAgJ2V4cG9ydExhc3RDaGVja3BvaW50T25seScsXG4gICAgXSk7XG4gICAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21FeHBvcnRMYXN0Q2hlY2twb2ludE9ubHkgIT0gbnVsbCkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICBwYXJlbnRPYmplY3QsXG4gICAgICAgIFsnc3VwZXJ2aXNlZFR1bmluZ1NwZWMnLCAnZXhwb3J0TGFzdENoZWNrcG9pbnRPbmx5J10sXG4gICAgICAgIGZyb21FeHBvcnRMYXN0Q2hlY2twb2ludE9ubHksXG4gICAgICApO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkaXNjcmltaW5hdG9yRXhwb3J0TGFzdENoZWNrcG9pbnRPbmx5ID09PSAnUFJFRkVSRU5DRV9UVU5JTkcnKSB7XG4gICAgY29uc3QgZnJvbUV4cG9ydExhc3RDaGVja3BvaW50T25seSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgICAnZXhwb3J0TGFzdENoZWNrcG9pbnRPbmx5JyxcbiAgICBdKTtcbiAgICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUV4cG9ydExhc3RDaGVja3BvaW50T25seSAhPSBudWxsKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgICAgWydwcmVmZXJlbmNlT3B0aW1pemF0aW9uU3BlYycsICdleHBvcnRMYXN0Q2hlY2twb2ludE9ubHknXSxcbiAgICAgICAgZnJvbUV4cG9ydExhc3RDaGVja3BvaW50T25seSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgbGV0IGRpc2NyaW1pbmF0b3JBZGFwdGVyU2l6ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChyb290T2JqZWN0LCBbXG4gICAgJ2NvbmZpZycsXG4gICAgJ21ldGhvZCcsXG4gIF0pO1xuICBpZiAoZGlzY3JpbWluYXRvckFkYXB0ZXJTaXplID09PSB1bmRlZmluZWQpIHtcbiAgICBkaXNjcmltaW5hdG9yQWRhcHRlclNpemUgPSAnU1VQRVJWSVNFRF9GSU5FX1RVTklORyc7XG4gIH1cbiAgaWYgKGRpc2NyaW1pbmF0b3JBZGFwdGVyU2l6ZSA9PT0gJ1NVUEVSVklTRURfRklORV9UVU5JTkcnKSB7XG4gICAgY29uc3QgZnJvbUFkYXB0ZXJTaXplID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYWRhcHRlclNpemUnXSk7XG4gICAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21BZGFwdGVyU2l6ZSAhPSBudWxsKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgICAgWydzdXBlcnZpc2VkVHVuaW5nU3BlYycsICdoeXBlclBhcmFtZXRlcnMnLCAnYWRhcHRlclNpemUnXSxcbiAgICAgICAgZnJvbUFkYXB0ZXJTaXplLFxuICAgICAgKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGlzY3JpbWluYXRvckFkYXB0ZXJTaXplID09PSAnUFJFRkVSRU5DRV9UVU5JTkcnKSB7XG4gICAgY29uc3QgZnJvbUFkYXB0ZXJTaXplID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYWRhcHRlclNpemUnXSk7XG4gICAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21BZGFwdGVyU2l6ZSAhPSBudWxsKSB7XG4gICAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgICAgWydwcmVmZXJlbmNlT3B0aW1pemF0aW9uU3BlYycsICdoeXBlclBhcmFtZXRlcnMnLCAnYWRhcHRlclNpemUnXSxcbiAgICAgICAgZnJvbUFkYXB0ZXJTaXplLFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2JhdGNoU2l6ZSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdiYXRjaFNpemUgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gVmVydGV4IEFJLicpO1xuICB9XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2xlYXJuaW5nUmF0ZSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdsZWFybmluZ1JhdGUgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gVmVydGV4IEFJLicpO1xuICB9XG5cbiAgY29uc3QgZnJvbUxhYmVscyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2xhYmVscyddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21MYWJlbHMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnbGFiZWxzJ10sIGZyb21MYWJlbHMpO1xuICB9XG5cbiAgY29uc3QgZnJvbUJldGEgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydiZXRhJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUJldGEgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHBhcmVudE9iamVjdCxcbiAgICAgIFsncHJlZmVyZW5jZU9wdGltaXphdGlvblNwZWMnLCAnaHlwZXJQYXJhbWV0ZXJzJywgJ2JldGEnXSxcbiAgICAgIGZyb21CZXRhLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUdW5pbmdKb2JQYXJhbWV0ZXJzUHJpdmF0ZVRvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNyZWF0ZVR1bmluZ0pvYlBhcmFtZXRlcnNQcml2YXRlLFxuICByb290T2JqZWN0PzogdW5rbm93bixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUJhc2VNb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Jhc2VNb2RlbCddKTtcbiAgaWYgKGZyb21CYXNlTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydiYXNlTW9kZWwnXSwgZnJvbUJhc2VNb2RlbCk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJlVHVuZWRNb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3ByZVR1bmVkTW9kZWwnLFxuICBdKTtcbiAgaWYgKGZyb21QcmVUdW5lZE1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncHJlVHVuZWRNb2RlbCddLCBmcm9tUHJlVHVuZWRNb2RlbCk7XG4gIH1cblxuICBjb25zdCBmcm9tVHJhaW5pbmdEYXRhc2V0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndHJhaW5pbmdEYXRhc2V0JyxcbiAgXSk7XG4gIGlmIChmcm9tVHJhaW5pbmdEYXRhc2V0ICE9IG51bGwpIHtcbiAgICB0dW5pbmdEYXRhc2V0VG9NbGRldihmcm9tVHJhaW5pbmdEYXRhc2V0LCByb290T2JqZWN0KTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Db25maWcgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjb25maWcnXSk7XG4gIGlmIChmcm9tQ29uZmlnICE9IG51bGwpIHtcbiAgICBjcmVhdGVUdW5pbmdKb2JDb25maWdUb01sZGV2KGZyb21Db25maWcsIHRvT2JqZWN0LCByb290T2JqZWN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVR1bmluZ0pvYlBhcmFtZXRlcnNQcml2YXRlVG9WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkNyZWF0ZVR1bmluZ0pvYlBhcmFtZXRlcnNQcml2YXRlLFxuICByb290T2JqZWN0PzogdW5rbm93bixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUJhc2VNb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Jhc2VNb2RlbCddKTtcbiAgaWYgKGZyb21CYXNlTW9kZWwgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydiYXNlTW9kZWwnXSwgZnJvbUJhc2VNb2RlbCk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJlVHVuZWRNb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3ByZVR1bmVkTW9kZWwnLFxuICBdKTtcbiAgaWYgKGZyb21QcmVUdW5lZE1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncHJlVHVuZWRNb2RlbCddLCBmcm9tUHJlVHVuZWRNb2RlbCk7XG4gIH1cblxuICBjb25zdCBmcm9tVHJhaW5pbmdEYXRhc2V0ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndHJhaW5pbmdEYXRhc2V0JyxcbiAgXSk7XG4gIGlmIChmcm9tVHJhaW5pbmdEYXRhc2V0ICE9IG51bGwpIHtcbiAgICB0dW5pbmdEYXRhc2V0VG9WZXJ0ZXgoZnJvbVRyYWluaW5nRGF0YXNldCwgdG9PYmplY3QsIHJvb3RPYmplY3QpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGNyZWF0ZVR1bmluZ0pvYkNvbmZpZ1RvVmVydGV4KGZyb21Db25maWcsIHRvT2JqZWN0LCByb290T2JqZWN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFR1bmluZ0pvYlBhcmFtZXRlcnNUb01sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5HZXRUdW5pbmdKb2JQYXJhbWV0ZXJzLFxuICBfcm9vdE9iamVjdD86IHVua25vd24sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21OYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbmFtZSddKTtcbiAgaWYgKGZyb21OYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnX3VybCcsICduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFR1bmluZ0pvYlBhcmFtZXRlcnNUb1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuR2V0VHVuaW5nSm9iUGFyYW1ldGVycyxcbiAgX3Jvb3RPYmplY3Q/OiB1bmtub3duLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTmFtZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tTmFtZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ191cmwnLCAnbmFtZSddLCBmcm9tTmFtZSk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0VHVuaW5nSm9ic0NvbmZpZ1RvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLkxpc3RUdW5pbmdKb2JzQ29uZmlnLFxuICBwYXJlbnRPYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICBfcm9vdE9iamVjdD86IHVua25vd24sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21QYWdlU2l6ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhZ2VTaXplJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbVBhZ2VTaXplICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ19xdWVyeScsICdwYWdlU2l6ZSddLCBmcm9tUGFnZVNpemUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVBhZ2VUb2tlbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3BhZ2VUb2tlbiddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21QYWdlVG9rZW4gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChwYXJlbnRPYmplY3QsIFsnX3F1ZXJ5JywgJ3BhZ2VUb2tlbiddLCBmcm9tUGFnZVRva2VuKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21GaWx0ZXIgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydmaWx0ZXInXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tRmlsdGVyICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ19xdWVyeScsICdmaWx0ZXInXSwgZnJvbUZpbHRlcik7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0VHVuaW5nSm9ic0NvbmZpZ1RvVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXN0VHVuaW5nSm9ic0NvbmZpZyxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgX3Jvb3RPYmplY3Q/OiB1bmtub3duLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tUGFnZVNpemUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYWdlU2l6ZSddKTtcbiAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21QYWdlU2l6ZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydfcXVlcnknLCAncGFnZVNpemUnXSwgZnJvbVBhZ2VTaXplKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21QYWdlVG9rZW4gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydwYWdlVG9rZW4nXSk7XG4gIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tUGFnZVRva2VuICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgocGFyZW50T2JqZWN0LCBbJ19xdWVyeScsICdwYWdlVG9rZW4nXSwgZnJvbVBhZ2VUb2tlbik7XG4gIH1cblxuICBjb25zdCBmcm9tRmlsdGVyID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZmlsdGVyJ10pO1xuICBpZiAocGFyZW50T2JqZWN0ICE9PSB1bmRlZmluZWQgJiYgZnJvbUZpbHRlciAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHBhcmVudE9iamVjdCwgWydfcXVlcnknLCAnZmlsdGVyJ10sIGZyb21GaWx0ZXIpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGlzdFR1bmluZ0pvYnNQYXJhbWV0ZXJzVG9NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuTGlzdFR1bmluZ0pvYnNQYXJhbWV0ZXJzLFxuICByb290T2JqZWN0PzogdW5rbm93bixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGxpc3RUdW5pbmdKb2JzQ29uZmlnVG9NbGRldihmcm9tQ29uZmlnLCB0b09iamVjdCwgcm9vdE9iamVjdCk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaXN0VHVuaW5nSm9ic1BhcmFtZXRlcnNUb1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuTGlzdFR1bmluZ0pvYnNQYXJhbWV0ZXJzLFxuICByb290T2JqZWN0PzogdW5rbm93bixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbUNvbmZpZyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2NvbmZpZyddKTtcbiAgaWYgKGZyb21Db25maWcgIT0gbnVsbCkge1xuICAgIGxpc3RUdW5pbmdKb2JzQ29uZmlnVG9WZXJ0ZXgoZnJvbUNvbmZpZywgdG9PYmplY3QsIHJvb3RPYmplY3QpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGlzdFR1bmluZ0pvYnNSZXNwb25zZUZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuTGlzdFR1bmluZ0pvYnNSZXNwb25zZSxcbiAgcm9vdE9iamVjdD86IHVua25vd24sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGNvbnN0IGZyb21TZGtIdHRwUmVzcG9uc2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzZGtIdHRwUmVzcG9uc2UnLFxuICBdKTtcbiAgaWYgKGZyb21TZGtIdHRwUmVzcG9uc2UgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydzZGtIdHRwUmVzcG9uc2UnXSwgZnJvbVNka0h0dHBSZXNwb25zZSk7XG4gIH1cblxuICBjb25zdCBmcm9tTmV4dFBhZ2VUb2tlbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ25leHRQYWdlVG9rZW4nLFxuICBdKTtcbiAgaWYgKGZyb21OZXh0UGFnZVRva2VuICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbmV4dFBhZ2VUb2tlbiddLCBmcm9tTmV4dFBhZ2VUb2tlbik7XG4gIH1cblxuICBjb25zdCBmcm9tVHVuaW5nSm9icyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3R1bmVkTW9kZWxzJ10pO1xuICBpZiAoZnJvbVR1bmluZ0pvYnMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tVHVuaW5nSm9icztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1lZExpc3QpKSB7XG4gICAgICB0cmFuc2Zvcm1lZExpc3QgPSB0cmFuc2Zvcm1lZExpc3QubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiB0dW5pbmdKb2JGcm9tTWxkZXYoaXRlbSwgcm9vdE9iamVjdCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3R1bmluZ0pvYnMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RUdW5pbmdKb2JzUmVzcG9uc2VGcm9tVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5MaXN0VHVuaW5nSm9ic1Jlc3BvbnNlLFxuICByb290T2JqZWN0PzogdW5rbm93bixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgY29uc3QgZnJvbVNka0h0dHBSZXNwb25zZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Nka0h0dHBSZXNwb25zZScsXG4gIF0pO1xuICBpZiAoZnJvbVNka0h0dHBSZXNwb25zZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3Nka0h0dHBSZXNwb25zZSddLCBmcm9tU2RrSHR0cFJlc3BvbnNlKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21OZXh0UGFnZVRva2VuID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnbmV4dFBhZ2VUb2tlbicsXG4gIF0pO1xuICBpZiAoZnJvbU5leHRQYWdlVG9rZW4gIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduZXh0UGFnZVRva2VuJ10sIGZyb21OZXh0UGFnZVRva2VuKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UdW5pbmdKb2JzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndHVuaW5nSm9icyddKTtcbiAgaWYgKGZyb21UdW5pbmdKb2JzICE9IG51bGwpIHtcbiAgICBsZXQgdHJhbnNmb3JtZWRMaXN0ID0gZnJvbVR1bmluZ0pvYnM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gdHVuaW5nSm9iRnJvbVZlcnRleChpdGVtLCByb290T2JqZWN0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndHVuaW5nSm9icyddLCB0cmFuc2Zvcm1lZExpc3QpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHVuZWRNb2RlbEZyb21NbGRldihcbiAgZnJvbU9iamVjdDogdHlwZXMuVHVuZWRNb2RlbCxcbiAgX3Jvb3RPYmplY3Q/OiB1bmtub3duLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbW9kZWwnXSwgZnJvbU1vZGVsKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FbmRwb2ludCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ25hbWUnXSk7XG4gIGlmIChmcm9tRW5kcG9pbnQgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydlbmRwb2ludCddLCBmcm9tRW5kcG9pbnQpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHVuaW5nRGF0YXNldFRvTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLlR1bmluZ0RhdGFzZXQsXG4gIF9yb290T2JqZWN0PzogdW5rbm93bixcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgY29uc3QgdG9PYmplY3Q6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbiAgaWYgKGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2djc1VyaSddKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdnY3NVcmkgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gR2VtaW5pIEFQSS4nKTtcbiAgfVxuXG4gIGlmIChcbiAgICBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd2ZXJ0ZXhEYXRhc2V0UmVzb3VyY2UnXSkgIT09IHVuZGVmaW5lZFxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAndmVydGV4RGF0YXNldFJlc291cmNlIHBhcmFtZXRlciBpcyBub3Qgc3VwcG9ydGVkIGluIEdlbWluaSBBUEkuJyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUV4YW1wbGVzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXhhbXBsZXMnXSk7XG4gIGlmIChmcm9tRXhhbXBsZXMgIT0gbnVsbCkge1xuICAgIGxldCB0cmFuc2Zvcm1lZExpc3QgPSBmcm9tRXhhbXBsZXM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNmb3JtZWRMaXN0KSkge1xuICAgICAgdHJhbnNmb3JtZWRMaXN0ID0gdHJhbnNmb3JtZWRMaXN0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZXhhbXBsZXMnLCAnZXhhbXBsZXMnXSwgdHJhbnNmb3JtZWRMaXN0KTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1bmluZ0RhdGFzZXRUb1ZlcnRleChcbiAgZnJvbU9iamVjdDogdHlwZXMuVHVuaW5nRGF0YXNldCxcbiAgcGFyZW50T2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgcm9vdE9iamVjdD86IHVua25vd24sXG4pOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIGNvbnN0IHRvT2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG4gIGxldCBkaXNjcmltaW5hdG9yR2NzVXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKHJvb3RPYmplY3QsIFtcbiAgICAnY29uZmlnJyxcbiAgICAnbWV0aG9kJyxcbiAgXSk7XG4gIGlmIChkaXNjcmltaW5hdG9yR2NzVXJpID09PSB1bmRlZmluZWQpIHtcbiAgICBkaXNjcmltaW5hdG9yR2NzVXJpID0gJ1NVUEVSVklTRURfRklORV9UVU5JTkcnO1xuICB9XG4gIGlmIChkaXNjcmltaW5hdG9yR2NzVXJpID09PSAnU1VQRVJWSVNFRF9GSU5FX1RVTklORycpIHtcbiAgICBjb25zdCBmcm9tR2NzVXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ2NzVXJpJ10pO1xuICAgIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tR2NzVXJpICE9IG51bGwpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgICBbJ3N1cGVydmlzZWRUdW5pbmdTcGVjJywgJ3RyYWluaW5nRGF0YXNldFVyaSddLFxuICAgICAgICBmcm9tR2NzVXJpLFxuICAgICAgKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGlzY3JpbWluYXRvckdjc1VyaSA9PT0gJ1BSRUZFUkVOQ0VfVFVOSU5HJykge1xuICAgIGNvbnN0IGZyb21HY3NVcmkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydnY3NVcmknXSk7XG4gICAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21HY3NVcmkgIT0gbnVsbCkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICBwYXJlbnRPYmplY3QsXG4gICAgICAgIFsncHJlZmVyZW5jZU9wdGltaXphdGlvblNwZWMnLCAndHJhaW5pbmdEYXRhc2V0VXJpJ10sXG4gICAgICAgIGZyb21HY3NVcmksXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGxldCBkaXNjcmltaW5hdG9yVmVydGV4RGF0YXNldFJlc291cmNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKHJvb3RPYmplY3QsIFtcbiAgICAnY29uZmlnJyxcbiAgICAnbWV0aG9kJyxcbiAgXSk7XG4gIGlmIChkaXNjcmltaW5hdG9yVmVydGV4RGF0YXNldFJlc291cmNlID09PSB1bmRlZmluZWQpIHtcbiAgICBkaXNjcmltaW5hdG9yVmVydGV4RGF0YXNldFJlc291cmNlID0gJ1NVUEVSVklTRURfRklORV9UVU5JTkcnO1xuICB9XG4gIGlmIChkaXNjcmltaW5hdG9yVmVydGV4RGF0YXNldFJlc291cmNlID09PSAnU1VQRVJWSVNFRF9GSU5FX1RVTklORycpIHtcbiAgICBjb25zdCBmcm9tVmVydGV4RGF0YXNldFJlc291cmNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAgICd2ZXJ0ZXhEYXRhc2V0UmVzb3VyY2UnLFxuICAgIF0pO1xuICAgIGlmIChwYXJlbnRPYmplY3QgIT09IHVuZGVmaW5lZCAmJiBmcm9tVmVydGV4RGF0YXNldFJlc291cmNlICE9IG51bGwpIHtcbiAgICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgICAgcGFyZW50T2JqZWN0LFxuICAgICAgICBbJ3N1cGVydmlzZWRUdW5pbmdTcGVjJywgJ3RyYWluaW5nRGF0YXNldFVyaSddLFxuICAgICAgICBmcm9tVmVydGV4RGF0YXNldFJlc291cmNlLFxuICAgICAgKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGlzY3JpbWluYXRvclZlcnRleERhdGFzZXRSZXNvdXJjZSA9PT0gJ1BSRUZFUkVOQ0VfVFVOSU5HJykge1xuICAgIGNvbnN0IGZyb21WZXJ0ZXhEYXRhc2V0UmVzb3VyY2UgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICAgJ3ZlcnRleERhdGFzZXRSZXNvdXJjZScsXG4gICAgXSk7XG4gICAgaWYgKHBhcmVudE9iamVjdCAhPT0gdW5kZWZpbmVkICYmIGZyb21WZXJ0ZXhEYXRhc2V0UmVzb3VyY2UgIT0gbnVsbCkge1xuICAgICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgICBwYXJlbnRPYmplY3QsXG4gICAgICAgIFsncHJlZmVyZW5jZU9wdGltaXphdGlvblNwZWMnLCAndHJhaW5pbmdEYXRhc2V0VXJpJ10sXG4gICAgICAgIGZyb21WZXJ0ZXhEYXRhc2V0UmVzb3VyY2UsXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBpZiAoY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXhhbXBsZXMnXSkgIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignZXhhbXBsZXMgcGFyYW1ldGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gVmVydGV4IEFJLicpO1xuICB9XG5cbiAgcmV0dXJuIHRvT2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHVuaW5nSm9iRnJvbU1sZGV2KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5UdW5pbmdKb2IsXG4gIHJvb3RPYmplY3Q/OiB1bmtub3duLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tU2RrSHR0cFJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2RrSHR0cFJlc3BvbnNlJyxcbiAgXSk7XG4gIGlmIChmcm9tU2RrSHR0cFJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2RrSHR0cFJlc3BvbnNlJ10sIGZyb21TZGtIdHRwUmVzcG9uc2UpO1xuICB9XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TdGF0ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3N0YXRlJ10pO1xuICBpZiAoZnJvbVN0YXRlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc3RhdGUnXSwgdC50VHVuaW5nSm9iU3RhdHVzKGZyb21TdGF0ZSkpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNyZWF0ZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjcmVhdGVUaW1lJ10pO1xuICBpZiAoZnJvbUNyZWF0ZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjcmVhdGVUaW1lJ10sIGZyb21DcmVhdGVUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TdGFydFRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0dW5pbmdUYXNrJyxcbiAgICAnc3RhcnRUaW1lJyxcbiAgXSk7XG4gIGlmIChmcm9tU3RhcnRUaW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc3RhcnRUaW1lJ10sIGZyb21TdGFydFRpbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUVuZFRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0dW5pbmdUYXNrJyxcbiAgICAnY29tcGxldGVUaW1lJyxcbiAgXSk7XG4gIGlmIChmcm9tRW5kVGltZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2VuZFRpbWUnXSwgZnJvbUVuZFRpbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbVVwZGF0ZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyd1cGRhdGVUaW1lJ10pO1xuICBpZiAoZnJvbVVwZGF0ZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd1cGRhdGVUaW1lJ10sIGZyb21VcGRhdGVUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21EZXNjcmlwdGlvbiA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ2Rlc2NyaXB0aW9uJ10pO1xuICBpZiAoZnJvbURlc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZGVzY3JpcHRpb24nXSwgZnJvbURlc2NyaXB0aW9uKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21CYXNlTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydiYXNlTW9kZWwnXSk7XG4gIGlmIChmcm9tQmFzZU1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnYmFzZU1vZGVsJ10sIGZyb21CYXNlTW9kZWwpO1xuICB9XG5cbiAgY29uc3QgZnJvbVR1bmVkTW9kZWwgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydfc2VsZiddKTtcbiAgaWYgKGZyb21UdW5lZE1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndHVuZWRNb2RlbCddLFxuICAgICAgdHVuZWRNb2RlbEZyb21NbGRldihmcm9tVHVuZWRNb2RlbCwgcm9vdE9iamVjdCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0b09iamVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1bmluZ0pvYkZyb21WZXJ0ZXgoXG4gIGZyb21PYmplY3Q6IHR5cGVzLlR1bmluZ0pvYixcbiAgX3Jvb3RPYmplY3Q/OiB1bmtub3duLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tU2RrSHR0cFJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2RrSHR0cFJlc3BvbnNlJyxcbiAgXSk7XG4gIGlmIChmcm9tU2RrSHR0cFJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2RrSHR0cFJlc3BvbnNlJ10sIGZyb21TZGtIdHRwUmVzcG9uc2UpO1xuICB9XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TdGF0ZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ3N0YXRlJ10pO1xuICBpZiAoZnJvbVN0YXRlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc3RhdGUnXSwgdC50VHVuaW5nSm9iU3RhdHVzKGZyb21TdGF0ZSkpO1xuICB9XG5cbiAgY29uc3QgZnJvbUNyZWF0ZVRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydjcmVhdGVUaW1lJ10pO1xuICBpZiAoZnJvbUNyZWF0ZVRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydjcmVhdGVUaW1lJ10sIGZyb21DcmVhdGVUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21TdGFydFRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydzdGFydFRpbWUnXSk7XG4gIGlmIChmcm9tU3RhcnRUaW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc3RhcnRUaW1lJ10sIGZyb21TdGFydFRpbWUpO1xuICB9XG5cbiAgY29uc3QgZnJvbUVuZFRpbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlbmRUaW1lJ10pO1xuICBpZiAoZnJvbUVuZFRpbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydlbmRUaW1lJ10sIGZyb21FbmRUaW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21VcGRhdGVUaW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndXBkYXRlVGltZSddKTtcbiAgaWYgKGZyb21VcGRhdGVUaW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndXBkYXRlVGltZSddLCBmcm9tVXBkYXRlVGltZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRXJyb3IgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlcnJvciddKTtcbiAgaWYgKGZyb21FcnJvciAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Vycm9yJ10sIGZyb21FcnJvcik7XG4gIH1cblxuICBjb25zdCBmcm9tRGVzY3JpcHRpb24gPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydkZXNjcmlwdGlvbiddKTtcbiAgaWYgKGZyb21EZXNjcmlwdGlvbiAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Rlc2NyaXB0aW9uJ10sIGZyb21EZXNjcmlwdGlvbik7XG4gIH1cblxuICBjb25zdCBmcm9tQmFzZU1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnYmFzZU1vZGVsJ10pO1xuICBpZiAoZnJvbUJhc2VNb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Jhc2VNb2RlbCddLCBmcm9tQmFzZU1vZGVsKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UdW5lZE1vZGVsID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsndHVuZWRNb2RlbCddKTtcbiAgaWYgKGZyb21UdW5lZE1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndHVuZWRNb2RlbCddLCBmcm9tVHVuZWRNb2RlbCk7XG4gIH1cblxuICBjb25zdCBmcm9tUHJlVHVuZWRNb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3ByZVR1bmVkTW9kZWwnLFxuICBdKTtcbiAgaWYgKGZyb21QcmVUdW5lZE1vZGVsICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsncHJlVHVuZWRNb2RlbCddLCBmcm9tUHJlVHVuZWRNb2RlbCk7XG4gIH1cblxuICBjb25zdCBmcm9tU3VwZXJ2aXNlZFR1bmluZ1NwZWMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdzdXBlcnZpc2VkVHVuaW5nU3BlYycsXG4gIF0pO1xuICBpZiAoZnJvbVN1cGVydmlzZWRUdW5pbmdTcGVjICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsnc3VwZXJ2aXNlZFR1bmluZ1NwZWMnXSxcbiAgICAgIGZyb21TdXBlcnZpc2VkVHVuaW5nU3BlYyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbVByZWZlcmVuY2VPcHRpbWl6YXRpb25TcGVjID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncHJlZmVyZW5jZU9wdGltaXphdGlvblNwZWMnLFxuICBdKTtcbiAgaWYgKGZyb21QcmVmZXJlbmNlT3B0aW1pemF0aW9uU3BlYyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3ByZWZlcmVuY2VPcHRpbWl6YXRpb25TcGVjJ10sXG4gICAgICBmcm9tUHJlZmVyZW5jZU9wdGltaXphdGlvblNwZWMsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21UdW5pbmdEYXRhU3RhdHMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICd0dW5pbmdEYXRhU3RhdHMnLFxuICBdKTtcbiAgaWYgKGZyb21UdW5pbmdEYXRhU3RhdHMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyd0dW5pbmdEYXRhU3RhdHMnXSwgZnJvbVR1bmluZ0RhdGFTdGF0cyk7XG4gIH1cblxuICBjb25zdCBmcm9tRW5jcnlwdGlvblNwZWMgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgW1xuICAgICdlbmNyeXB0aW9uU3BlYycsXG4gIF0pO1xuICBpZiAoZnJvbUVuY3J5cHRpb25TcGVjICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZW5jcnlwdGlvblNwZWMnXSwgZnJvbUVuY3J5cHRpb25TcGVjKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21QYXJ0bmVyTW9kZWxUdW5pbmdTcGVjID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAncGFydG5lck1vZGVsVHVuaW5nU3BlYycsXG4gIF0pO1xuICBpZiAoZnJvbVBhcnRuZXJNb2RlbFR1bmluZ1NwZWMgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aChcbiAgICAgIHRvT2JqZWN0LFxuICAgICAgWydwYXJ0bmVyTW9kZWxUdW5pbmdTcGVjJ10sXG4gICAgICBmcm9tUGFydG5lck1vZGVsVHVuaW5nU3BlYyxcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZnJvbUN1c3RvbUJhc2VNb2RlbCA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ2N1c3RvbUJhc2VNb2RlbCcsXG4gIF0pO1xuICBpZiAoZnJvbUN1c3RvbUJhc2VNb2RlbCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2N1c3RvbUJhc2VNb2RlbCddLCBmcm9tQ3VzdG9tQmFzZU1vZGVsKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21FeHBlcmltZW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZXhwZXJpbWVudCddKTtcbiAgaWYgKGZyb21FeHBlcmltZW50ICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZXhwZXJpbWVudCddLCBmcm9tRXhwZXJpbWVudCk7XG4gIH1cblxuICBjb25zdCBmcm9tTGFiZWxzID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnbGFiZWxzJ10pO1xuICBpZiAoZnJvbUxhYmVscyAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2xhYmVscyddLCBmcm9tTGFiZWxzKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21PdXRwdXRVcmkgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydvdXRwdXRVcmknXSk7XG4gIGlmIChmcm9tT3V0cHV0VXJpICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnb3V0cHV0VXJpJ10sIGZyb21PdXRwdXRVcmkpO1xuICB9XG5cbiAgY29uc3QgZnJvbVBpcGVsaW5lSm9iID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsncGlwZWxpbmVKb2InXSk7XG4gIGlmIChmcm9tUGlwZWxpbmVKb2IgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWydwaXBlbGluZUpvYiddLCBmcm9tUGlwZWxpbmVKb2IpO1xuICB9XG5cbiAgY29uc3QgZnJvbVNlcnZpY2VBY2NvdW50ID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2VydmljZUFjY291bnQnLFxuICBdKTtcbiAgaWYgKGZyb21TZXJ2aWNlQWNjb3VudCAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3NlcnZpY2VBY2NvdW50J10sIGZyb21TZXJ2aWNlQWNjb3VudCk7XG4gIH1cblxuICBjb25zdCBmcm9tVHVuZWRNb2RlbERpc3BsYXlOYW1lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAndHVuZWRNb2RlbERpc3BsYXlOYW1lJyxcbiAgXSk7XG4gIGlmIChmcm9tVHVuZWRNb2RlbERpc3BsYXlOYW1lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgoXG4gICAgICB0b09iamVjdCxcbiAgICAgIFsndHVuZWRNb2RlbERpc3BsYXlOYW1lJ10sXG4gICAgICBmcm9tVHVuZWRNb2RlbERpc3BsYXlOYW1lLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBmcm9tVmVvVHVuaW5nU3BlYyA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3Zlb1R1bmluZ1NwZWMnLFxuICBdKTtcbiAgaWYgKGZyb21WZW9UdW5pbmdTcGVjICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsndmVvVHVuaW5nU3BlYyddLCBmcm9tVmVvVHVuaW5nU3BlYyk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0dW5pbmdPcGVyYXRpb25Gcm9tTWxkZXYoXG4gIGZyb21PYmplY3Q6IHR5cGVzLlR1bmluZ09wZXJhdGlvbixcbiAgX3Jvb3RPYmplY3Q/OiB1bmtub3duLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tU2RrSHR0cFJlc3BvbnNlID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFtcbiAgICAnc2RrSHR0cFJlc3BvbnNlJyxcbiAgXSk7XG4gIGlmIChmcm9tU2RrSHR0cFJlc3BvbnNlICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnc2RrSHR0cFJlc3BvbnNlJ10sIGZyb21TZGtIdHRwUmVzcG9uc2UpO1xuICB9XG5cbiAgY29uc3QgZnJvbU5hbWUgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWyduYW1lJ10pO1xuICBpZiAoZnJvbU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbW1vbi5zZXRWYWx1ZUJ5UGF0aCh0b09iamVjdCwgWyduYW1lJ10sIGZyb21OYW1lKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21NZXRhZGF0YSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbJ21ldGFkYXRhJ10pO1xuICBpZiAoZnJvbU1ldGFkYXRhICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnbWV0YWRhdGEnXSwgZnJvbU1ldGFkYXRhKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21Eb25lID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZG9uZSddKTtcbiAgaWYgKGZyb21Eb25lICE9IG51bGwpIHtcbiAgICBjb21tb24uc2V0VmFsdWVCeVBhdGgodG9PYmplY3QsIFsnZG9uZSddLCBmcm9tRG9uZSk7XG4gIH1cblxuICBjb25zdCBmcm9tRXJyb3IgPSBjb21tb24uZ2V0VmFsdWVCeVBhdGgoZnJvbU9iamVjdCwgWydlcnJvciddKTtcbiAgaWYgKGZyb21FcnJvciAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ2Vycm9yJ10sIGZyb21FcnJvcik7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0dW5pbmdWYWxpZGF0aW9uRGF0YXNldFRvVmVydGV4KFxuICBmcm9tT2JqZWN0OiB0eXBlcy5UdW5pbmdWYWxpZGF0aW9uRGF0YXNldCxcbiAgX3Jvb3RPYmplY3Q/OiB1bmtub3duLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICBjb25zdCB0b09iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblxuICBjb25zdCBmcm9tR2NzVXJpID0gY29tbW9uLmdldFZhbHVlQnlQYXRoKGZyb21PYmplY3QsIFsnZ2NzVXJpJ10pO1xuICBpZiAoZnJvbUdjc1VyaSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKHRvT2JqZWN0LCBbJ3ZhbGlkYXRpb25EYXRhc2V0VXJpJ10sIGZyb21HY3NVcmkpO1xuICB9XG5cbiAgY29uc3QgZnJvbVZlcnRleERhdGFzZXRSZXNvdXJjZSA9IGNvbW1vbi5nZXRWYWx1ZUJ5UGF0aChmcm9tT2JqZWN0LCBbXG4gICAgJ3ZlcnRleERhdGFzZXRSZXNvdXJjZScsXG4gIF0pO1xuICBpZiAoZnJvbVZlcnRleERhdGFzZXRSZXNvdXJjZSAhPSBudWxsKSB7XG4gICAgY29tbW9uLnNldFZhbHVlQnlQYXRoKFxuICAgICAgdG9PYmplY3QsXG4gICAgICBbJ3ZhbGlkYXRpb25EYXRhc2V0VXJpJ10sXG4gICAgICBmcm9tVmVydGV4RGF0YXNldFJlc291cmNlLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdG9PYmplY3Q7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vLyBDb2RlIGdlbmVyYXRlZCBieSB0aGUgR29vZ2xlIEdlbiBBSSBTREsgZ2VuZXJhdG9yIERPIE5PVCBFRElULlxuXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi9fYXBpX2NsaWVudC5qcyc7XG5pbXBvcnQgKiBhcyBjb21tb24gZnJvbSAnLi9fY29tbW9uLmpzJztcbmltcG9ydCB7QmFzZU1vZHVsZX0gZnJvbSAnLi9fY29tbW9uLmpzJztcbmltcG9ydCAqIGFzIGNvbnZlcnRlcnMgZnJvbSAnLi9jb252ZXJ0ZXJzL190dW5pbmdzX2NvbnZlcnRlcnMuanMnO1xuaW1wb3J0IHtQYWdlZEl0ZW0sIFBhZ2VyfSBmcm9tICcuL3BhZ2Vycy5qcyc7XG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuL3R5cGVzLmpzJztcblxuZXhwb3J0IGNsYXNzIFR1bmluZ3MgZXh0ZW5kcyBCYXNlTW9kdWxlIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBhcGlDbGllbnQ6IEFwaUNsaWVudCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogTGlzdHMgdHVuaW5nIGpvYnMuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgdGhlIGxpc3QgcmVxdWVzdC5cbiAgICogQHJldHVybiAtIEEgcGFnZXIgb2YgdHVuaW5nIGpvYnMuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHR1bmluZ0pvYnMgPSBhd2FpdCBhaS50dW5pbmdzLmxpc3Qoe2NvbmZpZzogeydwYWdlU2l6ZSc6IDJ9fSk7XG4gICAqIGZvciBhd2FpdCAoY29uc3QgdHVuaW5nSm9iIG9mIHR1bmluZ0pvYnMpIHtcbiAgICogICBjb25zb2xlLmxvZyh0dW5pbmdKb2IpO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKi9cbiAgbGlzdCA9IGFzeW5jIChcbiAgICBwYXJhbXM6IHR5cGVzLkxpc3RUdW5pbmdKb2JzUGFyYW1ldGVycyA9IHt9LFxuICApOiBQcm9taXNlPFBhZ2VyPHR5cGVzLlR1bmluZ0pvYj4+ID0+IHtcbiAgICByZXR1cm4gbmV3IFBhZ2VyPHR5cGVzLlR1bmluZ0pvYj4oXG4gICAgICBQYWdlZEl0ZW0uUEFHRURfSVRFTV9UVU5JTkdfSk9CUyxcbiAgICAgICh4OiB0eXBlcy5MaXN0VHVuaW5nSm9ic1BhcmFtZXRlcnMpID0+IHRoaXMubGlzdEludGVybmFsKHgpLFxuICAgICAgYXdhaXQgdGhpcy5saXN0SW50ZXJuYWwocGFyYW1zKSxcbiAgICAgIHBhcmFtcyxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXRzIGEgVHVuaW5nSm9iLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIFRoZSByZXNvdXJjZSBuYW1lIG9mIHRoZSB0dW5pbmcgam9iLlxuICAgKiBAcmV0dXJuIC0gQSBUdW5pbmdKb2Igb2JqZWN0LlxuICAgKlxuICAgKiBAZXhwZXJpbWVudGFsIC0gVGhlIFNESydzIHR1bmluZyBpbXBsZW1lbnRhdGlvbiBpcyBleHBlcmltZW50YWwsIGFuZCBtYXlcbiAgICogY2hhbmdlIGluIGZ1dHVyZSB2ZXJzaW9ucy5cbiAgICovXG4gIGdldCA9IGFzeW5jIChcbiAgICBwYXJhbXM6IHR5cGVzLkdldFR1bmluZ0pvYlBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuVHVuaW5nSm9iPiA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0SW50ZXJuYWwocGFyYW1zKTtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHN1cGVydmlzZWQgZmluZS10dW5pbmcgam9iLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIHRoZSB0dW5pbmcgam9iLlxuICAgKiBAcmV0dXJuIC0gQSBUdW5pbmdKb2Igb3BlcmF0aW9uLlxuICAgKlxuICAgKiBAZXhwZXJpbWVudGFsIC0gVGhlIFNESydzIHR1bmluZyBpbXBsZW1lbnRhdGlvbiBpcyBleHBlcmltZW50YWwsIGFuZCBtYXlcbiAgICogY2hhbmdlIGluIGZ1dHVyZSB2ZXJzaW9ucy5cbiAgICovXG4gIHR1bmUgPSBhc3luYyAoXG4gICAgcGFyYW1zOiB0eXBlcy5DcmVhdGVUdW5pbmdKb2JQYXJhbWV0ZXJzLFxuICApOiBQcm9taXNlPHR5cGVzLlR1bmluZ0pvYj4gPT4ge1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGlmIChwYXJhbXMuYmFzZU1vZGVsLnN0YXJ0c1dpdGgoJ3Byb2plY3RzLycpKSB7XG4gICAgICAgIGNvbnN0IHByZVR1bmVkTW9kZWw6IHR5cGVzLlByZVR1bmVkTW9kZWwgPSB7XG4gICAgICAgICAgdHVuZWRNb2RlbE5hbWU6IHBhcmFtcy5iYXNlTW9kZWwsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChwYXJhbXMuY29uZmlnPy5wcmVUdW5lZE1vZGVsQ2hlY2twb2ludElkKSB7XG4gICAgICAgICAgcHJlVHVuZWRNb2RlbC5jaGVja3BvaW50SWQgPSBwYXJhbXMuY29uZmlnLnByZVR1bmVkTW9kZWxDaGVja3BvaW50SWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1zUHJpdmF0ZTogdHlwZXMuQ3JlYXRlVHVuaW5nSm9iUGFyYW1ldGVyc1ByaXZhdGUgPSB7XG4gICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgIHByZVR1bmVkTW9kZWw6IHByZVR1bmVkTW9kZWwsXG4gICAgICAgIH07XG4gICAgICAgIHBhcmFtc1ByaXZhdGUuYmFzZU1vZGVsID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy50dW5lSW50ZXJuYWwocGFyYW1zUHJpdmF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBwYXJhbXNQcml2YXRlOiB0eXBlcy5DcmVhdGVUdW5pbmdKb2JQYXJhbWV0ZXJzUHJpdmF0ZSA9IHtcbiAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnR1bmVJbnRlcm5hbChwYXJhbXNQcml2YXRlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcGFyYW1zUHJpdmF0ZTogdHlwZXMuQ3JlYXRlVHVuaW5nSm9iUGFyYW1ldGVyc1ByaXZhdGUgPSB7XG4gICAgICAgIC4uLnBhcmFtcyxcbiAgICAgIH07XG4gICAgICBjb25zdCBvcGVyYXRpb24gPSBhd2FpdCB0aGlzLnR1bmVNbGRldkludGVybmFsKHBhcmFtc1ByaXZhdGUpO1xuICAgICAgbGV0IHR1bmVkTW9kZWxOYW1lID0gJyc7XG4gICAgICBpZiAoXG4gICAgICAgIG9wZXJhdGlvblsnbWV0YWRhdGEnXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIG9wZXJhdGlvblsnbWV0YWRhdGEnXVsndHVuZWRNb2RlbCddICE9PSB1bmRlZmluZWRcbiAgICAgICkge1xuICAgICAgICB0dW5lZE1vZGVsTmFtZSA9IG9wZXJhdGlvblsnbWV0YWRhdGEnXVsndHVuZWRNb2RlbCddIGFzIHN0cmluZztcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIG9wZXJhdGlvblsnbmFtZSddICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgb3BlcmF0aW9uWyduYW1lJ10uaW5jbHVkZXMoJy9vcGVyYXRpb25zLycpXG4gICAgICApIHtcbiAgICAgICAgdHVuZWRNb2RlbE5hbWUgPSBvcGVyYXRpb25bJ25hbWUnXS5zcGxpdCgnL29wZXJhdGlvbnMvJylbMF07XG4gICAgICB9XG4gICAgICBjb25zdCB0dW5pbmdKb2I6IHR5cGVzLlR1bmluZ0pvYiA9IHtcbiAgICAgICAgbmFtZTogdHVuZWRNb2RlbE5hbWUsXG4gICAgICAgIHN0YXRlOiB0eXBlcy5Kb2JTdGF0ZS5KT0JfU1RBVEVfUVVFVUVELFxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHR1bmluZ0pvYjtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRJbnRlcm5hbChcbiAgICBwYXJhbXM6IHR5cGVzLkdldFR1bmluZ0pvYlBhcmFtZXRlcnMsXG4gICk6IFByb21pc2U8dHlwZXMuVHVuaW5nSm9iPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLlR1bmluZ0pvYj47XG5cbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuZ2V0VHVuaW5nSm9iUGFyYW1ldGVyc1RvVmVydGV4KHBhcmFtcywgcGFyYW1zKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne25hbWV9JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKS50aGVuKChqc29uUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ganNvblJlc3BvbnNlIGFzIHR5cGVzLlR1bmluZ0pvYjtcbiAgICAgICAgICAgIHJlc3BvbnNlLnNka0h0dHBSZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgaGVhZGVyczogaHR0cFJlc3BvbnNlLmhlYWRlcnMsXG4gICAgICAgICAgICB9IGFzIHR5cGVzLkh0dHBSZXNwb25zZTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5UdW5pbmdKb2I+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMudHVuaW5nSm9iRnJvbVZlcnRleChhcGlSZXNwb25zZSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3AgYXMgdHlwZXMuVHVuaW5nSm9iO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmdldFR1bmluZ0pvYlBhcmFtZXRlcnNUb01sZGV2KHBhcmFtcywgcGFyYW1zKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne25hbWV9JyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKS50aGVuKChqc29uUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ganNvblJlc3BvbnNlIGFzIHR5cGVzLlR1bmluZ0pvYjtcbiAgICAgICAgICAgIHJlc3BvbnNlLnNka0h0dHBSZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgaGVhZGVyczogaHR0cFJlc3BvbnNlLmhlYWRlcnMsXG4gICAgICAgICAgICB9IGFzIHR5cGVzLkh0dHBSZXNwb25zZTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkgYXMgUHJvbWlzZTx0eXBlcy5UdW5pbmdKb2I+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMudHVuaW5nSm9iRnJvbU1sZGV2KGFwaVJlc3BvbnNlKTtcblxuICAgICAgICByZXR1cm4gcmVzcCBhcyB0eXBlcy5UdW5pbmdKb2I7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxpc3RJbnRlcm5hbChcbiAgICBwYXJhbXM6IHR5cGVzLkxpc3RUdW5pbmdKb2JzUGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5MaXN0VHVuaW5nSm9ic1Jlc3BvbnNlPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLkxpc3RUdW5pbmdKb2JzUmVzcG9uc2U+O1xuXG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBjb252ZXJ0ZXJzLmxpc3RUdW5pbmdKb2JzUGFyYW1ldGVyc1RvVmVydGV4KHBhcmFtcywgcGFyYW1zKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAndHVuaW5nSm9icycsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCkudGhlbigoanNvblJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGpzb25SZXNwb25zZSBhcyB0eXBlcy5MaXN0VHVuaW5nSm9ic1Jlc3BvbnNlO1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2RrSHR0cFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICBoZWFkZXJzOiBodHRwUmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICAgIH0gYXMgdHlwZXMuSHR0cFJlc3BvbnNlO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkxpc3RUdW5pbmdKb2JzUmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMubGlzdFR1bmluZ0pvYnNSZXNwb25zZUZyb21WZXJ0ZXgoYXBpUmVzcG9uc2UpO1xuICAgICAgICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgdHlwZXMuTGlzdFR1bmluZ0pvYnNSZXNwb25zZSgpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHR5cGVkUmVzcCwgcmVzcCk7XG4gICAgICAgIHJldHVybiB0eXBlZFJlc3A7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMubGlzdFR1bmluZ0pvYnNQYXJhbWV0ZXJzVG9NbGRldihwYXJhbXMsIHBhcmFtcyk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3R1bmVkTW9kZWxzJyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKS50aGVuKChqc29uUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ganNvblJlc3BvbnNlIGFzIHR5cGVzLkxpc3RUdW5pbmdKb2JzUmVzcG9uc2U7XG4gICAgICAgICAgICByZXNwb25zZS5zZGtIdHRwUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IGh0dHBSZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgICAgfSBhcyB0eXBlcy5IdHRwUmVzcG9uc2U7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuTGlzdFR1bmluZ0pvYnNSZXNwb25zZT47XG5cbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKChhcGlSZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXNwID0gY29udmVydGVycy5saXN0VHVuaW5nSm9ic1Jlc3BvbnNlRnJvbU1sZGV2KGFwaVJlc3BvbnNlKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkxpc3RUdW5pbmdKb2JzUmVzcG9uc2UoKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICAgICAgICByZXR1cm4gdHlwZWRSZXNwO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbmNlbHMgYSB0dW5pbmcgam9iLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIHRoZSBjYW5jZWwgcmVxdWVzdC5cbiAgICogQHJldHVybiBUaGUgZW1wdHkgcmVzcG9uc2UgcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogYXdhaXQgYWkudHVuaW5ncy5jYW5jZWwoe25hbWU6ICcuLi4nfSk7IC8vIFRoZSBzZXJ2ZXItZ2VuZXJhdGVkIHJlc291cmNlIG5hbWUuXG4gICAqIGBgYFxuICAgKi9cbiAgYXN5bmMgY2FuY2VsKFxuICAgIHBhcmFtczogdHlwZXMuQ2FuY2VsVHVuaW5nSm9iUGFyYW1ldGVycyxcbiAgKTogUHJvbWlzZTx0eXBlcy5DYW5jZWxUdW5pbmdKb2JSZXNwb25zZT4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTx0eXBlcy5DYW5jZWxUdW5pbmdKb2JSZXNwb25zZT47XG5cbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuY2FuY2VsVHVuaW5nSm9iUGFyYW1ldGVyc1RvVmVydGV4KHBhcmFtcywgcGFyYW1zKTtcbiAgICAgIHBhdGggPSBjb21tb24uZm9ybWF0TWFwKFxuICAgICAgICAne25hbWV9OmNhbmNlbCcsXG4gICAgICAgIGJvZHlbJ191cmwnXSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICk7XG4gICAgICBxdWVyeVBhcmFtcyA9IGJvZHlbJ19xdWVyeSddIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgICBkZWxldGUgYm9keVsnX3VybCddO1xuICAgICAgZGVsZXRlIGJvZHlbJ19xdWVyeSddO1xuXG4gICAgICByZXNwb25zZSA9IHRoaXMuYXBpQ2xpZW50XG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICBodHRwTWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaHR0cE9wdGlvbnM6IHBhcmFtcy5jb25maWc/Lmh0dHBPcHRpb25zLFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBwYXJhbXMuY29uZmlnPy5hYm9ydFNpZ25hbCxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGh0dHBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBodHRwUmVzcG9uc2UuanNvbigpLnRoZW4oKGpzb25SZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBqc29uUmVzcG9uc2UgYXMgdHlwZXMuQ2FuY2VsVHVuaW5nSm9iUmVzcG9uc2U7XG4gICAgICAgICAgICByZXNwb25zZS5zZGtIdHRwUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IGh0dHBSZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgICAgfSBhcyB0eXBlcy5IdHRwUmVzcG9uc2U7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuQ2FuY2VsVHVuaW5nSm9iUmVzcG9uc2U+O1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGNvbnZlcnRlcnMuY2FuY2VsVHVuaW5nSm9iUmVzcG9uc2VGcm9tVmVydGV4KGFwaVJlc3BvbnNlKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkNhbmNlbFR1bmluZ0pvYlJlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib2R5ID0gY29udmVydGVycy5jYW5jZWxUdW5pbmdKb2JQYXJhbWV0ZXJzVG9NbGRldihwYXJhbXMsIHBhcmFtcyk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3tuYW1lfTpjYW5jZWwnLFxuICAgICAgICBib2R5WydfdXJsJ10gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgICApO1xuICAgICAgcXVlcnlQYXJhbXMgPSBib2R5WydfcXVlcnknXSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgZGVsZXRlIGJvZHlbJ191cmwnXTtcbiAgICAgIGRlbGV0ZSBib2R5WydfcXVlcnknXTtcblxuICAgICAgcmVzcG9uc2UgPSB0aGlzLmFwaUNsaWVudFxuICAgICAgICAucmVxdWVzdCh7XG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICBxdWVyeVBhcmFtczogcXVlcnlQYXJhbXMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGh0dHBPcHRpb25zOiBwYXJhbXMuY29uZmlnPy5odHRwT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbDogcGFyYW1zLmNvbmZpZz8uYWJvcnRTaWduYWwsXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChodHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gaHR0cFJlc3BvbnNlLmpzb24oKS50aGVuKChqc29uUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ganNvblJlc3BvbnNlIGFzIHR5cGVzLkNhbmNlbFR1bmluZ0pvYlJlc3BvbnNlO1xuICAgICAgICAgICAgcmVzcG9uc2Uuc2RrSHR0cFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICBoZWFkZXJzOiBodHRwUmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICAgIH0gYXMgdHlwZXMuSHR0cFJlc3BvbnNlO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KSBhcyBQcm9taXNlPHR5cGVzLkNhbmNlbFR1bmluZ0pvYlJlc3BvbnNlPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLmNhbmNlbFR1bmluZ0pvYlJlc3BvbnNlRnJvbU1sZGV2KGFwaVJlc3BvbnNlKTtcbiAgICAgICAgY29uc3QgdHlwZWRSZXNwID0gbmV3IHR5cGVzLkNhbmNlbFR1bmluZ0pvYlJlc3BvbnNlKCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHlwZWRSZXNwLCByZXNwKTtcbiAgICAgICAgcmV0dXJuIHR5cGVkUmVzcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgdHVuZUludGVybmFsKFxuICAgIHBhcmFtczogdHlwZXMuQ3JlYXRlVHVuaW5nSm9iUGFyYW1ldGVyc1ByaXZhdGUsXG4gICk6IFByb21pc2U8dHlwZXMuVHVuaW5nSm9iPiB7XG4gICAgbGV0IHJlc3BvbnNlOiBQcm9taXNlPHR5cGVzLlR1bmluZ0pvYj47XG5cbiAgICBsZXQgcGF0aDogc3RyaW5nID0gJyc7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgaWYgKHRoaXMuYXBpQ2xpZW50LmlzVmVydGV4QUkoKSkge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuY3JlYXRlVHVuaW5nSm9iUGFyYW1ldGVyc1ByaXZhdGVUb1ZlcnRleChcbiAgICAgICAgcGFyYW1zLFxuICAgICAgICBwYXJhbXMsXG4gICAgICApO1xuICAgICAgcGF0aCA9IGNvbW1vbi5mb3JtYXRNYXAoXG4gICAgICAgICd0dW5pbmdKb2JzJyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCkudGhlbigoanNvblJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGpzb25SZXNwb25zZSBhcyB0eXBlcy5UdW5pbmdKb2I7XG4gICAgICAgICAgICByZXNwb25zZS5zZGtIdHRwUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IGh0dHBSZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgICAgfSBhcyB0eXBlcy5IdHRwUmVzcG9uc2U7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuVHVuaW5nSm9iPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLnR1bmluZ0pvYkZyb21WZXJ0ZXgoYXBpUmVzcG9uc2UpO1xuXG4gICAgICAgIHJldHVybiByZXNwIGFzIHR5cGVzLlR1bmluZ0pvYjtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgbWV0aG9kIGlzIG9ubHkgc3VwcG9ydGVkIGJ5IHRoZSBWZXJ0ZXggQUkuJyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyB0dW5lTWxkZXZJbnRlcm5hbChcbiAgICBwYXJhbXM6IHR5cGVzLkNyZWF0ZVR1bmluZ0pvYlBhcmFtZXRlcnNQcml2YXRlLFxuICApOiBQcm9taXNlPHR5cGVzLlR1bmluZ09wZXJhdGlvbj4ge1xuICAgIGxldCByZXNwb25zZTogUHJvbWlzZTx0eXBlcy5UdW5pbmdPcGVyYXRpb24+O1xuXG4gICAgbGV0IHBhdGg6IHN0cmluZyA9ICcnO1xuICAgIGxldCBxdWVyeVBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGlmICh0aGlzLmFwaUNsaWVudC5pc1ZlcnRleEFJKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoaXMgbWV0aG9kIGlzIG9ubHkgc3VwcG9ydGVkIGJ5IHRoZSBHZW1pbmkgRGV2ZWxvcGVyIEFQSS4nLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYm9keSA9IGNvbnZlcnRlcnMuY3JlYXRlVHVuaW5nSm9iUGFyYW1ldGVyc1ByaXZhdGVUb01sZGV2KFxuICAgICAgICBwYXJhbXMsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICk7XG4gICAgICBwYXRoID0gY29tbW9uLmZvcm1hdE1hcChcbiAgICAgICAgJ3R1bmVkTW9kZWxzJyxcbiAgICAgICAgYm9keVsnX3VybCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgKTtcbiAgICAgIHF1ZXJ5UGFyYW1zID0gYm9keVsnX3F1ZXJ5J10gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAgIGRlbGV0ZSBib2R5WydfdXJsJ107XG4gICAgICBkZWxldGUgYm9keVsnX3F1ZXJ5J107XG5cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5hcGlDbGllbnRcbiAgICAgICAgLnJlcXVlc3Qoe1xuICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgcXVlcnlQYXJhbXM6IHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgIGh0dHBNZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBodHRwT3B0aW9uczogcGFyYW1zLmNvbmZpZz8uaHR0cE9wdGlvbnMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IHBhcmFtcy5jb25maWc/LmFib3J0U2lnbmFsLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGh0dHBSZXNwb25zZS5qc29uKCkudGhlbigoanNvblJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGpzb25SZXNwb25zZSBhcyB0eXBlcy5UdW5pbmdPcGVyYXRpb247XG4gICAgICAgICAgICByZXNwb25zZS5zZGtIdHRwUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IGh0dHBSZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgICAgfSBhcyB0eXBlcy5IdHRwUmVzcG9uc2U7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pIGFzIFByb21pc2U8dHlwZXMuVHVuaW5nT3BlcmF0aW9uPjtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBjb252ZXJ0ZXJzLnR1bmluZ09wZXJhdGlvbkZyb21NbGRldihhcGlSZXNwb25zZSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3AgYXMgdHlwZXMuVHVuaW5nT3BlcmF0aW9uO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi4vX2FwaV9jbGllbnQuanMnO1xuaW1wb3J0IHtEb3dubG9hZGVyfSBmcm9tICcuLi9fZG93bmxvYWRlci5qcyc7XG5pbXBvcnQge0Rvd25sb2FkRmlsZVBhcmFtZXRlcnN9IGZyb20gJy4uL3R5cGVzLmpzJztcblxuZXhwb3J0IGNsYXNzIEJyb3dzZXJEb3dubG9hZGVyIGltcGxlbWVudHMgRG93bmxvYWRlciB7XG4gIGFzeW5jIGRvd25sb2FkKFxuICAgIF9wYXJhbXM6IERvd25sb2FkRmlsZVBhcmFtZXRlcnMsXG4gICAgX2FwaUNsaWVudDogQXBpQ2xpZW50LFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnRG93bmxvYWQgdG8gZmlsZSBpcyBub3Qgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyLCBwbGVhc2UgdXNlIGEgYnJvd3NlciBjb21wbGlhbnQgZG93bmxvYWQgbGlrZSBhbiA8YT4gdGFnLicsXG4gICAgKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cbmltcG9ydCB7QXBpQ2xpZW50fSBmcm9tICcuLi9fYXBpX2NsaWVudC5qcyc7XG5pbXBvcnQge0ZpbGVTdGF0LCBVcGxvYWRlcn0gZnJvbSAnLi4vX3VwbG9hZGVyLmpzJztcbmltcG9ydCAqIGFzIF9jb252ZXJ0ZXJzIGZyb20gJy4uL2NvbnZlcnRlcnMvX29wZXJhdGlvbnNfY29udmVydGVycy5qcyc7XG5pbXBvcnQge1xuICBGaWxlLFxuICBIdHRwUmVzcG9uc2UsXG4gIFVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlT3BlcmF0aW9uLFxufSBmcm9tICcuLi90eXBlcy5qcyc7XG5pbXBvcnQge2Nyb3NzRXJyb3J9IGZyb20gJy4vX2Nyb3NzX2Vycm9yLmpzJztcblxuZXhwb3J0IGNvbnN0IE1BWF9DSFVOS19TSVpFID0gMTAyNCAqIDEwMjQgKiA4OyAvLyBieXRlc1xuZXhwb3J0IGNvbnN0IE1BWF9SRVRSWV9DT1VOVCA9IDM7XG5leHBvcnQgY29uc3QgSU5JVElBTF9SRVRSWV9ERUxBWV9NUyA9IDEwMDA7XG5leHBvcnQgY29uc3QgREVMQVlfTVVMVElQTElFUiA9IDI7XG5leHBvcnQgY29uc3QgWF9HT09HX1VQTE9BRF9TVEFUVVNfSEVBREVSX0ZJRUxEID0gJ3gtZ29vZy11cGxvYWQtc3RhdHVzJztcblxuZXhwb3J0IGNsYXNzIENyb3NzVXBsb2FkZXIgaW1wbGVtZW50cyBVcGxvYWRlciB7XG4gIGFzeW5jIHVwbG9hZChcbiAgICBmaWxlOiBzdHJpbmcgfCBCbG9iLFxuICAgIHVwbG9hZFVybDogc3RyaW5nLFxuICAgIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICApOiBQcm9taXNlPEZpbGU+IHtcbiAgICBpZiAodHlwZW9mIGZpbGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBjcm9zc0Vycm9yKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1cGxvYWRCbG9iKGZpbGUsIHVwbG9hZFVybCwgYXBpQ2xpZW50KTtcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGxvYWRUb0ZpbGVTZWFyY2hTdG9yZShcbiAgICBmaWxlOiBzdHJpbmcgfCBCbG9iLFxuICAgIHVwbG9hZFVybDogc3RyaW5nLFxuICAgIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuICApOiBQcm9taXNlPFVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlT3BlcmF0aW9uPiB7XG4gICAgaWYgKHR5cGVvZiBmaWxlID09PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgY3Jvc3NFcnJvcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdXBsb2FkQmxvYlRvRmlsZVNlYXJjaFN0b3JlKGZpbGUsIHVwbG9hZFVybCwgYXBpQ2xpZW50KTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBzdGF0KGZpbGU6IHN0cmluZyB8IEJsb2IpOiBQcm9taXNlPEZpbGVTdGF0PiB7XG4gICAgaWYgKHR5cGVvZiBmaWxlID09PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgY3Jvc3NFcnJvcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0QmxvYlN0YXQoZmlsZSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGxvYWRCbG9iKFxuICBmaWxlOiBCbG9iLFxuICB1cGxvYWRVcmw6IHN0cmluZyxcbiAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4pOiBQcm9taXNlPEZpbGU+IHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB1cGxvYWRCbG9iSW50ZXJuYWwoZmlsZSwgdXBsb2FkVXJsLCBhcGlDbGllbnQpO1xuICBjb25zdCByZXNwb25zZUpzb24gPSAoYXdhaXQgcmVzcG9uc2U/Lmpzb24oKSkgYXMgUmVjb3JkPFxuICAgIHN0cmluZyxcbiAgICBGaWxlIHwgdW5rbm93blxuICA+O1xuICBpZiAocmVzcG9uc2U/LmhlYWRlcnM/LltYX0dPT0dfVVBMT0FEX1NUQVRVU19IRUFERVJfRklFTERdICE9PSAnZmluYWwnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gdXBsb2FkIGZpbGU6IFVwbG9hZCBzdGF0dXMgaXMgbm90IGZpbmFsaXplZC4nKTtcbiAgfVxuICByZXR1cm4gcmVzcG9uc2VKc29uWydmaWxlJ10gYXMgRmlsZTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwbG9hZEJsb2JUb0ZpbGVTZWFyY2hTdG9yZShcbiAgZmlsZTogQmxvYixcbiAgdXBsb2FkVXJsOiBzdHJpbmcsXG4gIGFwaUNsaWVudDogQXBpQ2xpZW50LFxuKTogUHJvbWlzZTxVcGxvYWRUb0ZpbGVTZWFyY2hTdG9yZU9wZXJhdGlvbj4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHVwbG9hZEJsb2JJbnRlcm5hbChmaWxlLCB1cGxvYWRVcmwsIGFwaUNsaWVudCk7XG4gIGNvbnN0IHJlc3BvbnNlSnNvbiA9XG4gICAgKGF3YWl0IHJlc3BvbnNlPy5qc29uKCkpIGFzIFVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlT3BlcmF0aW9uO1xuICBpZiAocmVzcG9uc2U/LmhlYWRlcnM/LltYX0dPT0dfVVBMT0FEX1NUQVRVU19IRUFERVJfRklFTERdICE9PSAnZmluYWwnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gdXBsb2FkIGZpbGU6IFVwbG9hZCBzdGF0dXMgaXMgbm90IGZpbmFsaXplZC4nKTtcbiAgfVxuICBjb25zdCByZXNwID1cbiAgICBfY29udmVydGVycy51cGxvYWRUb0ZpbGVTZWFyY2hTdG9yZU9wZXJhdGlvbkZyb21NbGRldihyZXNwb25zZUpzb24pO1xuICBjb25zdCB0eXBlZFJlc3AgPSBuZXcgVXBsb2FkVG9GaWxlU2VhcmNoU3RvcmVPcGVyYXRpb24oKTtcbiAgT2JqZWN0LmFzc2lnbih0eXBlZFJlc3AsIHJlc3ApO1xuICByZXR1cm4gdHlwZWRSZXNwO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGxvYWRCbG9iSW50ZXJuYWwoXG4gIGZpbGU6IEJsb2IsXG4gIHVwbG9hZFVybDogc3RyaW5nLFxuICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbik6IFByb21pc2U8SHR0cFJlc3BvbnNlPiB7XG4gIGxldCBmaWxlU2l6ZSA9IDA7XG4gIGxldCBvZmZzZXQgPSAwO1xuICBsZXQgcmVzcG9uc2U6IEh0dHBSZXNwb25zZSA9IG5ldyBIdHRwUmVzcG9uc2UobmV3IFJlc3BvbnNlKCkpO1xuICBsZXQgdXBsb2FkQ29tbWFuZCA9ICd1cGxvYWQnO1xuICBmaWxlU2l6ZSA9IGZpbGUuc2l6ZTtcbiAgd2hpbGUgKG9mZnNldCA8IGZpbGVTaXplKSB7XG4gICAgY29uc3QgY2h1bmtTaXplID0gTWF0aC5taW4oTUFYX0NIVU5LX1NJWkUsIGZpbGVTaXplIC0gb2Zmc2V0KTtcbiAgICBjb25zdCBjaHVuayA9IGZpbGUuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBjaHVua1NpemUpO1xuICAgIGlmIChvZmZzZXQgKyBjaHVua1NpemUgPj0gZmlsZVNpemUpIHtcbiAgICAgIHVwbG9hZENvbW1hbmQgKz0gJywgZmluYWxpemUnO1xuICAgIH1cbiAgICBsZXQgcmV0cnlDb3VudCA9IDA7XG4gICAgbGV0IGN1cnJlbnREZWxheU1zID0gSU5JVElBTF9SRVRSWV9ERUxBWV9NUztcbiAgICB3aGlsZSAocmV0cnlDb3VudCA8IE1BWF9SRVRSWV9DT1VOVCkge1xuICAgICAgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQucmVxdWVzdCh7XG4gICAgICAgIHBhdGg6ICcnLFxuICAgICAgICBib2R5OiBjaHVuayxcbiAgICAgICAgaHR0cE1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBodHRwT3B0aW9uczoge1xuICAgICAgICAgIGFwaVZlcnNpb246ICcnLFxuICAgICAgICAgIGJhc2VVcmw6IHVwbG9hZFVybCxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnWC1Hb29nLVVwbG9hZC1Db21tYW5kJzogdXBsb2FkQ29tbWFuZCxcbiAgICAgICAgICAgICdYLUdvb2ctVXBsb2FkLU9mZnNldCc6IFN0cmluZyhvZmZzZXQpLFxuICAgICAgICAgICAgJ0NvbnRlbnQtTGVuZ3RoJzogU3RyaW5nKGNodW5rU2l6ZSksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgaWYgKHJlc3BvbnNlPy5oZWFkZXJzPy5bWF9HT09HX1VQTE9BRF9TVEFUVVNfSEVBREVSX0ZJRUxEXSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHJ5Q291bnQrKztcbiAgICAgIGF3YWl0IHNsZWVwKGN1cnJlbnREZWxheU1zKTtcbiAgICAgIGN1cnJlbnREZWxheU1zID0gY3VycmVudERlbGF5TXMgKiBERUxBWV9NVUxUSVBMSUVSO1xuICAgIH1cbiAgICBvZmZzZXQgKz0gY2h1bmtTaXplO1xuICAgIC8vIFRoZSBgeC1nb29nLXVwbG9hZC1zdGF0dXNgIGhlYWRlciBmaWVsZCBjYW4gYmUgYGFjdGl2ZWAsIGBmaW5hbGAgYW5kXG4gICAgLy9gY2FuY2VsbGVkYCBpbiByZXNwb3NuZS5cbiAgICBpZiAocmVzcG9uc2U/LmhlYWRlcnM/LltYX0dPT0dfVVBMT0FEX1NUQVRVU19IRUFERVJfRklFTERdICE9PSAnYWN0aXZlJykge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vIFRPRE8oYi80MDEzOTE0MzApIEludmVzdGlnYXRlIHdoeSB0aGUgdXBsb2FkIHN0YXR1cyBpcyBub3QgZmluYWxpemVkXG4gICAgLy8gZXZlbiB0aG91Z2ggYWxsIGNvbnRlbnQgaGFzIGJlZW4gdXBsb2FkZWQuXG4gICAgaWYgKGZpbGVTaXplIDw9IG9mZnNldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnQWxsIGNvbnRlbnQgaGFzIGJlZW4gdXBsb2FkZWQsIGJ1dCB0aGUgdXBsb2FkIHN0YXR1cyBpcyBub3QgZmluYWxpemVkLicsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXNwb25zZTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEJsb2JTdGF0KGZpbGU6IEJsb2IpOiBQcm9taXNlPEZpbGVTdGF0PiB7XG4gIGNvbnN0IGZpbGVTdGF0OiBGaWxlU3RhdCA9IHtzaXplOiBmaWxlLnNpemUsIHR5cGU6IGZpbGUudHlwZX07XG4gIHJldHVybiBmaWxlU3RhdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNsZWVwKG1zOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlUHJvbWlzZSkgPT4gc2V0VGltZW91dChyZXNvbHZlUHJvbWlzZSwgbXMpKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyNSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5pbXBvcnQge0FwaUNsaWVudH0gZnJvbSAnLi4vX2FwaV9jbGllbnQuanMnO1xuaW1wb3J0IHtGaWxlU3RhdCwgVXBsb2FkZXJ9IGZyb20gJy4uL191cGxvYWRlci5qcyc7XG5pbXBvcnQge1xuICBnZXRCbG9iU3RhdCxcbiAgdXBsb2FkQmxvYixcbiAgdXBsb2FkQmxvYlRvRmlsZVNlYXJjaFN0b3JlLFxufSBmcm9tICcuLi9jcm9zcy9fY3Jvc3NfdXBsb2FkZXIuanMnO1xuaW1wb3J0IHtGaWxlLCBVcGxvYWRUb0ZpbGVTZWFyY2hTdG9yZU9wZXJhdGlvbn0gZnJvbSAnLi4vdHlwZXMuanMnO1xuXG5leHBvcnQgY2xhc3MgQnJvd3NlclVwbG9hZGVyIGltcGxlbWVudHMgVXBsb2FkZXIge1xuICBhc3luYyB1cGxvYWQoXG4gICAgZmlsZTogc3RyaW5nIHwgQmxvYixcbiAgICB1cGxvYWRVcmw6IHN0cmluZyxcbiAgICBhcGlDbGllbnQ6IEFwaUNsaWVudCxcbiAgKTogUHJvbWlzZTxGaWxlPiB7XG4gICAgaWYgKHR5cGVvZiBmaWxlID09PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGaWxlIHBhdGggaXMgbm90IHN1cHBvcnRlZCBpbiBicm93c2VyIHVwbG9hZGVyLicpO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCB1cGxvYWRCbG9iKGZpbGUsIHVwbG9hZFVybCwgYXBpQ2xpZW50KTtcbiAgfVxuXG4gIGFzeW5jIHVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlKFxuICAgIGZpbGU6IHN0cmluZyB8IEJsb2IsXG4gICAgdXBsb2FkVXJsOiBzdHJpbmcsXG4gICAgYXBpQ2xpZW50OiBBcGlDbGllbnQsXG4gICk6IFByb21pc2U8VXBsb2FkVG9GaWxlU2VhcmNoU3RvcmVPcGVyYXRpb24+IHtcbiAgICBpZiAodHlwZW9mIGZpbGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpbGUgcGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIGJyb3dzZXIgdXBsb2FkZXIuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF3YWl0IHVwbG9hZEJsb2JUb0ZpbGVTZWFyY2hTdG9yZShmaWxlLCB1cGxvYWRVcmwsIGFwaUNsaWVudCk7XG4gIH1cblxuICBhc3luYyBzdGF0KGZpbGU6IHN0cmluZyB8IEJsb2IpOiBQcm9taXNlPEZpbGVTdGF0PiB7XG4gICAgaWYgKHR5cGVvZiBmaWxlID09PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGaWxlIHBhdGggaXMgbm90IHN1cHBvcnRlZCBpbiBicm93c2VyIHVwbG9hZGVyLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYXdhaXQgZ2V0QmxvYlN0YXQoZmlsZSk7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjUgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge1xuICBXZWJTb2NrZXRDYWxsYmFja3MsXG4gIFdlYlNvY2tldEZhY3RvcnksXG4gIFdlYlNvY2tldCBhcyBXcyxcbn0gZnJvbSAnLi4vX3dlYnNvY2tldC5qcyc7XG5cbmV4cG9ydCBjbGFzcyBCcm93c2VyV2ViU29ja2V0RmFjdG9yeSBpbXBsZW1lbnRzIFdlYlNvY2tldEZhY3Rvcnkge1xuICBjcmVhdGUoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPixcbiAgICBjYWxsYmFja3M6IFdlYlNvY2tldENhbGxiYWNrcyxcbiAgKTogV3Mge1xuICAgIHJldHVybiBuZXcgQnJvd3NlcldlYlNvY2tldCh1cmwsIGhlYWRlcnMsIGNhbGxiYWNrcyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJyb3dzZXJXZWJTb2NrZXQgaW1wbGVtZW50cyBXcyB7XG4gIHByaXZhdGUgd3M/OiBXZWJTb2NrZXQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZWFkb25seSB1cmw6IHN0cmluZyxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG4gICAgcHJpdmF0ZSByZWFkb25seSBjYWxsYmFja3M6IFdlYlNvY2tldENhbGxiYWNrcyxcbiAgKSB7fVxuXG4gIGNvbm5lY3QoKTogdm9pZCB7XG4gICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQodGhpcy51cmwpO1xuXG4gICAgdGhpcy53cy5vbm9wZW4gPSB0aGlzLmNhbGxiYWNrcy5vbm9wZW47XG4gICAgdGhpcy53cy5vbmVycm9yID0gdGhpcy5jYWxsYmFja3Mub25lcnJvcjtcbiAgICB0aGlzLndzLm9uY2xvc2UgPSB0aGlzLmNhbGxiYWNrcy5vbmNsb3NlO1xuICAgIHRoaXMud3Mub25tZXNzYWdlID0gdGhpcy5jYWxsYmFja3Mub25tZXNzYWdlO1xuICB9XG5cbiAgc2VuZChtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBpZiAodGhpcy53cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYlNvY2tldCBpcyBub3QgY29ubmVjdGVkJyk7XG4gICAgfVxuXG4gICAgdGhpcy53cy5zZW5kKG1lc3NhZ2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgaWYgKHRoaXMud3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJTb2NrZXQgaXMgbm90IGNvbm5lY3RlZCcpO1xuICAgIH1cblxuICAgIHRoaXMud3MuY2xvc2UoKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtBdXRofSBmcm9tICcuLi9fYXV0aC5qcyc7XG5cbmV4cG9ydCBjb25zdCBHT09HTEVfQVBJX0tFWV9IRUFERVIgPSAneC1nb29nLWFwaS1rZXknO1xuLy8gVE9ETyhiLzM5NTEyMjUzMyk6IFdlIG5lZWQgYSBzZWN1cmUgY2xpZW50IHNpZGUgYXV0aGVudGljYXRpb24gbWVjaGFuaXNtLlxuZXhwb3J0IGNsYXNzIFdlYkF1dGggaW1wbGVtZW50cyBBdXRoIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBhcGlLZXk6IHN0cmluZykge31cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gIGFzeW5jIGFkZEF1dGhIZWFkZXJzKGhlYWRlcnM6IEhlYWRlcnMsIHVybD86IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmIChoZWFkZXJzLmdldChHT09HTEVfQVBJX0tFWV9IRUFERVIpICE9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYXBpS2V5LnN0YXJ0c1dpdGgoJ2F1dGhfdG9rZW5zLycpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VwaGVtZXJhbCB0b2tlbnMgYXJlIG9ubHkgc3VwcG9ydGVkIGJ5IHRoZSBsaXZlIEFQSS4nKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBBUEkga2V5IGlzIGVtcHR5IG9yIG51bGxcbiAgICBpZiAoIXRoaXMuYXBpS2V5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FQSSBrZXkgaXMgbWlzc2luZy4gUGxlYXNlIHByb3ZpZGUgYSB2YWxpZCBBUEkga2V5LicpO1xuICAgIH1cbiAgICBoZWFkZXJzLmFwcGVuZChHT09HTEVfQVBJX0tFWV9IRUFERVIsIHRoaXMuYXBpS2V5KTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDI1IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtBcGlDbGllbnR9IGZyb20gJy4uL19hcGlfY2xpZW50LmpzJztcbmltcG9ydCB7Z2V0QmFzZVVybH0gZnJvbSAnLi4vX2Jhc2VfdXJsLmpzJztcbmltcG9ydCB7QmF0Y2hlc30gZnJvbSAnLi4vYmF0Y2hlcy5qcyc7XG5pbXBvcnQge0NhY2hlc30gZnJvbSAnLi4vY2FjaGVzLmpzJztcbmltcG9ydCB7Q2hhdHN9IGZyb20gJy4uL2NoYXRzLmpzJztcbmltcG9ydCB7R29vZ2xlR2VuQUlPcHRpb25zfSBmcm9tICcuLi9jbGllbnQuanMnO1xuaW1wb3J0IHtGaWxlc30gZnJvbSAnLi4vZmlsZXMuanMnO1xuaW1wb3J0IHtGaWxlU2VhcmNoU3RvcmVzfSBmcm9tICcuLi9maWxlc2VhcmNoc3RvcmVzLmpzJztcbmltcG9ydCBHZW1pbmlOZXh0R2VuQVBJIGZyb20gJy4uL2ludGVyYWN0aW9ucy9pbmRleC5qcyc7XG5pbXBvcnQge0ludGVyYWN0aW9ucyBhcyBHZW1pbmlOZXh0R2VuSW50ZXJhY3Rpb25zfSBmcm9tICcuLi9pbnRlcmFjdGlvbnMvcmVzb3VyY2VzL2ludGVyYWN0aW9ucy5qcyc7XG5pbXBvcnQge0xpdmV9IGZyb20gJy4uL2xpdmUuanMnO1xuaW1wb3J0IHtNb2RlbHN9IGZyb20gJy4uL21vZGVscy5qcyc7XG5pbXBvcnQge09wZXJhdGlvbnN9IGZyb20gJy4uL29wZXJhdGlvbnMuanMnO1xuaW1wb3J0IHtUb2tlbnN9IGZyb20gJy4uL3Rva2Vucy5qcyc7XG5pbXBvcnQge1R1bmluZ3N9IGZyb20gJy4uL3R1bmluZ3MuanMnO1xuaW1wb3J0IHtIdHRwT3B0aW9uc30gZnJvbSAnLi4vdHlwZXMuanMnO1xuXG5pbXBvcnQge0Jyb3dzZXJEb3dubG9hZGVyfSBmcm9tICcuL19icm93c2VyX2Rvd25sb2FkZXIuanMnO1xuaW1wb3J0IHtCcm93c2VyVXBsb2FkZXJ9IGZyb20gJy4vX2Jyb3dzZXJfdXBsb2FkZXIuanMnO1xuaW1wb3J0IHtCcm93c2VyV2ViU29ja2V0RmFjdG9yeX0gZnJvbSAnLi9fYnJvd3Nlcl93ZWJzb2NrZXQuanMnO1xuaW1wb3J0IHtXZWJBdXRofSBmcm9tICcuL193ZWJfYXV0aC5qcyc7XG5cbmNvbnN0IExBTkdVQUdFX0xBQkVMX1BSRUZJWCA9ICdnbC1ub2RlLyc7XG5cbi8qKlxuICogVGhlIEdvb2dsZSBHZW5BSSBTREsuXG4gKlxuICogQHJlbWFya3NcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byB0aGUgR2VuQUkgZmVhdHVyZXMgdGhyb3VnaCBlaXRoZXIgdGhlIHtAbGlua1xuICogaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL3ZlcnRleC1haS9kb2NzL3JlZmVyZW5jZS9yZXN0IHwgR2VtaW5pIEFQSX0gb3JcbiAqIHRoZSB7QGxpbmsgaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL3ZlcnRleC1haS9kb2NzL3JlZmVyZW5jZS9yZXN0IHwgVmVydGV4IEFJXG4gKiBBUEl9LlxuICpcbiAqIFRoZSB7QGxpbmsgR29vZ2xlR2VuQUlPcHRpb25zLnZlcnRleGFpfSB2YWx1ZSBkZXRlcm1pbmVzIHdoaWNoIG9mIHRoZSBBUElcbiAqIHNlcnZpY2VzIHRvIHVzZS5cbiAqXG4gKiBXaGVuIHVzaW5nIHRoZSBHZW1pbmkgQVBJLCBhIHtAbGluayBHb29nbGVHZW5BSU9wdGlvbnMuYXBpS2V5fSBtdXN0IGFsc28gYmVcbiAqIHNldC4gV2hlbiB1c2luZyBWZXJ0ZXggQUksIGN1cnJlbnRseSBvbmx5IHtAbGluayBHb29nbGVHZW5BSU9wdGlvbnMuYXBpS2V5fVxuICogaXMgc3VwcG9ydGVkIHZpYSBFeHByZXNzIG1vZGUuIHtAbGluayBHb29nbGVHZW5BSU9wdGlvbnMucHJvamVjdH0gYW5kIHtAbGlua1xuICogR29vZ2xlR2VuQUlPcHRpb25zLmxvY2F0aW9ufSBzaG91bGQgbm90IGJlIHNldC5cbiAqXG4gKiBAZXhhbXBsZVxuICogSW5pdGlhbGl6aW5nIHRoZSBTREsgZm9yIHVzaW5nIHRoZSBHZW1pbmkgQVBJOlxuICogYGBgdHNcbiAqIGltcG9ydCB7R29vZ2xlR2VuQUl9IGZyb20gJ0Bnb29nbGUvZ2VuYWknO1xuICogY29uc3QgYWkgPSBuZXcgR29vZ2xlR2VuQUkoe2FwaUtleTogJ0dFTUlOSV9BUElfS0VZJ30pO1xuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqIEluaXRpYWxpemluZyB0aGUgU0RLIGZvciB1c2luZyB0aGUgVmVydGV4IEFJIEFQSTpcbiAqIGBgYHRzXG4gKiBpbXBvcnQge0dvb2dsZUdlbkFJfSBmcm9tICdAZ29vZ2xlL2dlbmFpJztcbiAqIGNvbnN0IGFpID0gbmV3IEdvb2dsZUdlbkFJKHtcbiAqICAgdmVydGV4YWk6IHRydWUsXG4gKiAgIHByb2plY3Q6ICdQUk9KRUNUX0lEJyxcbiAqICAgbG9jYXRpb246ICdQUk9KRUNUX0xPQ0FUSU9OJ1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBHb29nbGVHZW5BSSB7XG4gIHByb3RlY3RlZCByZWFkb25seSBhcGlDbGllbnQ6IEFwaUNsaWVudDtcbiAgcHJpdmF0ZSByZWFkb25seSBhcGlLZXk/OiBzdHJpbmc7XG4gIHB1YmxpYyByZWFkb25seSB2ZXJ0ZXhhaTogYm9vbGVhbjtcbiAgcHJpdmF0ZSByZWFkb25seSBhcGlWZXJzaW9uPzogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IGh0dHBPcHRpb25zPzogSHR0cE9wdGlvbnM7XG4gIHJlYWRvbmx5IG1vZGVsczogTW9kZWxzO1xuICByZWFkb25seSBsaXZlOiBMaXZlO1xuICByZWFkb25seSBiYXRjaGVzOiBCYXRjaGVzO1xuICByZWFkb25seSBjaGF0czogQ2hhdHM7XG4gIHJlYWRvbmx5IGNhY2hlczogQ2FjaGVzO1xuICByZWFkb25seSBmaWxlczogRmlsZXM7XG4gIHJlYWRvbmx5IG9wZXJhdGlvbnM6IE9wZXJhdGlvbnM7XG4gIHJlYWRvbmx5IGF1dGhUb2tlbnM6IFRva2VucztcbiAgcmVhZG9ubHkgdHVuaW5nczogVHVuaW5ncztcbiAgcmVhZG9ubHkgZmlsZVNlYXJjaFN0b3JlczogRmlsZVNlYXJjaFN0b3JlcztcbiAgcHJpdmF0ZSBfaW50ZXJhY3Rpb25zOiBHZW1pbmlOZXh0R2VuSW50ZXJhY3Rpb25zIHwgdW5kZWZpbmVkO1xuICBnZXQgaW50ZXJhY3Rpb25zKCk6IEdlbWluaU5leHRHZW5JbnRlcmFjdGlvbnMge1xuICAgIGlmICh0aGlzLl9pbnRlcmFjdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ludGVyYWN0aW9ucztcbiAgICB9XG5cbiAgICBjb25zb2xlLndhcm4oXG4gICAgICAnR29vZ2xlR2VuQUkuaW50ZXJhY3Rpb25zOiBJbnRlcmFjdGlvbnMgdXNhZ2UgaXMgZXhwZXJpbWVudGFsIGFuZCBtYXkgY2hhbmdlIGluIGZ1dHVyZSB2ZXJzaW9ucy4nLFxuICAgICk7XG5cbiAgICBjb25zdCBodHRwT3B0cyA9IHRoaXMuaHR0cE9wdGlvbnM7XG5cbiAgICAvLyBVbnN1cHBvcnRlZCBPcHRpb25zIFdhcm5pbmdzXG4gICAgaWYgKGh0dHBPcHRzPy5leHRyYUJvZHkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ0dvb2dsZUdlbkFJLmludGVyYWN0aW9uczogQ2xpZW50IGxldmVsIGh0dHBPcHRpb25zLmV4dHJhQm9keSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBpbnRlcmFjdGlvbnMgY2xpZW50IGFuZCB3aWxsIGJlIGlnbm9yZWQuJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgbmV4dEdlbkNsaWVudCA9IG5ldyBHZW1pbmlOZXh0R2VuQVBJKHtcbiAgICAgIGJhc2VVUkw6IHRoaXMuYXBpQ2xpZW50LmdldEJhc2VVcmwoKSxcbiAgICAgIGFwaUtleTogdGhpcy5hcGlLZXksXG4gICAgICBhcGlWZXJzaW9uOiB0aGlzLmFwaUNsaWVudC5nZXRBcGlWZXJzaW9uKCksXG4gICAgICBjbGllbnRBZGFwdGVyOiB0aGlzLmFwaUNsaWVudCxcbiAgICAgIGRlZmF1bHRIZWFkZXJzOiB0aGlzLmFwaUNsaWVudC5nZXREZWZhdWx0SGVhZGVycygpLFxuICAgICAgdGltZW91dDogaHR0cE9wdHM/LnRpbWVvdXQsXG4gICAgfSk7XG4gICAgdGhpcy5faW50ZXJhY3Rpb25zID0gbmV4dEdlbkNsaWVudC5pbnRlcmFjdGlvbnM7XG5cbiAgICByZXR1cm4gdGhpcy5faW50ZXJhY3Rpb25zO1xuICB9XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IEdvb2dsZUdlbkFJT3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmFwaUtleSA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuIEFQSSBLZXkgbXVzdCBiZSBzZXQgd2hlbiBydW5uaW5nIGluIGEgYnJvd3NlcicpO1xuICAgIH1cbiAgICAvLyBXZWIgY2xpZW50IG9ubHkgc3VwcG9ydHMgQVBJIGtleSBtb2RlIGZvciBWZXJ0ZXggQUkuXG4gICAgaWYgKG9wdGlvbnMucHJvamVjdCB8fCBvcHRpb25zLmxvY2F0aW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdWZXJ0ZXggQUkgcHJvamVjdCBiYXNlZCBhdXRoZW50aWNhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIG9uIGJyb3dzZXIgcnVudGltZXMuIFBsZWFzZSBkbyBub3QgcHJvdmlkZSBhIHByb2plY3Qgb3IgbG9jYXRpb24uJyxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMudmVydGV4YWkgPSBvcHRpb25zLnZlcnRleGFpID8/IGZhbHNlO1xuXG4gICAgdGhpcy5hcGlLZXkgPSBvcHRpb25zLmFwaUtleTtcblxuICAgIGNvbnN0IGJhc2VVcmwgPSBnZXRCYXNlVXJsKFxuICAgICAgb3B0aW9ucy5odHRwT3B0aW9ucyxcbiAgICAgIG9wdGlvbnMudmVydGV4YWksXG4gICAgICAvKnZlcnRleEJhc2VVcmxGcm9tRW52Ki8gdW5kZWZpbmVkLFxuICAgICAgLypnZW1pbmlCYXNlVXJsRnJvbUVudiovIHVuZGVmaW5lZCxcbiAgICApO1xuICAgIGlmIChiYXNlVXJsKSB7XG4gICAgICBpZiAob3B0aW9ucy5odHRwT3B0aW9ucykge1xuICAgICAgICBvcHRpb25zLmh0dHBPcHRpb25zLmJhc2VVcmwgPSBiYXNlVXJsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9ucy5odHRwT3B0aW9ucyA9IHtiYXNlVXJsOiBiYXNlVXJsfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmFwaVZlcnNpb24gPSBvcHRpb25zLmFwaVZlcnNpb247XG4gICAgdGhpcy5odHRwT3B0aW9ucyA9IG9wdGlvbnMuaHR0cE9wdGlvbnM7XG4gICAgY29uc3QgYXV0aCA9IG5ldyBXZWJBdXRoKHRoaXMuYXBpS2V5KTtcbiAgICB0aGlzLmFwaUNsaWVudCA9IG5ldyBBcGlDbGllbnQoe1xuICAgICAgYXV0aDogYXV0aCxcbiAgICAgIGFwaVZlcnNpb246IHRoaXMuYXBpVmVyc2lvbixcbiAgICAgIGFwaUtleTogdGhpcy5hcGlLZXksXG4gICAgICB2ZXJ0ZXhhaTogdGhpcy52ZXJ0ZXhhaSxcbiAgICAgIGh0dHBPcHRpb25zOiB0aGlzLmh0dHBPcHRpb25zLFxuICAgICAgdXNlckFnZW50RXh0cmE6IExBTkdVQUdFX0xBQkVMX1BSRUZJWCArICd3ZWInLFxuICAgICAgdXBsb2FkZXI6IG5ldyBCcm93c2VyVXBsb2FkZXIoKSxcbiAgICAgIGRvd25sb2FkZXI6IG5ldyBCcm93c2VyRG93bmxvYWRlcigpLFxuICAgIH0pO1xuICAgIHRoaXMubW9kZWxzID0gbmV3IE1vZGVscyh0aGlzLmFwaUNsaWVudCk7XG4gICAgdGhpcy5saXZlID0gbmV3IExpdmUodGhpcy5hcGlDbGllbnQsIGF1dGgsIG5ldyBCcm93c2VyV2ViU29ja2V0RmFjdG9yeSgpKTtcbiAgICB0aGlzLmJhdGNoZXMgPSBuZXcgQmF0Y2hlcyh0aGlzLmFwaUNsaWVudCk7XG4gICAgdGhpcy5jaGF0cyA9IG5ldyBDaGF0cyh0aGlzLm1vZGVscywgdGhpcy5hcGlDbGllbnQpO1xuICAgIHRoaXMuY2FjaGVzID0gbmV3IENhY2hlcyh0aGlzLmFwaUNsaWVudCk7XG4gICAgdGhpcy5maWxlcyA9IG5ldyBGaWxlcyh0aGlzLmFwaUNsaWVudCk7XG4gICAgdGhpcy5vcGVyYXRpb25zID0gbmV3IE9wZXJhdGlvbnModGhpcy5hcGlDbGllbnQpO1xuICAgIHRoaXMuYXV0aFRva2VucyA9IG5ldyBUb2tlbnModGhpcy5hcGlDbGllbnQpO1xuICAgIHRoaXMudHVuaW5ncyA9IG5ldyBUdW5pbmdzKHRoaXMuYXBpQ2xpZW50KTtcbiAgICB0aGlzLmZpbGVTZWFyY2hTdG9yZXMgPSBuZXcgRmlsZVNlYXJjaFN0b3Jlcyh0aGlzLmFwaUNsaWVudCk7XG4gIH1cbn1cbiIsICJpbXBvcnQge1xuICBHb29nbGVHZW5BSSxcbiAgY3JlYXRlVXNlckNvbnRlbnQsXG4gIGNyZWF0ZVBhcnRGcm9tVXJpLFxufSBmcm9tIFwiQGdvb2dsZS9nZW5haVwiO1xuXG5leHBvcnQgY2xhc3MgVHJhbnNjcmlwdGlvblNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgYXN5bmMgdHJhbnNjcmliZShcbiAgICBhcGlLZXk6IHN0cmluZyxcbiAgICBwcm9tcHQ6IHN0cmluZyxcbiAgICBhdWRpb0Jhc2U2NDogc3RyaW5nLFxuICAgIG1pbWVUeXBlOiBzdHJpbmcsXG4gICAgbW9kZWw6IHN0cmluZyxcbiAgICB0aW1lb3V0TXM6IG51bWJlciA9IDYgKiA2MCAqIDEwMDBcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBpZiAoIWFwaUtleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQVBJIEtleSBpcyBub3QgcHJvdmlkZWQuXCIpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBhaSA9IG5ldyBHb29nbGVHZW5BSSh7IGFwaUtleSB9KTtcblxuICAgICAgLy8gYmFzZTY0XHVCOTdDIEJ1ZmZlclx1Qjg1QyBcdUJDQzBcdUQ2NThcdUQ1NUMgXHVENkM0IEJsb2JcdUM3M0NcdUI4NUMgXHVCQ0MwXHVENjU4XG4gICAgICBjb25zdCBhdWRpb0J1ZmZlciA9IEJ1ZmZlci5mcm9tKGF1ZGlvQmFzZTY0LCBcImJhc2U2NFwiKTtcbiAgICAgIGNvbnN0IGF1ZGlvQmxvYiA9IG5ldyBCbG9iKFthdWRpb0J1ZmZlcl0sIHtcbiAgICAgICAgdHlwZTogbWltZVR5cGUgfHwgXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIixcbiAgICAgIH0pO1xuXG4gICAgICAvLyBcdUQzMENcdUM3N0MgXHVDNUM1XHVCODVDXHVCNERDXG4gICAgICBjb25zdCB1cGxvYWRlZEZpbGUgPSBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBhd2FpdCBhaS5maWxlcy51cGxvYWQoe1xuICAgICAgICAgICAgZmlsZTogYXVkaW9CbG9iLFxuICAgICAgICAgICAgY29uZmlnOiB7IG1pbWVUeXBlOiBtaW1lVHlwZSB8fCBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pKCksXG4gICAgICAgIG5ldyBQcm9taXNlPG5ldmVyPigoXywgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgY29uc3QgaWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChpZCk7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBGaWxlIHVwbG9hZCB0aW1lZCBvdXQgYWZ0ZXIgJHt0aW1lb3V0TXN9IG1zYCkpO1xuICAgICAgICAgIH0sIHRpbWVvdXRNcyk7XG4gICAgICAgIH0pLFxuICAgICAgXSk7XG5cbiAgICAgIGlmICghdXBsb2FkZWRGaWxlLnVyaSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGaWxlIHVwbG9hZCBmYWlsZWQ6IFVSSSBub3QgcmV0dXJuZWRcIik7XG4gICAgICB9XG5cbiAgICAgIGlmICghdXBsb2FkZWRGaWxlLm1pbWVUeXBlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZpbGUgdXBsb2FkIGZhaWxlZDogTUlNRSB0eXBlIG5vdCByZXR1cm5lZFwiKTtcbiAgICAgIH1cblxuICAgICAgLy8gXHVDRUU4XHVEMTUwXHVDRTIwIFx1QzBERFx1QzEzMSBcdUJDMEYgXHVDNzUxXHVCMkY1IFx1QkMxQlx1QUUzMFxuICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IFByb21pc2UucmFjZShbXG4gICAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhaS5tb2RlbHMuZ2VuZXJhdGVDb250ZW50KHtcbiAgICAgICAgICAgIG1vZGVsOiBtb2RlbCxcbiAgICAgICAgICAgIGNvbnRlbnRzOiBjcmVhdGVVc2VyQ29udGVudChbXG4gICAgICAgICAgICAgIGNyZWF0ZVBhcnRGcm9tVXJpKHVwbG9hZGVkRmlsZS51cmkhLCB1cGxvYWRlZEZpbGUubWltZVR5cGUhKSxcbiAgICAgICAgICAgICAgcHJvbXB0LFxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS50ZXh0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB0ZXh0IHJlc3BvbnNlIGZyb20gbW9kZWxcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0O1xuICAgICAgICB9KSgpLFxuICAgICAgICBuZXcgUHJvbWlzZTxzdHJpbmc+KChfLCByZWplY3QpID0+IHtcbiAgICAgICAgICBjb25zdCBpZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYFRyYW5zY3JpcHRpb24gdGltZWQgb3V0IGFmdGVyICR7dGltZW91dE1zfSBtc2ApKTtcbiAgICAgICAgICB9LCB0aW1lb3V0TXMpO1xuICAgICAgICB9KSxcbiAgICAgIF0pO1xuXG4gICAgICByZXR1cm4gdGV4dDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlRyYW5zY3JpcHRpb24gZmFpbGVkOlwiLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn1cbiIsICJleHBvcnQgdHlwZSBDaHVua1JhbmdlID0geyBzdGFydE1zOiBudW1iZXI7IGVuZE1zOiBudW1iZXIgfTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVXYXZDaHVua1JhbmdlcyhwYXJhbXM6IHtcbiAgZGF0YVNpemU6IG51bWJlcjtcbiAgc2FtcGxlUmF0ZTogbnVtYmVyO1xuICBiaXRzUGVyU2FtcGxlOiBudW1iZXI7XG4gIG51bUNoYW5uZWxzOiBudW1iZXI7XG4gIHRhcmdldENodW5rTUI/OiBudW1iZXI7IC8vIGRlZmF1bHQgMTBcbiAgb3ZlcmxhcE1zPzogbnVtYmVyOyAvLyBkZWZhdWx0IDIwMDBcbn0pOiBDaHVua1JhbmdlW10ge1xuICBjb25zdCB0YXJnZXRDaHVua01CID0gcGFyYW1zLnRhcmdldENodW5rTUIgPz8gMTA7XG4gIGNvbnN0IG92ZXJsYXBNcyA9IHBhcmFtcy5vdmVybGFwTXMgPz8gMjAwMDtcblxuICBjb25zdCBieXRlc1BlclNhbXBsZSA9IHBhcmFtcy5iaXRzUGVyU2FtcGxlIC8gODtcbiAgY29uc3QgYnl0ZXNQZXJGcmFtZSA9IHBhcmFtcy5udW1DaGFubmVscyAqIGJ5dGVzUGVyU2FtcGxlO1xuICBjb25zdCB0b3RhbEZyYW1lcyA9IE1hdGguZmxvb3IocGFyYW1zLmRhdGFTaXplIC8gYnl0ZXNQZXJGcmFtZSk7XG4gIGNvbnN0IHRvdGFsTXMgPSBNYXRoLmZsb29yKCh0b3RhbEZyYW1lcyAvIHBhcmFtcy5zYW1wbGVSYXRlKSAqIDEwMDApO1xuXG4gIGNvbnN0IHRhcmdldEJ5dGVzID0gdGFyZ2V0Q2h1bmtNQiAqIDEwMjQgKiAxMDI0O1xuICAvLyBBcHByb3hpbWF0ZSBjaHVuayBsZW5ndGg6IGtlZXAgd2l0aGluIDJcdTIwMTM4IG1pbnV0ZXMgZm9yIHN0YWJpbGl0eVxuICBsZXQgYXBwcm94Q2h1bmtNcyA9IE1hdGgubWF4KFxuICAgIDMwXzAwMCxcbiAgICBNYXRoLmZsb29yKCh0YXJnZXRCeXRlcyAvIE1hdGgubWF4KDEsIHBhcmFtcy5kYXRhU2l6ZSkpICogdG90YWxNcylcbiAgKTtcbiAgYXBwcm94Q2h1bmtNcyA9IE1hdGgubWF4KDEyMF8wMDAsIE1hdGgubWluKDQ4MF8wMDAsIGFwcHJveENodW5rTXMpKTtcblxuICBjb25zdCBjaHVua3M6IENodW5rUmFuZ2VbXSA9IFtdO1xuICBsZXQgY3Vyc29yID0gMDtcbiAgd2hpbGUgKGN1cnNvciA8IHRvdGFsTXMpIHtcbiAgICBjb25zdCBzdGFydE1zID0gY3Vyc29yO1xuICAgIGNvbnN0IGVuZE1zID0gTWF0aC5taW4odG90YWxNcywgc3RhcnRNcyArIGFwcHJveENodW5rTXMpO1xuICAgIGNodW5rcy5wdXNoKHsgc3RhcnRNcywgZW5kTXMgfSk7XG4gICAgaWYgKGVuZE1zID49IHRvdGFsTXMpIGJyZWFrO1xuICAgIGN1cnNvciA9IGVuZE1zIC0gb3ZlcmxhcE1zO1xuICB9XG5cbiAgcmV0dXJuIGNodW5rcztcbn1cbiIsICJpbXBvcnQgdHlwZSB7IFByb2dyZXNzRXZlbnQgfSBmcm9tICcuLi90eXBlcy9wcm9ncmVzcyc7XG5cbnR5cGUgSGFuZGxlciA9IChlOiBQcm9ncmVzc0V2ZW50KSA9PiB2b2lkO1xuXG5jbGFzcyBQcm9ncmVzc0J1cyB7XG4gIHByaXZhdGUgaGFuZGxlcnM6IFNldDxIYW5kbGVyPiA9IG5ldyBTZXQoKTtcblxuICBzdWJzY3JpYmUoaGFuZGxlcjogSGFuZGxlcik6ICgpID0+IHZvaWQge1xuICAgIHRoaXMuaGFuZGxlcnMuYWRkKGhhbmRsZXIpO1xuICAgIHJldHVybiAoKSA9PiB0aGlzLmhhbmRsZXJzLmRlbGV0ZShoYW5kbGVyKTtcbiAgfVxuXG4gIHB1Ymxpc2goZXZlbnQ6IFByb2dyZXNzRXZlbnQpOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IGggb2YgQXJyYXkuZnJvbSh0aGlzLmhhbmRsZXJzKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaChldmVudCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1twcm9ncmVzc0J1c10gaGFuZGxlciBlcnJvcicsIGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNsZWFyKCk6IHZvaWQge1xuICAgIHRoaXMuaGFuZGxlcnMuY2xlYXIoKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgcHJvZ3Jlc3NCdXMgPSBuZXcgUHJvZ3Jlc3NCdXMoKTtcbiIsICJpbXBvcnQgeyBBcHAsIFRBYnN0cmFjdEZpbGUgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuZXhwb3J0IGNsYXNzIE9ic2lkaWFuRmlsZVNlcnZpY2Uge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFwcDogQXBwKSB7fVxuXG4gIGZpbmRGaWxlUGF0aCh0ZXh0OiBzdHJpbmcsIHJlZ2V4OiBSZWdFeHBbXSkge1xuICAgIGxldCBmaWxlbmFtZSA9IFwiXCI7XG4gICAgbGV0IHJlc3VsdDogUmVnRXhwRXhlY0FycmF5IHwgbnVsbDtcbiAgICBmb3IgKGNvbnN0IHJlZyBvZiByZWdleCkge1xuICAgICAgd2hpbGUgKChyZXN1bHQgPSByZWcuZXhlYyh0ZXh0KSkgIT09IG51bGwpIHtcbiAgICAgICAgLy8gVXNlIHRoZSBmaXJzdCBjYXB0dXJpbmcgZ3JvdXAgd2hlbiBhdmFpbGFibGUgKGNvbXBhdCB3aXRoIG5vLWxvb2tiZWhpbmQgcGF0dGVybnMpXG4gICAgICAgIGNvbnN0IGNhcHR1cmVkID0gcmVzdWx0WzFdID8/IHJlc3VsdFswXTtcbiAgICAgICAgZmlsZW5hbWUgPSBkZWNvZGVVUkkoY2FwdHVyZWQpLnRyaW0oKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZpbGVuYW1lID09PSBcIlwiKSB0aHJvdyBuZXcgRXJyb3IoXCJObyBmaWxlIGZvdW5kIGluIHRoZSB0ZXh0LlwiKTtcbiAgICBjb25zdCBmdWxsUGF0aCA9IGZpbGVuYW1lO1xuICAgIGNvbnN0IGZpbGVFeGlzdHMgPVxuICAgICAgdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZ1bGxQYXRoKSBpbnN0YW5jZW9mIFRBYnN0cmFjdEZpbGU7XG4gICAgaWYgKGZpbGVFeGlzdHMpIHJldHVybiBmdWxsUGF0aDtcbiAgICBjb25zdCBhbGxGaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldEZpbGVzKCk7XG4gICAgY29uc3QgZm91bmRGaWxlID0gYWxsRmlsZXMuZmluZChcbiAgICAgIChmaWxlKSA9PiBmaWxlLm5hbWUgPT09IGZpbGVuYW1lLnNwbGl0KFwiL1wiKS5wb3AoKVxuICAgICk7XG4gICAgaWYgKGZvdW5kRmlsZSkgcmV0dXJuIGZvdW5kRmlsZS5wYXRoO1xuICAgIHRocm93IG5ldyBFcnJvcihcIkZpbGUgbm90IGZvdW5kXCIpO1xuICB9XG59XG4iLCAiZXhwb3J0IGNvbnN0IFZJRVdfVFlQRV9QUk9HUkVTUyA9IFwicHJvZ3Jlc3Mtdmlldy10eXBlXCI7XG5leHBvcnQgY29uc3QgVklFV19USVRMRSA9IFwiVHJhbnNjcmlwdGlvbiBwcm9ncmVzc1wiO1xuZXhwb3J0IGNvbnN0IFZJRVdfSUNPTiA9IFwiYXVkaW8tZmlsZVwiO1xuIiwgImV4cG9ydCBjbGFzcyBBdWRpb1NlcnZpY2Uge1xuICBhcnJheUJ1ZmZlclRvQmFzZTY0KGJ1ZmZlcjogQXJyYXlCdWZmZXIpOiBzdHJpbmcge1xuICAgIGxldCBiaW5hcnkgPSBcIlwiO1xuICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICBjb25zdCBsZW4gPSBieXRlcy5ieXRlTGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGJpbmFyeSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHdpbmRvdy5idG9hKGJpbmFyeSk7XG4gIH1cblxuICBhc3luYyBhcnJheUJ1ZmZlclRvQmFzZTY0QXN5bmMoYnVmZmVyOiBBcnJheUJ1ZmZlcik6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPHN0cmluZz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtidWZmZXJdKTtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICBjb25zdCBkYXRhVXJsID0gcmVhZGVyLnJlc3VsdCBhcyBzdHJpbmc7XG4gICAgICAgICAgY29uc3QgY29tbWFJbmRleCA9IGRhdGFVcmwuaW5kZXhPZihcIixcIik7XG4gICAgICAgICAgcmVzb2x2ZShcbiAgICAgICAgICAgIGNvbW1hSW5kZXggPj0gMCA/IGRhdGFVcmwuc3Vic3RyaW5nKGNvbW1hSW5kZXggKyAxKSA6IGRhdGFVcmxcbiAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgICAgICByZWFkZXIub25lcnJvciA9IChlKSA9PiByZWplY3QoZSk7XG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwYXJzZVdhdkhlYWRlcihidWZmZXI6IEFycmF5QnVmZmVyKToge1xuICAgIGF1ZGlvRm9ybWF0OiBudW1iZXI7XG4gICAgbnVtQ2hhbm5lbHM6IG51bWJlcjtcbiAgICBzYW1wbGVSYXRlOiBudW1iZXI7XG4gICAgYml0c1BlclNhbXBsZTogbnVtYmVyO1xuICAgIGRhdGFPZmZzZXQ6IG51bWJlcjtcbiAgICBkYXRhU2l6ZTogbnVtYmVyO1xuICB9IHtcbiAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlcik7XG4gICAgY29uc3QgcmVhZFRhZyA9IChvZmZzZXQ6IG51bWJlcikgPT5cbiAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoXG4gICAgICAgIHZpZXcuZ2V0VWludDgob2Zmc2V0KSxcbiAgICAgICAgdmlldy5nZXRVaW50OChvZmZzZXQgKyAxKSxcbiAgICAgICAgdmlldy5nZXRVaW50OChvZmZzZXQgKyAyKSxcbiAgICAgICAgdmlldy5nZXRVaW50OChvZmZzZXQgKyAzKVxuICAgICAgKTtcblxuICAgIGlmIChyZWFkVGFnKDApICE9PSBcIlJJRkZcIiB8fCByZWFkVGFnKDgpICE9PSBcIldBVkVcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgV0FWOiBNaXNzaW5nIFJJRkYvV0FWRSBoZWFkZXJcIik7XG4gICAgfVxuXG4gICAgbGV0IGZtdEZvdW5kID0gZmFsc2U7XG4gICAgbGV0IGRhdGFGb3VuZCA9IGZhbHNlO1xuICAgIGxldCBvZmZzZXQgPSAxMjtcblxuICAgIGxldCBhdWRpb0Zvcm1hdCA9IDE7XG4gICAgbGV0IG51bUNoYW5uZWxzID0gMTtcbiAgICBsZXQgc2FtcGxlUmF0ZSA9IDE2MDAwO1xuICAgIGxldCBiaXRzUGVyU2FtcGxlID0gMTY7XG4gICAgbGV0IGRhdGFPZmZzZXQgPSAwO1xuICAgIGxldCBkYXRhU2l6ZSA9IDA7XG5cbiAgICB3aGlsZSAob2Zmc2V0ICsgOCA8PSB2aWV3LmJ5dGVMZW5ndGgpIHtcbiAgICAgIGNvbnN0IGNodW5rSWQgPSByZWFkVGFnKG9mZnNldCk7XG4gICAgICBjb25zdCBjaHVua1NpemUgPSB2aWV3LmdldFVpbnQzMihvZmZzZXQgKyA0LCB0cnVlKTtcbiAgICAgIGNvbnN0IG5leHQgPSBvZmZzZXQgKyA4ICsgY2h1bmtTaXplICsgKGNodW5rU2l6ZSAlIDIpO1xuXG4gICAgICBpZiAoY2h1bmtJZCA9PT0gXCJmbXQgXCIpIHtcbiAgICAgICAgYXVkaW9Gb3JtYXQgPSB2aWV3LmdldFVpbnQxNihvZmZzZXQgKyA4LCB0cnVlKTtcbiAgICAgICAgbnVtQ2hhbm5lbHMgPSB2aWV3LmdldFVpbnQxNihvZmZzZXQgKyAxMCwgdHJ1ZSk7XG4gICAgICAgIHNhbXBsZVJhdGUgPSB2aWV3LmdldFVpbnQzMihvZmZzZXQgKyAxMiwgdHJ1ZSk7XG4gICAgICAgIGJpdHNQZXJTYW1wbGUgPSB2aWV3LmdldFVpbnQxNihvZmZzZXQgKyAyMiwgdHJ1ZSk7XG4gICAgICAgIGZtdEZvdW5kID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoY2h1bmtJZCA9PT0gXCJkYXRhXCIpIHtcbiAgICAgICAgZGF0YU9mZnNldCA9IG9mZnNldCArIDg7XG4gICAgICAgIGRhdGFTaXplID0gY2h1bmtTaXplO1xuICAgICAgICBkYXRhRm91bmQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBvZmZzZXQgPSBuZXh0O1xuICAgICAgaWYgKGZtdEZvdW5kICYmIGRhdGFGb3VuZCkgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKCFmbXRGb3VuZCB8fCAhZGF0YUZvdW5kKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBXQVY6IE1pc3NpbmcgZm10IG9yIGRhdGEgY2h1bmtcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGF1ZGlvRm9ybWF0LFxuICAgICAgbnVtQ2hhbm5lbHMsXG4gICAgICBzYW1wbGVSYXRlLFxuICAgICAgYml0c1BlclNhbXBsZSxcbiAgICAgIGRhdGFPZmZzZXQsXG4gICAgICBkYXRhU2l6ZSxcbiAgICB9O1xuICB9XG5cbiAgc2xpY2VXYXZQY20xNihcbiAgICBidWZmZXI6IEFycmF5QnVmZmVyLFxuICAgIHN0YXJ0TXM6IG51bWJlcixcbiAgICBlbmRNcz86IG51bWJlclxuICApOiBBcnJheUJ1ZmZlciB7XG4gICAgY29uc3Qge1xuICAgICAgYXVkaW9Gb3JtYXQsXG4gICAgICBudW1DaGFubmVscyxcbiAgICAgIHNhbXBsZVJhdGUsXG4gICAgICBiaXRzUGVyU2FtcGxlLFxuICAgICAgZGF0YU9mZnNldCxcbiAgICAgIGRhdGFTaXplLFxuICAgIH0gPSB0aGlzLnBhcnNlV2F2SGVhZGVyKGJ1ZmZlcik7XG5cbiAgICBpZiAoYXVkaW9Gb3JtYXQgIT09IDEgfHwgYml0c1BlclNhbXBsZSAhPT0gMTYpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYE9ubHkgUENNIDE2LWJpdCBXQVYgaXMgc3VwcG9ydGVkIGZvciBjaHVua2luZyAoZm9ybWF0PSR7YXVkaW9Gb3JtYXR9LCBicHM9JHtiaXRzUGVyU2FtcGxlfSlgXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGJ5dGVzUGVyU2FtcGxlID0gYml0c1BlclNhbXBsZSAvIDg7XG4gICAgY29uc3QgYnl0ZXNQZXJGcmFtZSA9IG51bUNoYW5uZWxzICogYnl0ZXNQZXJTYW1wbGU7XG4gICAgY29uc3QgdG90YWxGcmFtZXMgPSBNYXRoLmZsb29yKGRhdGFTaXplIC8gYnl0ZXNQZXJGcmFtZSk7XG4gICAgY29uc3QgdG90YWxNcyA9IE1hdGguZmxvb3IoKHRvdGFsRnJhbWVzIC8gc2FtcGxlUmF0ZSkgKiAxMDAwKTtcblxuICAgIGNvbnN0IHNNcyA9IE1hdGgubWF4KDAsIE1hdGgubWluKHN0YXJ0TXMsIHRvdGFsTXMpKTtcbiAgICBjb25zdCBlTXMgPVxuICAgICAgZW5kTXMgPT0gbnVsbCA/IHRvdGFsTXMgOiBNYXRoLm1heChzTXMsIE1hdGgubWluKGVuZE1zLCB0b3RhbE1zKSk7XG5cbiAgICBjb25zdCBzdGFydEZyYW1lID0gTWF0aC5mbG9vcigoc01zIC8gMTAwMCkgKiBzYW1wbGVSYXRlKTtcbiAgICBjb25zdCBlbmRGcmFtZSA9IE1hdGguZmxvb3IoKGVNcyAvIDEwMDApICogc2FtcGxlUmF0ZSk7XG5cbiAgICBjb25zdCBzdGFydEJ5dGUgPSBkYXRhT2Zmc2V0ICsgc3RhcnRGcmFtZSAqIGJ5dGVzUGVyRnJhbWU7XG4gICAgY29uc3QgZW5kQnl0ZSA9IGRhdGFPZmZzZXQgKyBlbmRGcmFtZSAqIGJ5dGVzUGVyRnJhbWU7XG5cbiAgICBjb25zdCBuZXdEYXRhU2l6ZSA9IE1hdGgubWF4KDAsIGVuZEJ5dGUgLSBzdGFydEJ5dGUpO1xuICAgIGNvbnN0IG91dCA9IG5ldyBBcnJheUJ1ZmZlcig0NCArIG5ld0RhdGFTaXplKTtcbiAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KG91dCk7XG5cbiAgICAvLyBXcml0ZSBoZWFkZXJcbiAgICB0aGlzLndyaXRlU3RyaW5nKHZpZXcsIDAsIFwiUklGRlwiKTtcbiAgICB2aWV3LnNldFVpbnQzMig0LCAzNiArIG5ld0RhdGFTaXplLCB0cnVlKTtcbiAgICB0aGlzLndyaXRlU3RyaW5nKHZpZXcsIDgsIFwiV0FWRVwiKTtcbiAgICB0aGlzLndyaXRlU3RyaW5nKHZpZXcsIDEyLCBcImZtdCBcIik7XG4gICAgdmlldy5zZXRVaW50MzIoMTYsIDE2LCB0cnVlKTtcbiAgICB2aWV3LnNldFVpbnQxNigyMCwgMSwgdHJ1ZSk7IC8vIFBDTVxuICAgIHZpZXcuc2V0VWludDE2KDIyLCBudW1DaGFubmVscywgdHJ1ZSk7XG4gICAgdmlldy5zZXRVaW50MzIoMjQsIHNhbXBsZVJhdGUsIHRydWUpO1xuICAgIHZpZXcuc2V0VWludDMyKDI4LCBzYW1wbGVSYXRlICogYnl0ZXNQZXJGcmFtZSwgdHJ1ZSk7XG4gICAgdmlldy5zZXRVaW50MTYoMzIsIGJ5dGVzUGVyRnJhbWUsIHRydWUpO1xuICAgIHZpZXcuc2V0VWludDE2KDM0LCBiaXRzUGVyU2FtcGxlLCB0cnVlKTtcbiAgICB0aGlzLndyaXRlU3RyaW5nKHZpZXcsIDM2LCBcImRhdGFcIik7XG4gICAgdmlldy5zZXRVaW50MzIoNDAsIG5ld0RhdGFTaXplLCB0cnVlKTtcblxuICAgIC8vIENvcHkgZGF0YVxuICAgIGNvbnN0IHNyYyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlciwgc3RhcnRCeXRlLCBuZXdEYXRhU2l6ZSk7XG4gICAgY29uc3QgZHN0ID0gbmV3IFVpbnQ4QXJyYXkob3V0LCA0NCwgbmV3RGF0YVNpemUpO1xuICAgIGRzdC5zZXQoc3JjKTtcblxuICAgIHJldHVybiBvdXQ7XG4gIH1cblxuICBwcml2YXRlIHdyaXRlU3RyaW5nKHZpZXc6IERhdGFWaWV3LCBvZmZzZXQ6IG51bWJlciwgc3RyaW5nOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgdmlldy5zZXRVaW50OChvZmZzZXQgKyBpLCBzdHJpbmcuY2hhckNvZGVBdChpKSk7XG4gICAgfVxuICB9XG59XG4iLCAiLy8gQXZvaWQgbG9va2JlaGluZCBmb3IgaU9TIDwgMTYuNCBjb21wYXRpYmlsaXR5XG4vLyAxKSBXaWtpL0VtYmVkOiBbW3BhdGguZXh0XV0gb3IgIVtbcGF0aC5leHRdXSBcdTIxOTIgY2FwdHVyZSBncm91cCAxIGlzIHRoZSBmdWxsIHBhdGggd2l0aCBleHRlbnNpb25cbi8vIDIpIE1hcmtkb3duIGxpbms6IFtsYWJlbF0ocGF0aC5leHQpIFx1MjE5MiBjYXB0dXJlIGdyb3VwIDEgaXMgdGhlIGZ1bGwgcGF0aCB3aXRoIGV4dGVuc2lvblxuZXhwb3J0IGNvbnN0IEFVRElPX0ZJTEVfUkVHRVggPSBbXG4gIC9cXFtcXFsoW15cXFtcXF1dK1xcLihtcDN8bXA0fG1wZWd8bXBnYXxtNGF8d2F2fHdlYm0pKVxcXVxcXS9naSxcbiAgL1xcW1teXFxdXSpcXF1cXCgoKD86W14oKVxcclxcbl0rKVxcLihtcDN8bXA0fG1wZWd8bXBnYXxtNGF8d2F2fHdlYm0pKVxcKS9naSxcbl07XG4iLCAiaW1wb3J0IHsgSXRlbVZpZXcsIFdvcmtzcGFjZUxlYWYgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IHByb2dyZXNzQnVzIH0gZnJvbSBcIi4uL3V0aWxzL3Byb2dyZXNzQnVzXCI7XG5pbXBvcnQge1xuICBWSUVXX0lDT04sXG4gIFZJRVdfVElUTEUsXG4gIFZJRVdfVFlQRV9QUk9HUkVTUyxcbn0gZnJvbSBcIi4uL2NvbnN0YW50cy9wcm9ncmVzc1wiO1xuaW1wb3J0IHR5cGUgeyBQcm9ncmVzc0V2ZW50IH0gZnJvbSBcIi4uL3R5cGVzL3Byb2dyZXNzXCI7XG5pbXBvcnQgeyBmb3JtYXRCeXRlcywgZm9ybWF0RHVyYXRpb24gfSBmcm9tIFwiLi4vdXRpbHMvZm9ybWF0XCI7XG5cbmV4cG9ydCBjbGFzcyBUcmFuc2NyaXB0aW9uUHJvZ3Jlc3NWaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xuICBwcml2YXRlIGhlYWRlckVsITogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgZmlsZU5hbWVFbCE6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIGZpbGVTaXplRWwhOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBzdGF0dXNFbCE6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIHRhcmdldEZpbGVFbCE6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIG1vZGVsRWwhOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBjaHVua1dyYXBFbCE6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIGNodW5rQmFyRWwhOiBIVE1MUHJvZ3Jlc3NFbGVtZW50O1xuICBwcml2YXRlIGNodW5rTGFiZWxFbCE6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIGxvZ0VsITogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgc3RhcnRlZEF0TXM6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgY2h1bmtUb3RhbDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBjaHVua0luZGV4OiBudW1iZXIgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYpIHtcbiAgICBzdXBlcihsZWFmKTtcbiAgfVxuXG4gIGdldFZpZXdUeXBlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFZJRVdfVFlQRV9QUk9HUkVTUztcbiAgfVxuICBnZXREaXNwbGF5VGV4dCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBWSUVXX1RJVExFO1xuICB9XG4gIGdldEljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gVklFV19JQ09OO1xuICB9XG5cbiAgYXN5bmMgb25PcGVuKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG4gICAgY29udGFpbmVyRWwuZW1wdHkoKTtcblxuICAgIHRoaXMuaGVhZGVyRWwgPSBjb250YWluZXJFbC5jcmVhdGVFbChcImRpdlwiLCB7XG4gICAgICBjbHM6IFwidHJhbnNjcmlwdGlvbi1hdWRpby1oZWFkZXJcIixcbiAgICB9KTtcbiAgICB0aGlzLmhlYWRlckVsLmNyZWF0ZUVsKFwiaDNcIiwgeyB0ZXh0OiBWSUVXX1RJVExFIH0pO1xuXG4gICAgY29uc3QgaW5mb0VsID0gY29udGFpbmVyRWwuY3JlYXRlRWwoXCJkaXZcIiwge1xuICAgICAgY2xzOiBcInRyYW5zY3JpcHRpb24tYXVkaW8taW5mb1wiLFxuICAgIH0pO1xuICAgIGNvbnN0IHJvdzEgPSBpbmZvRWwuY3JlYXRlRWwoXCJkaXZcIiwgeyBjbHM6IFwidHJhbnNjcmlwdGlvbi1hdWRpby1yb3dcIiB9KTtcbiAgICByb3cxLmNyZWF0ZUVsKFwic3BhblwiLCB7IHRleHQ6IFwiRmlsZTogXCIsIGNsczogXCJ0cmFuc2NyaXB0aW9uLWF1ZGlvLWxhYmVsXCIgfSk7XG4gICAgdGhpcy5maWxlTmFtZUVsID0gcm93MS5jcmVhdGVFbChcInNwYW5cIiwgeyB0ZXh0OiBcIi1cIiB9KTtcblxuICAgIGNvbnN0IHJvdzIgPSBpbmZvRWwuY3JlYXRlRWwoXCJkaXZcIiwgeyBjbHM6IFwidHJhbnNjcmlwdGlvbi1hdWRpby1yb3dcIiB9KTtcbiAgICByb3cyLmNyZWF0ZUVsKFwic3BhblwiLCB7IHRleHQ6IFwiU2l6ZTogXCIsIGNsczogXCJ0cmFuc2NyaXB0aW9uLWF1ZGlvLWxhYmVsXCIgfSk7XG4gICAgdGhpcy5maWxlU2l6ZUVsID0gcm93Mi5jcmVhdGVFbChcInNwYW5cIiwgeyB0ZXh0OiBcIi1cIiB9KTtcblxuICAgIGNvbnN0IHJvdzMgPSBpbmZvRWwuY3JlYXRlRWwoXCJkaXZcIiwgeyBjbHM6IFwidHJhbnNjcmlwdGlvbi1hdWRpby1yb3dcIiB9KTtcbiAgICByb3czLmNyZWF0ZUVsKFwic3BhblwiLCB7XG4gICAgICB0ZXh0OiBcIlN0YXR1czogXCIsXG4gICAgICBjbHM6IFwidHJhbnNjcmlwdGlvbi1hdWRpby1sYWJlbFwiLFxuICAgIH0pO1xuICAgIHRoaXMuc3RhdHVzRWwgPSByb3czLmNyZWF0ZUVsKFwic3BhblwiLCB7IHRleHQ6IFwiSWRsZVwiIH0pO1xuXG4gICAgY29uc3Qgcm93NCA9IGluZm9FbC5jcmVhdGVFbChcImRpdlwiLCB7IGNsczogXCJ0cmFuc2NyaXB0aW9uLWF1ZGlvLXJvd1wiIH0pO1xuICAgIHJvdzQuY3JlYXRlRWwoXCJzcGFuXCIsIHtcbiAgICAgIHRleHQ6IFwiVGFyZ2V0OiBcIixcbiAgICAgIGNsczogXCJ0cmFuc2NyaXB0aW9uLWF1ZGlvLWxhYmVsXCIsXG4gICAgfSk7XG4gICAgdGhpcy50YXJnZXRGaWxlRWwgPSByb3c0LmNyZWF0ZUVsKFwic3BhblwiLCB7IHRleHQ6IFwiLVwiIH0pO1xuXG4gICAgY29uc3Qgcm93NSA9IGluZm9FbC5jcmVhdGVFbChcImRpdlwiLCB7IGNsczogXCJ0cmFuc2NyaXB0aW9uLWF1ZGlvLXJvd1wiIH0pO1xuICAgIHJvdzUuY3JlYXRlRWwoXCJzcGFuXCIsIHtcbiAgICAgIHRleHQ6IFwiTW9kZWw6IFwiLFxuICAgICAgY2xzOiBcInRyYW5zY3JpcHRpb24tYXVkaW8tbGFiZWxcIixcbiAgICB9KTtcbiAgICB0aGlzLm1vZGVsRWwgPSByb3c1LmNyZWF0ZUVsKFwic3BhblwiLCB7IHRleHQ6IFwiLVwiIH0pO1xuXG4gICAgdGhpcy5jaHVua1dyYXBFbCA9IGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiZGl2XCIsIHtcbiAgICAgIGNsczogXCJ0cmFuc2NyaXB0aW9uLWF1ZGlvLWNodW5rc1wiLFxuICAgIH0pO1xuICAgIHRoaXMuY2h1bmtMYWJlbEVsID0gdGhpcy5jaHVua1dyYXBFbC5jcmVhdGVFbChcImRpdlwiLCB7IHRleHQ6IFwiQ2h1bms6IC1cIiB9KTtcbiAgICB0aGlzLmNodW5rQmFyRWwgPSB0aGlzLmNodW5rV3JhcEVsLmNyZWF0ZUVsKFwicHJvZ3Jlc3NcIik7XG4gICAgdGhpcy5jaHVua0JhckVsLm1heCA9IDE7XG4gICAgdGhpcy5jaHVua0JhckVsLnZhbHVlID0gMDtcblxuICAgIHRoaXMubG9nRWwgPSBjb250YWluZXJFbC5jcmVhdGVFbChcImRpdlwiLCB7XG4gICAgICBjbHM6IFwidHJhbnNjcmlwdGlvbi1hdWRpby1sb2dcIixcbiAgICB9KTtcbiAgICB0aGlzLmxvZ0VsLmNyZWF0ZUVsKFwiZGl2XCIsIHsgdGV4dDogXCJMb2cgc3RhcnRcIiB9KTtcblxuICAgIHRoaXMucmVnaXN0ZXJFdmVudChwcm9ncmVzc0J1cy5zdWJzY3JpYmUoKGUpID0+IHRoaXMub25Qcm9ncmVzcyhlKSkpO1xuICB9XG5cbiAgcHJpdmF0ZSBwdXNoTG9nKHRleHQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGxpbmUgPSB0aGlzLmxvZ0VsLmNyZWF0ZUVsKFwiZGl2XCIsIHsgdGV4dCB9KTtcbiAgICBsaW5lLnNjcm9sbEludG9WaWV3KHsgYmxvY2s6IFwiZW5kXCIgfSk7XG4gIH1cblxuICBwcml2YXRlIG9uUHJvZ3Jlc3MoZTogUHJvZ3Jlc3NFdmVudCk6IHZvaWQge1xuICAgIHN3aXRjaCAoZS5zdGFnZSkge1xuICAgICAgY2FzZSBcIm1vZGVsLXNlbGVjdGVkXCI6IHtcbiAgICAgICAgdGhpcy5tb2RlbEVsLnNldFRleHQoZS5tb2RlbCk7XG4gICAgICAgIHRoaXMucHVzaExvZyhgTW9kZWw6ICR7ZS5tb2RlbH1gKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiZmlsZS1kZXRlY3RlZFwiOiB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBlLmZpbGVOYW1lLnNwbGl0KFwiL1wiKS5wb3AoKSB8fCBlLmZpbGVOYW1lO1xuICAgICAgICB0aGlzLmZpbGVOYW1lRWwuc2V0VGV4dChuYW1lKTtcbiAgICAgICAgdGhpcy5zdGF0dXNFbC5zZXRUZXh0KFwiRmlsZSBkZXRlY3RlZFwiKTtcbiAgICAgICAgdGhpcy5wdXNoTG9nKGBGaWxlIGRldGVjdGVkOiAke25hbWV9YCk7XG4gICAgICAgIHRoaXMuc3RhcnRlZEF0TXMgPSBEYXRlLm5vdygpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJmaWxlLXNpemVcIjoge1xuICAgICAgICB0aGlzLmZpbGVTaXplRWwuc2V0VGV4dChmb3JtYXRCeXRlcyhlLnNpemVCeXRlcykpO1xuICAgICAgICB0aGlzLnB1c2hMb2coYFNpemU6ICR7Zm9ybWF0Qnl0ZXMoZS5zaXplQnl0ZXMpfWApO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJwcmVwYXJpbmctYXVkaW9cIjoge1xuICAgICAgICB0aGlzLnN0YXR1c0VsLnNldFRleHQoXCJQcmVwYXJpbmcgYXVkaW9cIik7XG4gICAgICAgIHRoaXMucHVzaExvZyhcIlByZXBhcmluZyBhdWRpb1wiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwidGFyZ2V0LWZpbGUtc2VsZWN0ZWRcIjoge1xuICAgICAgICBjb25zdCBuYW1lID0gZS5wYXRoLnNwbGl0KFwiL1wiKS5wb3AoKSB8fCBlLnBhdGg7XG4gICAgICAgIHRoaXMudGFyZ2V0RmlsZUVsLnNldFRleHQoYCR7bmFtZX0gKCR7ZS5saW5lfToke2UuY2h9KWApO1xuICAgICAgICB0aGlzLnB1c2hMb2coYFRhcmdldCBzZWxlY3RlZDogJHtlLnBhdGh9IEAgJHtlLmxpbmV9OiR7ZS5jaH1gKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiY2h1bmstc3RhcnRcIjoge1xuICAgICAgICB0aGlzLmNodW5rVG90YWwgPSBlLmNodW5rVG90YWw7XG4gICAgICAgIHRoaXMuY2h1bmtJbmRleCA9IGUuY2h1bmtJbmRleDtcbiAgICAgICAgdGhpcy5jaHVua0JhckVsLm1heCA9IHRoaXMuY2h1bmtUb3RhbDtcbiAgICAgICAgdGhpcy5jaHVua0JhckVsLnZhbHVlID0gTWF0aC5tYXgoXG4gICAgICAgICAgdGhpcy5jaHVua0JhckVsLnZhbHVlLFxuICAgICAgICAgIHRoaXMuY2h1bmtJbmRleCAtIDFcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5jaHVua0xhYmVsRWwuc2V0VGV4dChcbiAgICAgICAgICBgQ2h1bmsgJHtlLmNodW5rSW5kZXh9LyR7ZS5jaHVua1RvdGFsfSBydW5uaW5nYFxuICAgICAgICApO1xuICAgICAgICB0aGlzLnN0YXR1c0VsLnNldFRleHQoXCJUcmFuc2NyaWJpbmcgY2h1bmtcIik7XG4gICAgICAgIHRoaXMucHVzaExvZyhgQ2h1bmsgc3RhcnQ6ICR7ZS5jaHVua0luZGV4fS8ke2UuY2h1bmtUb3RhbH1gKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiY2h1bmstY29tcGxldGVcIjoge1xuICAgICAgICB0aGlzLmNodW5rQmFyRWwubWF4ID0gZS5jaHVua1RvdGFsO1xuICAgICAgICB0aGlzLmNodW5rQmFyRWwudmFsdWUgPSBlLmNodW5rSW5kZXg7XG4gICAgICAgIHRoaXMuY2h1bmtMYWJlbEVsLnNldFRleHQoYENodW5rICR7ZS5jaHVua0luZGV4fS8ke2UuY2h1bmtUb3RhbH0gZG9uZWApO1xuICAgICAgICB0aGlzLnB1c2hMb2coYENodW5rIGNvbXBsZXRlOiAke2UuY2h1bmtJbmRleH0vJHtlLmNodW5rVG90YWx9YCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcImNodW5rLWZhaWxlZFwiOiB7XG4gICAgICAgIHRoaXMucHVzaExvZyhcbiAgICAgICAgICBgQ2h1bmsgZmFpbGVkOiAke2UuY2h1bmtJbmRleH0vJHtlLmNodW5rVG90YWx9IC0gJHtlLm1lc3NhZ2V9YFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJhcGktcmVxdWVzdC1zdGFydFwiOiB7XG4gICAgICAgIHRoaXMuc3RhdHVzRWwuc2V0VGV4dChcIlJlcXVlc3RpbmcgQVBJXCIpO1xuICAgICAgICB0aGlzLnB1c2hMb2coXCJBUEkgcmVxdWVzdCBzdGFydFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiYXBpLXJlcXVlc3QtcmV0cnlcIjoge1xuICAgICAgICB0aGlzLnN0YXR1c0VsLnNldFRleHQoXCJSZXRyeWluZyBBUElcIik7XG4gICAgICAgIHRoaXMucHVzaExvZyhcbiAgICAgICAgICBgQVBJIHJldHJ5OiBhdHRlbXB0ICR7ZS5hdHRlbXB0fSR7ZS5tZXNzYWdlID8gXCIgLSBcIiArIGUubWVzc2FnZSA6IFwiXCJ9YFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJhcGktcmVxdWVzdC1jb21wbGV0ZVwiOiB7XG4gICAgICAgIHRoaXMuc3RhdHVzRWwuc2V0VGV4dChcIkFQSSBkb25lXCIpO1xuICAgICAgICB0aGlzLnB1c2hMb2coYEFQSSBkb25lOiAke2Zvcm1hdER1cmF0aW9uKGUuZWxhcHNlZE1zKX1gKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwic3VjY2Vzc1wiOiB7XG4gICAgICAgIGNvbnN0IGVsYXBzZWQgPSB0aGlzLnN0YXJ0ZWRBdE1zID8gRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnRlZEF0TXMgOiAwO1xuICAgICAgICB0aGlzLnN0YXR1c0VsLnNldFRleHQoXCJTdWNjZXNzXCIpO1xuICAgICAgICB0aGlzLnB1c2hMb2coYFN1Y2Nlc3M6IHRvdGFsICR7Zm9ybWF0RHVyYXRpb24oZWxhcHNlZCl9YCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcImVycm9yXCI6IHtcbiAgICAgICAgdGhpcy5zdGF0dXNFbC5zZXRUZXh0KFwiRmFpbGVkXCIpO1xuICAgICAgICB0aGlzLnB1c2hMb2coYEZhaWxlZDogJHtlLm1lc3NhZ2V9YCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBmb3JtYXRCeXRlcyhieXRlczogbnVtYmVyKTogc3RyaW5nIHtcbiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoYnl0ZXMpIHx8IGJ5dGVzIDwgMCkgcmV0dXJuICcwIEInO1xuICBjb25zdCB1bml0cyA9IFsnQicsICdLQicsICdNQicsICdHQiddO1xuICBsZXQgaWR4ID0gMDtcbiAgbGV0IHZhbCA9IGJ5dGVzO1xuICB3aGlsZSAodmFsID49IDEwMjQgJiYgaWR4IDwgdW5pdHMubGVuZ3RoIC0gMSkge1xuICAgIHZhbCAvPSAxMDI0O1xuICAgIGlkeCsrO1xuICB9XG4gIHJldHVybiBgJHtNYXRoLnJvdW5kKHZhbCAqIDEwKSAvIDEwfSAke3VuaXRzW2lkeF19YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdER1cmF0aW9uKG1zOiBudW1iZXIpOiBzdHJpbmcge1xuICBpZiAoIU51bWJlci5pc0Zpbml0ZShtcykgfHwgbXMgPCAwKSByZXR1cm4gJzA6MDAnO1xuICBjb25zdCB0b3RhbFNlY29uZHMgPSBNYXRoLmZsb29yKG1zIC8gMTAwMCk7XG4gIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHRvdGFsU2Vjb25kcyAvIDYwKTtcbiAgY29uc3Qgc2Vjb25kcyA9IHRvdGFsU2Vjb25kcyAlIDYwO1xuICByZXR1cm4gYCR7bWludXRlc306JHtzZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xufVxuIiwgImltcG9ydCB7IEF1ZGlvUGx1Z2luU2V0dGluZ3MgfSBmcm9tIFwiX2Jhc2UvdHlwZXMvc2V0dGluZ1wiO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogQXVkaW9QbHVnaW5TZXR0aW5ncyA9IHtcbiAgbW9kZWw6IFwiZ2VtaW5pLTIuNS1mbGFzaFwiLFxuICBhcGlLZXk6IFwiXCIsXG4gIHByb21wdDpcbiAgICBcIllvdSBhcmUgYW4gZXhwZXJ0IG1lZXRpbmcgYW5kIHJlc2VhcmNoIG5vdGUtdGFrZXIgZm9yIE9ic2lkaWFuLiBQcm9kdWNlIGEgcmlnb3JvdXNseSBzdHJ1Y3R1cmVkIE1hcmtkb3duIG5vdGUgZnJvbSB0aGUgZm9sbG93aW5nIGF1ZGlvIHRyYW5zY3JpcHQuIEZvbGxvdyB0aGlzIGV4YWN0IHN0cnVjdHVyZSBhbmQgcnVsZXM6XFxuXFxuXCIgK1xuICAgIFwiMSkgRXhlY3V0aXZlIFN1bW1hcnlcXG5cIiArXG4gICAgXCIgICAtIDVcdTIwMTM4IGNvbmNpc2UgYnVsbGV0cyBjYXB0dXJpbmcgdGhlIG1vc3QgaW1wb3J0YW50IHRha2Vhd2F5cy5cXG5cIiArXG4gICAgXCIyKSBUaW1lbGluZSBPdXRsaW5lXFxuXCIgK1xuICAgIFwiICAgLSBDaHJvbm9sb2dpY2FsIG91dGxpbmUgdXNpbmcgaGVhZGluZ3MgYW5kIG5lc3RlZCBidWxsZXRzLlxcblwiICtcbiAgICBcIiAgIC0gSWYgYW55IHRpbWUgaGludHMgZXhpc3QsIGFkZCBhcHByb3hpbWF0ZSB0aW1lY29kZXMgbGlrZSAoXHUyMjQ4MTI6MzApLlxcblwiICtcbiAgICBcIjMpIEtleSBJbnNpZ2h0cyAmIFJhdGlvbmFsZVxcblwiICtcbiAgICBcIiAgIC0gTm9uLW9idmlvdXMgaW5zaWdodHMgd2l0aCBicmllZiBcdTIwMUN3aHkgaXQgbWF0dGVyc1x1MjAxRC5cXG5cIiArXG4gICAgXCI0KSBEZWNpc2lvbnNcXG5cIiArXG4gICAgXCIgICAtIEZpbmFsaXplZCBkZWNpc2lvbnMgYXMgYSBidWxsZXQgbGlzdC5cXG5cIiArXG4gICAgXCI1KSBBY3Rpb24gSXRlbXNcXG5cIiArXG4gICAgXCIgICAtIE1hcmtkb3duIHRhYmxlIHdpdGggY29sdW1uczogVGFzayB8IE93bmVyIHwgRHVlIHwgU3RhdHVzLlxcblwiICtcbiAgICBcIjYpIE9wZW4gUXVlc3Rpb25zICYgUmlza3NcXG5cIiArXG4gICAgXCIgICAtIEl0ZW1zIHRoYXQgcmVxdWlyZSBmb2xsb3ctdXAsIHVua25vd25zLCBibG9ja2VycywgYW5kIHJpc2tzLlxcblwiICtcbiAgICBcIjcpIFRlcm1zICYgRW50aXRpZXNcXG5cIiArXG4gICAgXCIgICAtIEdsb3NzYXJ5IG9mIHBlb3BsZSwgcHJvamVjdHMsIHRvb2xzLCBhbmQgZG9tYWluIHRlcm1zLlxcblwiICtcbiAgICBcIjgpIExpbmsgU3VnZ2VzdGlvbnNcXG5cIiArXG4gICAgXCIgICAtIFN1Z2dlc3RlZCBPYnNpZGlhbiB3aWtpbGlua3MgYW5kIHRhZ3MgKHVzZSBbW1dpa2kgTGlua3NdXSBhbmQgI3RhZ3MpLlxcblwiICtcbiAgICBcIjkpIE9uZS1wYXJhZ3JhcGggQWJzdHJhY3RcXG5cIiArXG4gICAgXCIgICAtIEEgdGlnaHQgM1x1MjAxMzUgc2VudGVuY2UgYWJzdHJhY3Qgc3VpdGFibGUgZm9yIGZ1dHVyZSByZXZpZXcuXFxuXFxuXCIgK1xuICAgIFwiQ29uc3RyYWludHM6XFxuXCIgK1xuICAgIFwiLSBXcml0ZSBhcyBpZiBJIGFtIHRoZSBhdXRob3IuIERvIG5vdCBtZW50aW9uIFx1MjAxQ3RoZSBzcGVha2VyXHUyMDFELlxcblwiICtcbiAgICBcIi0gQmUgZmFpdGhmdWwgdG8gdGhlIHRyYW5zY3JpcHQ7IG1hcmsgdW5jZXJ0YWluIGl0ZW1zIHdpdGggWz9dIHJhdGhlciB0aGFuIGludmVudGluZyBmYWN0cy5cXG5cIiArXG4gICAgXCItIFByZWZlciBjbGVhciBoZWFkaW5ncywgYnVsbGV0cywgYW5kIHNob3J0IHBhcmFncmFwaHMuXFxuXCIgK1xuICAgIFwiLSBVc2UgRW5nbGlzaCBmb3IgdGhlIG5vdGUgY29udGVudC5cXG5cXG5cIiArXG4gICAgXCJUaGUgZm9sbG93aW5nIGlzIHRoZSB0cmFuc2NyaWJlZCBhdWRpbzpcXG5cXG5cIixcbn07XG5cbmV4cG9ydCBjb25zdCBNT0RFTFM6IHN0cmluZ1tdID0gW1xuICBcImdlbWluaS0yLjUtZmxhc2hcIixcbiAgXCJnZW1pbmktMi41LXByb1wiLFxuICBcImdlbWluaS0zLXByby1wcmV2aWV3XCIsXG5dO1xuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBQUFBLG1CQU9POzs7QUNQUCxJQUFBQyxtQkFBMkM7OztBQ0EzQyxzQkFBaUQ7QUFFMUMsSUFBTSw0QkFBTixNQUFnQztBQUFB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QUFhO0FBQUEsTUFDakMsQ0FBQztBQUFBLElBQ0wsQ0FBQztBQUFBLEVBQ0w7QUFDRjsiLAogICJuYW1lcyI6IFsiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJwYXRoIiwgIl9hIiwgIl9hIiwgInRCeXRlcyIsICJjb21tb24uZ2V0VmFsdWVCeVBhdGgiLCAiY29tbW9uLnNldFZhbHVlQnlQYXRoIiwgImdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uRnJvbU1sZGV2IiwgImdlbmVyYXRlVmlkZW9zUmVzcG9uc2VGcm9tTWxkZXYiLCAiZ2VuZXJhdGVWaWRlb3NPcGVyYXRpb25Gcm9tVmVydGV4IiwgImdlbmVyYXRlVmlkZW9zUmVzcG9uc2VGcm9tVmVydGV4IiwgImdlbmVyYXRlZFZpZGVvRnJvbU1sZGV2IiwgImdlbmVyYXRlZFZpZGVvRnJvbVZlcnRleCIsICJ2aWRlb0Zyb21NbGRldiIsICJ2aWRlb0Zyb21WZXJ0ZXgiLCAiaW1wb3J0RmlsZU9wZXJhdGlvbkZyb21NbGRldiIsICJpbXBvcnRGaWxlUmVzcG9uc2VGcm9tTWxkZXYiLCAidC50Qnl0ZXMiLCAiT3V0Y29tZSIsICJMYW5ndWFnZSIsICJGdW5jdGlvblJlc3BvbnNlU2NoZWR1bGluZyIsICJUeXBlIiwgIk1vZGUiLCAiQXBpU3BlYyIsICJBdXRoVHlwZSIsICJIdHRwRWxlbWVudExvY2F0aW9uIiwgIlBoaXNoQmxvY2tUaHJlc2hvbGQiLCAiVGhpbmtpbmdMZXZlbCIsICJIYXJtQ2F0ZWdvcnkiLCAiSGFybUJsb2NrTWV0aG9kIiwgIkhhcm1CbG9ja1RocmVzaG9sZCIsICJGaW5pc2hSZWFzb24iLCAiSGFybVByb2JhYmlsaXR5IiwgIkhhcm1TZXZlcml0eSIsICJVcmxSZXRyaWV2YWxTdGF0dXMiLCAiQmxvY2tlZFJlYXNvbiIsICJUcmFmZmljVHlwZSIsICJNb2RhbGl0eSIsICJNZWRpYVJlc29sdXRpb24iLCAiVHVuaW5nTW9kZSIsICJBZGFwdGVyU2l6ZSIsICJKb2JTdGF0ZSIsICJUdW5pbmdUYXNrIiwgIlBhcnRNZWRpYVJlc29sdXRpb25MZXZlbCIsICJGZWF0dXJlU2VsZWN0aW9uUHJlZmVyZW5jZSIsICJCZWhhdmlvciIsICJEeW5hbWljUmV0cmlldmFsQ29uZmlnTW9kZSIsICJFbnZpcm9ubWVudCIsICJGdW5jdGlvbkNhbGxpbmdDb25maWdNb2RlIiwgIlNhZmV0eUZpbHRlckxldmVsIiwgIlBlcnNvbkdlbmVyYXRpb24iLCAiSW1hZ2VQcm9tcHRMYW5ndWFnZSIsICJNYXNrUmVmZXJlbmNlTW9kZSIsICJDb250cm9sUmVmZXJlbmNlVHlwZSIsICJTdWJqZWN0UmVmZXJlbmNlVHlwZSIsICJFZGl0TW9kZSIsICJTZWdtZW50TW9kZSIsICJWaWRlb0dlbmVyYXRpb25SZWZlcmVuY2VUeXBlIiwgIlZpZGVvR2VuZXJhdGlvbk1hc2tNb2RlIiwgIlZpZGVvQ29tcHJlc3Npb25RdWFsaXR5IiwgIlR1bmluZ01ldGhvZCIsICJEb2N1bWVudFN0YXRlIiwgIkZpbGVTdGF0ZSIsICJGaWxlU291cmNlIiwgIlR1cm5Db21wbGV0ZVJlYXNvbiIsICJNZWRpYU1vZGFsaXR5IiwgIlZhZFNpZ25hbFR5cGUiLCAiU3RhcnRTZW5zaXRpdml0eSIsICJFbmRTZW5zaXRpdml0eSIsICJBY3Rpdml0eUhhbmRsaW5nIiwgIlR1cm5Db3ZlcmFnZSIsICJTY2FsZSIsICJNdXNpY0dlbmVyYXRpb25Nb2RlIiwgIkxpdmVNdXNpY1BsYXliYWNrQ29udHJvbCIsICJfYSIsICJleGVjdXRhYmxlQ29kZSIsICJjb2RlRXhlY3V0aW9uUmVzdWx0IiwgImdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uRnJvbVZlcnRleCIsICJnZW5lcmF0ZVZpZGVvc09wZXJhdGlvbkZyb21NbGRldiIsICJpbXBvcnRGaWxlT3BlcmF0aW9uRnJvbU1sZGV2IiwgIl9hIiwgInR5cGVzLlR5cGUiLCAicmVzb3VyY2VOYW1lIiwgImJhc2VUcmFuc2Zvcm1lcnMudEJ5dGVzIiwgIl9hIiwgImNvbW1vbi5nZXRWYWx1ZUJ5UGF0aCIsICJjb21tb24uc2V0VmFsdWVCeVBhdGgiLCAidC50Sm9iU3RhdGUiLCAidC50UmVjdkJhdGNoSm9iRGVzdGluYXRpb24iLCAiYmxvYlRvTWxkZXYiLCAidC50QmF0Y2hKb2JOYW1lIiwgImNhbmRpZGF0ZUZyb21NbGRldiIsICJjaXRhdGlvbk1ldGFkYXRhRnJvbU1sZGV2IiwgImNvbnRlbnRUb01sZGV2IiwgInBhcnRUb01sZGV2IiwgInQudEJhdGNoSm9iRGVzdGluYXRpb24iLCAidC50TW9kZWwiLCAidC50QmF0Y2hKb2JTb3VyY2UiLCAidC50Q29udGVudHNGb3JFbWJlZCIsICJlbWJlZENvbnRlbnRDb25maWdUb01sZGV2IiwgImNvbW1vbi5tb3ZlVmFsdWVCeVBhdGgiLCAiZmlsZURhdGFUb01sZGV2IiwgImZ1bmN0aW9uQ2FsbFRvTWxkZXYiLCAiZnVuY3Rpb25DYWxsaW5nQ29uZmlnVG9NbGRldiIsICJnZW5lcmF0ZUNvbnRlbnRDb25maWdUb01sZGV2IiwgInQudENvbnRlbnQiLCAidC50U2NoZW1hIiwgInNhZmV0eVNldHRpbmdUb01sZGV2IiwgInQudFRvb2xzIiwgInRvb2xUb01sZGV2IiwgInQudFRvb2wiLCAidG9vbENvbmZpZ1RvTWxkZXYiLCAidC50Q2FjaGVkQ29udGVudE5hbWUiLCAidC50U3BlZWNoQ29uZmlnIiwgImltYWdlQ29uZmlnVG9NbGRldiIsICJnZW5lcmF0ZUNvbnRlbnRSZXNwb25zZUZyb21NbGRldiIsICJnb29nbGVNYXBzVG9NbGRldiIsICJnb29nbGVTZWFyY2hUb01sZGV2IiwgInQudENvbnRlbnRzIiwgIlBhZ2VkSXRlbSIsICJjb252ZXJ0ZXJzLmNyZWF0ZUJhdGNoSm9iUGFyYW1ldGVyc1RvTWxkZXYiLCAicGF0aCIsICJjb21tb24uZm9ybWF0TWFwIiwgImNvbnZlcnRlcnMuY3JlYXRlQmF0Y2hKb2JQYXJhbWV0ZXJzVG9WZXJ0ZXgiLCAiY29udmVydGVycy5iYXRjaEpvYkZyb21WZXJ0ZXgiLCAiY29udmVydGVycy5iYXRjaEpvYkZyb21NbGRldiIsICJjb252ZXJ0ZXJzLmNyZWF0ZUVtYmVkZGluZ3NCYXRjaEpvYlBhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMuZ2V0QmF0Y2hKb2JQYXJhbWV0ZXJzVG9WZXJ0ZXgiLCAiY29udmVydGVycy5nZXRCYXRjaEpvYlBhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMuY2FuY2VsQmF0Y2hKb2JQYXJhbWV0ZXJzVG9WZXJ0ZXgiLCAiY29udmVydGVycy5jYW5jZWxCYXRjaEpvYlBhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMubGlzdEJhdGNoSm9ic1BhcmFtZXRlcnNUb1ZlcnRleCIsICJyZXNwb25zZSIsICJjb252ZXJ0ZXJzLmxpc3RCYXRjaEpvYnNSZXNwb25zZUZyb21WZXJ0ZXgiLCAidHlwZXMuTGlzdEJhdGNoSm9ic1Jlc3BvbnNlIiwgImNvbnZlcnRlcnMubGlzdEJhdGNoSm9ic1BhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMubGlzdEJhdGNoSm9ic1Jlc3BvbnNlRnJvbU1sZGV2IiwgImNvbnZlcnRlcnMuZGVsZXRlQmF0Y2hKb2JQYXJhbWV0ZXJzVG9WZXJ0ZXgiLCAiY29udmVydGVycy5kZWxldGVSZXNvdXJjZUpvYkZyb21WZXJ0ZXgiLCAiY29udmVydGVycy5kZWxldGVCYXRjaEpvYlBhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMuZGVsZXRlUmVzb3VyY2VKb2JGcm9tTWxkZXYiLCAidG9vbFRvVmVydGV4IiwgInQudENhY2hlc01vZGVsIiwgImZ1bmN0aW9uRGVjbGFyYXRpb25Ub1ZlcnRleCIsICJjb252ZXJ0ZXJzLmNyZWF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9WZXJ0ZXgiLCAiY29udmVydGVycy5jcmVhdGVDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvTWxkZXYiLCAiY29udmVydGVycy5nZXRDYWNoZWRDb250ZW50UGFyYW1ldGVyc1RvVmVydGV4IiwgImNvbnZlcnRlcnMuZ2V0Q2FjaGVkQ29udGVudFBhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMuZGVsZXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnNUb1ZlcnRleCIsICJjb252ZXJ0ZXJzLmRlbGV0ZUNhY2hlZENvbnRlbnRSZXNwb25zZUZyb21WZXJ0ZXgiLCAidHlwZXMuRGVsZXRlQ2FjaGVkQ29udGVudFJlc3BvbnNlIiwgImNvbnZlcnRlcnMuZGVsZXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMuZGVsZXRlQ2FjaGVkQ29udGVudFJlc3BvbnNlRnJvbU1sZGV2IiwgImNvbnZlcnRlcnMudXBkYXRlQ2FjaGVkQ29udGVudFBhcmFtZXRlcnNUb1ZlcnRleCIsICJjb252ZXJ0ZXJzLnVwZGF0ZUNhY2hlZENvbnRlbnRQYXJhbWV0ZXJzVG9NbGRldiIsICJjb252ZXJ0ZXJzLmxpc3RDYWNoZWRDb250ZW50c1BhcmFtZXRlcnNUb1ZlcnRleCIsICJjb252ZXJ0ZXJzLmxpc3RDYWNoZWRDb250ZW50c1Jlc3BvbnNlRnJvbVZlcnRleCIsICJ0eXBlcy5MaXN0Q2FjaGVkQ29udGVudHNSZXNwb25zZSIsICJjb252ZXJ0ZXJzLmxpc3RDYWNoZWRDb250ZW50c1BhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMubGlzdENhY2hlZENvbnRlbnRzUmVzcG9uc2VGcm9tTWxkZXYiLCAiX2EiLCAidC50Q29udGVudCIsICJjb21tb24uZ2V0VmFsdWVCeVBhdGgiLCAiY29tbW9uLnNldFZhbHVlQnlQYXRoIiwgInQudEZpbGVOYW1lIiwgInBhdGgiLCAiY29udmVydGVycy5saXN0RmlsZXNQYXJhbWV0ZXJzVG9NbGRldiIsICJjb21tb24uZm9ybWF0TWFwIiwgInJlc3BvbnNlIiwgImNvbnZlcnRlcnMubGlzdEZpbGVzUmVzcG9uc2VGcm9tTWxkZXYiLCAidHlwZXMuTGlzdEZpbGVzUmVzcG9uc2UiLCAiY29udmVydGVycy5jcmVhdGVGaWxlUGFyYW1ldGVyc1RvTWxkZXYiLCAiY29udmVydGVycy5jcmVhdGVGaWxlUmVzcG9uc2VGcm9tTWxkZXYiLCAidHlwZXMuQ3JlYXRlRmlsZVJlc3BvbnNlIiwgImNvbnZlcnRlcnMuZ2V0RmlsZVBhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMuZGVsZXRlRmlsZVBhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMuZGVsZXRlRmlsZVJlc3BvbnNlRnJvbU1sZGV2IiwgInR5cGVzLkRlbGV0ZUZpbGVSZXNwb25zZSIsICJibG9iVG9NbGRldiIsICJjb250ZW50VG9NbGRldiIsICJwYXJ0VG9NbGRldiIsICJmaWxlRGF0YVRvTWxkZXYiLCAiZnVuY3Rpb25DYWxsVG9NbGRldiIsICJmdW5jdGlvbkRlY2xhcmF0aW9uVG9WZXJ0ZXgiLCAiZ2VuZXJhdGlvbkNvbmZpZ1RvVmVydGV4IiwgImdvb2dsZU1hcHNUb01sZGV2IiwgImdvb2dsZVNlYXJjaFRvTWxkZXYiLCAibGl2ZUNvbm5lY3RDb25maWdUb01sZGV2IiwgInQudExpdmVTcGVlY2hDb25maWciLCAidC50VG9vbHMiLCAidG9vbFRvTWxkZXYiLCAidC50VG9vbCIsICJzZXNzaW9uUmVzdW1wdGlvbkNvbmZpZ1RvTWxkZXYiLCAidG9vbFRvVmVydGV4IiwgInQudE1vZGVsIiwgInQudEJsb2JzIiwgInQudEF1ZGlvQmxvYiIsICJ0LnRJbWFnZUJsb2IiLCAidC50Q29udGVudHMiLCAidC50Q29udGVudHNGb3JFbWJlZCIsICJ0LnRTY2hlbWEiLCAidC50Q2FjaGVkQ29udGVudE5hbWUiLCAidC50U3BlZWNoQ29uZmlnIiwgInQudEJ5dGVzIiwgInQudE1vZGVsc1VybCIsICJ0LnRFeHRyYWN0TW9kZWxzIiwgInR5cGVzLkh0dHBSZXNwb25zZSIsICJoYW5kbGVXZWJTb2NrZXRNZXNzYWdlIiwgInR5cGVzLkxpdmVNdXNpY1NlcnZlck1lc3NhZ2UiLCAibWFwVG9IZWFkZXJzIiwgIl9hIiwgImhlYWRlcnNUb01hcCIsICJ0LnRNb2RlbCIsICJjb252ZXJ0ZXJzLmxpdmVNdXNpY1NldFdlaWdodGVkUHJvbXB0c1BhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMubGl2ZU11c2ljU2V0Q29uZmlnUGFyYW1ldGVyc1RvTWxkZXYiLCAidHlwZXMuTGl2ZU11c2ljUGxheWJhY2tDb250cm9sIiwgInR5cGVzLkxpdmVTZXJ2ZXJNZXNzYWdlIiwgImNvbnZlcnRlcnMubGl2ZVNlcnZlck1lc3NhZ2VGcm9tVmVydGV4IiwgInR5cGVzLk1vZGFsaXR5IiwgImNvbnZlcnRlcnMubGl2ZUNvbm5lY3RQYXJhbWV0ZXJzVG9WZXJ0ZXgiLCAiY29udmVydGVycy5saXZlQ29ubmVjdFBhcmFtZXRlcnNUb01sZGV2IiwgInQudENvbnRlbnRzIiwgImNvbnRlbnRUb01sZGV2IiwgImNvbnZlcnRlcnMubGl2ZVNlbmRSZWFsdGltZUlucHV0UGFyYW1ldGVyc1RvVmVydGV4IiwgImNvbnZlcnRlcnMubGl2ZVNlbmRSZWFsdGltZUlucHV0UGFyYW1ldGVyc1RvTWxkZXYiLCAiYWZjLmhhc0NhbGxhYmxlVG9vbHMiLCAiYWZjLnNob3VsZERpc2FibGVBZmMiLCAiYWZjLmZpbmRBZmNJbmNvbXBhdGlibGVUb29sSW5kZXhlcyIsICJhZmMuREVGQVVMVF9NQVhfUkVNT1RFX0NBTExTIiwgImFmYy5pc0NhbGxhYmxlVG9vbCIsICJhZmMuc2hvdWxkQXBwZW5kQWZjSGlzdG9yeSIsICJtY3AuaGFzTWNwVG9vbFVzYWdlIiwgIm1jcC5zZXRNY3BVc2FnZUhlYWRlciIsICJwYXJhbXMiLCAiX2MiLCAidHlwZXMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2UiLCAicGF0aCIsICJjb252ZXJ0ZXJzLmdlbmVyYXRlQ29udGVudFBhcmFtZXRlcnNUb1ZlcnRleCIsICJjb21tb24uZm9ybWF0TWFwIiwgInJlc3BvbnNlIiwgImNvbnZlcnRlcnMuZ2VuZXJhdGVDb250ZW50UmVzcG9uc2VGcm9tVmVydGV4IiwgImNvbnZlcnRlcnMuZ2VuZXJhdGVDb250ZW50UGFyYW1ldGVyc1RvTWxkZXYiLCAiY29udmVydGVycy5nZW5lcmF0ZUNvbnRlbnRSZXNwb25zZUZyb21NbGRldiIsICJfZCIsICJjb252ZXJ0ZXJzLmVtYmVkQ29udGVudFBhcmFtZXRlcnNUb1ZlcnRleCIsICJjb252ZXJ0ZXJzLmVtYmVkQ29udGVudFJlc3BvbnNlRnJvbVZlcnRleCIsICJ0eXBlcy5FbWJlZENvbnRlbnRSZXNwb25zZSIsICJjb252ZXJ0ZXJzLmVtYmVkQ29udGVudFBhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMuZW1iZWRDb250ZW50UmVzcG9uc2VGcm9tTWxkZXYiLCAiY29udmVydGVycy5nZW5lcmF0ZUltYWdlc1BhcmFtZXRlcnNUb1ZlcnRleCIsICJjb252ZXJ0ZXJzLmdlbmVyYXRlSW1hZ2VzUmVzcG9uc2VGcm9tVmVydGV4IiwgInR5cGVzLkdlbmVyYXRlSW1hZ2VzUmVzcG9uc2UiLCAiY29udmVydGVycy5nZW5lcmF0ZUltYWdlc1BhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMuZ2VuZXJhdGVJbWFnZXNSZXNwb25zZUZyb21NbGRldiIsICJjb252ZXJ0ZXJzLmVkaXRJbWFnZVBhcmFtZXRlcnNJbnRlcm5hbFRvVmVydGV4IiwgImNvbnZlcnRlcnMuZWRpdEltYWdlUmVzcG9uc2VGcm9tVmVydGV4IiwgInR5cGVzLkVkaXRJbWFnZVJlc3BvbnNlIiwgImNvbnZlcnRlcnMudXBzY2FsZUltYWdlQVBJUGFyYW1ldGVyc0ludGVybmFsVG9WZXJ0ZXgiLCAiY29udmVydGVycy51cHNjYWxlSW1hZ2VSZXNwb25zZUZyb21WZXJ0ZXgiLCAidHlwZXMuVXBzY2FsZUltYWdlUmVzcG9uc2UiLCAiY29udmVydGVycy5yZWNvbnRleHRJbWFnZVBhcmFtZXRlcnNUb1ZlcnRleCIsICJjb252ZXJ0ZXJzLnJlY29udGV4dEltYWdlUmVzcG9uc2VGcm9tVmVydGV4IiwgInR5cGVzLlJlY29udGV4dEltYWdlUmVzcG9uc2UiLCAiY29udmVydGVycy5zZWdtZW50SW1hZ2VQYXJhbWV0ZXJzVG9WZXJ0ZXgiLCAiY29udmVydGVycy5zZWdtZW50SW1hZ2VSZXNwb25zZUZyb21WZXJ0ZXgiLCAidHlwZXMuU2VnbWVudEltYWdlUmVzcG9uc2UiLCAiY29udmVydGVycy5nZXRNb2RlbFBhcmFtZXRlcnNUb1ZlcnRleCIsICJjb252ZXJ0ZXJzLm1vZGVsRnJvbVZlcnRleCIsICJjb252ZXJ0ZXJzLmdldE1vZGVsUGFyYW1ldGVyc1RvTWxkZXYiLCAiY29udmVydGVycy5tb2RlbEZyb21NbGRldiIsICJjb252ZXJ0ZXJzLmxpc3RNb2RlbHNQYXJhbWV0ZXJzVG9WZXJ0ZXgiLCAiY29udmVydGVycy5saXN0TW9kZWxzUmVzcG9uc2VGcm9tVmVydGV4IiwgInR5cGVzLkxpc3RNb2RlbHNSZXNwb25zZSIsICJjb252ZXJ0ZXJzLmxpc3RNb2RlbHNQYXJhbWV0ZXJzVG9NbGRldiIsICJjb252ZXJ0ZXJzLmxpc3RNb2RlbHNSZXNwb25zZUZyb21NbGRldiIsICJjb252ZXJ0ZXJzLnVwZGF0ZU1vZGVsUGFyYW1ldGVyc1RvVmVydGV4IiwgImNvbnZlcnRlcnMudXBkYXRlTW9kZWxQYXJhbWV0ZXJzVG9NbGRldiIsICJjb252ZXJ0ZXJzLmRlbGV0ZU1vZGVsUGFyYW1ldGVyc1RvVmVydGV4IiwgImNvbnZlcnRlcnMuZGVsZXRlTW9kZWxSZXNwb25zZUZyb21WZXJ0ZXgiLCAidHlwZXMuRGVsZXRlTW9kZWxSZXNwb25zZSIsICJjb252ZXJ0ZXJzLmRlbGV0ZU1vZGVsUGFyYW1ldGVyc1RvTWxkZXYiLCAiY29udmVydGVycy5kZWxldGVNb2RlbFJlc3BvbnNlRnJvbU1sZGV2IiwgImNvbnZlcnRlcnMuY291bnRUb2tlbnNQYXJhbWV0ZXJzVG9WZXJ0ZXgiLCAiY29udmVydGVycy5jb3VudFRva2Vuc1Jlc3BvbnNlRnJvbVZlcnRleCIsICJ0eXBlcy5Db3VudFRva2Vuc1Jlc3BvbnNlIiwgImNvbnZlcnRlcnMuY291bnRUb2tlbnNQYXJhbWV0ZXJzVG9NbGRldiIsICJjb252ZXJ0ZXJzLmNvdW50VG9rZW5zUmVzcG9uc2VGcm9tTWxkZXYiLCAiY29udmVydGVycy5jb21wdXRlVG9rZW5zUGFyYW1ldGVyc1RvVmVydGV4IiwgImNvbnZlcnRlcnMuY29tcHV0ZVRva2Vuc1Jlc3BvbnNlRnJvbVZlcnRleCIsICJ0eXBlcy5Db21wdXRlVG9rZW5zUmVzcG9uc2UiLCAiY29udmVydGVycy5nZW5lcmF0ZVZpZGVvc1BhcmFtZXRlcnNUb1ZlcnRleCIsICJjb252ZXJ0ZXJzLmdlbmVyYXRlVmlkZW9zT3BlcmF0aW9uRnJvbVZlcnRleCIsICJ0eXBlcy5HZW5lcmF0ZVZpZGVvc09wZXJhdGlvbiIsICJjb252ZXJ0ZXJzLmdlbmVyYXRlVmlkZW9zUGFyYW1ldGVyc1RvTWxkZXYiLCAiY29udmVydGVycy5nZW5lcmF0ZVZpZGVvc09wZXJhdGlvbkZyb21NbGRldiIsICJyZXNvdXJjZU5hbWUiLCAiY29udmVydGVycy5nZXRPcGVyYXRpb25QYXJhbWV0ZXJzVG9WZXJ0ZXgiLCAiY29udmVydGVycy5nZXRPcGVyYXRpb25QYXJhbWV0ZXJzVG9NbGRldiIsICJjb252ZXJ0ZXJzLmZldGNoUHJlZGljdE9wZXJhdGlvblBhcmFtZXRlcnNUb1ZlcnRleCIsICJjb21tb24uZ2V0VmFsdWVCeVBhdGgiLCAiY29tbW9uLnNldFZhbHVlQnlQYXRoIiwgInQudExpdmVTcGVlY2hDb25maWciLCAidC50Q29udGVudCIsICJ0LnRUb29scyIsICJ0LnRUb29sIiwgImNvbnZlcnRlcnMuY3JlYXRlQXV0aFRva2VuUGFyYW1ldGVyc1RvTWxkZXYiLCAiY29udmVydGVycy5nZXREb2N1bWVudFBhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMuZGVsZXRlRG9jdW1lbnRQYXJhbWV0ZXJzVG9NbGRldiIsICJjb252ZXJ0ZXJzLmxpc3REb2N1bWVudHNQYXJhbWV0ZXJzVG9NbGRldiIsICJjb252ZXJ0ZXJzLmxpc3REb2N1bWVudHNSZXNwb25zZUZyb21NbGRldiIsICJ0eXBlcy5MaXN0RG9jdW1lbnRzUmVzcG9uc2UiLCAiY29udmVydGVycy5jcmVhdGVGaWxlU2VhcmNoU3RvcmVQYXJhbWV0ZXJzVG9NbGRldiIsICJjb252ZXJ0ZXJzLmdldEZpbGVTZWFyY2hTdG9yZVBhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMuZGVsZXRlRmlsZVNlYXJjaFN0b3JlUGFyYW1ldGVyc1RvTWxkZXYiLCAiY29udmVydGVycy5saXN0RmlsZVNlYXJjaFN0b3Jlc1BhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMubGlzdEZpbGVTZWFyY2hTdG9yZXNSZXNwb25zZUZyb21NbGRldiIsICJ0eXBlcy5MaXN0RmlsZVNlYXJjaFN0b3Jlc1Jlc3BvbnNlIiwgImNvbnZlcnRlcnMudXBsb2FkVG9GaWxlU2VhcmNoU3RvcmVQYXJhbWV0ZXJzVG9NbGRldiIsICJjb252ZXJ0ZXJzLnVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlUmVzdW1hYmxlUmVzcG9uc2VGcm9tTWxkZXYiLCAidHlwZXMuVXBsb2FkVG9GaWxlU2VhcmNoU3RvcmVSZXN1bWFibGVSZXNwb25zZSIsICJjb252ZXJ0ZXJzLmltcG9ydEZpbGVQYXJhbWV0ZXJzVG9NbGRldiIsICJjb252ZXJ0ZXJzLmltcG9ydEZpbGVPcGVyYXRpb25Gcm9tTWxkZXYiLCAidHlwZXMuSW1wb3J0RmlsZU9wZXJhdGlvbiIsICJzbGVlcCIsICJFcnJvcnMuR2VtaW5pTmV4dEdlbkFQSUNsaWVudEVycm9yIiwgIlNoaW1zLmdldERlZmF1bHRGZXRjaCIsICJPcHRzLkZhbGxiYWNrRW5jb2RlciIsICJFcnJvcnMuQVBJRXJyb3IiLCAib3B0cyIsICJFcnJvcnMuQVBJVXNlckFib3J0RXJyb3IiLCAiRXJyb3JzLkFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IiLCAiRXJyb3JzLkFQSUNvbm5lY3Rpb25FcnJvciIsICJyZXRyeU1lc3NhZ2UiLCAiU2hpbXMuQ2FuY2VsUmVhZGFibGVTdHJlYW0iLCAiZXJyIiwgIlNoaW1zLlJlYWRhYmxlU3RyZWFtRnJvbSIsICJBUEkuSW50ZXJhY3Rpb25zIiwgIkVycm9ycy5Ob3RGb3VuZEVycm9yIiwgIkVycm9ycy5Db25mbGljdEVycm9yIiwgIkVycm9ycy5SYXRlTGltaXRFcnJvciIsICJFcnJvcnMuQmFkUmVxdWVzdEVycm9yIiwgIkVycm9ycy5BdXRoZW50aWNhdGlvbkVycm9yIiwgIkVycm9ycy5JbnRlcm5hbFNlcnZlckVycm9yIiwgIkVycm9ycy5QZXJtaXNzaW9uRGVuaWVkRXJyb3IiLCAiRXJyb3JzLlVucHJvY2Vzc2FibGVFbnRpdHlFcnJvciIsICJVcGxvYWRzLnRvRmlsZSIsICJ0LnRUdW5pbmdKb2JTdGF0dXMiLCAidHlwZXMuSm9iU3RhdGUiLCAiY29udmVydGVycy5nZXRUdW5pbmdKb2JQYXJhbWV0ZXJzVG9WZXJ0ZXgiLCAiY29udmVydGVycy50dW5pbmdKb2JGcm9tVmVydGV4IiwgImNvbnZlcnRlcnMuZ2V0VHVuaW5nSm9iUGFyYW1ldGVyc1RvTWxkZXYiLCAiY29udmVydGVycy50dW5pbmdKb2JGcm9tTWxkZXYiLCAiY29udmVydGVycy5saXN0VHVuaW5nSm9ic1BhcmFtZXRlcnNUb1ZlcnRleCIsICJjb252ZXJ0ZXJzLmxpc3RUdW5pbmdKb2JzUmVzcG9uc2VGcm9tVmVydGV4IiwgInR5cGVzLkxpc3RUdW5pbmdKb2JzUmVzcG9uc2UiLCAiY29udmVydGVycy5saXN0VHVuaW5nSm9ic1BhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMubGlzdFR1bmluZ0pvYnNSZXNwb25zZUZyb21NbGRldiIsICJjb252ZXJ0ZXJzLmNhbmNlbFR1bmluZ0pvYlBhcmFtZXRlcnNUb1ZlcnRleCIsICJjb252ZXJ0ZXJzLmNhbmNlbFR1bmluZ0pvYlJlc3BvbnNlRnJvbVZlcnRleCIsICJ0eXBlcy5DYW5jZWxUdW5pbmdKb2JSZXNwb25zZSIsICJjb252ZXJ0ZXJzLmNhbmNlbFR1bmluZ0pvYlBhcmFtZXRlcnNUb01sZGV2IiwgImNvbnZlcnRlcnMuY2FuY2VsVHVuaW5nSm9iUmVzcG9uc2VGcm9tTWxkZXYiLCAiY29udmVydGVycy5jcmVhdGVUdW5pbmdKb2JQYXJhbWV0ZXJzUHJpdmF0ZVRvVmVydGV4IiwgImNvbnZlcnRlcnMuY3JlYXRlVHVuaW5nSm9iUGFyYW1ldGVyc1ByaXZhdGVUb01sZGV2IiwgImNvbnZlcnRlcnMudHVuaW5nT3BlcmF0aW9uRnJvbU1sZGV2IiwgIl9jb252ZXJ0ZXJzLnVwbG9hZFRvRmlsZVNlYXJjaFN0b3JlT3BlcmF0aW9uRnJvbU1sZGV2IiwgIkdlbWluaU5leHRHZW5BUEkiLCAiX2EiLCAiaW1wb3J0X29ic2lkaWFuIiwgIl9hIiwgIm9mZnNldCIsICJpbXBvcnRfb2JzaWRpYW4iXQp9Cg==
